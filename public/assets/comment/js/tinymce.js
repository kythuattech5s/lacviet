/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./packages/roniejisa/scripts/assets/plugins/tinymce/icons/default/icons.min.js":
/*!**************************************************************************************!*\
  !*** ./packages/roniejisa/scripts/assets/plugins/tinymce/icons/default/icons.min.js ***!
  \**************************************************************************************/
/***/ (() => {

tinymce.IconManager.add("default", {
  icons: {
    "accessibility-check": '<svg width="24" height="24"><path d="M12 2a2 2 0 012 2 2 2 0 01-2 2 2 2 0 01-2-2c0-1.1.9-2 2-2zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 01-1-1v-5c0-.6-.4-1-1-1a1 1 0 00-1 1v5c0 .6-.4 1-1 1a1 1 0 01-1-1V9H4a1 1 0 110-2h16c.6 0 1 .4 1 1s-.4 1-1 1z" fill-rule="nonzero"/></svg>',
    "action-next": '<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 00-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 10-1.4-1.4L12 13.6 5.7 7.3z"/></svg>',
    "action-prev": '<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 001.4-1.4L12 6.6l-7.7 7.7a1 1 0 001.4 1.4L12 9.4l6.3 6.3z"/></svg>',
    "align-center": '<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',
    "align-justify": '<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',
    "align-left": '<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',
    "align-none": '<svg width="24" height="24"><path d="M14.2 5L13 7H5a1 1 0 110-2h9.2zm4 0h.8a1 1 0 010 2h-2l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h6.8zm4 0H19a1 1 0 010 2h-4.4l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h4.4zm4 0H19a1 1 0 010 2h-6.8l1.2-2zM7 17l-1.2 2H5a1 1 0 010-2h2zm4 0h8a1 1 0 010 2H9.8l1.2-2zm5.2-13.5l1.3.7-9.7 16.3-1.3-.7 9.7-16.3z" fill-rule="evenodd"/></svg>',
    "align-right": '<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',
    "arrow-left": '<svg width="24" height="24"><path d="M5.6 13l12 6a1 1 0 001.4-1V6a1 1 0 00-1.4-.9l-12 6a1 1 0 000 1.8z" fill-rule="evenodd"/></svg>',
    "arrow-right": '<svg width="24" height="24"><path d="M18.5 13l-12 6A1 1 0 015 18V6a1 1 0 011.4-.9l12 6a1 1 0 010 1.8z" fill-rule="evenodd"/></svg>',
    bold: '<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 01-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4z" fill-rule="evenodd"/></svg>',
    bookmark: '<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 00-1 1z" fill-rule="nonzero"/></svg>',
    "border-style": '<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',
    "border-width": '<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',
    brightness: '<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3zm0-10a1 1 0 01-.7-.3A1 1 0 0111 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3h-1a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1zM7 12c0 .3-.1.5-.3.7a1 1 0 01-.7.3H5a1 1 0 01-.7-.3A1 1 0 014 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7zm10 3.5l.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 01-.8.3 1 1 0 01-.6-.3l-.8-.7a1 1 0 01-.3-.8c0-.2.1-.5.3-.7a1 1 0 011.4 0zm-10-7l-.7-.8a1 1 0 01-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.8-.3zm10 0a1 1 0 01-.8.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 010 1.4l-.8.8a1 1 0 01-.6.3 1 1 0 01-.8-.3 1 1 0 01-.3-.8c0-.2.1-.5.3-.6l.7-.8zM12 8a4 4 0 013.7 2.4 4 4 0 010 3.2A4 4 0 0112 16a4 4 0 01-3.7-2.4 4 4 0 010-3.2A4 4 0 0112 8zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7z" fill-rule="evenodd"/></svg>',
    browse: '<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9.4l-2.3 2.3a1 1 0 11-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 01-1.4 1.4L13 13.4V20a1 1 0 01-2 0v-6.6z" fill-rule="nonzero"/></svg>',
    cancel: '<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 110 14.8 7.4 7.4 0 010-14.8zM12 3a9 9 0 100 18 9 9 0 000-18zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7z" fill-rule="nonzero"/></svg>',
    "cell-background-color": '<svg width="24" height="24"><path d="M15.7 2l1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 01-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2zM18 12l-4.5-4L9 12h9zM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16z"/></svg>',
    "cell-border-color": '<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 01-2-2v-5h2zm8-7V4h6a2 2 0 012 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1l.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="M13 11l-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="M18.4 8l1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 01-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8zm1.6 7l-3-3-3 3h6z"/></g></svg>',
    "change-case": '<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 01-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 01-1 .7h-.2a.7.7 0 01-.7-1l4-12a1 1 0 012 0l4 12a.7.7 0 01-.8 1h-.2a1 1 0 01-1-.7l-.8-2.6zm-.3-1.5l-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',
    "character-count": '<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1zm4.8-6.8V10H7.7V5.8h-1v-1h2zM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1zM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2v-.1-.2l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 01-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 00-.5-.1 1 1 0 00-.4 0l-.3.4h-1zm2.3.8h-.2l-.2.1-.4.1a1 1 0 00-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 001.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 00-.6-.3l-.6.3-.2.8zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 00-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 01-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 01-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1z" fill-rule="evenodd"/></svg>',
    "checklist-rtl": '<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',
    checklist: '<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8a1 1 0 010 2h-8a1 1 0 010-2zM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',
    checkmark: '<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 011.6 1.2l-8 12a1 1 0 01-1.5.1l-5-5a1 1 0 111.4-1.4l4.1 4.1 7.4-11z" fill-rule="nonzero"/></svg>',
    "chevron-down": '<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 010-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8z" fill-rule="nonzero"/></svg>',
    "chevron-left": '<svg width="10" height="10"><path d="M7.8 1.3L4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 010-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1z" fill-rule="nonzero"/></svg>',
    "chevron-right": '<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 010-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 010-1.1L6 5 2.2 1.3z" fill-rule="nonzero"/></svg>',
    "chevron-up": '<svg width="10" height="10"><path d="M8.7 7.8L5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 010-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0z" fill-rule="nonzero"/></svg>',
    close: '<svg width="24" height="24"><path d="M17.3 8.2L13.4 12l3.9 3.8a1 1 0 01-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 01-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 011.5-1.5l3.8 3.9 3.8-3.9a1 1 0 011.5 1.5z" fill-rule="evenodd"/></svg>',
    "code-sample": '<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 01-.8 2 2.8 2.8 0 01.8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 01-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 01.8-2 2.8 2.8 0 01-.8-2zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2zM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 01-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 01-.5-.5V17a3 3 0 001-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5z" fill-rule="evenodd"/></svg>',
    "color-levels": '<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0118 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 01-3.7 3 5.7 5.7 0 01-3.2 0A5.9 5.9 0 017.6 18a6.2 6.2 0 01-1.4-2.6 6.7 6.7 0 010-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 012.3-4A20 20 0 0112 4a26.4 26.4 0 013.2 3.4 18.2 18.2 0 012.3 4zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 00-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 01-1.3 3 5.3 5.3 0 01-2.3 1.5 4.9 4.9 0 01-2 .1 4.3 4.3 0 002.4.8 4 4 0 002-.6 4 4 0 001.5-1.5z" fill-rule="evenodd"/></svg>',
    "color-picker": '<svg width="24" height="24"><path d="M12 3a9 9 0 000 18 1.5 1.5 0 001.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 005-5c0-4.4-4-8-9-8zm-5.5 9a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3-4a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm5 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3 4a1.5 1.5 0 110-3 1.5 1.5 0 010 3z" fill-rule="nonzero"/></svg>',
    "color-swatch-remove-color": '<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3L3 21" fill-rule="evenodd"/></svg>',
    "color-swatch": '<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',
    "comment-add": '<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/><path d="M13 10h2a1 1 0 010 2h-2v2a1 1 0 01-2 0v-2H9a1 1 0 010-2h2V8a1 1 0 012 0v2z"/></g></svg>',
    comment: '<svg width="24" height="24"><path fill-rule="nonzero" d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/></svg>',
    contrast: '<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-6 8a6 6 0 006 6V6a6 6 0 00-6 6z" fill-rule="evenodd"/></svg>',
    copy: '<svg width="24" height="24"><path d="M16 3H6a2 2 0 00-2 2v11h2V5h10V3zm1 4a2 2 0 012 2v10a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7zm0 12V9h-7v10h7z" fill-rule="nonzero"/></svg>',
    crop: '<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 01-1-1v-2H7V9H5a1 1 0 110-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3zM9 9v5l5-5H9zm1 6h5v-5l-5 5z" fill-rule="evenodd"/></svg>',
    "cut-column": '<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0110.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 012 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 017 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7zm12.3 5h-3v10h3v-10zM8 13.8h-.3l-.4.2a2.8 2.8 0 00-.7.4v.1a2.8 2.8 0 00-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 00.8-.3 2.4 2.4 0 00.7-.7 2.5 2.5 0 00.3-.8 1.5 1.5 0 000-.8 1 1 0 00-.2-.4 1 1 0 00-.5-.2H8zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zM7 5.8h-.4a1 1 0 00-.5.3 1 1 0 00-.2.5v.7a2.5 2.5 0 00.3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 000-.8 2.6 2.6 0 00-.3-.8A2.5 2.5 0 007.7 6l-.4-.1H7z"/></svg>',
    "cut-row": '<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l2 2V3h14zM8.5 15.3h-.3a2.6 2.6 0 00-.8.4 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3L9 18V18l.4-.4.2-.4.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2h-.5zm7 0H15a1 1 0 00-.4.3 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4a2.8 2.8 0 00.5.7h.1a2.8 2.8 0 00.8.6l.4.1h.7l.5-.2.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3h-.3zM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zm8.5-7.1h-11v2h11v-2z"/></svg>',
    cut: '<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 010 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8zm-8.5 2.2l.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2 1.6 1.6 0 00-.8 0 2.6 2.6 0 00-.8.3 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3 2.8 2.8 0 001-1zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4zm5.4 4l.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3 1.5 1.5 0 00-.8 0 1 1 0 00-.4.2 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4l.3.4.3.4a2.8 2.8 0 00.8.5l.4.1h.7l.5-.2z" fill-rule="evenodd"/></svg>',
    "document-properties": '<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',
    drag: '<svg width="24" height="24"><path d="M13 5h2v2h-2V5zm0 4h2v2h-2V9zM9 9h2v2H9V9zm4 4h2v2h-2v-2zm-4 0h2v2H9v-2zm0 4h2v2H9v-2zm4 0h2v2h-2v-2zM9 5h2v2H9V5z" fill-rule="evenodd"/></svg>',
    "duplicate-column": '<svg width="24" height="24"><path d="M17 6v16h-7V6h7zm-2 2h-3v12h3V8zm-2-6v2H8v15H6V2h7z"/></svg>',
    "duplicate-row": '<svg width="24" height="24"><path d="M22 11v7H6v-7h16zm-2 2H8v3h12v-3zm-1-6v2H4v5H2V7h17z"/></svg>',
    duplicate: '<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10zm3 8h-2V9h-7v10h9a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7a2 2 0 012 2v2z"/><path d="M17 14h1a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1h-1a1 1 0 010-2h1v-1a1 1 0 012 0v1z"/></g></svg>',
    "edit-block": '<svg width="24" height="24"><path fill-rule="nonzero" d="M19.8 8.8l-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5zm-2-.2l1-.9v-.3l-2.2-2.2a.3.3 0 00-.3 0l-1 1L18 8.5zm-1 1l-2.5-2.4-6 6 2.5 2.5 6-6zm-7 7.1l-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5z"/></svg>',
    "edit-image": '<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 00-2-2H7v2h11v9zM6 17h15a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1H6a2 2 0 01-2-2V7H3a1 1 0 110-2h1V4a1 1 0 112 0v13zm3-5.3l1.3 2 3-4.7 3.7 6H7l2-3.3z" fill-rule="nonzero"/></svg>',
    "embed-page": '<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0119 6zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 008 19h3zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 00-4 4.5h2.2zm-3.4 0a12 12 0 012.8-4 12 12 0 00-5 4h2.2z" fill-rule="nonzero"/></svg>',
    embed: '<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm4.8 2.6l5.6 4a.5.5 0 010 .8l-5.6 4A.5.5 0 019 16V8a.5.5 0 01.8-.4z" fill-rule="nonzero"/></svg>',
    emoji: '<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5zM12 4a8 8 0 100 16 8 8 0 000-16zm0 14.5a6.5 6.5 0 110-13 6.5 6.5 0 010 13z" fill-rule="nonzero"/></svg>',
    "export": '<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3L18 7v1h-5V5H7v14h9a1 1 0 012 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3z"/><path d="M16.4 9.2a1 1 0 011.4.2l2.4 3.6-2.4 3.6a1 1 0 01-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 01.2-1.4z"/></g></svg>',
    fill: '<svg width="24" height="26"><path d="M16.6 12l-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 002.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2zM5.2 13L10 8.2l4.8 4.8H5.2zM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 002-2c0-1.3-2-3.5-2-3.5z" fill-rule="nonzero"/></svg>',
    "flip-horizontally": '<svg width="24" height="24"><path d="M14 19h2v-2h-2v2zm4-8h2V9h-2v2zM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 00-2 2zm14-2v2h2a2 2 0 00-2-2zm-7 16h2V3h-2v18zm7-6h2v-2h-2v2zm-4-8h2V5h-2v2zm4 12a2 2 0 002-2h-2v2z" fill-rule="nonzero"/></svg>',
    "flip-vertically": '<svg width="24" height="24"><path d="M5 14v2h2v-2H5zm8 4v2h2v-2h-2zm4-14H7a2 2 0 00-2 2v3h2V6h10v3h2V6a2 2 0 00-2-2zm2 14h-2v2a2 2 0 002-2zM3 11v2h18v-2H3zm6 7v2h2v-2H9zm8-4v2h2v-2h-2zM5 18c0 1.1.9 2 2 2v-2H5z" fill-rule="nonzero"/></svg>',
    "format-painter": '<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 00-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3z" fill-rule="nonzero"/></svg>',
    format: '<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 010 2h-4v11a1 1 0 01-2 0V7H7a1 1 0 110-2h10z"/></svg>',
    fullscreen: '<svg width="24" height="24"><path d="M15.3 10l-1.2-1.3 2.9-3h-2.3a.9.9 0 110-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 11-1.8 0V7l-2.9 3zm0 4l3 3v-2.3a.9.9 0 111.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 110-1.8H17l-3-2.9 1.3-1.2zM10 15.4l-2.9 3h2.3a.9.9 0 110 1.7H5a.9.9 0 01-.9-.9v-4.4a.9.9 0 111.8 0V17l2.9-3 1.2 1.3zM8.7 10L5.7 7v2.3a.9.9 0 01-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 010 1.8H7l3 2.9-1.3 1.2z" fill-rule="nonzero"/></svg>',
    gallery: '<svg width="24" height="24"><path fill-rule="nonzero" d="M5 15.7l2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7zM5 18V19h3l1.8-1.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 01-1-1V7c0-.6.4-1 1-1zm6 7a2 2 0 110-4 2 2 0 010 4zM4.5 4h15a.5.5 0 110 1h-15a.5.5 0 010-1zm2-2h11a.5.5 0 110 1h-11a.5.5 0 010-1z"/></svg>',
    gamma: '<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 00-.4-.8l-.1-.2H8 8v-1l.3-.1.3-.1h.7a1 1 0 01.6.5l.1.3a8.5 8.5 0 01.3.6l1.9 4.6 2-5.2a1 1 0 011-.6.5.5 0 01.5.6L13 14v2.8a.7.7 0 01-1.4 0z" fill-rule="nonzero"/></svg>',
    help: '<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 00-6 9 6.3 6.3 0 001.4 2l1 1a6.3 6.3 0 003.6 1 6.5 6.5 0 006-9 6.3 6.3 0 00-1.4-2l-1-1a6.3 6.3 0 00-3.6-1zM12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4z"/><path d="M9.6 9.7a.7.7 0 01-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 00-.8.8.8.8 0 01-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',
    "highlight-bg-color": '<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 012.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',
    home: '<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',
    "horizontal-rule": '<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',
    "image-options": '<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',
    image: '<svg width="24" height="24"><path d="M5 15.7l3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7zM5 18V19h3l2.8-2.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm6 8a2 2 0 100-4 2 2 0 000 4z" fill-rule="nonzero"/></svg>',
    indent: '<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',
    info: '<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-1 3v2h2V7h-2zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4z" fill-rule="evenodd"/></svg>',
    "insert-character": '<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 001.8-2.9 6.3 6.3 0 00-.1-4.1 5.8 5.8 0 00-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 00-3.9 1.8 6.3 6.3 0 00-1.3 6 6.2 6.2 0 001.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 014 11c0-1 .2-1.9.6-2.7A7 7 0 016.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 015.7 2 7 7 0 011.7 2.3 6 6 0 01.2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 01-3.6 2.5v.5z" fill-rule="evenodd"/></svg>',
    "insert-time": '<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 100-14 7 7 0 000 14zm0 2a9 9 0 110-18 9 9 0 010 18z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 00-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1z"/></g></svg>',
    invert: '<svg width="24" height="24"><path d="M18 19.3L16.5 18a5.8 5.8 0 01-3.1 1.9 6.1 6.1 0 01-5.5-1.6A5.8 5.8 0 016 14v-.3l.1-1.2A13.9 13.9 0 017.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 00.2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 00-3-4.2L12 6a26.1 26.1 0 00-2.2 2.5l-1-1a20.9 20.9 0 012.9-3.3L12 4l1 .8a22.2 22.2 0 014 5.4c.6 1.2 1 2.4 1 3.6z" fill-rule="evenodd"/></svg>',
    italic: '<svg width="24" height="24"><path d="M16.7 4.7l-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8z" fill-rule="evenodd"/></svg>',
    language: '<svg width="24" height="24"><path d="M12 3a9 9 0 110 18 9 9 0 010-18zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 003.2-2.1l-.2-.2a6 6 0 00-1-.6zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 01-2-2.8zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 01-.3-2zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1zm3-1.4l-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 00-1.3-3.5zm-9 0l2 .2V5.5a9 9 0 00-2 2.2zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 00-2-2.3zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 011.9-2.5zm4.4 0l.1.1a10 10 0 011.8 2.4l1.1-.7a7.5 7.5 0 00-3-1.8z"/></svg>',
    "line-height": '<svg width="24" height="24"><path d="M21 5a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zM7 3.6l3.7 3.7a1 1 0 01-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 011.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 011.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 01-1.3 0h-.1a1 1 0 010-1.3v-.1L7 3.6z"/></svg>',
    line: '<svg width="24" height="24"><path d="M15 9l-8 8H4v-3l8-8 3 3zm1-1l-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1zM4 18h16v2H4v-2z" fill-rule="evenodd"/></svg>',
    link: '<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2.1 2a2 2 0 102.7 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2-2a2 2 0 10-2.6-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2z" fill-rule="nonzero"/></svg>',
    "list-bull-circle": '<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 26a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 36a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',
    "list-bull-default": '<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',
    "list-bull-square": '<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',
    "list-num-default-rtl": '<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8l-1.6 1v-1.1l1.6-1h1.2V17zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',
    "list-num-default": '<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',
    "list-num-lower-alpha-rtl": '<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6zM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3zM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',
    "list-num-lower-alpha": '<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',
    "list-num-lower-greek-rtl": '<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4zM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3zM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM37.1 34.6L34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',
    "list-num-lower-greek": '<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3zM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',
    "list-num-lower-roman-rtl": '<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33zm0 10v-1.2h-1.3V26H33zm0 10v-1.2h-1.3V36H33z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',
    "list-num-lower-roman": '<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15zm0 10v-1.2h1.3V26H15zm0 10v-1.2h1.3V36H15z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',
    "list-num-upper-alpha-rtl": '<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M39.3 17l-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3zm-1.6-4.7l-.7 2.3h1.6l-.8-2.3zM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26zM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',
    "list-num-upper-alpha": '<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M12.6 17l-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3zM11 12.3l-.7 2.3h1.6l-.8-2.3zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',
    "list-num-upper-roman-rtl": '<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3zm0 10v-1.2H33V27h-1.3zm0 10v-1.2H33V37h-1.3z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',
    "list-num-upper-roman": '<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15zm0 10v-1.2h1.3V27H15zm0 10v-1.2h1.3V37H15z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',
    lock: '<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3zM10 8v3h4V8a1 1 0 00-.3-.7A1 1 0 0013 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7z" fill-rule="evenodd"/></svg>',
    ltr: '<svg width="24" height="24"><path d="M11 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 017.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L11 5zM4.4 16.2L6.2 15l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',
    "more-drawer": '<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',
    "new-document": '<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',
    "new-tab": '<svg width="24" height="24"><path d="M15 13l2-2v8H5V7h8l-2 2H7v8h8v-4zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19z" fill-rule="evenodd"/></svg>',
    "non-breaking": '<svg width="24" height="24"><path d="M11 11H8a1 1 0 110-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 01-1-1v-3zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1z" fill-rule="evenodd"/></svg>',
    notice: '<svg width="24" height="24"><path d="M17.8 9.8L15.4 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7l2.3 5.8zm0 0l2.2 5.7-2.3-5.8zM13 17v-2h-2v2h2zm0-4V7h-2v6h2z" fill-rule="evenodd"/></svg>',
    "ordered-list-rtl": '<svg width="24" height="24"><path d="M6 17h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 110-2zm13-1v3.5a.5.5 0 11-1 0V5h-.5a.5.5 0 110-1H19zm-1 8.8l.2.2h1.3a.5.5 0 110 1h-1.6a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2h-1.3a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 010-1h1.2a.3.3 0 100-.6h-1.3a.4.4 0 110-.8h1.3a.3.3 0 000-.6h-1.2a.5.5 0 110-1H19c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',
    "ordered-list": '<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 110-2zM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 01-.5-.5V5h-.5a.5.5 0 010-1H6zm-1 8.8l.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2H4.5a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 010-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 110-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 110-1H6c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',
    orientation: '<svg width="24" height="24"><path d="M7.3 6.4L1 13l6.4 6.5 6.5-6.5-6.5-6.5zM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7zM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 010-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 11-4.3 16.9l1.5-1.5A7 7 0 1013 6h-1z" fill-rule="nonzero"/></svg>',
    outdent: '<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm1.6-3.8a1 1 0 01-1.2 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 011.2 1.6L6.8 12l1.8 1.2z" fill-rule="evenodd"/></svg>',
    "page-break": '<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1zM6 22a1 1 0 01-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 01-1-1v-5H7v5c0 .6-.4 1-1 1z"/></g></svg>',
    paragraph: '<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z"/></svg>',
    "paste-column-after": '<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm8 7v12h-6V8h6zm-1.5 1.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',
    "paste-column-before": '<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm-2 7v12H4V8h6zM8.5 9.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',
    "paste-row-after": '<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 11v5H8v-5h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',
    "paste-row-before": '<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 7v5H8V8h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',
    "paste-text": '<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2z" fill-rule="nonzero"/></svg>',
    paste: '<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1z" fill-rule="nonzero"/></svg>',
    "permanent-pen": '<svg width="24" height="24"><path d="M10.5 17.5L8 20H3v-3l3.5-3.5a2 2 0 010-3L14 3l1 1-7.3 7.3a1 1 0 000 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 01-2.8 0l-.1-.1z" fill-rule="nonzero"/></svg>',
    plus: '<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 01.1 2H13v6a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H11V5c0-.6.4-1 1-1z"/></svg>',
    preferences: '<svg width="24" height="24"><path d="M20.1 13.5l-1.9.2a5.8 5.8 0 01-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 01-1.4 0l-1.5-1.2a6.2 6.2 0 01-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 01-1-.9l-.2-1.9a5.8 5.8 0 01-1.5-.6l-1.5 1.2a1 1 0 01-1.4 0l-.7-.7a1 1 0 010-1.4l1.2-1.5a6.2 6.2 0 01-.6-1.5l-1.9-.2a1 1 0 01-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 01.6-1.5L5.2 7.3a1 1 0 010-1.4l.7-.7a1 1 0 011.4 0l1.5 1.2a6.2 6.2 0 011.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 011.5.6l1.5-1.2a1 1 0 011.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 01.6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1zM12 15a3 3 0 100-6 3 3 0 000 6z" fill-rule="evenodd"/></svg>',
    preview: '<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 002.1-2.8 15.7 15.7 0 00-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 00-6.7 3.2A16.2 16.2 0 003.2 12c0 .2.2.3.3.5zm-2.4-1l.7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 012.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 01-2.8-3.7 1 1 0 010-1zm12-3.3a2 2 0 102.7 2.6 4 4 0 11-2.6-2.6z" fill-rule="nonzero"/></svg>',
    print: '<svg width="24" height="24"><path d="M18 8H6a3 3 0 00-3 3v6h2v3h14v-3h2v-6a3 3 0 00-3-3zm-1 10H7v-4h10v4zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm.5-8H6v2h12V5z" fill-rule="nonzero"/></svg>',
    quote: '<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3z" fill-rule="nonzero"/></svg>',
    redo: '<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 11-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 111.4-1.4l5 5a1 1 0 010 1.4l-5 5a1 1 0 01-1.4-1.4l3.3-3.3z" fill-rule="nonzero"/></svg>',
    reload: '<svg width="24" height="24"><g fill-rule="nonzero"><path d="M5 22.1l-1.2-4.7v-.2a1 1 0 011-1l5 .4a1 1 0 11-.2 2l-2.2-.2a7.8 7.8 0 008.4.2 7.5 7.5 0 003.5-6.4 1 1 0 112 0 9.5 9.5 0 01-4.5 8 9.9 9.9 0 01-10.2 0l.4 1.4a1 1 0 11-2 .5zM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 00-9.5-1 7.5 7.5 0 00-3.6 7 1 1 0 01-2 0 9.5 9.5 0 014.5-8.6 10 10 0 0110.9.3l-.3-1a1 1 0 012-.5l1.1 4.8a1 1 0 01-1 1.2l-5-.4a1 1 0 01-.9-1z"/></g></svg>',
    "remove-formatting": '<svg width="24" height="24"><path d="M13.2 6a1 1 0 010 .2l-2.6 10a1 1 0 01-1 .8h-.2a.8.8 0 01-.8-1l2.6-10H8a1 1 0 110-2h9a1 1 0 010 2h-3.8zM5 18h7a1 1 0 010 2H5a1 1 0 010-2zm13 1.5L16.5 18 15 19.5a.7.7 0 01-1-1l1.5-1.5-1.5-1.5a.7.7 0 011-1l1.5 1.5 1.5-1.5a.7.7 0 011 1L17.5 17l1.5 1.5a.7.7 0 01-1 1z" fill-rule="evenodd"/></svg>',
    remove: '<svg width="24" height="24"><path d="M16 7h3a1 1 0 010 2h-1v9a3 3 0 01-3 3H9a3 3 0 01-3-3V9H5a1 1 0 110-2h3V6a3 3 0 013-3h2a3 3 0 013 3v1zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 00-1 1v1h4zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9zm-7 3a1 1 0 012 0v4a1 1 0 01-2 0v-4zm4 0a1 1 0 012 0v4a1 1 0 01-2 0v-4z" fill-rule="nonzero"/></svg>',
    "resize-handle": '<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 119 2l-7 7A.5.5 0 111 8l7-7zM8.1 5.1A.5.5 0 119 6l-3 3A.5.5 0 115 8l3-3z"/></g></svg>',
    resize: '<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-6a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3A1 1 0 014 11V5z" fill-rule="evenodd"/></svg>',
    "restore-draft": '<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1z"/><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></g></svg>',
    "rotate-left": '<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></svg>',
    "rotate-right": '<svg width="24" height="24"><path d="M20 8V5a1 1 0 012 0v6c0 .6-.4 1-1 1h-6a1 1 0 010-2h4.3L16 7A7.2 7.2 0 007.7 6a7 7 0 003 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 011.4 1.5A9.2 9.2 0 012.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8z" fill-rule="nonzero"/></svg>',
    rtl: '<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 014.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L8 5zm12 11.2a1 1 0 11-1 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 111 1.6L18.4 15l1.8 1.2z" fill-rule="evenodd"/></svg>',
    save: '<svg width="24" height="24"><path d="M5 16h14a2 2 0 012 2v2a2 2 0 01-2 2H5a2 2 0 01-2-2v-2c0-1.1.9-2 2-2zm0 2v2h14v-2H5zm10 0h2v2h-2v-2zm-4-6.4L8.7 9.3a1 1 0 10-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 10-1.4-1.4L13 11.6V4a1 1 0 00-2 0v7.6z" fill-rule="nonzero"/></svg>',
    search: '<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12z" fill-rule="nonzero"/></svg>',
    "select-all": '<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 00-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2a2 2 0 00-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8a2 2 0 002-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z" fill-rule="nonzero"/></svg>',
    selected: '<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm3.6 10.9L7 12.3a.7.7 0 00-1 1L9.6 17 18 8.6a.7.7 0 000-1 .7.7 0 00-1 0l-7.4 7.3z"/></svg>',
    settings: '<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V8H5a1 1 0 110-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6zM8 8h2V6H8v2zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V13H5a1 1 0 010-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6zM14 13h2v-2h-2v2zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V18H5a1 1 0 010-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6zM8 18h2v-2H8v2z" fill-rule="evenodd"/></svg>',
    sharpen: '<svg width="24" height="24"><path d="M16 6l4 4-8 9-8-9 4-4h8zm-4 10.2l5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2z" fill-rule="evenodd"/></svg>',
    sourcecode: '<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 010-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7zM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 00-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7z"/></g></svg>',
    "spell-check": '<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6zm0-3v2h2V5H6zm13 0h-3v5h3v1h-3a1 1 0 01-.7-.3 1 1 0 01-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1zm-5 1.5l-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5zM13 10V8h-2v2h2zm0-3V5h-2v2h2zm3 5l1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12z" fill-rule="evenodd"/></svg>',
    "strike-through": '<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 017 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1z"/><path d="M5 11h14a1 1 0 010 2H5a1 1 0 010-2z" fill-rule="nonzero"/></g></svg>',
    subscript: '<svg width="24" height="24"><path d="M10.4 10l4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10zM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 00-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 01-1.3 1.3l-.6.6h2.6V19z" fill-rule="nonzero"/></svg>',
    superscript: '<svg width="24" height="24"><path d="M15 9.4L10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11z" fill-rule="nonzero"/></svg>',
    "table-caption": '<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2v-8c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></g></svg>',
    "table-cell-classes": '<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8zm-2 2H5v5h6V6z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 012 2v7h-8v-2h6V6h-6V4z" opacity=".2"/><path d="M18 20l-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3 .2-2.3 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3z" opacity=".2"/></g></svg>',
    "table-cell-properties": '<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8 0h-6v5h6v-5zm-8-7H5v5h6V6z"/></svg>',
    "table-cell-select-all": '<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z" opacity=".2"/></g></svg>',
    "table-cell-select-inner": '<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z"/></g></svg>',
    "table-classes": '<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v7h-8v7H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8-7h-6v5h6V6zm-8 0H5v5h6V6z"/><path d="M18 20l-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3 .2-2.3 2 .7 3z"/></g></svg>',
    "table-delete-column": '<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2zm.3.5l1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5z"/></svg>',
    "table-delete-row": '<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6zm-4.7 1.8l1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3z"/></svg>',
    "table-delete-table": '<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 6v12h14V6H5z"/><path d="M14.4 8.6l1 1-2.3 2.4 2.3 2.4-1 1-2.4-2.3-2.4 2.3-1-1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',
    "table-insert-column-after": '<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 01-2 0V6h-8v12h8v-1a1 1 0 012 0v2c0 .5-.4 1-.9 1H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h15zM9 13H5v5h4v-5zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H17v2a1 1 0 01-2 .1V13h-2a1 1 0 01-.1-2H15V9c0-.6.4-1 1-1zM9 6H5v5h4V6z"/></svg>',
    "table-insert-column-before": '<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H4a1 1 0 01-1-1v-2a1 1 0 012 0v1h8V6H5v1a1 1 0 11-2 0V5c0-.6.4-1 1-1h15zm0 9h-4v5h4v-5zM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H9v2a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H7V9c0-.6.4-1 1-1zm11-2h-4v5h4V6z"/></svg>',
    "table-insert-row-above": '<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 110 2H5v6h14V6h-1a1 1 0 010-2h2c.6 0 1 .4 1 1v13a2 2 0 01-2 2H5a2 2 0 01-2-2V5c0-.6.4-1 1-1h2zm5 10H5v4h6v-4zm8 0h-6v4h6v-4zM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 010 2h-2v2a1 1 0 01-2 .1V8H9a1 1 0 010-2h2V4c0-.6.4-1 1-1z"/></svg>',
    "table-insert-row-after": '<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 01.1 2H13v2a1 1 0 01-2 .1V18H9a1 1 0 01-.1-2H11v-2c0-.6.4-1 1-1zm6 7a1 1 0 010-2h1v-6H5v6h1a1 1 0 010 2H4a1 1 0 01-1-1V6c0-1.1.9-2 2-2h14a2 2 0 012 2v13c0 .5-.4 1-.9 1H18zM11 6H5v4h6V6zm8 0h-6v4h6V6z"/></svg>',
    "table-left-header": '<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 9h-4v5h4v-5zm-6 0H9v5h4v-5zm0-7H9v5h4V6zm6 0h-4v5h4V6z"/></svg>',
    "table-merge-cells": '<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15.5V18h3v-2.5H5zm14-5h-9V18h9v-7.5zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6zm-8 7.5h3v-3H5v3z"/></svg>',
    "table-row-numbering-rtl": '<svg width="24" height="24"><path d="M6 4a2 2 0 00-2 2v13c0 1.1.9 2 2 2h12a2 2 0 002-2V6a2 2 0 00-2-2H6zm0 12h8v3H6v-3zm11 0c.6 0 1 .4 1 1v1a1 1 0 01-2 0v-1c0-.6.4-1 1-1zM6 11h8v3H6v-3zm11 0c.6 0 1 .4 1 1v1a1 1 0 01-2 0v-1c0-.6.4-1 1-1zM6 6h8v3H6V6zm11 0c.6 0 1 .4 1 1v1a1 1 0 11-2 0V7c0-.6.4-1 1-1z"/></svg>',
    "table-row-numbering": '<svg width="24" height="24"><path d="M18 4a2 2 0 012 2v13a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2h12zm0 12h-8v3h8v-3zM7 16a1 1 0 00-1 1v1a1 1 0 002 0v-1c0-.6-.4-1-1-1zm11-5h-8v3h8v-3zM7 11a1 1 0 00-1 1v1a1 1 0 002 0v-1c0-.6-.4-1-1-1zm11-5h-8v3h8V6zM7 6a1 1 0 00-1 1v1a1 1 0 102 0V7c0-.6-.4-1-1-1z"/></svg>',
    "table-row-properties": '<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-9h-6v3h6V6zM5 9h6V6H5v3z"/></svg>',
    "table-split-cells": '<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM8 15.5H5V18h3v-2.5zm11-5h-9V18h9v-7.5zm-2.5 1l1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2zm-8.5-1H5v3h3v-3zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6z"/></svg>',
    "table-top-header": '<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 11H5v3h6v-3zm8 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></svg>',
    table: '<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 14v4h6v-4H5zm14 0h-6v4h6v-4zm0-6h-6v4h6V8zM5 12h6V8H5v4z"/></svg>',
    template: '<svg width="24" height="24"><path d="M19 19v-1H5v1h14zM9 16v-4a5 5 0 116 0v4h4a2 2 0 012 2v3H3v-3c0-1.1.9-2 2-2h4zm4 0v-5l.8-.6a3 3 0 10-3.6 0l.8.6v5h2z" fill-rule="nonzero"/></svg>',
    "temporary-placeholder": '<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 111 0V6H15v1.6a8 8 0 11-6 0zm-2.6 5.3a.5.5 0 00.3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 013.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 00-4.1 3.7z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',
    "text-color": '<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 01-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 01-.5.6h-.8a.5.5 0 01-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4zm2.6-7.6l-.6 2a.5.5 0 00.5.6h1.6a.5.5 0 00.5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4z"/></g></svg>',
    toc: '<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',
    translate: '<svg width="24" height="24"><path d="M12.7 14.3l-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 010-1l3.1-3A12.4 12.4 0 016.7 9H8a10.1 10.1 0 001.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 110-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 01-1 2.4 13.5 13.5 0 01-1.7 2.3l1.9 1.8zm4.3-3l2.7 7.3a.5.5 0 01-.4.7 1 1 0 01-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 01-1 .7.5.5 0 01-.4-.7l2.7-7.4a1 1 0 012 0zm-2.2 4.4h2.4L16 12.5l-1.2 3.2z" fill-rule="evenodd"/></svg>',
    underline: '<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 01-.4 1.8l-1 1.4a5.3 5.3 0 01-5.5 1 5 5 0 01-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 01-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 002.2.8 3.4 3.4 0 002.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1zM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',
    undo: '<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 01-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 11-1.4 1.4l-5-5a1 1 0 010-1.4l5-5a1 1 0 011.4 1.4L6.4 8z" fill-rule="nonzero"/></svg>',
    unlink: '<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2 2a2 2 0 102.6 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2.1-2a2 2 0 10-2.7-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2zM7.6 6.3a.8.8 0 01-1 1.1L3.3 4.2a.7.7 0 111-1l3.2 3.1zM5.1 8.6a.8.8 0 010 1.5H3a.8.8 0 010-1.5H5zm5-3.5a.8.8 0 01-1.5 0V3a.8.8 0 011.5 0V5zm6 11.8a.8.8 0 011-1l3.2 3.2a.8.8 0 01-1 1L16 17zm-2.2 2a.8.8 0 011.5 0V21a.8.8 0 01-1.5 0V19zm5-3.5a.7.7 0 110-1.5H21a.8.8 0 010 1.5H19z" fill-rule="nonzero"/></svg>',
    unlock: '<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 00-.3-.7A1 1 0 0016 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2z" fill-rule="evenodd"/></svg>',
    "unordered-list": '<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1z" fill-rule="evenodd"/></svg>',
    unselected: '<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm0 1a1 1 0 00-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6z"/></svg>',
    upload: '<svg width="24" height="24"><path d="M18 19v-2a1 1 0 012 0v3c0 .6-.4 1-1 1H5a1 1 0 01-1-1v-3a1 1 0 012 0v2h12zM11 6.4L8.7 8.7a1 1 0 01-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 11-1.4 1.4L13 6.4V16a1 1 0 01-2 0V6.4z" fill-rule="nonzero"/></svg>',
    user: '<svg width="24" height="24"><path d="M12 24a12 12 0 110-24 12 12 0 010 24zm-8.7-5.3a11 11 0 0017.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7zM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13z" fill-rule="nonzero"/></svg>',
    "vertical-align": '<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 011.2 1.5l-.1.1-4.1 3-4-3a1 1 0 011-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8l4 2.9a1 1 0 01-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 01-1-1v-4l-2 1.3a1 1 0 01-1.2-.1l-.1-.1a1 1 0 01.1-1.3l.1-.1 4.1-3z"/></g></svg>',
    visualblocks: '<svg width="24" height="24"><path d="M9 19v2H7v-2h2zm-4 0v2a2 2 0 01-2-2h2zm8 0v2h-2v-2h2zm8 0a2 2 0 01-2 2v-2h2zm-4 0v2h-2v-2h2zM15 7a1 1 0 010 2v7a1 1 0 01-2 0V9h-1v7a1 1 0 01-2 0v-4a2.5 2.5 0 01-.2-5H15zM5 15v2H3v-2h2zm16 0v2h-2v-2h2zM5 11v2H3v-2h2zm16 0v2h-2v-2h2zM5 7v2H3V7h2zm16 0v2h-2V7h2zM5 3v2H3c0-1.1.9-2 2-2zm8 0v2h-2V3h2zm6 0a2 2 0 012 2h-2V3zM9 3v2H7V3h2zm8 0v2h-2V3h2z" fill-rule="evenodd"/></svg>',
    visualchars: '<svg width="24" height="24"><path d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z" fill-rule="evenodd"/></svg>',
    warning: '<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6zM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3zm.7-3l.3-4a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7l.3 4h1.4z" fill-rule="evenodd"/></svg>',
    "zoom-in": '<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-1-9a1 1 0 012 0v6a1 1 0 01-2 0V8zm-2 4a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>',
    "zoom-out": '<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-3-5a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>'
  }
});

/***/ }),

/***/ "./packages/roniejisa/scripts/assets/plugins/tinymce/plugins/autoresize/plugin.min.js":
/*!********************************************************************************************!*\
  !*** ./packages/roniejisa/scripts/assets/plugins/tinymce/plugins/autoresize/plugin.min.js ***!
  \********************************************************************************************/
/***/ (() => {

/**
 * Copyright (c) Tiny Technologies, Inc. All rights reserved.
 * Licensed under the LGPL or a commercial license.
 * For LGPL see License.txt in the project root for license information.
 * For commercial licenses see https://www.tiny.cloud/
 *
 * Version: 5.9.2 (2021-09-08)
 */
!function () {
  "use strict";

  function d(e) {
    return e.getParam("min_height", e.getElement().offsetHeight, "number");
  }

  function h(e, t) {
    var n = e.getBody();
    n && (n.style.overflowY = t ? "" : "hidden", t || (n.scrollTop = 0));
  }

  function y(e, t, n, i) {
    var o = parseInt(e.getStyle(t, n, i), 10);
    return isNaN(o) ? 0 : o;
  }

  var g = Object.hasOwnProperty,
      e = tinymce.util.Tools.resolve("tinymce.PluginManager"),
      p = tinymce.util.Tools.resolve("tinymce.Env"),
      r = tinymce.util.Tools.resolve("tinymce.util.Delay"),
      u = function u(e, t, n, i, o) {
    r.setEditorTimeout(e, function () {
      v(e, t), n-- ? u(e, t, n, i, o) : o && o();
    }, i);
  },
      v = function v(e, t) {
    var n,
        i,
        o,
        r,
        s,
        a,
        g,
        u,
        l,
        c,
        m = e.dom,
        f = e.getDoc();
    f && (e.plugins.fullscreen && e.plugins.fullscreen.isFullscreen() ? h(e, !0) : (n = f.documentElement, i = e.getParam("autoresize_bottom_margin", 50, "number"), o = d(e), r = y(m, n, "margin-top", !0), s = y(m, n, "margin-bottom", !0), (a = (a = n.offsetHeight + r + s + i) < 0 ? 0 : a) + (g = e.getContainer().offsetHeight - e.getContentAreaContainer().offsetHeight) > d(e) && (o = a + g), (u = e.getParam("max_height", 0, "number")) && u < o ? (o = u, h(e, !0)) : h(e, !1), o !== t.get() && (l = o - t.get(), m.setStyle(e.getContainer(), "height", o + "px"), t.set(o), e.fire("ResizeEditor"), p.browser.isSafari() && p.mac && (c = e.getWin()).scrollTo(c.pageXOffset, c.pageYOffset), e.hasFocus() && e.selection.scrollIntoView(e.selection.getNode()), p.webkit && l < 0 && v(e, t))));
  };

  e.add("autoresize", function (e) {
    var t,
        n,
        i,
        o,
        r,
        s,
        a = e.settings;
    g.call(a, "resize") || (e.settings.resize = !1), e.inline || (s = 0, r = t = {
      get: function get() {
        return s;
      },
      set: function set(e) {
        s = e;
      }
    }, (o = e).addCommand("mceAutoResize", function () {
      v(o, r);
    }), i = t, (n = e).on("init", function () {
      var e = n.getParam("autoresize_overflow_padding", 1, "number"),
          t = n.dom;
      t.setStyles(n.getDoc().documentElement, {
        height: "auto"
      }), t.setStyles(n.getBody(), {
        paddingLeft: e,
        paddingRight: e,
        "min-height": 0
      });
    }), n.on("NodeChange SetContent keyup FullscreenStateChanged ResizeContent", function () {
      v(n, i);
    }), n.getParam("autoresize_on_init", !0, "boolean") && n.on("init", function () {
      u(n, i, 20, 100, function () {
        u(n, i, 5, 1e3);
      });
    }));
  });
}();

/***/ }),

/***/ "./packages/roniejisa/scripts/assets/plugins/tinymce/plugins/colorpicker/plugin.min.js":
/*!*********************************************************************************************!*\
  !*** ./packages/roniejisa/scripts/assets/plugins/tinymce/plugins/colorpicker/plugin.min.js ***!
  \*********************************************************************************************/
/***/ (() => {

/**
 * Copyright (c) Tiny Technologies, Inc. All rights reserved.
 * Licensed under the LGPL or a commercial license.
 * For LGPL see License.txt in the project root for license information.
 * For commercial licenses see https://www.tiny.cloud/
 *
 * Version: 5.9.2 (2021-09-08)
 */
!function () {
  "use strict";

  tinymce.util.Tools.resolve("tinymce.PluginManager").add("colorpicker", function () {
    console.warn("Color picker plugin is now built in to the core editor, please remove it from your editor configuration");
  });
}();

/***/ }),

/***/ "./packages/roniejisa/scripts/assets/plugins/tinymce/plugins/image/plugin.min.js":
/*!***************************************************************************************!*\
  !*** ./packages/roniejisa/scripts/assets/plugins/tinymce/plugins/image/plugin.min.js ***!
  \***************************************************************************************/
/***/ (() => {

function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

/** * Copyright (c) Tiny Technologies, Inc. All rights reserved. * Licensed under the LGPL or a commercial license. * For LGPL see License.txt in the project root for license information. * For commercial licenses see https://www.tiny.cloud/ * * Version: 5.9.2 (2021-09-08) */
!function () {
  "use strict";

  function e(r) {
    return function (e) {
      return n = _typeof(t = e), (null === t ? "null" : "object" == n && (Array.prototype.isPrototypeOf(t) || t.constructor && "Array" === t.constructor.name) ? "array" : "object" == n && (String.prototype.isPrototypeOf(t) || t.constructor && "String" === t.constructor.name) ? "string" : n) === r;
      var t, n;
    };
  }

  function t(t) {
    return function (e) {
      return _typeof(e) === t;
    };
  }

  function D(e) {
    return !(null == e);
  }

  function l() {}

  function i(e) {
    return function () {
      return e;
    };
  }

  function n(e) {
    return e;
  }

  function r() {
    return g;
  }

  var a,
      o = tinymce.util.Tools.resolve("tinymce.PluginManager"),
      _y = function y() {
    return (_y = Object.assign || function (e) {
      for (var t, n = 1, r = arguments.length; n < r; n++) {
        for (var a in t = arguments[n]) {
          Object.prototype.hasOwnProperty.call(t, a) && (e[a] = t[a]);
        }
      }

      return e;
    }).apply(this, arguments);
  },
      T = e("string"),
      s = e("object"),
      c = e("array"),
      N = t("boolean"),
      w = t("function"),
      u = t("number"),
      m = i(!1),
      d = i(!(a = null)),
      g = {
    fold: function fold(e, t) {
      return e();
    },
    isSome: m,
    isNone: d,
    getOr: n,
    getOrThunk: p,
    getOrDie: function getOrDie(e) {
      throw new Error(e || "error: getOrDie called on none.");
    },
    getOrNull: i(null),
    getOrUndefined: i(void 0),
    or: n,
    orThunk: p,
    map: r,
    each: l,
    bind: r,
    exists: m,
    forall: d,
    filter: function filter() {
      return g;
    },
    toArray: function toArray() {
      return [];
    },
    toString: i("none()")
  };

  function p(e) {
    return e();
  }

  function f(e, i, o, l) {
    return function (e) {
      for (var t = v(e), n = 0, r = t.length; n < r; n++) {
        var a = t[n];
        !function (e, t) {
          (i(e, t) ? o : l)(e, t);
        }(e[a], a);
      }
    }(e), 1;
  }

  function h(e, t) {
    return A.call(e, t);
  }

  function S(e) {
    for (var t = [], n = 0, r = e.length; n < r; ++n) {
      if (!c(e[n])) throw new Error("Arr.flatten item " + n + " was not an array, input: " + e);
      U.apply(t, e[n]);
    }

    return t;
  }

  var b = function b(n) {
    function e() {
      return a;
    }

    function t(e) {
      return e(n);
    }

    var r = i(n),
        a = {
      fold: function fold(e, t) {
        return t(n);
      },
      isSome: d,
      isNone: m,
      getOr: r,
      getOrThunk: r,
      getOrDie: r,
      getOrNull: r,
      getOrUndefined: r,
      or: e,
      orThunk: e,
      map: function map(e) {
        return b(e(n));
      },
      each: function each(e) {
        e(n);
      },
      bind: t,
      exists: t,
      forall: t,
      filter: function filter(e) {
        return e(n) ? a : g;
      },
      toArray: function toArray() {
        return [n];
      },
      toString: function toString() {
        return "some(" + n + ")";
      }
    };
    return a;
  },
      L = {
    some: b,
    none: r,
    from: function from(e) {
      return null == e ? g : b(e);
    }
  },
      v = Object.keys,
      A = Object.hasOwnProperty,
      U = Array.prototype.push;

  function C(e, t, n) {
    !function (e, t, n) {
      if (!(T(n) || N(n) || u(n))) throw console.error("Invalid call to Attribute.set. Key ", t, ":: Value ", n, ":: Element ", e), new Error("Attribute value was not simple");
      e.setAttribute(t, n + "");
    }(e.dom, t, n);
  }

  function I(e) {
    return e.getParam("image_dimensions", !0, "boolean");
  }

  function x(e, t) {
    return Math.max(parseInt(e, 10), parseInt(t, 10));
  }

  function O(e) {
    return e && e.replace(/px$/, "");
  }

  function P(e) {
    return 0 < e.length && /^[0-9]+$/.test(e) && (e += "px"), e;
  }

  function _(e) {
    if (e.margin) {
      var t = String(e.margin).split(" ");

      switch (t.length) {
        case 1:
          e["margin-top"] = e["margin-top"] || t[0], e["margin-right"] = e["margin-right"] || t[0], e["margin-bottom"] = e["margin-bottom"] || t[0], e["margin-left"] = e["margin-left"] || t[0];
          break;

        case 2:
          e["margin-top"] = e["margin-top"] || t[0], e["margin-right"] = e["margin-right"] || t[1], e["margin-bottom"] = e["margin-bottom"] || t[0], e["margin-left"] = e["margin-left"] || t[1];
          break;

        case 3:
          e["margin-top"] = e["margin-top"] || t[0], e["margin-right"] = e["margin-right"] || t[1], e["margin-bottom"] = e["margin-bottom"] || t[2], e["margin-left"] = e["margin-left"] || t[1];
          break;

        case 4:
          e["margin-top"] = e["margin-top"] || t[0], e["margin-right"] = e["margin-right"] || t[1], e["margin-bottom"] = e["margin-bottom"] || t[2], e["margin-left"] = e["margin-left"] || t[3];
      }

      delete e.margin;
    }

    return e;
  }

  function E(e) {
    return "IMG" === e.nodeName && (e.hasAttribute("data-mce-object") || e.hasAttribute("data-mce-placeholder"));
  }

  function R(e) {
    return e.style.marginLeft && e.style.marginRight && e.style.marginLeft === e.style.marginRight ? O(e.style.marginLeft) : "";
  }

  function k(e) {
    return e.style.marginTop && e.style.marginBottom && e.style.marginTop === e.style.marginBottom ? O(e.style.marginTop) : "";
  }

  function z(e) {
    return e.style.borderWidth ? O(e.style.borderWidth) : "";
  }

  function M(e, t) {
    return e.hasAttribute(t) ? e.getAttribute(t) : "";
  }

  function j(e, t) {
    return e.style[t] || "";
  }

  function B(e) {
    return null !== e.parentNode && "FIGURE" === e.parentNode.nodeName;
  }

  function H(e, t, n) {
    "" === n ? e.removeAttribute(t) : e.setAttribute(t, n);
  }

  function F(e, t) {
    var n = e.getAttribute("style"),
        r = t(null !== n ? n : "");
    0 < r.length ? (e.setAttribute("style", r), e.setAttribute("data-mce-style", r)) : e.removeAttribute("style");
  }

  function G(e, r) {
    return function (e, t, n) {
      e.style[t] ? (e.style[t] = P(n), F(e, r)) : H(e, t, n);
    };
  }

  function W(e, t) {
    return e.style[t] ? O(e.style[t]) : M(e, t);
  }

  function V(e, t) {
    var n = P(t);
    e.style.marginLeft = n, e.style.marginRight = n;
  }

  function $(e, t) {
    var n = P(t);
    e.style.marginTop = n, e.style.marginBottom = n;
  }

  function J(e, t) {
    var n = P(t);
    e.style.borderWidth = n;
  }

  function K(e, t) {
    e.style.borderStyle = t;
  }

  function X(e) {
    return "FIGURE" === e.nodeName;
  }

  function Z(e) {
    return 0 === we.getAttrib(e, "alt").length && "presentation" === we.getAttrib(e, "role");
  }

  function q() {
    return {
      src: "",
      alt: "",
      title: "",
      width: "",
      height: "",
      "class": "",
      style: "",
      caption: !1,
      hspace: "",
      vspace: "",
      border: "",
      borderStyle: "",
      isDecorative: !1
    };
  }

  function Q(e, t) {
    return {
      src: M(t, "src"),
      alt: Z(n = t) ? "" : M(n, "alt"),
      title: M(t, "title"),
      width: W(t, "width"),
      height: W(t, "height"),
      "class": M(t, "class"),
      style: e(M(t, "style")),
      caption: B(t),
      hspace: R(t),
      vspace: k(t),
      border: z(t),
      borderStyle: j(t, "borderStyle"),
      isDecorative: Z(t)
    };
    var n;
  }

  function Y(e, t, n, r, a) {
    n[r] !== t[r] && a(e, r, n[r]);
  }

  function ee(r, a) {
    return function (e, t, n) {
      r(e, n), F(e, a);
    };
  }

  function te(e, t) {
    var n = _(e.dom.styles.parse(t)),
        r = e.dom.styles.parse(e.dom.styles.serialize(n));

    return e.dom.styles.serialize(r);
  }

  function ne(e) {
    var t = e.selection.getNode(),
        n = e.dom.getParent(t, "figure.image");
    return n ? e.dom.select("img", n)[0] : t && ("IMG" !== t.nodeName || E(t)) ? null : t;
  }

  function re(n, e) {
    var r,
        t,
        a = n.dom,
        i = (f(n.schema.getTextBlockElements(), function (e, t) {
      return !n.schema.isValidChild(t, "figure");
    }, (r = t = {}, function (e, t) {
      r[t] = e;
    }), l), t),
        o = a.getParent(e.parentNode, function (e) {
      return h(t = i, n = e.nodeName) && null != t[n];
      var t, n;
    }, n.getBody());
    return o ? a.split(o, e) : e;
  }

  function ae(r, e) {
    var t = function (e) {
      var t = document.createElement("img");

      if (Ue(function (e) {
        return te(r, e);
      }, _y(_y({}, e), {
        caption: !1
      }), t), Se(t, e.alt, e.isDecorative), e.caption) {
        var n = we.create("figure", {
          "class": "image"
        });
        return n.appendChild(t), n.appendChild(we.create("figcaption", {
          contentEditable: "true"
        }, "Caption")), n.contentEditable = "false", n;
      }

      return t;
    }(e);

    r.dom.setAttrib(t, "data-mce-id", "__mcenew"), r.focus(), r.selection.setContent(t.outerHTML);
    var n,
        a = r.dom.select('*[data-mce-id="__mcenew"]')[0];
    r.dom.setAttrib(a, "data-mce-id", null), X(a) ? (n = re(r, a), r.selection.select(n)) : r.selection.select(a);
  }

  function ie(e) {
    return T(e.value) ? e.value : "";
  }

  function oe(t) {
    return void 0 === t && (t = ie), function (e) {
      return e ? L.from(e).map(function (e) {
        return Oe(e, t);
      }) : L.none();
    };
  }

  function le(e) {
    var t = e.imageList.map(function (e) {
      return {
        name: "images",
        type: "listbox",
        label: "Image list",
        items: e
      };
    }),
        n = {
      name: "alt",
      type: "input",
      label: "Mô tả",
      disabled: e.hasAccessibilityOptions && e.image.isDecorative
    },
        r = e.classList.map(function (e) {
      return {
        name: "classes",
        type: "listbox",
        label: "Class",
        items: e
      };
    });
    return S([[{
      name: "src",
      type: "urlinput",
      filetype: "image",
      label: "Đường dẫn",
      disabled: true
    }], t.toArray(), e.hasAccessibilityOptions && e.hasDescription ? [{
      type: "label",
      label: "Accessibility",
      items: [{
        name: "isDecorative",
        type: "checkbox",
        label: "Image is decorative"
      }]
    }] : [], e.hasDescription ? [n] : [], e.hasImageTitle ? [{
      name: "title",
      type: "input",
      label: "Tiêu đề ảnh"
    }] : [], e.hasDimensions ? [{
      name: "dimensions",
      type: "sizeinput"
    }] : [], [_y(_y({}, e.classList.isSome() && e.hasImageCaption ? {
      type: "grid",
      columns: 2
    } : {
      type: "panel"
    }), {
      items: S([r.toArray(), e.hasImageCaption ? [{
        type: "label",
        label: "Caption",
        items: [{
          type: "checkbox",
          name: "caption",
          label: "Show caption"
        }]
      }] : []])
    })]]);
  }

  function se(e) {
    return {
      src: {
        value: e.src,
        meta: {}
      },
      images: e.src,
      alt: e.alt,
      title: e.title,
      dimensions: {
        width: e.width,
        height: e.height
      },
      classes: e["class"],
      caption: e.caption,
      style: e.style,
      vspace: e.vspace,
      border: e.border,
      hspace: e.hspace,
      borderstyle: e.borderStyle,
      fileinput: [],
      isDecorative: e.isDecorative
    };
  }

  function ce(e, t) {
    return {
      src: e.src.value,
      alt: 0 === e.alt.length && t ? null : e.alt,
      title: e.title,
      width: e.dimensions.width,
      height: e.dimensions.height,
      "class": e.classes,
      style: e.style,
      caption: e.caption,
      hspace: e.hspace,
      vspace: e.vspace,
      border: e.border,
      borderStyle: e.borderstyle,
      isDecorative: e.isDecorative
    };
  }

  function ue(e, t, n, r) {
    var a, i, o, l, s, c, u, m, d, g, p, f, h, b, y, v, A, D, w, S, U, C, I, x, O;
    U = t, I = (C = r).getData(), x = U, O = I.src.value, (/^(?:[a-zA-Z]+:)?\/\//.test(O) ? L.none() : x.prependURL.bind(function (e) {
      return O.substring(0, e.length) !== e ? L.some(e + O) : L.none();
    })).each(function (e) {
      C.setData({
        src: {
          value: e,
          meta: I.src.meta
        }
      });
    }), h = t, w = (b = r).getData(), void 0 !== (S = w.src.meta) && (y = Ce({}, w), A = y, D = S, (v = h).hasDescription && T(D.alt) && (A.alt = D.alt), v.hasAccessibilityOptions && (A.isDecorative = D.isDecorative || A.isDecorative || !1), v.hasImageTitle && T(D.title) && (A.title = D.title), v.hasDimensions && (T(D.width) && (A.dimensions.width = D.width), T(D.height) && (A.dimensions.height = D.height)), T(D["class"]) && Pe(v.classList, D["class"]).each(function (e) {
      A.classes = e.value;
    }), v.hasImageCaption && N(D.caption) && (A.caption = D.caption), v.hasAdvTab && (T(D.style) && (A.style = D.style), T(D.vspace) && (A.vspace = D.vspace), T(D.border) && (A.border = D.border), T(D.hspace) && (A.hspace = D.hspace), T(D.borderstyle) && (A.borderstyle = D.borderstyle)), b.setData(y)), a = e, i = t, o = n, c = (s = (l = r).getData()).src.value, (u = s.src.meta || {}).width || u.height || !i.hasDimensions || (0 < c.length ? a.imageSize(c).then(function (e) {
      o.open && l.setData({
        dimensions: e
      });
    })["catch"](function (e) {
      return console.error(e);
    }) : l.setData({
      dimensions: {
        width: "",
        height: ""
      }
    })), m = t, d = n, p = (g = r).getData(), f = Pe(m.imageList, p.src.value), d.prevImage = f, g.setData({
      images: f.map(function (e) {
        return e.value;
      }).getOr("")
    });
  }

  function me(l, s, t, c) {
    var e,
        n = c.getData();
    c.block("Uploading image"), (0 < (e = n.fileinput).length ? L.some(e[0]) : L.none()).fold(function () {
      c.unblock();
    }, function (n) {
      function r() {
        c.unblock(), URL.revokeObjectURL(i);
      }

      function a(e) {
        c.setData({
          src: {
            value: e,
            meta: {}
          }
        }), c.showTab("general"), ue(l, s, t, c);
      }

      var i = URL.createObjectURL(n),
          o = n;
      new Ae(function (e, t) {
        var n = new FileReader();
        n.onload = function () {
          e(n.result);
        }, n.onerror = function () {
          t(n.error.message);
        }, n.readAsDataURL(o);
      }).then(function (e) {
        var t = l.createBlobCache(n, i, e);
        s.automaticUploads ? l.uploadImage(t).then(function (e) {
          a(e.url), r();
        })["catch"](function (e) {
          r(), l.alertErr(e);
        }) : (l.addToBlobCache(t), a(t.blobUri()), c.unblock());
      });
    });
  }

  function de(S, U, C) {
    return function (e, t) {
      var n, r, a, i, o, l, s, c, u, m, d, g, p, f, h, b, y, v, A, D, w;
      "src" === t.name ? ue(S, U, C, e) : "images" === t.name ? (c = S, u = U, m = C, g = (d = e).getData(), (p = Pe(u.imageList, g.images)).each(function (e) {
        "" === g.alt || m.prevImage.map(function (e) {
          return e.text === g.alt;
        }).getOr(!1) ? "" === e.value ? d.setData({
          src: e,
          alt: m.prevAlt
        }) : d.setData({
          src: e,
          alt: e.text
        }) : d.setData({
          src: e
        });
      }), m.prevImage = p, ue(c, u, m, d)) : "alt" === t.name ? C.prevAlt = e.getData().alt : "style" === t.name ? (o = S, s = (l = e).getData(), y = o.parseStyle, v = o.serializeStyle, D = _(y((A = s).style)), (w = Ce({}, A)).vspace = D["margin-top"] && D["margin-bottom"] && D["margin-top"] === D["margin-bottom"] ? O(String(D["margin-top"])) : "", w.hspace = D["margin-right"] && D["margin-left"] && D["margin-right"] === D["margin-left"] ? O(String(D["margin-right"])) : "", w.border = D["border-width"] ? O(String(D["border-width"])) : "", w.borderstyle = D["border-style"] ? String(D["border-style"]) : "", w.style = v(y(v(D))), l.setData(w)) : "vspace" === t.name || "hspace" === t.name || "border" === t.name || "borderstyle" === t.name ? (n = S, a = Ce(se(U.image), (r = e).getData()), f = n.normalizeCss, h = ce(a, !1), H(b = document.createElement("img"), "style", h.style), !R(b) && "" === h.hspace || V(b, h.hspace), !k(b) && "" === h.vspace || $(b, h.vspace), !z(b) && "" === h.border || J(b, h.border), !j(b, "borderStyle") && "" === h.borderStyle || K(b, h.borderStyle), i = f(b.getAttribute("style")), r.setData({
        style: i
      })) : "fileinput" === t.name ? me(S, U, C, e) : "isDecorative" === t.name && (e.getData().isDecorative ? e.disable("alt") : e.enable("alt"));
    };
  }

  function ge(v) {
    var t,
        n,
        r,
        a,
        i,
        o,
        l,
        s,
        c,
        A = {
      onSubmit: function onSubmit(n) {
        return function (e) {
          var t = Ce(se(n.image), e.getData());
          c.execCommand("mceUpdateImage", !1, ce(t, n.hasAccessibilityOptions)), c.editorUpload.uploadImagesAuto(), e.close();
        };
      },
      imageSize: function imageSize(e) {
        return a = s.documentBaseURI.toAbsolute(e), new Ae(function (t) {
          function n(e) {
            r.onload = r.onerror = null, r.parentNode && r.parentNode.removeChild(r), t(e);
          }

          var r = document.createElement("img");
          r.onload = function () {
            var e = x(r.width, r.clientWidth),
                t = x(r.height, r.clientHeight);
            n(Ae.resolve({
              width: e,
              height: t
            }));
          }, r.onerror = function () {
            n(Ae.reject("Failed to get image dimensions for: " + a));
          };
          var e = r.style;
          e.visibility = "hidden", e.position = "fixed", e.bottom = e.left = "0px", e.width = e.height = "auto", document.body.appendChild(r), r.src = a;
        }).then(function (e) {
          return {
            width: String(e.width),
            height: String(e.height)
          };
        });
        var a;
      },
      addToBlobCache: function addToBlobCache(e) {
        l.editorUpload.blobCache.add(e);
      },
      createBlobCache: function createBlobCache(e, t, n) {
        return o.editorUpload.blobCache.create({
          blob: e,
          blobUri: t,
          name: e.name ? e.name.replace(/\.[^\.]+$/, "") : null,
          filename: e.name,
          base64: n.split(",")[1]
        });
      },
      alertErr: function alertErr(e) {
        i.windowManager.alert(e);
      },
      normalizeCss: function normalizeCss(e) {
        return te(a, e);
      },
      parseStyle: function parseStyle(e) {
        return r.dom.parseStyle(e);
      },
      serializeStyle: function serializeStyle(e, t) {
        return n.dom.serializeStyle(e, t);
      },
      uploadImage: (t = n = r = a = i = o = l = s = c = v, function (e) {
        return Ie(t).upload([e], !1).then(function (e) {
          return 0 === e.length ? Ae.reject("Failed to upload image") : !1 === e[0].status ? Ae.reject(e[0].error.message) : e[0];
        });
      })
    };
    return {
      open: function open() {
        var i, r, t, e, a, n, o, l, s, c, u, m, d, g, p, f, h, b, y;
        r = v, a = Ne(function (e) {
          return r.convertURL(e.value || e.url, "src");
        }), n = new Ae(function (t) {
          var n = function n(e) {
            t(a(e).map(function (e) {
              return S([[{
                text: "None",
                value: ""
              }], e]);
            }));
          },
              e = r.getParam("image_list", !1);

          T(e) ? De.send({
            url: e,
            success: function success(e) {
              n(JSON.parse(e));
            }
          }) : w(e) ? e(n) : n(e);
        }), o = Le(r.getParam("image_class_list")), l = r.getParam("image_advtab", !1, "boolean"), s = r.getParam("image_uploadtab", !0, "boolean"), c = D(r.getParam("images_upload_url")), u = D(r.getParam("images_upload_handler")), m = (e = ne(t = r)) ? Q(function (e) {
          return te(t, e);
        }, e) : q(), d = r.getParam("image_description", !0, "boolean"), g = r.getParam("image_title", !1, "boolean"), p = I(r), f = r.getParam("image_caption", !1, "boolean"), h = r.getParam("a11y_advanced_options", !1, "boolean"), b = r.getParam("automatic_uploads", !0, "boolean"), y = L.some(r.getParam("image_prepend_url", "", "string")).filter(function (e) {
          return T(e) && 0 < e.length;
        }), n.then(function (e) {
          return {
            image: m,
            imageList: e,
            classList: o,
            hasAdvTab: l,
            hasUploadTab: s,
            hasUploadUrl: c,
            hasUploadHandler: u,
            hasDescription: d,
            hasImageTitle: g,
            hasDimensions: p,
            hasImageCaption: f,
            prependURL: y,
            hasAccessibilityOptions: h,
            automaticUploads: b
          };
        }).then((i = A, function (e) {
          var t,
              n,
              r,
              a = {
            prevImage: Pe((t = e).imageList, t.image.src),
            prevAlt: t.image.alt,
            open: !0
          };
          return {
            title: "Thêm/Sửa hình ảnh",
            size: "normal",
            body: (r = e).hasAdvTab || r.hasUploadUrl || r.hasUploadHandler ? {
              type: "tabpanel",
              tabs: S([[Ee(r)], r.hasAdvTab ? [_e(r)] : [], r.hasUploadTab && (r.hasUploadUrl || r.hasUploadHandler) ? [ke(r)] : []])
            } : {
              type: "panel",
              items: Re(r)
            },
            buttons: [{
              type: "cancel",
              name: "cancel",
              text: "Ẩn"
            }, {
              type: "submit",
              name: "save",
              text: "Lưu",
              primary: !0
            }],
            initialData: se(e.image),
            onSubmit: i.onSubmit(e),
            onChange: de(i, e, a),
            onClose: (n = a, function () {
              n.open = !1;
            })
          };
        })).then(v.windowManager.open);
      }
    };
  }

  function pe(b) {
    b.addCommand("mceImage", ge(b).open), b.addCommand("mceUpdateImage", function (e, h) {
      b.undoManager.transact(function () {
        var t, e, n, r, a, i, o, l, s, c, u, m, d, g, p;

        function f() {
          g.onload = g.onerror = null, m.selection && (m.selection.select(g), m.nodeChanged());
        }

        e = h, (l = ne(t = b)) ? (n = Q(function (e) {
          return te(t, e);
        }, l), (r = _y(_y({}, n), e)).src ? (c = r, p = ne(s = t), Ue(function (e) {
          return te(s, e);
        }, c, p), s.dom.setAttrib(p, "src", p.getAttribute("src")), X(p.parentNode) ? (u = p.parentNode, re(s, u), s.selection.select(p.parentNode)) : (s.selection.select(p), m = s, d = c, (g = p).onload = function () {
          d.width || d.height || !I(m) || m.dom.setAttribs(g, {
            width: String(g.clientWidth),
            height: String(g.clientHeight)
          }), f();
        }, g.onerror = f)) : (a = t, (i = l) && (o = a.dom.is(i.parentNode, "figure.image") ? i.parentNode : i, a.dom.remove(o), a.focus(), a.nodeChanged(), a.dom.isEmpty(a.getBody()) && (a.setContent(""), a.selection.setCursorLocation())))) : e.src && ae(t, _y(_y({}, q()), e));
      });
    });
  }

  function fe(i) {
    return function (e) {
      for (var t = e.length, n = function n(e) {
        e.attr("contenteditable", i ? "true" : null);
      }; t--;) {
        var r,
            a = e[t];
        (r = a.attr("class")) && /\bimage\b/.test(r) && (a.attr("contenteditable", i ? "false" : null), xe.each(a.getAll("figcaption"), n));
      }
    };
  }

  "undefined" != typeof window || Function("return this;")();

  function he(e) {
    if (null == e) throw new Error("Node cannot be null or undefined");
    return {
      dom: e
    };
  }

  var be,
      ye = he,
      ve = tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),
      Ae = tinymce.util.Tools.resolve("tinymce.util.Promise"),
      De = tinymce.util.Tools.resolve("tinymce.util.XHR"),
      we = ve.DOM,
      Se = function Se(e, t, n) {
    n ? (we.setAttrib(e, "role", "presentation"), C(ye(e), "alt", "")) : (a === t ? ye(e).dom.removeAttribute("alt") : C(ye(e), "alt", t), "presentation" === we.getAttrib(e, "role") && we.setAttrib(e, "role", ""));
  },
      Ue = function Ue(e, t, n) {
    var r = Q(e, n);
    Y(n, r, t, "caption", function (e, t, n) {
      return B(r = e) ? (o = r.parentNode, we.insertAfter(r, o), we.remove(o)) : (a = r, i = we.create("figure", {
        "class": "image"
      }), we.insertAfter(i, a), i.appendChild(a), i.appendChild(we.create("figcaption", {
        contentEditable: "true"
      }, "Caption")), i.contentEditable = "false"), 0;
      var r, a, i, o;
    }), Y(n, r, t, "src", H), Y(n, r, t, "title", H), Y(n, r, t, "width", G(0, e)), Y(n, r, t, "height", G(0, e)), Y(n, r, t, "class", H), Y(n, r, t, "style", ee(function (e, t) {
      return H(e, "style", t), 0;
    }, e)), Y(n, r, t, "hspace", ee(V, e)), Y(n, r, t, "vspace", ee($, e)), Y(n, r, t, "border", ee(J, e)), Y(n, r, t, "borderStyle", ee(K, e)), t.alt === r.alt && t.isDecorative === r.isDecorative || Se(n, t.alt, t.isDecorative);
  },
      Ce = (be = function be(e, t) {
    return s(e) && s(t) ? Ce(e, t) : t;
  }, function () {
    for (var e = [], t = 0; t < arguments.length; t++) {
      e[t] = arguments[t];
    }

    if (0 === e.length) throw new Error("Can't merge zero objects");

    for (var n = {}, r = 0; r < e.length; r++) {
      var a,
          i = e[r];

      for (a in i) {
        h(i, a) && (n[a] = be(n[a], i[a]));
      }
    }

    return n;
  }),
      Ie = tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),
      xe = tinymce.util.Tools.resolve("tinymce.util.Tools"),
      Oe = function Oe(e, i) {
    var o = [];
    return xe.each(e, function (e) {
      var t,
          n,
          r,
          a = T((t = e).text) ? t.text : T(t.title) ? t.title : "";
      void 0 !== e.menu ? (n = Oe(e.menu, i), o.push({
        text: a,
        items: n
      })) : (r = i(e), o.push({
        text: a,
        value: r
      }));
    }), o;
  },
      Te = function Te(e, a) {
    return function (e) {
      for (var t, n = 0; n < e.length; n++) {
        var r = h(t = e[n], "items") ? Te(t.items, a) : t.value === a ? L.some(t) : L.none();
        if (r.isSome()) return r;
      }

      return L.none();
    }(e);
  },
      Ne = oe,
      Le = function Le(e) {
    return oe(ie)(e);
  },
      Pe = function Pe(e, t) {
    return e.bind(function (e) {
      return Te(e, t);
    });
  },
      _e = function _e(e) {
    return {
      title: "Advanced",
      name: "advanced",
      items: [{
        type: "input",
        label: "Style",
        name: "style"
      }, {
        type: "grid",
        columns: 2,
        items: [{
          type: "input",
          label: "Vertical space",
          name: "vspace",
          inputMode: "numeric"
        }, {
          type: "input",
          label: "Horizontal space",
          name: "hspace",
          inputMode: "numeric"
        }, {
          type: "input",
          label: "Border width",
          name: "border",
          inputMode: "numeric"
        }, {
          type: "listbox",
          name: "borderstyle",
          label: "Border style",
          items: [{
            text: "Select...",
            value: ""
          }, {
            text: "Solid",
            value: "solid"
          }, {
            text: "Dotted",
            value: "dotted"
          }, {
            text: "Dashed",
            value: "dashed"
          }, {
            text: "Double",
            value: "double"
          }, {
            text: "Groove",
            value: "groove"
          }, {
            text: "Ridge",
            value: "ridge"
          }, {
            text: "Inset",
            value: "inset"
          }, {
            text: "Outset",
            value: "outset"
          }, {
            text: "None",
            value: "none"
          }, {
            text: "Hidden",
            value: "hidden"
          }]
        }]
      }]
    };
  },
      Ee = function Ee(e) {
    return {
      title: "Chung",
      name: "general",
      items: le(e)
    };
  },
      Re = le,
      ke = function ke(e) {
    return {
      title: "Tải lên",
      name: "upload",
      items: [{
        type: "dropzone",
        name: "fileinput"
      }]
    };
  };

  o.add("image", function (e) {
    var t, n;
    (t = e).on("PreInit", function () {
      t.parser.addNodeFilter("figure", fe(!0)), t.serializer.addNodeFilter("figure", fe(!1));
    }), (n = e).ui.registry.addToggleButton("image", {
      icon: "image",
      tooltip: "Thêm/ sửa ảnh",
      onAction: ge(n).open,
      onSetup: function onSetup(e) {
        return n.selection.selectorChangedWithUnbind("img:not([data-mce-object],[data-mce-placeholder]),figure.image", e.setActive).unbind;
      }
    }), n.ui.registry.addMenuItem("image", {
      icon: "image",
      text: "Image...",
      onAction: ge(n).open
    }), n.ui.registry.addContextMenu("image", {
      update: function update(e) {
        return X(e) || "IMG" === e.nodeName && !E(e) ? ["image"] : [];
      }
    }), pe(e);
  });
}();

/***/ }),

/***/ "./packages/roniejisa/scripts/assets/plugins/tinymce/plugins/paste/plugin.min.js":
/*!***************************************************************************************!*\
  !*** ./packages/roniejisa/scripts/assets/plugins/tinymce/plugins/paste/plugin.min.js ***!
  \***************************************************************************************/
/***/ (() => {

function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

/**
 * Copyright (c) Tiny Technologies, Inc. All rights reserved.
 * Licensed under the LGPL or a commercial license.
 * For LGPL see License.txt in the project root for license information.
 * For commercial licenses see https://www.tiny.cloud/
 *
 * Version: 5.9.2 (2021-09-08)
 */
!function () {
  "use strict";

  function P(e) {
    var t = e;
    return {
      get: function get() {
        return t;
      },
      set: function set(e) {
        t = e;
      }
    };
  }

  function w(e) {
    return !(null == e);
  }

  function _() {}

  function o(e) {
    return function () {
      return e;
    };
  }

  function e(e) {
    return e;
  }

  function t() {
    return l;
  }

  var n,
      r = tinymce.util.Tools.resolve("tinymce.PluginManager"),
      i = o(!(n = "function")),
      s = o(!0),
      l = {
    fold: function fold(e, t) {
      return e();
    },
    isSome: i,
    isNone: s,
    getOr: e,
    getOrThunk: a,
    getOrDie: function getOrDie(e) {
      throw new Error(e || "error: getOrDie called on none.");
    },
    getOrNull: o(null),
    getOrUndefined: o(void 0),
    or: e,
    orThunk: a,
    map: t,
    each: _,
    bind: t,
    exists: i,
    forall: s,
    filter: function filter() {
      return l;
    },
    toArray: function toArray() {
      return [];
    },
    toString: o("none()")
  };

  function a(e) {
    return e();
  }

  function u(e, t) {
    for (var n = 0, r = e.length; n < r; n++) {
      if (t(e[n], n)) return !0;
    }

    return !1;
  }

  function c(e, t) {
    for (var n = e.length, r = new Array(n), a = 0; a < n; a++) {
      var o = e[a];
      r[a] = t(o, a);
    }

    return r;
  }

  function f(e, t) {
    for (var n = 0, r = e.length; n < r; n++) {
      t(e[n], n);
    }
  }

  function m() {
    var e,
        t,
        n = (e = _, t = P(se.none()), {
      clear: function clear() {
        r(), t.set(se.none());
      },
      isSet: function isSet() {
        return t.get().isSome();
      },
      get: function get() {
        return t.get();
      },
      set: function set(e) {
        r(), t.set(se.some(e));
      }
    });

    function r() {
      return t.get().each(e);
    }

    return _ce(_ce({}, n), {
      on: function on(e) {
        return n.get().each(e);
      }
    });
  }

  function d(e, t, n) {
    return "" === t || e.length >= t.length && e.substr(n, n + t.length) === t;
  }

  function C(e, t) {
    return e.fire("PastePlainTextToggle", {
      state: t
    });
  }

  function T(e) {
    return e.getParam("paste_data_images", !1);
  }

  function p(e) {
    return e.getParam("paste_retain_style_properties");
  }

  function h(e) {
    return e.getParam("validate");
  }

  function g(e) {
    return e.getParam("paste_data_images", !1, "boolean");
  }

  function v(e) {
    return ge.explode(e.getParam("images_file_types", "jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp", "string"));
  }

  function y(e) {
    return -1 !== e.indexOf(he);
  }

  function b(e, t, n) {
    return t ? (r = !0 === t ? "p" : t, a = n, o = e.split(/\n\n/), i = function (e, t) {
      var n,
          r = [],
          a = "<" + e;

      if ("object" == _typeof(t)) {
        for (var o in t) {
          n = o, be.call(t, n) && r.push(o + '="' + xe.encodeAllRaw(t[o]) + '"');
        }

        r.length && (a += " " + r.join(" "));
      }

      return a + ">";
    }(r, a), s = "</" + r + ">", 1 === (l = ge.map(o, function (e) {
      return e.split(/\n/).join("<br />");
    })).length ? l[0] : ge.map(l, function (e) {
      return i + e + s;
    }).join("")) : e.replace(/\r?\n/g, "<br>");
    var r, a, o, i, s, l;
  }

  function x(t, e) {
    return ge.each(e, function (e) {
      t = e.constructor === RegExp ? t.replace(e, "") : t.replace(e[0], e[1]);
    }), t;
  }

  function D(e) {
    return x(e, [/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi, /<!--StartFragment-->|<!--EndFragment-->/g, [/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g, function (e, t, n) {
      return t || n ? "\xa0" : " ";
    }], /<br class="Apple-interchange-newline">/g, /<br>$/i]);
  }

  function k(e) {
    return /<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^']*\bmso-|w:WordDocument/i.test(e) || /class="OutlineElement/.test(e) || /id="?docs\-internal\-guid\-/.test(e);
  }

  function O(r, e) {
    var a,
        t = p(r);
    t && (a = ge.makeMap(t.split(/[, ]/))), e = x(e, [/<br class="?Apple-interchange-newline"?>/gi, /<b[^>]+id="?docs-internal-[^>]*>/gi, /<!--[\s\S]+?-->/gi, /<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi, [/<(\/?)s>/gi, "<$1strike>"], [/&nbsp;/gi, "\xa0"], [/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi, function (e, t) {
      return 0 < t.length ? t.replace(/./, " ").slice(Math.floor(t.length / 2)).split("").join("\xa0") : "";
    }]]);
    var n = r.getParam("paste_word_valid_elements", "-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody"),
        o = Ce({
      valid_elements: n,
      valid_children: "-li[p]"
    });
    ge.each(o.elements, function (e) {
      e.attributes["class"] || (e.attributes["class"] = {}, e.attributesOrder.push("class")), e.attributes.style || (e.attributes.style = {}, e.attributesOrder.push("style"));
    });
    var i = Pe({}, o);
    i.addAttributeFilter("style", function (e) {
      for (var t, n = e.length; n--;) {
        (t = e[n]).attr("style", function (r, a, o, i) {
          var s = {},
              e = r.dom.parseStyle(i);
          return ge.each(e, function (e, t) {
            switch (t) {
              case "mso-list":
                var n = /\w+ \w+([0-9]+)/i.exec(i);
                n && (o._listLevel = parseInt(n[1], 10)), /Ignore/i.test(e) && o.firstChild && (o._listIgnore = !0, o.firstChild._listIgnore = !0);
                break;

              case "horiz-align":
                t = "text-align";
                break;

              case "vert-align":
                t = "vertical-align";
                break;

              case "font-color":
              case "mso-foreground":
                t = "color";
                break;

              case "mso-background":
              case "mso-highlight":
                t = "background";
                break;

              case "font-weight":
              case "font-style":
                return void ("normal" !== e && (s[t] = e));

              case "mso-element":
                if (/^(comment|comment-list)$/i.test(e)) return void o.remove();
            }

            0 !== t.indexOf("mso-comment") ? 0 !== t.indexOf("mso-") && ("all" === p(r) || a && a[t]) && (s[t] = e) : o.remove();
          }), /(bold)/i.test(s["font-weight"]) && (delete s["font-weight"], o.wrap(new _e("b", 1))), /(italic)/i.test(s["font-style"]) && (delete s["font-style"], o.wrap(new _e("i", 1))), r.dom.serializeStyle(s, o.name) || null;
        }(r, a, t, t.attr("style"))), "span" === t.name && t.parent && !t.attributes.length && t.unwrap();
      }
    }), i.addAttributeFilter("class", function (e) {
      for (var t, n, r = e.length; r--;) {
        n = (t = e[r]).attr("class"), /^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(n) && t.remove(), t.attr("class", null);
      }
    }), i.addNodeFilter("del", function (e) {
      for (var t = e.length; t--;) {
        e[t].remove();
      }
    }), i.addNodeFilter("a", function (e) {
      for (var t, n, r, a = e.length; a--;) {
        n = (t = e[a]).attr("href"), r = t.attr("name"), n && -1 !== n.indexOf("#_msocom_") ? t.remove() : !(n = n && 0 === n.indexOf("file://") ? (n = n.split("#")[1]) && "#" + n : n) && !r || r && !/^_?(?:toc|edn|ftn)/i.test(r) ? t.unwrap() : t.attr({
          href: n,
          name: r
        });
      }
    });
    var s = i.parse(e);
    return r.getParam("paste_convert_word_fake_lists", !0) && function (e) {
      for (var a, o, i = 1, n = function n(e) {
        var t = "";
        if (3 === e.type) return e.value;
        if (e = e.firstChild) for (; t += n(e), e = e.next;) {
          ;
        }
        return t;
      }, s = function s(e, t) {
        if (3 === e.type && t.test(e.value)) return e.value = e.value.replace(t, ""), !1;
        if (e = e.firstChild) do {
          if (!s(e, t)) return !1;
        } while (e = e.next);
        return !0;
      }, l = function l(e) {
        if (e._listIgnore) e.remove();else if (e = e.firstChild) for (; l(e), e = e.next;) {
          ;
        }
      }, t = function t(e, _t, n) {
        var r = e._listLevel || i;
        (a = r !== i ? r < i ? a && a.parent.parent : (o = a, null) : a) && a.name === _t ? a.append(e) : (o = o || a, a = new _e(_t, 1), 1 < n && a.attr("start", "" + n), e.wrap(a)), e.name = "li", i < r && o && o.lastChild.append(a), i = r, l(e), s(e, /^\u00a0+/), s(e, /^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/), s(e, /^\u00a0+/);
      }, r = [], u = e.firstChild; null != u;) {
        if (r.push(u), null !== (u = u.walk())) for (; void 0 !== u && u.parent !== e;) {
          u = u.walk();
        }
      }

      for (var c, f, d, m = 0; m < r.length; m++) {
        "p" === (e = r[m]).name && e.firstChild ? (c = n(e), /^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(c) ? t(e, "ul") : function (t) {
          var n = !1;
          return t = c.replace(/^[\u00a0 ]+/, ""), ge.each([/^[IVXLMCD]+\.[ \u00a0]/, /^[ivxlmcd]+\.[ \u00a0]/, /^[a-z]{1,2}[\.\)][ \u00a0]/, /^[A-Z]{1,2}[\.\)][ \u00a0]/, /^[0-9]+\.[ \u00a0]/, /^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/, /^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/], function (e) {
            if (e.test(t)) return !(n = !0);
          }), n;
        }(c) ? (d = 1, t(e, "ol", d = (f = /([0-9]+)\./.exec(c)) ? parseInt(f[1], 10) : d)) : e._listLevel ? t(e, "ul", 1) : a = null) : (o = a, a = null);
      }
    }(s), we({
      validate: h(r)
    }, o).serialize(s);
  }

  function S(e, t) {
    return {
      content: e,
      cancelled: t
    };
  }

  function j(e, t, n) {
    var r,
        a,
        o,
        i,
        s,
        l,
        u,
        c,
        f,
        d,
        m,
        p,
        g = k(t),
        v = g ? (a = t, (r = e).getParam("paste_enable_default_filters", !0) ? O(r, a) : a) : t;
    return i = n, s = g, m = (o = e).fire("PastePreProcess", {
      content: v,
      internal: i,
      wordContent: s
    }), p = function (e, t) {
      var n = Pe({}, e.schema);
      n.addNodeFilter("meta", function (e) {
        ge.each(e, function (e) {
          e.remove();
        });
      });
      var r = n.parse(t, {
        forced_root_block: !1,
        isRootContent: !0
      });
      return we({
        validate: h(e)
      }, e.schema).serialize(r);
    }(o, m.content), o.hasEventListeners("PastePostProcess") && !m.isDefaultPrevented() ? (u = i, c = s, f = (l = o).dom.create("div", {
      style: "display:none"
    }, p), S((d = l.fire("PastePostProcess", {
      node: f,
      internal: u,
      wordContent: c
    })).node.innerHTML, d.isDefaultPrevented())) : S(p, m.isDefaultPrevented());
  }

  function R(e, t) {
    return e.insertContent(t, {
      merge: e.getParam("paste_merge_formats", !0),
      paste: !0
    }), !0;
  }

  function A(e) {
    return /^https?:\/\/[\w\?\-\/+=.&%@~#]+$/i.test(e);
  }

  function I(e, t, n) {
    return !(!1 !== e.selection.isCollapsed() || !A(t) || (a = t, o = n, (r = e).undoManager.extra(function () {
      o(r, a);
    }, function () {
      r.execCommand("mceInsertLink", !1, a);
    }), 0));
    var r, a, o;
  }

  function F(e, t, n) {
    return r = e, !(!A(a = t) || !u(v(r), function (e) {
      return d(t = a.toLowerCase(), n = "." + e.toLowerCase(), t.length - n.length);
      var t, n;
    }) || (i = t, s = n, (o = e).undoManager.extra(function () {
      s(o, i);
    }, function () {
      o.insertContent('<img src="' + i + '">');
    }), 0));
    var r, a, o, i, s;
  }

  function E(e) {
    return "\n" === e || "\r" === e;
  }

  function M(e, t, n, r) {
    var a,
        o,
        i,
        s,
        l = j(e, t, n);
    !1 === l.cancelled && (a = e, o = l.content, r || !1 === a.getParam("smart_paste", !0) ? R(a, o) : (i = a, s = o, ge.each([I, F, R], function (e) {
      return !0 !== e(i, s, R);
    })));
  }

  function B(e, t, n) {
    var r = n || y(t);
    M(e, t.replace(he, ""), r, !1);
  }

  function L(e, t) {
    var n,
        r,
        a,
        o,
        i,
        s,
        l = e.dom.encode(t).replace(/\r\n/g, "\n"),
        u = b((n = l, o = (r = e.getParam("paste_tab_spaces", 4, "number")) <= 0 ? "" : new Array(r + 1).join(" "), i = n.replace(/\t/g, o), s = {
      pcIsSpace: !(a = function a(e, t) {
        return -1 !== " \f\t\v".indexOf(t) || "\xa0" === t ? e.pcIsSpace || "" === e.str || e.str.length === i.length - 1 || (n = e.str.length + 1) < i.length && 0 <= n && E(i[n]) ? {
          pcIsSpace: !1,
          str: e.str + "\xa0"
        } : {
          pcIsSpace: !0,
          str: e.str + " "
        } : {
          pcIsSpace: E(t),
          str: e.str + t
        };
        var n;
      }),
      str: ""
    }, f(i, function (e, t) {
      s = a(s, e);
    }), s.str), e.getParam("forced_root_block"), e.getParam("forced_root_block_attrs"));
    M(e, u, !1, !0);
  }

  function N(e) {
    var t,
        n = {};
    if (e && (!e.getData || (t = e.getData("Text")) && 0 < t.length && -1 === t.indexOf("data:text/mce-internal,") && (n["text/plain"] = t), e.types)) for (var r = 0; r < e.types.length; r++) {
      var a = e.types[r];

      try {
        n[a] = e.getData(a);
      } catch (e) {
        n[a] = "";
      }
    }
    return n;
  }

  function H(e, t) {
    return t in e && 0 < e[t].length;
  }

  function $(e) {
    return H(e, "text/html") || H(e, "text/plain");
  }

  function z(P, e, t) {
    var n,
        r,
        a,
        o,
        i,
        s = "paste" === e.type ? e.clipboardData : e.dataTransfer;

    if (g(P) && s) {
      var l = (n = P, a = (r = s).items ? c(ue(r.items), function (e) {
        return e.getAsFile();
      }) : [], o = r.files ? ue(r.files) : [], function (e, t) {
        for (var n = [], r = 0, a = e.length; r < a; r++) {
          var o = e[r];
          t(o, r) && n.push(o);
        }

        return n;
      }(0 < a.length ? a : o, (i = v(n), function (r) {
        return d(r.type, "image/", 0) && u(i, function (e) {
          return t = e.toLowerCase(), (ge.hasOwn(n = {
            jpg: "jpeg",
            jpe: "jpeg",
            jfi: "jpeg",
            jif: "jpeg",
            jfif: "jpeg",
            pjpeg: "jpeg",
            pjp: "jpeg",
            svg: "svg+xml"
          }, t) ? "image/" + n[t] : "image/" + t) === r.type;
          var t, n;
        });
      })));
      if (0 < l.length) return e.preventDefault(), me.all(c(l, function (r) {
        return new me(function (e) {
          var t = w(r.getAsFile) ? r.getAsFile() : r,
              n = new window.FileReader();
          n.onload = function () {
            e({
              blob: t,
              uri: n.result
            });
          }, n.readAsDataURL(t);
        });
      })).then(function (e) {
        t && P.selection.setRng(t), f(e, function (e) {
          var t, n, r, a, o, i, s, l, u, c, f, d, m, p, g, v, h, y, b, x;
          t = P, r = (n = e).uri, g = (a = /data:([^;]+);base64,([a-z0-9\+\/=]+)/i.exec(r)) ? {
            type: a[1],
            data: decodeURIComponent(a[2])
          } : {
            type: null,
            data: null
          }, v = g.data, h = g.type, y = Te(), b = n.blob, (x = new Image()).src = n.uri, m = x, !(p = t.getParam("images_dataimg_filter")) || p(m) ? (c = void 0, (i = (o = t.editorUpload.blobCache).getByData(v, h)) ? c = i : (l = (s = t.getParam("images_reuse_filename") && w(b.name)) ? (f = t, w(d = b.name.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i)) ? f.dom.encode(d[1]) : null) : y, u = s ? b.name : void 0, c = o.create(y, b, v, l, u), o.add(c)), B(t, '<img src="' + c.blobUri() + '">', !1)) : B(t, '<img src="' + n.uri + '">', !1);
        });
      }), !0;
    }

    return !1;
  }

  function U(e) {
    return pe.metaKeyPressed(e) && 86 === e.keyCode || e.shiftKey && 45 === e.keyCode;
  }

  function V(o, e, t) {
    var i, s, v, l, u, c, f;

    function d(e, t, n, r, a) {
      var o;
      H(t, "text/html") ? o = t["text/html"] : (o = v.getHtml(), a = a || y(o), v.isDefaultContent(o) && (r = !0)), o = D(o), v.remove();

      var i,
          s,
          l,
          u,
          c,
          f,
          d,
          _m,
          p = !1 === a && !/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(o),
          g = A(o);

      ((r = !o.length || p && !g || r) || g) && (o = H(t, "text/plain") && p ? t["text/plain"] : (i = o, s = Ce(), l = Pe({}, s), u = "", c = s.getShortEndedElements(), f = ge.makeMap("script noscript style textarea video audio iframe object", " "), d = s.getBlockElements(), _m = function m(e) {
        var t = e.name,
            n = e;

        if ("br" !== t) {
          if ("wbr" !== t) if (c[t] && (u += " "), f[t]) u += " ";else {
            if (3 === e.type && (u += e.value), !e.shortEnded && (e = e.firstChild)) for (; _m(e), e = e.next;) {
              ;
            }
            d[t] && n.next && (u += "\n", "p" === t && (u += "\n"));
          }
        } else u += "\n";
      }, i = x(i, [/<!\[[^\]]+\]>/g]), _m(l.parse(i)), u)), v.isDefaultContent(o) ? n || e.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents.") : r ? L(e, o) : B(e, o, a);
    }

    s = o, v = e, l = t, c = m(), f = m(), s.on("keyup", f.clear), s.on("keydown", function (e) {
      function t(e) {
        U(e) && !e.isDefaultPrevented() && v.remove();
      }

      if (U(e) && !e.isDefaultPrevented() && (!(u = e.shiftKey && 86 === e.keyCode) || !fe.webkit || -1 === navigator.userAgent.indexOf("Version/"))) {
        if (e.stopImmediatePropagation(), c.set(e), f.set(!0), fe.ie && u) return e.preventDefault(), void s.fire("paste", {
          ieFake: !0
        });
        v.remove(), v.create(), s.once("keyup", t), s.once("paste", function () {
          s.off("keyup", t);
        });
      }
    }), s.on("paste", function (e) {
      var t = c.isSet() || f.isSet();
      t && c.clear();
      var n,
          r = N(e.clipboardData || s.getDoc().dataTransfer),
          a = "text" === l.get() || u,
          o = H(r, ye());
      u = !1, e.isDefaultPrevented() || (n = e.clipboardData, -1 !== navigator.userAgent.indexOf("Android") && n && n.items && 0 === n.items.length) || !$(r) && z(s, e, v.getLastRng() || s.selection.getRng()) ? v.remove() : (t || e.preventDefault(), !fe.ie || t && !e.ieFake || H(r, "text/html") || (v.create(), s.dom.bind(v.getEl(), "paste", function (e) {
        e.stopPropagation();
      }), s.getDoc().execCommand("Paste", !1, null), r["text/html"] = v.getHtml()), H(r, "text/html") ? (e.preventDefault(), o = o || y(r["text/html"]), d(s, r, t, a, o)) : de.setEditorTimeout(s, function () {
        d(s, r, t, a, o);
      }, 0));
    }), o.parser.addNodeFilter("img", function (e, t, n) {
      var r;
      if (!g(o) && n.data && !0 === n.data.paste) for (var a = e.length; a--;) {
        (i = e[a].attr("src")) && (0 !== i.indexOf("webkit-fake-url") && (o.getParam("allow_html_data_urls", !1, "boolean") || 0 !== i.indexOf("data:")) || (r = e[a]).attr("data-mce-object") || i === fe.transparentSrc || r.remove());
      }
    });
  }

  function K(e) {
    return fe.ie && e.inline ? document.body : e.getBody();
  }

  function X(e) {
    var t = P(null),
        n = "%MCEPASTEBIN%";
    return {
      create: function create() {
        return function (e, t, n) {
          var r = e.dom,
              a = e.getBody();
          t.set(e.selection.getRng());
          var o,
              i,
              s,
              l,
              u = e.dom.add(K(e), "div", {
            id: "mcepastebin",
            "class": "mce-pastebin",
            contentEditable: !0,
            "data-mce-bogus": "all",
            style: "position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"
          }, n);
          (fe.ie || fe.gecko) && r.setStyle(u, "left", "rtl" === r.getStyle(a, "direction", !0) ? 65535 : -65535), r.bind(u, "beforedeactivate focusin focusout", function (e) {
            e.stopPropagation();
          }), i = u, s = n, K(l = o = e) !== l.getBody() && o.dom.bind(i, "paste keyup", function (e) {
            De(o, s) || o.fire("paste");
          }), u.focus(), e.selection.select(u, !0);
        }(e, t, n);
      },
      remove: function remove() {
        return function (e, t) {
          if (ae(e)) {
            for (var n, r = t.get(); n = e.dom.get("mcepastebin");) {
              e.dom.remove(n), e.dom.unbind(n);
            }

            r && e.selection.setRng(r);
          }

          t.set(null);
        }(e, t);
      },
      getEl: function getEl() {
        return ae(e);
      },
      getHtml: function getHtml() {
        return function (n) {
          function t(e, t) {
            e.appendChild(t), n.dom.remove(t, !0);
          }

          var e = ge.grep(K(n).childNodes, function (e) {
            return "mcepastebin" === e.id;
          }),
              r = e.shift();
          ge.each(e, function (e) {
            t(r, e);
          });

          for (var a = n.dom.select("div[id=mcepastebin]", r), o = a.length - 1; 0 <= o; o--) {
            var i = n.dom.create("div");
            r.insertBefore(i, a[o]), t(i, a[o]);
          }

          return r ? r.innerHTML : "";
        }(e);
      },
      getLastRng: t.get,
      isDefault: function isDefault() {
        return De(e, n);
      },
      isDefaultContent: function isDefaultContent(e) {
        return e === n;
      }
    };
  }

  function W(e, t, n, r) {
    !function (e, t, n) {
      if (!1 === fe.iOS && "function" == typeof (null == e ? void 0 : e.setData)) try {
        return e.clearData(), e.setData("text/html", t), e.setData("text/plain", n), e.setData(ye(), t), 1;
      } catch (e) {
        return;
      }
    }(e.clipboardData, t.html, t.text) ? n(t.html, r) : (e.preventDefault(), r());
  }

  function Y(s) {
    return function (e, t) {
      var n = he + e,
          r = s.dom.create("div", {
        contenteditable: "false",
        "data-mce-bogus": "all"
      }),
          a = s.dom.create("div", {
        contenteditable: "true"
      }, n);
      s.dom.setStyles(r, {
        position: "fixed",
        top: "0",
        left: "-3000px",
        width: "1000px",
        overflow: "hidden"
      }), r.appendChild(a), s.dom.add(s.getBody(), r);
      var o = s.selection.getRng();
      a.focus();
      var i = s.dom.createRng();
      i.selectNodeContents(a), s.selection.setRng(i), de.setTimeout(function () {
        s.selection.setRng(o), r.parentNode.removeChild(r), t();
      }, 0);
    };
  }

  function Z(e) {
    return {
      html: e.selection.getContent({
        contextual: !0
      }),
      text: e.selection.getContent({
        format: "text"
      })
    };
  }

  function q(e) {
    return !e.selection.isCollapsed() || (t = e).dom.getParent(t.selection.getStart(), "td[data-mce-selected],th[data-mce-selected]", t.getBody());
    var t;
  }

  function G(e, t) {
    return ke.getCaretRangeFromPoint(t.clientX, t.clientY, e.getDoc());
  }

  function J(e, t) {
    e.focus(), e.selection.setRng(t);
  }

  function Q(t, n) {
    t.on("PastePreProcess", function (e) {
      e.content = n(t, e.content, e.internal, e.wordContent);
    });
  }

  function ee(e, t) {
    if (!k(t)) return t;
    var n = [];
    return ge.each(e.schema.getBlockElements(), function (e, t) {
      n.push(t);
    }), t = x(t, [[new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?(" + n.join("|") + ")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*", "g"), "$1"]]), x(t, [[/<br><br>/g, "<BR><BR>"], [/<br>/g, " "], [/<BR><BR>/g, "<br>"]]);
  }

  function te(e, t, n, r) {
    if (r || n) return t;
    var c,
        f,
        d,
        a = e.getParam("paste_webkit_styles");
    return !1 === e.getParam("paste_remove_styles_if_webkit", !0) || "all" === a ? t : (t = (c = a ? a.split(/[, ]/) : c) ? (f = e.dom, d = e.selection.getNode(), t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi, function (e, t, n, r) {
      var a = f.parseStyle(f.decode(n)),
          o = {};
      if ("none" === c) return t + r;

      for (var i = 0; i < c.length; i++) {
        var s = a[c[i]],
            l = f.getStyle(d, c[i], !0);
        /color/.test(c[i]) && (s = f.toHex(s), l = f.toHex(l)), l !== s && (o[c[i]] = s);
      }

      var u = f.serializeStyle(o, "span");
      return u ? t + ' style="' + u + '"' + r : t + r;
    })) : t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi, "$1$3")).replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi, function (e, t, n, r) {
      return t + ' style="' + n + '"' + r;
    });
  }

  function ne(n, e) {
    n.$("a", e).find("font,u").each(function (e, t) {
      n.dom.remove(t, !0);
    });
  }

  function re(n, r) {
    return function (t) {
      function e(e) {
        return t.setActive(e.state);
      }

      return t.setActive("text" === r.pasteFormat.get()), n.on("PastePlainTextToggle", e), function () {
        return n.off("PastePlainTextToggle", e);
      };
    };
  }

  function ae(e) {
    return e.dom.get("mcepastebin");
  }

  var oe,
      ie = function ie(n) {
    function e() {
      return a;
    }

    function t(e) {
      return e(n);
    }

    var r = o(n),
        a = {
      fold: function fold(e, t) {
        return t(n);
      },
      isSome: s,
      isNone: i,
      getOr: r,
      getOrThunk: r,
      getOrDie: r,
      getOrNull: r,
      getOrUndefined: r,
      or: e,
      orThunk: e,
      map: function map(e) {
        return ie(e(n));
      },
      each: function each(e) {
        e(n);
      },
      bind: t,
      exists: t,
      forall: t,
      filter: function filter(e) {
        return e(n) ? a : l;
      },
      toArray: function toArray() {
        return [n];
      },
      toString: function toString() {
        return "some(" + n + ")";
      }
    };
    return a;
  },
      se = {
    some: ie,
    none: t,
    from: function from(e) {
      return null == e ? l : ie(e);
    }
  },
      le = Array.prototype.slice,
      ue = _typeof(Array.from) === n ? Array.from : function (e) {
    return le.call(e);
  },
      _ce = function ce() {
    return (_ce = Object.assign || function (e) {
      for (var t, n = 1, r = arguments.length; n < r; n++) {
        for (var a in t = arguments[n]) {
          Object.prototype.hasOwnProperty.call(t, a) && (e[a] = t[a]);
        }
      }

      return e;
    }).apply(this, arguments);
  },
      fe = tinymce.util.Tools.resolve("tinymce.Env"),
      de = tinymce.util.Tools.resolve("tinymce.util.Delay"),
      me = tinymce.util.Tools.resolve("tinymce.util.Promise"),
      pe = tinymce.util.Tools.resolve("tinymce.util.VK"),
      ge = tinymce.util.Tools.resolve("tinymce.util.Tools"),
      ve = "x-tinymce/html",
      he = "\x3c!-- " + ve + " --\x3e",
      ye = o(ve),
      be = Object.hasOwnProperty,
      xe = tinymce.util.Tools.resolve("tinymce.html.Entities"),
      Pe = tinymce.util.Tools.resolve("tinymce.html.DomParser"),
      we = tinymce.util.Tools.resolve("tinymce.html.Serializer"),
      _e = tinymce.util.Tools.resolve("tinymce.html.Node"),
      Ce = tinymce.util.Tools.resolve("tinymce.html.Schema"),
      Te = (oe = 0, function () {
    return "mceclip" + oe++;
  }),
      De = function De(e, t) {
    var n = ae(e);
    return n && "mcepastebin" === n.id && n.innerHTML === t;
  },
      ke = tinymce.util.Tools.resolve("tinymce.dom.RangeUtils");

  r.add("paste", function (e) {
    if (0 == (!!e.hasPlugin("powerpaste", !0) && (void 0 !== window.console && window.console.log && window.console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option."), !0))) {
      var t = P(!1),
          n = P(e.getParam("paste_as_text", !1) ? "text" : "html"),
          r = (y = n, b = X(h = e), h.on("PreInit", function () {
        return V(h, b, y);
      }), {
        pasteFormat: y,
        pasteHtml: function pasteHtml(e, t) {
          return B(h, e, t);
        },
        pasteText: function pasteText(e) {
          return L(h, e);
        },
        pasteImageData: function pasteImageData(e, t) {
          return z(h, e, t);
        },
        getDataTransferItems: N,
        hasHtmlOrText: $,
        hasContentType: H
      }),
          a = e;
      return fe.webkit && Q(a, te), fe.ie && (Q(a, ee), v = ne, (g = a).on("PastePostProcess", function (e) {
        v(g, e.node);
      })), (m = e).ui.registry.addToggleButton("pastetext", {
        active: !1,
        icon: "paste-text",
        tooltip: "Paste as text",
        onAction: x,
        onSetup: re(m, p = r)
      }), m.ui.registry.addToggleMenuItem("pastetext", {
        text: "Paste as text",
        icon: "paste-text",
        onAction: x,
        onSetup: re(m, p)
      }), d = r, (f = e).addCommand("mceTogglePlainTextPaste", function () {
        var e,
            t = f;
        "text" === (e = d).pasteFormat.get() ? (e.pasteFormat.set("html"), C(t, !1)) : (e.pasteFormat.set("text"), C(t, !0)), t.focus();
      }), f.addCommand("mceInsertClipboardContent", function (e, t) {
        t.content && d.pasteHtml(t.content, t.internal), t.text && d.pasteText(t.text);
      }), function (e) {
        var t = e.plugins.paste,
            n = e.getParam("paste_preprocess");
        n && e.on("PastePreProcess", function (e) {
          n.call(t, t, e);
        });
        var r = e.getParam("paste_postprocess");
        r && e.on("PastePostProcess", function (e) {
          r.call(t, t, e);
        });
      }(e), (o = e).on("cut", (u = o, function (e) {
        q(u) && W(e, Z(u), Y(u), function () {
          var e;
          fe.browser.isChrome() || fe.browser.isFirefox() ? (e = u.selection.getRng(), de.setEditorTimeout(u, function () {
            u.selection.setRng(e), u.execCommand("Delete");
          }, 0)) : u.execCommand("Delete");
        });
      })), o.on("copy", (c = o, function (e) {
        q(c) && W(e, Z(c), Y(c), _);
      })), s = r, l = t, (i = e).getParam("paste_block_drop", !1) && i.on("dragend dragover draggesture dragdrop drop drag", function (e) {
        e.preventDefault(), e.stopPropagation();
      }), T(i) || i.on("drop", function (e) {
        var t = e.dataTransfer;
        t && t.files && 0 < t.files.length && e.preventDefault();
      }), i.on("drop", function (e) {
        var t,
            n,
            r,
            a,
            o = G(i, e);
        e.isDefaultPrevented() || l.get() || (t = s.getDataTransferItems(e.dataTransfer), n = s.hasContentType(t, ye()), (!s.hasHtmlOrText(t) || (r = t["text/plain"]) && 0 === r.indexOf("file://")) && s.pasteImageData(e, o) || !o || !i.getParam("paste_filter_drop", !0) || (a = t["mce-internal"] || t["text/html"] || t["text/plain"]) && (e.preventDefault(), de.setEditorTimeout(i, function () {
          i.undoManager.transact(function () {
            t["mce-internal"] && i.execCommand("Delete"), J(i, o), a = D(a), t["text/html"] ? s.pasteHtml(a, n) : s.pasteText(a);
          });
        })));
      }), i.on("dragstart", function (e) {
        l.set(!0);
      }), i.on("dragover dragend", function (e) {
        T(i) && !1 === l.get() && (e.preventDefault(), J(i, G(i, e))), "dragend" === e.type && l.set(!1);
      }), {
        clipboard: r
      };
    }

    var i, s, l, o, u, c, f, d, m, p, a, g, v, h, y, b;

    function x() {
      return m.execCommand("mceTogglePlainTextPaste");
    }
  });
}();

/***/ }),

/***/ "./packages/roniejisa/scripts/assets/plugins/tinymce/plugins/template/plugin.min.js":
/*!******************************************************************************************!*\
  !*** ./packages/roniejisa/scripts/assets/plugins/tinymce/plugins/template/plugin.min.js ***!
  \******************************************************************************************/
/***/ (() => {

function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

/**
 * Copyright (c) Tiny Technologies, Inc. All rights reserved.
 * Licensed under the LGPL or a commercial license.
 * For LGPL see License.txt in the project root for license information.
 * For commercial licenses see https://www.tiny.cloud/
 *
 * Version: 5.9.2 (2021-09-08)
 */
!function () {
  "use strict";

  function o(e) {
    return function () {
      return e;
    };
  }

  function e(e) {
    return e;
  }

  function i(e) {
    return n = _typeof(t = e), "string" == (null === t ? "null" : "object" == n && (Array.prototype.isPrototypeOf(t) || t.constructor && "Array" === t.constructor.name) ? "array" : "object" == n && (String.prototype.isPrototypeOf(t) || t.constructor && "String" === t.constructor.name) ? "string" : n);
    var t, n;
  }

  var t,
      n = tinymce.util.Tools.resolve("tinymce.PluginManager"),
      u = function u(e) {
    return _typeof(e) === t;
  };

  function s(e) {
    return e.getParam("template_mdate_classes", "mdate");
  }

  function l(e) {
    return e.getParam("template_replace_values");
  }

  function m(e) {
    return e.getParam("template_mdate_format", e.translate("%Y-%m-%d"));
  }

  function f(e, t) {
    if ((e = "" + e).length < t) for (var n = 0; n < t - e.length; n++) {
      e = "0" + e;
    }
    return e;
  }

  function p(e, t, n) {
    void 0 === n && (n = new Date());
    var r = "Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),
        a = "Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),
        o = "Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
        c = "January February March April May June July August September October November December".split(" ");
    return (t = (t = (t = (t = (t = (t = (t = (t = (t = (t = (t = (t = (t = (t = (t = t.replace("%D", "%m/%d/%Y")).replace("%r", "%I:%M:%S %p")).replace("%Y", "" + n.getFullYear())).replace("%y", "" + n.getYear())).replace("%m", f(n.getMonth() + 1, 2))).replace("%d", f(n.getDate(), 2))).replace("%H", "" + f(n.getHours(), 2))).replace("%M", "" + f(n.getMinutes(), 2))).replace("%S", "" + f(n.getSeconds(), 2))).replace("%I", "" + ((n.getHours() + 11) % 12 + 1))).replace("%p", n.getHours() < 12 ? "AM" : "PM")).replace("%B", "" + e.translate(c[n.getMonth()]))).replace("%b", "" + e.translate(o[n.getMonth()]))).replace("%A", "" + e.translate(a[n.getDay()]))).replace("%a", "" + e.translate(r[n.getDay()]))).replace("%%", "%");
  }

  function x(n, e) {
    return O.each(e, function (e, t) {
      u(e) && (e = e(t)), n = n.replace(new RegExp("\\{\\$" + t + "\\}", "g"), e);
    }), n;
  }

  function d(e, t) {
    var r = e.dom,
        a = l(e);
    O.each(r.select("*", t), function (n) {
      O.each(a, function (e, t) {
        r.hasClass(n, t) && u(e) && e(n);
      });
    });
  }

  function g(e, t) {
    return new RegExp("\\b" + t + "\\b", "g").test(e.className);
  }

  function y(t, e, n) {
    var r = t.dom,
        a = t.selection.getContent();
    n = x(n, l(t));
    var o = r.create("div", null, n),
        c = r.select(".mceTmpl", o);
    c && 0 < c.length && (o = r.create("div", null)).appendChild(c[0].cloneNode(!0)), O.each(r.select("*", o), function (e) {
      g(e, t.getParam("template_cdate_classes", "cdate").replace(/\s+/g, "|")) && (e.innerHTML = p(t, t.getParam("template_cdate_format", t.translate("%Y-%m-%d")))), g(e, s(t).replace(/\s+/g, "|")) && (e.innerHTML = p(t, m(t))), g(e, t.getParam("template_selected_content_classes", "selcontent").replace(/\s+/g, "|")) && (e.innerHTML = a);
    }), d(t, o), t.execCommand("mceInsertContent", !1, o.innerHTML), t.addVisual();
  }

  function r() {
    return b;
  }

  var c = o(!(t = "function")),
      v = o(!0),
      O = tinymce.util.Tools.resolve("tinymce.util.Tools"),
      h = tinymce.util.Tools.resolve("tinymce.util.XHR"),
      b = {
    fold: function fold(e, t) {
      return e();
    },
    isSome: c,
    isNone: v,
    getOr: e,
    getOrThunk: a,
    getOrDie: function getOrDie(e) {
      throw new Error(e || "error: getOrDie called on none.");
    },
    getOrNull: o(null),
    getOrUndefined: o(void 0),
    or: e,
    orThunk: a,
    map: r,
    each: function each() {},
    bind: r,
    exists: c,
    forall: v,
    filter: function filter() {
      return b;
    },
    toArray: function toArray() {
      return [];
    },
    toString: o("none()")
  };

  function a(e) {
    return e();
  }

  function T(M, t) {
    function l(e, t) {
      return function (e, t, n) {
        for (var r = 0, a = e.length; r < a; r++) {
          var o = e[r];
          if (t(o, r)) return P.some(o);
          if (n(o, r)) break;
        }

        return P.none();
      }(e, function (e) {
        return e.text === t;
      }, c);
    }

    function i(e) {
      M.windowManager.alert("Could not load the specified template.", function () {
        return e.focus("template");
      });
    }

    function u(e) {
      return new _(function (t, n) {
        e.value.url.fold(function () {
          return t(e.value.content.getOr(""));
        }, function (e) {
          return h.send({
            url: e,
            success: function success(e) {
              t(e);
            },
            error: function error(e) {
              n(e);
            }
          });
        });
      });
    }

    !function () {
      if (t && 0 !== t.length) return P.from(O.map(t, function (e, t) {
        function n(e) {
          return void 0 !== e.url;
        }

        return {
          selected: 0 === t,
          text: e.title,
          value: {
            url: n(e) ? P.from(e.url) : P.none(),
            content: n(e) ? P.none() : P.from(e.content),
            description: e.description
          }
        };
      }));
      var e = M.translate("No templates defined.");
      return M.notificationManager.open({
        text: e,
        type: "info"
      }), P.none();
    }().each(function (o) {
      function b(e, t) {
        return {
          title: "Insert Template",
          size: "large",
          body: {
            type: "panel",
            items: e
          },
          initialData: t,
          buttons: [{
            type: "cancel",
            name: "cancel",
            text: "Cancel"
          }, {
            type: "submit",
            name: "save",
            text: "Save",
            primary: !0
          }],
          onSubmit: function onSubmit(t) {
            var e = t.getData();
            l(n, e.template).each(function (e) {
              u(e).then(function (e) {
                M.execCommand("mceInsertTemplate", !1, e), t.close();
              })["catch"](function () {
                t.disable("save"), i(t);
              });
            });
          },
          onChange: (r = n = o, a = c, function (n, e) {
            var t;
            "template" === e.name && (t = n.getData().template, l(r, t).each(function (t) {
              n.block("Loading..."), u(t).then(function (e) {
                a(n, t, e);
              })["catch"](function () {
                a(n, t, ""), n.disable("save"), i(n);
              });
            }));
          })
        };
        var r, a, n;
      }

      var T = function (e) {
        for (var t = e.length, n = new Array(t), r = 0; r < t; r++) {
          var a = e[r];
          n[r] = {
            text: a.text,
            value: a.text
          };
        }

        return n;
      }(o),
          c = function c(e, t, n) {
        var r,
            a,
            o,
            c,
            l,
            i,
            u,
            s,
            m,
            f,
            p,
            d,
            g,
            y = (r = M, -1 === (a = n).indexOf("<html>") && (o = "", c = r.getParam("content_style", "", "string"), l = r.getParam("content_css_cors", !1, "boolean") ? ' crossorigin="anonymous"' : "", O.each(r.contentCSS, function (e) {
          o += '<link type="text/css" rel="stylesheet" href="' + r.documentBaseURI.toAbsolute(e) + '"' + l + ">";
        }), c && (o += '<style type="text/css">' + c + "</style>"), i = -1 === (g = (p = r).getParam("body_class", "", "string")).indexOf("=") ? g : (d = p).getParam("body_class", "", "hash")[d.id] || "", u = r.dom.encode, s = '<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !(' + (S.mac ? "e.metaKey" : "e.ctrlKey && !e.altKey") + ")) {e.preventDefault();}}}, false);<\/script> ", f = (m = r.getBody().dir) ? ' dir="' + u(m) + '"' : "", a = '<!DOCTYPE html><html><head><base href="' + u(r.documentBaseURI.getURI()) + '">' + o + s + '</head><body class="' + u(i) + '"' + f + ">" + a + "</body></html>"), x(a, r.getParam("template_preview_replace_values"))),
            v = [{
          type: "selectbox",
          name: "template",
          label: "Templates",
          items: T
        }, {
          type: "htmlpanel",
          html: '<p aria-live="polite">' + t.value.description.replace(/["'<>&]/g, function (e) {
            return (C(t = A, n = e) ? P.from(t[n]) : P.none()).getOr(e);
            var t, n;
          }) + "</p>"
        }, {
          label: "Preview",
          type: "iframe",
          name: "preview",
          sandboxed: !1
        }],
            h = {
          template: t.text,
          preview: y
        };
        e.unblock(), e.redial(b(v, h)), e.focus("template");
      },
          t = M.windowManager.open(b([], {
        template: "",
        preview: ""
      }));

      t.block("Loading..."), u(o[0]).then(function (e) {
        c(t, o[0], e);
      })["catch"](function () {
        c(t, o[0], ""), t.disable("save"), i(t);
      });
    });
  }

  var M = function M(n) {
    function e() {
      return a;
    }

    function t(e) {
      return e(n);
    }

    var r = o(n),
        a = {
      fold: function fold(e, t) {
        return t(n);
      },
      isSome: v,
      isNone: c,
      getOr: r,
      getOrThunk: r,
      getOrDie: r,
      getOrNull: r,
      getOrUndefined: r,
      or: e,
      orThunk: e,
      map: function map(e) {
        return M(e(n));
      },
      each: function each(e) {
        e(n);
      },
      bind: t,
      exists: t,
      forall: t,
      filter: function filter(e) {
        return e(n) ? a : b;
      },
      toArray: function toArray() {
        return [n];
      },
      toString: function toString() {
        return "some(" + n + ")";
      }
    };
    return a;
  },
      P = {
    some: M,
    none: r,
    from: function from(e) {
      return null == e ? b : M(e);
    }
  },
      S = tinymce.util.Tools.resolve("tinymce.Env"),
      _ = tinymce.util.Tools.resolve("tinymce.util.Promise"),
      w = Object.hasOwnProperty,
      C = function C(e, t) {
    return w.call(e, t);
  },
      A = {
    '"': "&quot;",
    "<": "&lt;",
    ">": "&gt;",
    "&": "&amp;",
    "'": "&#039;"
  };

  n.add("template", function (e) {
    function t() {
      return n.execCommand("mceTemplate");
    }

    var n, r, a, o, c, l;
    (n = e).ui.registry.addButton("template", {
      icon: "template",
      tooltip: "Insert template",
      onAction: t
    }), n.ui.registry.addMenuItem("template", {
      icon: "template",
      text: "Insert template...",
      onAction: t
    }), (a = e).addCommand("mceInsertTemplate", function (r) {
      for (var a = [], e = 1; e < arguments.length; e++) {
        a[e - 1] = arguments[e];
      }

      return function () {
        for (var e = [], t = 0; t < arguments.length; t++) {
          e[t] = arguments[t];
        }

        var n = a.concat(e);
        return r.apply(null, n);
      };
    }(y, a)), a.addCommand("mceTemplate", (l = o = a, c = function c(e) {
      T(l, e);
    }, function () {
      var e = o.getParam("templates");
      u(e) ? e(c) : i(e) ? h.send({
        url: e,
        success: function success(e) {
          c(JSON.parse(e));
        }
      }) : c(e);
    })), (r = e).on("PreProcess", function (e) {
      var t = r.dom,
          n = m(r);
      O.each(t.select("div", e.node), function (e) {
        t.hasClass(e, "mceTmpl") && (O.each(t.select("*", e), function (e) {
          t.hasClass(e, s(r).replace(/\s+/g, "|")) && (e.innerHTML = p(r, n));
        }), d(r, e));
      });
    });
  });
}();

/***/ }),

/***/ "./packages/roniejisa/scripts/assets/plugins/tinymce/plugins/textcolor/plugin.min.js":
/*!*******************************************************************************************!*\
  !*** ./packages/roniejisa/scripts/assets/plugins/tinymce/plugins/textcolor/plugin.min.js ***!
  \*******************************************************************************************/
/***/ (() => {

/**
 * Copyright (c) Tiny Technologies, Inc. All rights reserved.
 * Licensed under the LGPL or a commercial license.
 * For LGPL see License.txt in the project root for license information.
 * For commercial licenses see https://www.tiny.cloud/
 *
 * Version: 5.9.2 (2021-09-08)
 */
!function () {
  "use strict";

  tinymce.util.Tools.resolve("tinymce.PluginManager").add("textcolor", function () {
    console.warn("Text color plugin is now built in to the core editor, please remove it from your editor configuration");
  });
}();

/***/ }),

/***/ "./packages/roniejisa/scripts/assets/plugins/tinymce/themes/silver/theme.min.js":
/*!**************************************************************************************!*\
  !*** ./packages/roniejisa/scripts/assets/plugins/tinymce/themes/silver/theme.min.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

/** * Copyright (c) Tiny Technologies, Inc. All rights reserved. * Licensed under the LGPL or a commercial license. * For LGPL see License.txt in the project root for license information. * For commercial licenses see https://www.tiny.cloud/ * * Version: 5.9.2 (2021-09-08) */
!function () {
  "use strict";

  function t(o) {
    return function (t) {
      return e = _typeof(n = t), (null === n ? "null" : "object" == e && (Array.prototype.isPrototypeOf(n) || n.constructor && "Array" === n.constructor.name) ? "array" : "object" == e && (String.prototype.isPrototypeOf(n) || n.constructor && "String" === n.constructor.name) ? "string" : e) === o;
      var n, e;
    };
  }

  function n(n) {
    return function (t) {
      return _typeof(t) === n;
    };
  }

  function e(n) {
    return function (t) {
      return n === t;
    };
  }

  function g(t) {
    return null == t;
  }

  function f(t) {
    return !g(t);
  }

  function d(t, n) {
    if (c(t)) {
      for (var e = 0, o = t.length; e < o; ++e) {
        if (!n(t[e])) return;
      }

      return 1;
    }
  }

  function ct() {}

  function r(e, o) {
    return function () {
      for (var t = [], n = 0; n < arguments.length; n++) {
        t[n] = arguments[n];
      }

      return e(o.apply(null, t));
    };
  }

  function tt(t) {
    return function () {
      return t;
    };
  }

  function h(t) {
    return t;
  }

  function v(t, n) {
    return t === n;
  }

  var y = t("string"),
      x = t("object"),
      c = t("array"),
      b = e(null),
      w = n("boolean"),
      E = e(void 0),
      m = n("function"),
      u = n("number");

  function S(o) {
    for (var r = [], t = 1; t < arguments.length; t++) {
      r[t - 1] = arguments[t];
    }

    return function () {
      for (var t = [], n = 0; n < arguments.length; n++) {
        t[n] = arguments[n];
      }

      var e = r.concat(t);
      return o.apply(null, e);
    };
  }

  function k(n) {
    return function (t) {
      return !n(t);
    };
  }

  function C(t) {
    return function () {
      throw new Error(t);
    };
  }

  var O = tt(!1),
      _ = tt(!0),
      o = tinymce.util.Tools.resolve("tinymce.ThemeManager"),
      _st = function st() {
    return (_st = Object.assign || function (t) {
      for (var n, e = 1, o = arguments.length; e < o; e++) {
        for (var r in n = arguments[e]) {
          Object.prototype.hasOwnProperty.call(n, r) && (t[r] = n[r]);
        }
      }

      return t;
    }).apply(this, arguments);
  };

  function s(t, n) {
    var e = {};

    for (r in t) {
      Object.prototype.hasOwnProperty.call(t, r) && n.indexOf(r) < 0 && (e[r] = t[r]);
    }

    if (null != t && "function" == typeof Object.getOwnPropertySymbols) for (var o = 0, r = Object.getOwnPropertySymbols(t); o < r.length; o++) {
      n.indexOf(r[o]) < 0 && Object.prototype.propertyIsEnumerable.call(t, r[o]) && (e[r[o]] = t[r[o]]);
    }
    return e;
  }

  function H(t, n, e) {
    if (e || 2 === arguments.length) for (var o, r = 0, i = n.length; r < i; r++) {
      !o && r in n || ((o = o || Array.prototype.slice.call(n, 0, r))[r] = n[r]);
    }
    return t.concat(o || Array.prototype.slice.call(n));
  }

  function i() {
    return a;
  }

  var a = {
    fold: function fold(t, n) {
      return t();
    },
    isSome: O,
    isNone: _,
    getOr: h,
    getOrThunk: l,
    getOrDie: function getOrDie(t) {
      throw new Error(t || "error: getOrDie called on none.");
    },
    getOrNull: tt(null),
    getOrUndefined: tt(void 0),
    or: h,
    orThunk: l,
    map: i,
    each: ct,
    bind: i,
    exists: O,
    forall: _,
    filter: function filter() {
      return a;
    },
    toArray: function toArray() {
      return [];
    },
    toString: tt("none()")
  };

  function l(t) {
    return t();
  }

  function p(t, n) {
    return Z.call(t, n);
  }

  function T(t, n) {
    for (var e = 0, o = t.length; e < o; e++) {
      if (n(t[e], e)) return !0;
    }

    return !1;
  }

  function D(t, n) {
    for (var e = [], o = 0; o < t; o++) {
      e.push(n(o));
    }

    return e;
  }

  function B(t, n) {
    for (var e = [], o = 0; o < t.length; o += n) {
      var r = Q.call(t, o, o + n);
      e.push(r);
    }

    return e;
  }

  function A(t, n) {
    for (var e = t.length, o = new Array(e), r = 0; r < e; r++) {
      var i = t[r];
      o[r] = n(i, r);
    }

    return o;
  }

  function M(t, n) {
    for (var e = [], o = [], r = 0, i = t.length; r < i; r++) {
      var u = t[r];
      (n(u, r) ? e : o).push(u);
    }

    return {
      pass: e,
      fail: o
    };
  }

  function F(t, n) {
    for (var e = [], o = 0, r = t.length; o < r; o++) {
      var i = t[o];
      n(i, o) && e.push(i);
    }

    return e;
  }

  function I(t, o, r) {
    return function (t) {
      for (var n, e = t.length - 1; 0 <= e; e--) {
        n = t[e], r = o(r, n, e);
      }
    }(t), r;
  }

  function R(t, e, o) {
    return dt(t, function (t, n) {
      o = e(o, t, n);
    }), o;
  }

  function V(t, n) {
    return function (t, n, e) {
      for (var o = 0, r = t.length; o < r; o++) {
        var i = t[o];
        if (n(i, o)) return ft.some(i);
        if (e(i, o)) break;
      }

      return ft.none();
    }(t, n, O);
  }

  function P(t, n) {
    for (var e = 0, o = t.length; e < o; e++) {
      if (n(t[e], e)) return ft.some(e);
    }

    return ft.none();
  }

  function lt(t) {
    for (var n = [], e = 0, o = t.length; e < o; ++e) {
      if (!c(t[e])) throw new Error("Arr.flatten item " + e + " was not an array, input: " + t);
      nt.apply(n, t[e]);
    }

    return n;
  }

  function z(t, n) {
    return lt(A(t, n));
  }

  function N(t, n) {
    for (var e = 0, o = t.length; e < o; ++e) {
      if (!0 !== n(t[e], e)) return !1;
    }

    return !0;
  }

  function L(t) {
    var n = Q.call(t, 0);
    return n.reverse(), n;
  }

  function j(t, n) {
    return F(t, function (t) {
      return !et(n, t);
    });
  }

  function W(t, n) {
    for (var e = {}, o = 0, r = t.length; o < r; o++) {
      var i = t[o];
      e[String(i)] = n(i, o);
    }

    return e;
  }

  function U(t) {
    return [t];
  }

  function G(t, n) {
    var e = Q.call(t, 0);
    return e.sort(n), e;
  }

  function X(t, n) {
    return 0 <= n && n < t.length ? ft.some(t[n]) : ft.none();
  }

  function Y(t) {
    return X(t, t.length - 1);
  }

  function q(t, n) {
    for (var e = 0; e < t.length; e++) {
      var o = n(t[e], e);
      if (o.isSome()) return o;
    }

    return ft.none();
  }

  var K,
      J,
      $ = function $(e) {
    function t() {
      return r;
    }

    function n(t) {
      return t(e);
    }

    var o = tt(e),
        r = {
      fold: function fold(t, n) {
        return n(e);
      },
      isSome: _,
      isNone: O,
      getOr: o,
      getOrThunk: o,
      getOrDie: o,
      getOrNull: o,
      getOrUndefined: o,
      or: t,
      orThunk: t,
      map: function map(t) {
        return $(t(e));
      },
      each: function each(t) {
        t(e);
      },
      bind: n,
      exists: n,
      forall: n,
      filter: function filter(t) {
        return t(e) ? r : a;
      },
      toArray: function toArray() {
        return [e];
      },
      toString: function toString() {
        return "some(" + e + ")";
      }
    };
    return r;
  },
      ft = {
    some: $,
    none: i,
    from: function from(t) {
      return null == t ? a : $(t);
    }
  },
      Q = Array.prototype.slice,
      Z = Array.prototype.indexOf,
      nt = Array.prototype.push,
      et = function et(t, n) {
    return -1 < p(t, n);
  },
      dt = function dt(t, n) {
    for (var e = 0, o = t.length; e < o; e++) {
      n(t[e], e);
    }
  },
      ot = function ot(t) {
    return X(t, 0);
  },
      rt = m(Array.from) ? Array.from : function (t) {
    return Q.call(t);
  },
      it = function it(e) {
    return {
      isValue: _,
      isError: O,
      getOr: tt(e),
      getOrThunk: tt(e),
      getOrDie: tt(e),
      or: function or(t) {
        return it(e);
      },
      orThunk: function orThunk(t) {
        return it(e);
      },
      fold: function fold(t, n) {
        return n(e);
      },
      map: function map(t) {
        return it(t(e));
      },
      mapError: function mapError(t) {
        return it(e);
      },
      each: function each(t) {
        t(e);
      },
      bind: function bind(t) {
        return t(e);
      },
      exists: function exists(t) {
        return t(e);
      },
      forall: function forall(t) {
        return t(e);
      },
      toOptional: function toOptional() {
        return ft.some(e);
      }
    };
  },
      ut = function ut(e) {
    return {
      isValue: O,
      isError: _,
      getOr: h,
      getOrThunk: function getOrThunk(t) {
        return t();
      },
      getOrDie: function getOrDie() {
        return C(String(e))();
      },
      or: h,
      orThunk: function orThunk(t) {
        return t();
      },
      fold: function fold(t, n) {
        return t(e);
      },
      map: function map(t) {
        return ut(e);
      },
      mapError: function mapError(t) {
        return ut(t(e));
      },
      each: ct,
      bind: function bind(t) {
        return ut(e);
      },
      exists: O,
      forall: _,
      toOptional: ft.none
    };
  },
      mt = {
    value: it,
    error: ut,
    fromOption: function fromOption(t, n) {
      return t.fold(function () {
        return ut(n);
      }, it);
    }
  };

  function at(t, n, e) {
    return t.stype === K.Error ? n(t.serror) : e(t.svalue);
  }

  function gt(t) {
    return {
      stype: K.Value,
      svalue: t
    };
  }

  function pt(t) {
    return {
      stype: K.Error,
      serror: t
    };
  }

  function ht(t, n, e, o) {
    return {
      tag: "field",
      key: t,
      newKey: n,
      presence: e,
      prop: o
    };
  }

  function vt(t, n, e) {
    switch (t.tag) {
      case "field":
        return n(t.key, t.newKey, t.presence, t.prop);

      case "custom":
        return e(t.newKey, t.instantiator);
    }
  }

  function bt(t, n) {
    for (var e = Xn(t), o = 0, r = e.length; o < r; o++) {
      var i = e[o];
      n(t[i], i);
    }
  }

  function yt(t, e) {
    return qn(t, function (t, n) {
      return {
        k: n,
        v: e(t, n)
      };
    });
  }

  function xt(t, e) {
    var o = [];
    return bt(t, function (t, n) {
      o.push(e(t, n));
    }), o;
  }

  function wt(t, n) {
    for (var e = Xn(t), o = 0, r = e.length; o < r; o++) {
      var i = e[o],
          u = t[i];
      if (n(u, i, t)) return ft.some(u);
    }

    return ft.none();
  }

  function St(t) {
    return xt(t, h);
  }

  function kt(t, n) {
    return Kn(t, n) ? ft.from(t[n]) : ft.none();
  }

  function Ct(t, n) {
    return Kn(t, n) && void 0 !== t[n] && null !== t[n];
  }

  function Ot(u) {
    return function () {
      for (var t = [], n = 0; n < arguments.length; n++) {
        t[n] = arguments[n];
      }

      if (0 === t.length) throw new Error("Can't merge zero objects");

      for (var e = {}, o = 0; o < t.length; o++) {
        var r,
            i = t[o];

        for (r in i) {
          Kn(i, r) && (e[r] = u(e[r], i[r]));
        }
      }

      return e;
    };
  }

  function _t(e) {
    var o,
        r = !1;
    return function () {
      for (var t = [], n = 0; n < arguments.length; n++) {
        t[n] = arguments[n];
      }

      return r || (r = !0, o = e.apply(null, t)), o;
    };
  }

  function Tt() {
    return {
      tag: "required",
      process: {}
    };
  }

  function Et(t) {
    return {
      tag: "defaultedThunk",
      process: t
    };
  }

  function Dt(t) {
    return Et(tt(t));
  }

  function Bt() {
    return {
      tag: "option",
      process: {}
    };
  }

  function At(t) {
    return {
      tag: "mergeWithThunk",
      process: t
    };
  }

  function Mt(t) {
    return x(t) && 100 < Xn(t).length ? " removed due to size" : JSON.stringify(t, null, 2);
  }

  function Ft(t, n) {
    return Nn([{
      path: t,
      getErrorInfo: n
    }]);
  }

  function It(e) {
    return {
      extract: function extract(n, t) {
        return jn(e(t), function (t) {
          return Ft(n, tt(t));
        });
      },
      toString: tt("val")
    };
  }

  function Rt(t, n, e, o) {
    return o(kt(t, n).getOrThunk(function () {
      return e(t);
    }));
  }

  function Vt(n, e, o, r, i) {
    function u(t) {
      return i.extract(e.concat([r]), t);
    }

    function t(t) {
      return t.fold(function () {
        return zn(ft.none());
      }, function (t) {
        var n = i.extract(e.concat([r]), t);
        return Wn(n, ft.some);
      });
    }

    var a, c, s, l, f, d;

    switch (n.tag) {
      case "required":
        return s = e, d = u, kt(l = o, f = r).fold(function () {
          return t = f, n = l, Ft(s, function () {
            return 'Could not find valid *required* value for "' + t + '" in ' + Mt(n);
          });
          var t, n;
        }, d);

      case "defaultedThunk":
        return Rt(o, r, n.process, u);

      case "option":
        return t(kt(o, r));

      case "defaultedOptionThunk":
        return c = n.process, t(kt(a = o, r).map(function (t) {
          return !0 === t ? c(a) : t;
        }));

      case "mergeWithThunk":
        return Rt(o, r, tt({}), function (t) {
          return u(Jn(n.process(o), t));
        });
    }
  }

  function Pt(e) {
    return {
      extract: function extract(t, n) {
        return e().extract(t, n);
      },
      toString: function toString() {
        return e().toString();
      }
    };
  }

  function Ht(t) {
    var s = te(t),
        l = I(t, function (e, t) {
      return vt(t, function (t) {
        var n;
        return Jn(e, ((n = {})[t] = !0, n));
      }, tt(e));
    }, {});
    return {
      extract: function extract(t, n) {
        var e,
            o,
            r,
            i,
            u,
            a,
            c = F(w(n) ? [] : Xn((r = f, i = o = {}, u = function u(t, n) {
          i[n] = t;
        }, a = ct, bt(n, function (t, n) {
          (r(t, n) ? u : a)(t, n);
        }), o)), function (t) {
          return !Ct(l, t);
        });
        return 0 === c.length ? s.extract(t, n) : (e = c, Ft(t, function () {
          return "There are unsupported fields: [" + e.join(", ") + "] specified";
        }));
      },
      toString: s.toString
    };
  }

  function zt(o) {
    return {
      extract: function extract(e, t) {
        var n = A(t, function (t, n) {
          return o.extract(e.concat(["[" + n + "]"]), t);
        });
        return Qn(n);
      },
      toString: function toString() {
        return "array(" + o.toString() + ")";
      }
    };
  }

  function Nt(u) {
    return {
      extract: function extract(t, n) {
        for (var e = [], o = 0, r = u; o < r.length; o++) {
          var i = r[o].extract(t, n);
          if (i.stype === K.Value) return i;
          e.push(i);
        }

        return Qn(e);
      },
      toString: function toString() {
        return "oneOf(" + A(u, function (t) {
          return t.toString();
        }).join(", ") + ")";
      }
    };
  }

  function Lt(e, o) {
    return It(function (t) {
      var n = _typeof(t);

      return e(t) ? zn(t) : Nn("Expected type: " + o + " but got: " + n);
    });
  }

  function jt(n, a) {
    return {
      extract: function extract(i, u) {
        return kt(u, n).fold(function () {
          return t = n, Ft(i, function () {
            return 'Choice schema did not contain choice key: "' + t + '"';
          });
          var t;
        }, function (t) {
          return e = i, n = u, kt(o = a, r = t).fold(function () {
            return t = o, n = r, Ft(e, function () {
              return 'The chosen schema: "' + n + '" did not exist in branches: ' + Mt(t);
            });
            var t, n;
          }, function (t) {
            return t.extract(e.concat(["branch: " + r]), n);
          });
          var e, n, o, r;
        });
      },
      toString: function toString() {
        return "chooseOn(" + n + "). Possible values: " + Xn(a);
      }
    };
  }

  function Wt(n) {
    return It(function (t) {
      return n(t).fold(Nn, zn);
    });
  }

  function Ut(n, t) {
    return r = function r(t) {
      return n(t).fold(pt, gt);
    }, i = t, {
      extract: function extract(e, o) {
        var t = Xn(o),
            n = zt(It(r)).extract(e, t);
        return Ln(n, function (t) {
          var n = A(t, function (t) {
            return ht(t, t, Tt(), i);
          });
          return te(n).extract(e, o);
        });
      },
      toString: function toString() {
        return "setOf(" + i.toString() + ")";
      }
    };
    var r, i;
  }

  function Gt(t, n, e) {
    return Hn((r = n.extract([t], o = e), Un(r, function (t) {
      return {
        input: o,
        errors: t
      };
    })));
    var o, r;
  }

  function Xt(t) {
    return t.fold(function (t) {
      throw new Error(se(t));
    }, h);
  }

  function Yt(t, n, e) {
    return Xt(Gt(t, n, e));
  }

  function qt(t, n) {
    return jt(t, yt(n, te));
  }

  function Kt(n) {
    return Wt(function (t) {
      return et(n, t) ? mt.value(t) : mt.error('Unsupported value: "' + t + '", choose one of "' + n.join(", ") + '".');
    });
  }

  function Jt(t) {
    return le(t, t, Tt(), ee());
  }

  function $t(t, n) {
    return le(t, t, Tt(), n);
  }

  function Qt(t) {
    return $t(t, re);
  }

  function Zt(t, n) {
    return le(t, t, Tt(), Kt(n));
  }

  function tn(t) {
    return $t(t, ue);
  }

  function nn(t, n) {
    return le(t, t, Tt(), te(n));
  }

  function en(t, n) {
    return le(t, t, Tt(), ne(n));
  }

  function on(t, n) {
    return le(t, t, Tt(), zt(n));
  }

  function rn(t) {
    return le(t, t, Bt(), ee());
  }

  function un(t, n) {
    return le(t, t, Bt(), n);
  }

  function an(t) {
    return un(t, oe);
  }

  function cn(t) {
    return un(t, re);
  }

  function sn(t) {
    return un(t, ue);
  }

  function ln(t, n) {
    return un(t, zt(n));
  }

  function fn(t, n) {
    return un(t, te(n));
  }

  function dn(t, n) {
    return le(t, t, Dt(n), ee());
  }

  function mn(t, n, e) {
    return le(t, t, Dt(n), e);
  }

  function gn(t, n) {
    return mn(t, n, oe);
  }

  function pn(t, n) {
    return mn(t, n, re);
  }

  function hn(t, n, e) {
    return mn(t, n, Kt(e));
  }

  function vn(t, n) {
    return mn(t, n, ie);
  }

  function bn(t, n) {
    return mn(t, n, ue);
  }

  function yn(t, n, e) {
    return mn(t, n, zt(e));
  }

  function xn(t, n, e) {
    return mn(t, n, te(e));
  }

  function wn(t) {
    var n = t;
    return {
      get: function get() {
        return n;
      },
      set: function set(t) {
        n = t;
      }
    };
  }

  function Sn(t, n) {
    var e = String(n).toLowerCase();
    return V(t, function (t) {
      return t.search(e);
    });
  }

  function kn(t, n, e) {
    return "" === n || t.length >= n.length && t.substr(e, e + n.length) === n;
  }

  function Cn(t, n) {
    return -1 !== t.indexOf(n);
  }

  function On(t) {
    return 0 < t.length;
  }

  function _n(n) {
    return function (t) {
      return Cn(t, n);
    };
  }

  function Tn(t) {
    return window.matchMedia(t).matches;
  }

  function En(t, n) {
    var e = t.dom;
    if (1 !== e.nodeType) return !1;
    var o = e;
    if (void 0 !== o.matches) return o.matches(n);
    if (void 0 !== o.msMatchesSelector) return o.msMatchesSelector(n);
    if (void 0 !== o.webkitMatchesSelector) return o.webkitMatchesSelector(n);
    if (void 0 !== o.mozMatchesSelector) return o.mozMatchesSelector(n);
    throw new Error("Browser lacks native selectors");
  }

  function Dn(t) {
    return 1 !== t.nodeType && 9 !== t.nodeType && 11 !== t.nodeType || 0 === t.childElementCount;
  }

  function Bn(t, n) {
    return t.dom === n.dom;
  }

  function An(t, n) {
    return Be().browser.isIE() ? (e = t.dom, o = n.dom, r = Node.DOCUMENT_POSITION_CONTAINED_BY, 0 != (e.compareDocumentPosition(o) & r)) : (i = t.dom) !== (u = n.dom) && i.contains(u);
    var e, o, r, i, u;
  }

  (J = K = {})[J.Error = 0] = "Error", J[J.Value = 1] = "Value";

  function Mn(t) {
    if (null == t) throw new Error("Node cannot be null or undefined");
    return {
      dom: t
    };
  }

  function Fn() {
    return me(0, 0);
  }

  function In(t) {
    function n(t) {
      return function () {
        return e === t;
      };
    }

    var e = t.current,
        o = t.version;
    return {
      current: e,
      version: o,
      isEdge: n("Edge"),
      isChrome: n("Chrome"),
      isIE: n("IE"),
      isOpera: n("Opera"),
      isFirefox: n(xe),
      isSafari: n("Safari")
    };
  }

  function Rn(t) {
    function n(t) {
      return function () {
        return e === t;
      };
    }

    var e = t.current,
        o = t.version;
    return {
      current: e,
      version: o,
      isWindows: n(ke),
      isiOS: n("iOS"),
      isAndroid: n(Ce),
      isOSX: n("OSX"),
      isLinux: n("Linux"),
      isSolaris: n(Oe),
      isFreeBSD: n(_e),
      isChromeOS: n(Te)
    };
  }

  function Vn(u) {
    if (!c(u)) throw new Error("cases must be an array");
    if (0 === u.length) throw new Error("there must be at least one case");
    var a = [],
        e = {};
    return dt(u, function (t, o) {
      var n = Xn(t);
      if (1 !== n.length) throw new Error("one and only one name per case");
      var r = n[0],
          i = t[r];
      if (void 0 !== e[r]) throw new Error("duplicate key detected:" + r);
      if ("cata" === r) throw new Error("cannot have a case named cata (sorry)");
      if (!c(i)) throw new Error("case arguments must be an array");
      a.push(r), e[r] = function () {
        for (var e = [], t = 0; t < arguments.length; t++) {
          e[t] = arguments[t];
        }

        var n = e.length;
        if (n !== i.length) throw new Error("Wrong number of arguments to case " + r + ". Expected " + i.length + " (" + i + "), got " + n);
        return {
          fold: function fold() {
            for (var t = [], n = 0; n < arguments.length; n++) {
              t[n] = arguments[n];
            }

            if (t.length !== u.length) throw new Error("Wrong number of arguments to fold. Expected " + u.length + ", got " + t.length);
            return t[o].apply(null, e);
          },
          match: function match(t) {
            var n = Xn(t);
            if (a.length !== n.length) throw new Error("Wrong number of arguments to match. Expected: " + a.join(",") + "\nActual: " + n.join(","));
            if (!N(a, function (t) {
              return et(n, t);
            })) throw new Error("Not all branches were specified when using match. Specified: " + n.join(", ") + "\nRequired: " + a.join(", "));
            return t[r].apply(null, e);
          },
          log: function log(t) {
            console.log(t, {
              constructors: a,
              constructor: r,
              params: e
            });
          }
        };
      };
    }), e;
  }

  var Pn,
      Hn = function Hn(t) {
    return at(t, mt.error, mt.value);
  },
      zn = gt,
      Nn = pt,
      Ln = function Ln(t, n) {
    return t.stype === K.Value ? n(t.svalue) : t;
  },
      jn = function jn(t, n) {
    return t.stype === K.Error ? n(t.serror) : t;
  },
      Wn = function Wn(t, n) {
    return t.stype === K.Value ? {
      stype: K.Value,
      svalue: n(t.svalue)
    } : t;
  },
      Un = function Un(t, n) {
    return t.stype === K.Error ? {
      stype: K.Error,
      serror: n(t.serror)
    } : t;
  },
      Gn = at,
      Xn = Object.keys,
      Yn = Object.hasOwnProperty,
      qn = function qn(t, o) {
    var r = {};
    return bt(t, function (t, n) {
      var e = o(t, n);
      r[e.k] = e.v;
    }), r;
  },
      Kn = function Kn(t, n) {
    return Yn.call(t, n);
  },
      Jn = Ot(function (t, n) {
    return x(t) && x(n) ? Jn(t, n) : n;
  }),
      $n = Ot(function (t, n) {
    return n;
  }),
      Qn = function Qn(t) {
    var n,
        e,
        o = (n = [], e = [], dt(t, function (t) {
      at(t, function (t) {
        return e.push(t);
      }, function (t) {
        return n.push(t);
      });
    }), {
      values: n,
      errors: e
    });
    return 0 < o.errors.length ? r(Nn, lt)(o.errors) : zn(o.values);
  },
      Zn = It(zn),
      te = function te(e) {
    return {
      extract: function extract(i, u) {
        for (var a = {}, c = [], t = 0, n = e; t < n.length; t++) {
          vt(n[t], function (t, n, e, o) {
            var r = Vt(e, i, u, t, o);
            Gn(r, function (t) {
              c.push.apply(c, t);
            }, function (t) {
              a[n] = t;
            });
          }, function (t, n) {
            a[t] = n(u);
          });
        }

        return 0 < c.length ? Nn(c) : zn(a);
      },
      toString: function toString() {
        return "obj{\n" + A(e, function (t) {
          return vt(t, function (t, n, e, o) {
            return t + " -> " + o.toString();
          }, function (t, n) {
            return "state(" + t + ")";
          });
        }).join("\n") + "}";
      }
    };
  },
      ne = r(zt, te),
      ee = tt(Zn),
      oe = Lt(u, "number"),
      re = Lt(y, "string"),
      ie = Lt(w, "boolean"),
      ue = Lt(m, "function"),
      ae = function ae(n) {
    if (Object(n) !== n) return !0;

    switch ({}.toString.call(n).slice(8, -1)) {
      case "Boolean":
      case "Number":
      case "String":
      case "Date":
      case "RegExp":
      case "Blob":
      case "FileList":
      case "ImageData":
      case "ImageBitmap":
      case "ArrayBuffer":
        return !0;

      case "Array":
      case "Object":
        return Object.keys(n).every(function (t) {
          return ae(n[t]);
        });

      default:
        return !1;
    }
  },
      ce = It(function (t) {
    return ae(t) ? zn(t) : Nn("Expected value to be acceptable for sending via postMessage");
  }),
      se = function se(t) {
    return "Errors: \n" + A(10 < (n = t.errors).length ? n.slice(0, 10).concat([{
      path: [],
      getErrorInfo: tt("... (only showing first ten failures)")
    }]) : n, function (t) {
      return "Failed path: (" + t.path.join(" > ") + ")\n" + t.getErrorInfo();
    }).join("\n") + "\n\nInput object: " + Mt(t.input);
    var n;
  },
      le = ht,
      fe = function fe(t, n) {
    return {
      tag: "custom",
      newKey: t,
      instantiator: n
    };
  },
      de = {
    fromHtml: function fromHtml(t, n) {
      var e = (n || document).createElement("div");
      if (e.innerHTML = t, !e.hasChildNodes() || 1 < e.childNodes.length) throw console.error("HTML does not have a single root node", t), new Error("HTML must have a single root node");
      return Mn(e.childNodes[0]);
    },
    fromTag: function fromTag(t, n) {
      var e = (n || document).createElement(t);
      return Mn(e);
    },
    fromText: function fromText(t, n) {
      var e = (n || document).createTextNode(t);
      return Mn(e);
    },
    fromDom: Mn,
    fromPoint: function fromPoint(t, n, e) {
      return ft.from(t.dom.elementFromPoint(n, e)).map(Mn);
    }
  },
      me = function me(t, n) {
    return {
      major: t,
      minor: n
    };
  },
      ge = {
    nu: me,
    detect: function detect(t, n) {
      var e,
          o,
          r = String(n).toLowerCase();
      return 0 === t.length ? Fn() : (o = function (t, n) {
        for (var e = 0; e < t.length; e++) {
          var o = t[e];
          if (o.test(n)) return o;
        }
      }(t, e = r)) ? me(i(1), i(2)) : {
        major: 0,
        minor: 0
      };

      function i(t) {
        return Number(e.replace(o, "$" + t));
      }
    },
    unknown: Fn
  },
      pe = function pe(t, n) {
    return kn(t, n, 0);
  },
      he = function he(t, n) {
    return kn(t, n, t.length - n.length);
  },
      ve = (Pn = /^\s+|\s+$/g, function (t) {
    return t.replace(Pn, "");
  }),
      be = /.*?version\/\ ?([0-9]+)\.([0-9]+).*/,
      ye = {
    browsers: tt([{
      name: "Edge",
      versionRegexes: [/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],
      search: function search(t) {
        return Cn(t, "edge/") && Cn(t, "chrome") && Cn(t, "safari") && Cn(t, "applewebkit");
      }
    }, {
      name: "Chrome",
      brand: "Chromium",
      versionRegexes: [/.*?chrome\/([0-9]+)\.([0-9]+).*/, be],
      search: function search(t) {
        return Cn(t, "chrome") && !Cn(t, "chromeframe");
      }
    }, {
      name: "IE",
      versionRegexes: [/.*?msie\ ?([0-9]+)\.([0-9]+).*/, /.*?rv:([0-9]+)\.([0-9]+).*/],
      search: function search(t) {
        return Cn(t, "msie") || Cn(t, "trident");
      }
    }, {
      name: "Opera",
      versionRegexes: [be, /.*?opera\/([0-9]+)\.([0-9]+).*/],
      search: _n("opera")
    }, {
      name: "Firefox",
      versionRegexes: [/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],
      search: _n("firefox")
    }, {
      name: "Safari",
      versionRegexes: [be, /.*?cpu os ([0-9]+)_([0-9]+).*/],
      search: function search(t) {
        return (Cn(t, "safari") || Cn(t, "mobile/")) && Cn(t, "applewebkit");
      }
    }]),
    oses: tt([{
      name: "Windows",
      search: _n("win"),
      versionRegexes: [/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]
    }, {
      name: "iOS",
      search: function search(t) {
        return Cn(t, "iphone") || Cn(t, "ipad");
      },
      versionRegexes: [/.*?version\/\ ?([0-9]+)\.([0-9]+).*/, /.*cpu os ([0-9]+)_([0-9]+).*/, /.*cpu iphone os ([0-9]+)_([0-9]+).*/]
    }, {
      name: "Android",
      search: _n("android"),
      versionRegexes: [/.*?android\ ?([0-9]+)\.([0-9]+).*/]
    }, {
      name: "OSX",
      search: _n("mac os x"),
      versionRegexes: [/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]
    }, {
      name: "Linux",
      search: _n("linux"),
      versionRegexes: []
    }, {
      name: "Solaris",
      search: _n("sunos"),
      versionRegexes: []
    }, {
      name: "FreeBSD",
      search: _n("freebsd"),
      versionRegexes: []
    }, {
      name: "ChromeOS",
      search: _n("cros"),
      versionRegexes: [/.*?chrome\/([0-9]+)\.([0-9]+).*/]
    }])
  },
      xe = "Firefox",
      we = function we() {
    return In({
      current: void 0,
      version: ge.unknown()
    });
  },
      Se = In,
      ke = (tt("Edge"), tt("Chrome"), tt("IE"), tt("Opera"), tt(xe), tt("Safari"), "Windows"),
      Ce = "Android",
      Oe = "Solaris",
      _e = "FreeBSD",
      Te = "ChromeOS",
      Ee = function Ee() {
    return Rn({
      current: void 0,
      version: ge.unknown()
    });
  },
      De = Rn,
      Be = (tt(ke), tt("iOS"), tt(Ce), tt("Linux"), tt("OSX"), tt(Oe), tt(_e), tt(Te), _t(function () {
    return t = navigator.userAgent, n = ft.from(navigator.userAgentData), e = Tn, p = ye.browsers(), h = ye.oses(), v = n.bind(function (t) {
      return o = p, q(t.brands, function (n) {
        var e = n.brand.toLowerCase();
        return V(o, function (t) {
          var n;
          return e === (null === (n = t.brand) || void 0 === n ? void 0 : n.toLowerCase());
        }).map(function (t) {
          return {
            current: t.name,
            version: ge.nu(parseInt(n.version, 10), 0)
          };
        });
      });
      var o;
    }).orThunk(function () {
      return Sn(p, e = t).map(function (t) {
        var n = ge.detect(t.versionRegexes, e);
        return {
          current: t.name,
          version: n
        };
      });
      var e;
    }).fold(we, Se), b = Sn(h, o = t).map(function (t) {
      var n = ge.detect(t.versionRegexes, o);
      return {
        current: t.name,
        version: n
      };
    }).fold(Ee, De), {
      browser: v,
      os: b,
      deviceType: (i = v, u = t, a = e, c = (r = b).isiOS() && !0 === /ipad/i.test(u), s = r.isiOS() && !c, f = (l = r.isiOS() || r.isAndroid()) || a("(pointer:coarse)"), d = c || !s && l && a("(min-device-width:768px)"), m = s || l && !d, g = i.isSafari() && r.isiOS() && !1 === /safari/i.test(u), {
        isiPad: tt(c),
        isiPhone: tt(s),
        isTablet: tt(d),
        isPhone: tt(m),
        isTouch: tt(f),
        isAndroid: r.isAndroid,
        isiOS: r.isiOS,
        isWebView: tt(g),
        isDesktop: tt(!m && !d && !g)
      })
    };
    var t, n, e, o, r, i, u, a, c, s, l, f, d, m, g, p, h, v, b;
  }));

  function Ae(t, n) {
    return (e = {})[t] = n, e;
    var e;
  }

  function Me(t) {
    return n = {}, dt(t, function (t) {
      n[t.key] = t.value;
    }), n;
    var n;
  }

  function Fe(t) {
    return m(t) ? t : O;
  }

  function Ie(t, n, e) {
    for (var o = t.dom, r = Fe(e); o.parentNode;) {
      var o = o.parentNode,
          i = de.fromDom(o),
          u = n(i);
      if (u.isSome()) return u;
      if (r(i)) break;
    }

    return ft.none();
  }

  function Re(t, n, e) {
    var o = n(t),
        r = Fe(e);
    return o.orThunk(function () {
      return r(t) ? ft.none() : Ie(t, n, r);
    });
  }

  function Ve(t, n) {
    return Bn(t.element, n.event.target);
  }

  function Pe(t) {
    if (!Ct(t, "can") && !Ct(t, "abort") && !Ct(t, "run")) throw new Error("EventHandler defined by: " + JSON.stringify(t, null, 2) + " does not have can, abort, or run!");
    return _st(_st({}, to), t);
  }

  function He(t) {
    return tt("alloy." + t);
  }

  function ze(t, n) {
    Ko(t, t.element, n, {});
  }

  function Ne(t, n, e) {
    Ko(t, t.element, n, e);
  }

  function Le(t) {
    ze(t, Eo());
  }

  function je(t, n, e) {
    Ko(t, n, e, {});
  }

  function We(t, n, e, o) {
    t.getSystem().triggerEvent(e, n, o.event);
  }

  function Ue(t, n) {
    return {
      key: t,
      value: Pe({
        abort: n
      })
    };
  }

  function Ge(t) {
    return {
      key: t,
      value: Pe({
        run: function run(t, n) {
          n.event.prevent();
        }
      })
    };
  }

  function Xe(t, n) {
    return {
      key: t,
      value: Pe({
        run: n
      })
    };
  }

  function Ye(t, e, o) {
    return {
      key: t,
      value: Pe({
        run: function run(t, n) {
          e.apply(void 0, [t, n].concat(o));
        }
      })
    };
  }

  function qe(t) {
    return function (e) {
      return {
        key: t,
        value: Pe({
          run: function run(t, n) {
            Ve(t, n) && e(t, n);
          }
        })
      };
    };
  }

  function Ke(t, n, e) {
    var o,
        r = n.partUids[e];
    return Xe(o = t, function (t, n) {
      t.getSystem().getByUid(r).each(function (t) {
        We(t, t.element, o, n);
      });
    });
  }

  function Je(t, r) {
    return Xe(t, function (n, t) {
      var e = t.event,
          o = n.getSystem().getByDom(e.target).getOrThunk(function () {
        return Re(e.target, function (t) {
          return n.getSystem().getByDom(t).toOptional();
        }, O).getOr(n);
      });
      r(n, o, t);
    });
  }

  function $e(t) {
    return Xe(t, function (t, n) {
      n.cut();
    });
  }

  function Qe(t, n) {
    return qe(t)(n);
  }

  Vn([{
    bothErrors: ["error1", "error2"]
  }, {
    firstError: ["error1", "value2"]
  }, {
    secondError: ["value1", "error2"]
  }, {
    bothValues: ["value1", "value2"]
  }]);

  var Ze,
      to = {
    can: _,
    abort: O,
    run: ct
  },
      no = tt,
      eo = no("touchstart"),
      oo = no("touchmove"),
      ro = no("touchend"),
      io = no("touchcancel"),
      uo = no("mousedown"),
      ao = no("mousemove"),
      co = no("mouseout"),
      so = no("mouseup"),
      lo = no("mouseover"),
      fo = no("focusin"),
      mo = no("focusout"),
      go = no("keydown"),
      po = no("keyup"),
      ho = no("input"),
      vo = no("change"),
      bo = no("click"),
      yo = no("transitioncancel"),
      xo = no("transitionend"),
      wo = no("transitionstart"),
      So = no("selectstart"),
      ko = {
    tap: He("tap")
  },
      Co = He("focus"),
      Oo = He("blur.post"),
      _o = He("paste.post"),
      To = He("receive"),
      Eo = He("execute"),
      Do = He("focus.item"),
      Bo = ko.tap,
      Ao = He("longpress"),
      Mo = He("sandbox.close"),
      Fo = He("typeahead.cancel"),
      Io = He("system.init"),
      Ro = He("system.touchmove"),
      Vo = He("system.touchend"),
      Po = He("system.scroll"),
      Ho = He("system.resize"),
      zo = He("system.attached"),
      No = He("system.detached"),
      Lo = He("system.dismissRequested"),
      jo = He("system.repositionRequested"),
      Wo = He("focusmanager.shifted"),
      Uo = He("slotcontainer.visibility"),
      Go = He("change.tab"),
      Xo = He("dismiss.tab"),
      Yo = He("highlight"),
      qo = He("dehighlight"),
      Ko = function Ko(t, n, e, o) {
    var r = _st({
      target: n
    }, o);

    t.getSystem().triggerEvent(e, n, r);
  },
      Jo = Me,
      $o = qe(zo()),
      Qo = qe(No()),
      Zo = qe(Io()),
      tr = (Ze = Eo(), function (t) {
    return Xe(Ze, t);
  });

  function nr(t) {
    return t.dom.nodeName.toLowerCase();
  }

  function er(n) {
    return function (t) {
      return t.dom.nodeType === n;
    };
  }

  function or(t) {
    return de.fromDom(t.dom.ownerDocument);
  }

  function rr(t) {
    return Pi(t) ? t : or(t);
  }

  function ir(t) {
    return de.fromDom(rr(t).dom.documentElement);
  }

  function ur(t) {
    return de.fromDom(rr(t).dom.defaultView);
  }

  function ar(t) {
    return ft.from(t.dom.parentNode).map(de.fromDom);
  }

  function cr(t) {
    return ft.from(t.dom.offsetParent).map(de.fromDom);
  }

  function sr(t) {
    return A(t.dom.childNodes, de.fromDom);
  }

  function lr(t, n) {
    var e = t.dom.childNodes;
    return ft.from(e[n]).map(de.fromDom);
  }

  function fr(t, n) {
    return {
      element: t,
      offset: n
    };
  }

  function dr(t, n) {
    var e = sr(t);
    return 0 < e.length && n < e.length ? fr(e[n], 0) : fr(t, n);
  }

  function mr(t) {
    return Hi(t) && f(t.dom.host);
  }

  function gr(t) {
    return mr(t) ? t : de.fromDom(rr(t).dom.body);
  }

  function pr(t) {
    return de.fromDom(t.dom.host);
  }

  function hr(n, e) {
    ar(n).each(function (t) {
      t.dom.insertBefore(e.dom, n.dom);
    });
  }

  function vr(t, n) {
    ft.from(t.dom.nextSibling).map(de.fromDom).fold(function () {
      ar(t).each(function (t) {
        Gi(t, n);
      });
    }, function (t) {
      hr(t, n);
    });
  }

  function br(n, e) {
    lr(n, 0).fold(function () {
      Gi(n, e);
    }, function (t) {
      n.dom.insertBefore(e.dom, t.dom);
    });
  }

  function yr(n, t) {
    dt(t, function (t) {
      Gi(n, t);
    });
  }

  function xr(t) {
    t.dom.textContent = "", dt(sr(t), function (t) {
      Xi(t);
    });
  }

  function wr(t) {
    var n,
        e = sr(t);
    0 < e.length && (n = t, dt(e, function (t) {
      hr(n, t);
    })), Xi(t);
  }

  function Sr(t) {
    return t.dom.innerHTML;
  }

  function kr(t, n) {
    var e,
        o,
        r = or(t).dom,
        i = de.fromDom(r.createDocumentFragment());
    yr(i, (e = n, (o = (r || document).createElement("div")).innerHTML = e, sr(de.fromDom(o)))), xr(t), Gi(t, i);
  }

  function Cr(t, n, e) {
    if (!(y(e) || w(e) || u(e))) throw console.error("Invalid call to Attribute.set. Key ", n, ":: Value ", e, ":: Element ", t), new Error("Attribute value was not simple");
    t.setAttribute(n, e + "");
  }

  function Or(t, n, e) {
    Cr(t.dom, n, e);
  }

  function _r(t, n) {
    var e = t.dom.getAttribute(n);
    return null === e ? void 0 : e;
  }

  function Tr(t, n) {
    return ft.from(_r(t, n));
  }

  function Er(t, n) {
    var e = t.dom;
    return !(!e || !e.hasAttribute) && e.hasAttribute(n);
  }

  function Dr(t, n) {
    t.dom.removeAttribute(n);
  }

  function Br(t) {
    if (mr(t)) return "#shadow-root";
    var n = de.fromDom(t.dom.cloneNode(!1)),
        e = de.fromTag("div"),
        o = de.fromDom(n.dom.cloneNode(!0));
    return Gi(e, o), Sr(e);
  }

  function Ar(t) {
    var n = new Date().getTime();
    return t + "_" + Math.floor(1e9 * Math.random()) + ++Ki + String(n);
  }

  function Mr(t) {
    var n = Ri(t) ? t.dom[Zi] : null;
    return ft.from(n);
  }

  function Fr(n) {
    function e(t) {
      return "The component must be in a context to execute: " + t + (n ? "\n" + Br(n().element) + " is not in context." : "");
    }

    function t(t) {
      return function () {
        throw new Error(e(t));
      };
    }

    function o(t) {
      return function () {
        console.warn(e(t));
      };
    }

    return {
      debugInfo: tt("fake"),
      triggerEvent: o("triggerEvent"),
      triggerFocus: o("triggerFocus"),
      triggerEscape: o("triggerEscape"),
      broadcast: o("broadcast"),
      broadcastOn: o("broadcastOn"),
      broadcastEvent: o("broadcastEvent"),
      build: t("build"),
      addToWorld: t("addToWorld"),
      removeFromWorld: t("removeFromWorld"),
      addToGui: t("addToGui"),
      removeFromGui: t("removeFromGui"),
      getByUid: t("getByUid"),
      getByDom: t("getByDom"),
      isConnected: O
    };
  }

  function Ir(t, n) {
    var e = t.toString(),
        o = e.indexOf(")") + 1,
        r = e.indexOf("("),
        i = e.substring(r + 1, o - 1).split(/,\s*/);
    return t.toFunctionAnnotation = function () {
      return {
        name: n,
        parameters: ru(i)
      };
    }, t;
  }

  function Rr(t) {
    return Ae(iu, t);
  }

  function Vr(o) {
    return t = function t(_t2) {
      for (var n = [], e = 1; e < arguments.length; e++) {
        n[e - 1] = arguments[e];
      }

      return o.apply(void 0, H([_t2.getApis(), _t2], n));
    }, e = (n = o.toString()).indexOf(")") + 1, r = n.indexOf("("), i = n.substring(r + 1, e - 1).split(/,\s*/), t.toFunctionAnnotation = function () {
      return {
        name: "OVERRIDE",
        parameters: ru(i.slice(1))
      };
    }, t;
    var t, n, e, r, i;
  }

  function Pr(t, r) {
    var i = {};
    return bt(t, function (t, o) {
      bt(t, function (t, n) {
        var e = kt(i, n).getOr([]);
        i[n] = e.concat([r(o, t)]);
      });
    }), i;
  }

  function Hr(t) {
    return {
      classes: E(t.classes) ? [] : t.classes,
      attributes: E(t.attributes) ? {} : t.attributes,
      styles: E(t.styles) ? {} : t.styles
    };
  }

  function zr(t) {
    return t.cHandler;
  }

  function Nr(t, n) {
    return {
      name: t,
      handler: n
    };
  }

  function Lr(t, n, e) {
    var o = n[e];
    return o ? function (u, t, a) {
      try {
        var n = G(t, function (t, n) {
          var e = t.name,
              o = n.name,
              r = a.indexOf(e),
              i = a.indexOf(o);
          if (-1 === r) throw new Error("The ordering for " + u + " does not have an entry for " + e + ".\nOrder specified: " + JSON.stringify(a, null, 2));
          if (-1 === i) throw new Error("The ordering for " + u + " does not have an entry for " + o + ".\nOrder specified: " + JSON.stringify(a, null, 2));
          return r < i ? -1 : i < r ? 1 : 0;
        });
        return mt.value(n);
      } catch (t) {
        return mt.error([t]);
      }
    }("Event: " + e, t, o).map(function (t) {
      var e,
          n,
          o,
          r,
          i = A(t, function (t) {
        return t.handler;
      });
      return {
        can: function can() {
          for (var e = [], t = 0; t < arguments.length; t++) {
            e[t] = arguments[t];
          }

          return R(n, function (t, n) {
            return t && n.can.apply(void 0, e);
          }, !0);
        },
        abort: (o = n = e = i, r = function r(t) {
          return t.abort;
        }, function () {
          for (var e = [], t = 0; t < arguments.length; t++) {
            e[t] = arguments[t];
          }

          return R(o, function (t, n) {
            return t || r(n).apply(void 0, e);
          }, !1);
        }),
        run: function run() {
          for (var n = [], t = 0; t < arguments.length; t++) {
            n[t] = arguments[t];
          }

          dt(e, function (t) {
            t.run.apply(void 0, n);
          });
        }
      };
    }) : mt.error(["The event (" + e + ') has more than one behaviour that listens to it.\nWhen this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).\nThe behaviours that can trigger it are: ' + JSON.stringify(A(t, function (t) {
      return t.name;
    }), null, 2)]);
  }

  function jr(t, n) {
    var e = _r(t, n);

    return void 0 === e || "" === e ? [] : e.split(" ");
  }

  function Wr(t) {
    return void 0 !== t.dom.classList;
  }

  function Ur(t, n) {
    var e, o, r;
    Wr(t) ? t.dom.classList.add(n) : (o = n, r = jr(e = t, "class").concat([o]), Or(e, "class", r.join(" ")));
  }

  function Gr(t, n) {
    var e, o, r, i;
    Wr(t) ? t.dom.classList.remove(n) : (r = n, 0 < (i = F(jr(o = t, "class"), function (t) {
      return t !== r;
    })).length ? Or(o, "class", i.join(" ")) : Dr(o, "class")), 0 === (Wr(e = t) ? e.dom.classList : jr(e, "class")).length && Dr(e, "class");
  }

  function Xr(t, n) {
    return Wr(t) && t.dom.classList.contains(n);
  }

  function Yr(n, t) {
    dt(t, function (t) {
      Ur(n, t);
    });
  }

  function qr(n, t) {
    dt(t, function (t) {
      Gr(n, t);
    });
  }

  function Kr(t, n, e) {
    return void 0 === e && (e = v), t.exists(function (t) {
      return e(t, n);
    });
  }

  function Jr(t) {
    for (var n = [], e = function e(t) {
      n.push(t);
    }, o = 0; o < t.length; o++) {
      t[o].each(e);
    }

    return n;
  }

  function $r(t, n) {
    return t ? ft.some(n) : ft.none();
  }

  function Qr(t) {
    return void 0 !== t.style && m(t.style.getPropertyValue);
  }

  function Zr(t, n, e) {
    if (!y(e)) throw console.error("Invalid call to CSS.set. Property ", n, ":: Value ", e, ":: Element ", t), new Error("CSS value must be a string: " + e);
    Qr(t) && t.style.setProperty(n, e);
  }

  function ti(t, n) {
    Qr(t) && t.style.removeProperty(n);
  }

  function ni(t, n, e) {
    Zr(t.dom, n, e);
  }

  function ei(t, n) {
    var e = t.dom;
    bt(n, function (t, n) {
      Zr(e, n, t);
    });
  }

  function oi(t, n) {
    var e = t.dom;
    bt(n, function (t, n) {
      t.fold(function () {
        ti(e, n);
      }, function (t) {
        Zr(e, n, t);
      });
    });
  }

  function ri(t, n) {
    var e = t.dom,
        o = window.getComputedStyle(e).getPropertyValue(n);
    return "" !== o || du(t) ? o : pu(e, n);
  }

  function ii(t, n) {
    var e = t.dom,
        o = pu(e, n);
    return ft.from(o).filter(function (t) {
      return 0 < t.length;
    });
  }

  function ui(t, n, e) {
    var o = de.fromTag(t);
    return ni(o, n, e), ii(o, n).isSome();
  }

  function ai(t, n) {
    ti(t.dom, n), Kr(Tr(t, "style").map(ve), "") && Dr(t, "style");
  }

  function ci(t) {
    return t.dom.offsetWidth;
  }

  function si(t) {
    return t.dom.value;
  }

  function li(t, n) {
    if (void 0 === n) throw new Error("Value.set was undefined");
    t.dom.value = n;
  }

  function fi(t) {
    var n,
        e,
        o,
        r,
        i = (n = kt(t, "behaviours").getOr({}), A(F(Xn(n), function (t) {
      return void 0 !== n[t];
    }), function (t) {
      return n[t].me;
    }));
    return e = t, r = A(o = i, function (t) {
      return fn(t.name(), [Jt("config"), dn("state", uu)]);
    }), {
      list: o,
      data: yt(Gt("component.behaviours", te(r), e.behaviours).fold(function (t) {
        throw new Error(se(t) + "\nComplete spec:\n" + JSON.stringify(e, null, 2));
      }, h), function (t) {
        return tt(t.map(function (t) {
          return {
            config: t.config,
            state: t.state.init(t.config)
          };
        }));
      })
    };
  }

  function di(t, n, e) {
    var o,
        r,
        i = _st(_st({}, (o = t).dom), {
      uid: o.uid,
      domChildren: A(o.components, function (t) {
        return t.element;
      })
    }),
        u = t.domModification.fold(function () {
      return Hr({});
    }, Hr),
        a = 0 < n.length ? function (n, t, e, o) {
      var r = _st({}, t);

      function i(t) {
        return I(t, function (t, n) {
          return _st(_st({}, n.modification), t);
        }, {});
      }

      dt(e, function (t) {
        r[t.name()] = t.exhibit(n, o);
      });
      var u = Pr(r, function (t, n) {
        return {
          name: t,
          modification: n
        };
      });
      return Hr({
        classes: I(u.classes, function (t, n) {
          return n.modification.concat(t);
        }, []),
        attributes: i(u.attributes),
        styles: i(u.styles)
      });
    }(e, {
      "alloy.base.modification": u
    }, n, i) : u;

    return _st(_st({}, r = i), {
      attributes: _st(_st({}, r.attributes), a.attributes),
      styles: _st(_st({}, r.styles), a.styles),
      classes: r.classes.concat(a.classes)
    });
  }

  function mi(t, n, e) {
    var o,
        r,
        i,
        u,
        a,
        c = {
      "alloy.base.behaviour": t.events
    },
        s = t.eventOrder;
    return r = e, i = n, o = Pr(_st(_st({}, c), (u = r, a = {}, dt(i, function (t) {
      a[t.name()] = t.handlers(u);
    }), a)), Nr), cu(o, s).getOrDie();
  }

  function gi(e) {
    function t() {
      return l;
    }

    var n = wn(ou),
        o = Xt(Gt("custom.definition", lu, e)),
        r = fi(e),
        i = r.list,
        u = r.data,
        a = function (t) {
      var n = de.fromTag(t.tag),
          e = t.attributes,
          o = n.dom;
      bt(e, function (t, n) {
        Cr(o, n, t);
      }), Yr(n, t.classes), ei(n, t.styles), t.innerHtml.each(function (t) {
        return kr(n, t);
      });
      var r = t.domChildren;
      return yr(n, r), t.value.each(function (t) {
        li(n, t);
      }), t.uid, tu(n, t.uid), n;
    }(di(o, i, u)),
        c = mi(o, i, u),
        s = wn(o.components),
        l = {
      uid: e.uid,
      getSystem: n.get,
      config: function config(t) {
        var n = u;
        return (m(n[t.name()]) ? n[t.name()] : function () {
          throw new Error("Could not find " + t.name() + " in " + JSON.stringify(e, null, 2));
        })();
      },
      hasConfigured: function hasConfigured(t) {
        return m(u[t.name()]);
      },
      spec: e,
      readState: function readState(t) {
        return u[t]().map(function (t) {
          return t.state.readState();
        }).getOr("not enabled");
      },
      getApis: function getApis() {
        return o.apis;
      },
      connect: function connect(t) {
        n.set(t);
      },
      disconnect: function disconnect() {
        n.set(Fr(t));
      },
      element: a,
      syncComponents: function syncComponents() {
        var t = z(sr(a), function (t) {
          return n.get().getByDom(t).fold(function () {
            return [];
          }, U);
        });
        s.set(t);
      },
      components: s.get,
      events: c
    };

    return l;
  }

  function pi(t) {
    var n = de.fromText(t);
    return hu({
      element: n
    });
  }

  function hi(o, r) {
    function t(t) {
      var n = r(t);

      if (n <= 0 || null === n) {
        var e = ri(t, o);
        return parseFloat(e) || 0;
      }

      return n;
    }

    function i(r, t) {
      return R(t, function (t, n) {
        var e = ri(r, n),
            o = void 0 === e ? 0 : parseInt(e, 10);
        return isNaN(o) ? t : t + o;
      }, 0);
    }

    return {
      set: function set(t, n) {
        if (!u(n) && !n.match(/^[0-9]+$/)) throw new Error(o + ".set accepts only positive integer values. Value was " + n);
        var e = t.dom;
        Qr(e) && (e.style[o] = n + "px");
      },
      get: t,
      getOuter: t,
      aggregate: i,
      max: function max(t, n, e) {
        var o = i(t, e);
        return o < n ? n - o : 0;
      }
    };
  }

  function vi(t) {
    return xu.get(t);
  }

  function bi(t) {
    return xu.getOuter(t);
  }

  function yi(t, n) {
    return void 0 !== t ? t : void 0 !== n ? n : 0;
  }

  function xi(t) {
    var n = t.dom.ownerDocument,
        e = n.body,
        o = n.defaultView,
        r = n.documentElement;
    if (e === t.dom) return Su(e.offsetLeft, e.offsetTop);
    var i = yi(null == o ? void 0 : o.pageYOffset, r.scrollTop),
        u = yi(null == o ? void 0 : o.pageXOffset, r.scrollLeft),
        a = yi(r.clientTop, e.clientTop),
        c = yi(r.clientLeft, e.clientLeft);
    return ku(t).translate(u - c, i - a);
  }

  function wi(t) {
    return Cu.get(t);
  }

  function Si(t) {
    return Cu.getOuter(t);
  }

  function ki(t) {
    function n() {
      return t.stopPropagation();
    }

    function e() {
      return t.preventDefault();
    }

    var o = r(e, n);
    return {
      target: de.fromDom(function (t) {
        if (Li() && f(t.target)) {
          var n = de.fromDom(t.target);

          if (Ri(n) && Ui(n) && t.composed && t.composedPath) {
            var e = t.composedPath();
            if (e) return ot(e);
          }
        }

        return ft.from(t.target);
      }(t).getOr(t.target)),
      x: t.clientX,
      y: t.clientY,
      stop: n,
      prevent: e,
      kill: o,
      raw: t
    };
  }

  function Ci(t, n, e, o, r) {
    var i,
        u,
        a = (i = e, u = o, function (t) {
      i(t) && u(ki(t));
    });
    return t.dom.addEventListener(n, a, r), {
      unbind: S(Ou, t, n, a, r)
    };
  }

  function Oi(t) {
    var n = void 0 !== t ? t.dom : document,
        e = n.body.scrollLeft || n.documentElement.scrollLeft,
        o = n.body.scrollTop || n.documentElement.scrollTop;
    return Su(e, o);
  }

  function _i(t, n, e) {
    var o = (void 0 !== e ? e.dom : document).defaultView;
    o && o.scrollTo(t, n);
  }

  function Ti(t, n, e, o) {
    return {
      x: t,
      y: n,
      width: e,
      height: o,
      right: t + e,
      bottom: n + o
    };
  }

  function Ei(t) {
    var o = void 0 === t ? window : t,
        n = o.document,
        r = Oi(de.fromDom(n)),
        e = void 0 === o ? window : o;
    return ft.from(e.visualViewport).fold(function () {
      var t = o.document.documentElement,
          n = t.clientWidth,
          e = t.clientHeight;
      return Ti(r.left, r.top, n, e);
    }, function (t) {
      return Ti(Math.max(t.pageLeft, r.left), Math.max(t.pageTop, r.top), t.width, t.height);
    });
  }

  function Di(o) {
    var t,
        r = Oi(de.fromDom(document)),
        n = (t = Tu).owner(o),
        e = _u(t, n);

    return ft.some(e).fold(S(xi, o), function (t) {
      var n = ku(o),
          e = I(t, function (t, n) {
        var e = ku(n);
        return {
          left: t.left + e.left,
          top: t.top + e.top
        };
      }, {
        left: 0,
        top: 0
      });
      return Su(e.left + n.left + r.left, e.top + n.top + r.top);
    });
  }

  function Bi(t, n, e, o) {
    return {
      x: t,
      y: n,
      width: e,
      height: o,
      right: t + e,
      bottom: n + o
    };
  }

  function Ai(t) {
    var n = xi(t),
        e = Si(t),
        o = bi(t);
    return Bi(n.left, n.top, e, o);
  }

  function Mi(t) {
    var n = Di(t),
        e = Si(t),
        o = bi(t);
    return Bi(n.left, n.top, e, o);
  }

  function Fi() {
    return Ei(window);
  }

  "undefined" != typeof window || Function("return this;")();

  var Ii,
      Ri = er(1),
      Vi = er(3),
      Pi = er(9),
      Hi = er(11),
      zi = ar,
      Ni = m(Element.prototype.attachShadow) && m(Node.prototype.getRootNode),
      Li = tt(Ni),
      ji = Ni ? function (t) {
    return de.fromDom(t.dom.getRootNode());
  } : rr,
      Wi = function Wi(t) {
    var n = ji(t);
    return mr(n) ? ft.some(n) : ft.none();
  },
      Ui = function Ui(t) {
    return f(t.dom.shadowRoot);
  },
      Gi = function Gi(t, n) {
    t.dom.appendChild(n.dom);
  },
      Xi = function Xi(t) {
    var n = t.dom;
    null !== n.parentNode && n.parentNode.removeChild(n);
  },
      Yi = Jo([{
    key: Co(),
    value: Pe({
      can: function can(t, n) {
        var e,
            o = n.event,
            r = o.originator,
            i = o.target;
        return !(Bn(e = r, t.element) && !Bn(e, i) && (console.warn(Co() + " did not get interpreted by the desired target. \nOriginator: " + Br(r) + "\nTarget: " + Br(i) + "\nCheck the " + Co() + " event handlers"), 1));
      }
    })
  }]),
      qi = Object.freeze({
    __proto__: null,
    events: Yi
  }),
      Ki = 0,
      Ji = tt("alloy-id-"),
      $i = tt("data-alloy-id"),
      Qi = Ji(),
      Zi = $i(),
      tu = function tu(t, n) {
    Object.defineProperty(t.dom, Zi, {
      value: n,
      writable: !0
    });
  },
      nu = Ar,
      eu = h,
      ou = Fr(),
      ru = function ru(t) {
    return A(t, function (t) {
      return he(t, "/*") ? t.substring(0, t.length - "/*".length) : t;
    });
  },
      iu = Ar("alloy-premade"),
      uu = {
    init: function init() {
      return au({
        readState: tt("No State required")
      });
    }
  },
      au = function au(t) {
    return t;
  },
      cu = function cu(t, a) {
    var n,
        e,
        o,
        r,
        i,
        u,
        c = xt(t, function (r, u) {
      return (1 === r.length ? mt.value(r[0].handler) : Lr(r, a, u)).map(function (t) {
        var n,
            i,
            e = (i = m(n = t) ? {
          can: _,
          abort: O,
          run: n
        } : n, function (t, n) {
          for (var e = [], o = 2; o < arguments.length; o++) {
            e[o - 2] = arguments[o];
          }

          var r = [t, n].concat(e);
          i.abort.apply(void 0, r) ? n.stop() : i.can.apply(void 0, r) && i.run.apply(void 0, r);
        }),
            o = 1 < r.length ? F(a[u], function (n) {
          return T(r, function (t) {
            return t.name === n;
          });
        }).join(" > ") : r[0].name;
        return Ae(u, {
          handler: e,
          purpose: o
        });
      });
    });
    return n = {}, e = [], o = [], dt(c, function (t) {
      t.fold(function (t) {
        e.push(t);
      }, function (t) {
        o.push(t);
      });
    }), 0 < (u = {
      errors: e,
      values: o
    }).errors.length ? mt.error(lt(u.errors)) : (i = n, 0 === (r = u.values).length ? mt.value(i) : mt.value(Jn(i, $n.apply(void 0, r))));
  },
      su = "alloy.base.behaviour",
      lu = te([le("dom", "dom", Tt(), te([Jt("tag"), dn("styles", {}), dn("classes", []), dn("attributes", {}), rn("value"), rn("innerHtml")])), Jt("components"), Jt("uid"), dn("events", {}), dn("apis", {}), le("eventOrder", "eventOrder", ((Ii = {})[Eo()] = ["disabling", su, "toggling", "typeaheadevents"], Ii[Co()] = [su, "focusing", "keying"], Ii[Io()] = [su, "disabling", "toggling", "representing"], Ii[ho()] = [su, "representing", "streaming", "invalidating"], Ii[No()] = [su, "representing", "item-events", "tooltipping"], Ii[uo()] = ["focusing", su, "item-type-events"], Ii[eo()] = ["focusing", su, "item-type-events"], Ii[lo()] = ["item-type-events", "tooltipping"], Ii[To()] = ["receiving", "reflecting", "tooltipping"], At(tt(Ii))), ee()), rn("domModification")]),
      fu = function fu(t, n, e) {
    return t.isSome() && n.isSome() ? ft.some(e(t.getOrDie(), n.getOrDie())) : ft.none();
  },
      du = function du(t) {
    var n = Vi(t) ? t.dom.parentNode : t.dom;
    if (null == n || null === n.ownerDocument) return !1;
    var e,
        o,
        r = n.ownerDocument;
    return Wi(de.fromDom(n)).fold(function () {
      return r.body.contains(n);
    }, (e = du, o = pr, function (t) {
      return e(o(t));
    }));
  },
      mu = function mu() {
    return gu(de.fromDom(document));
  },
      gu = function gu(t) {
    var n = t.dom.body;
    if (null == n) throw new Error("Body is not available yet");
    return de.fromDom(n);
  },
      pu = function pu(t, n) {
    return Qr(t) ? t.style.getPropertyValue(n) : "";
  },
      hu = function hu(t) {
    var n = Yt("external.component", Ht([Jt("element"), rn("uid")]), t),
        e = wn(Fr()),
        o = n.uid.getOrThunk(function () {
      return nu("external");
    });
    tu(n.element, o);
    var r = {
      uid: o,
      getSystem: e.get,
      config: ft.none,
      hasConfigured: O,
      connect: function connect(t) {
        e.set(t);
      },
      disconnect: function disconnect() {
        e.set(Fr(function () {
          return r;
        }));
      },
      getApis: function getApis() {
        return {};
      },
      element: n.element,
      spec: t,
      readState: tt("No state"),
      syncComponents: ct,
      components: tt([]),
      events: {}
    };
    return Rr(r);
  },
      vu = nu,
      bu = function bu(u) {
    return kt(u, iu).getOrThunk(function () {
      var t,
          n,
          e,
          o,
          r,
          i = Kn(u, "uid") ? u : _st({
        uid: vu("")
      }, u);
      return t = eu(i), n = t.events, e = s(t, ["events"]), o = A(kt(e, "components").getOr([]), bu), r = _st(_st({}, e), {
        events: _st(_st({}, qi), n),
        components: o
      }), mt.value(gi(r)).getOrDie();
    });
  },
      yu = Rr,
      xu = hi("height", function (t) {
    var n = t.dom;
    return du(t) ? n.getBoundingClientRect().height : n.offsetHeight;
  }),
      wu = function wu(e, o) {
    return {
      left: e,
      top: o,
      translate: function translate(t, n) {
        return wu(e + t, o + n);
      }
    };
  },
      Su = wu,
      ku = function ku(t) {
    var n,
        e = t.dom,
        o = e.ownerDocument.body;
    return o === e ? Su(o.offsetLeft, o.offsetTop) : du(t) ? (n = e.getBoundingClientRect(), Su(n.left, n.top)) : Su(0, 0);
  },
      Cu = hi("width", function (t) {
    return t.dom.offsetWidth;
  }),
      Ou = function Ou(t, n, e, o) {
    t.dom.removeEventListener(n, e, o);
  },
      _u = function _u(o, t) {
    return o.view(t).fold(tt([]), function (t) {
      var n = o.owner(t),
          e = _u(o, n);

      return [t].concat(e);
    });
  },
      Tu = Object.freeze({
    __proto__: null,
    view: function view(t) {
      var n;
      return (t.dom === document ? ft.none() : ft.from(null === (n = t.dom.defaultView) || void 0 === n ? void 0 : n.frameElement)).map(de.fromDom);
    },
    owner: or
  });

  function Eu(t, n, e, o, r) {
    return t(e, o) ? ft.some(e) : m(r) && r(e) ? ft.none() : n(e, o, r);
  }

  function Du(t, n, e) {
    for (var o = t.dom, r = m(e) ? e : O; o.parentNode;) {
      var o = o.parentNode,
          i = de.fromDom(o);
      if (n(i)) return ft.some(i);
      if (r(i)) break;
    }

    return ft.none();
  }

  function Bu(t, n, e) {
    return Eu(function (t, n) {
      return n(t);
    }, Du, t, n, e);
  }

  function Au(t, n, e) {
    return Bu(t, n, e).isSome();
  }

  function Mu(t, n, e) {
    return Du(t, function (t) {
      return En(t, n);
    }, e);
  }

  function Fu(t, n) {
    return e = n, Dn(o = void 0 === t ? document : t.dom) ? ft.none() : ft.from(o.querySelector(e)).map(de.fromDom);
    var e, o;
  }

  function Iu(t, n, e) {
    return Eu(En, Mu, t, n, e);
  }

  function Ru() {
    var n = Ar("aria-owns");
    return {
      id: n,
      link: function link(t) {
        Or(t, "aria-owns", n);
      },
      unlink: function unlink(t) {
        Dr(t, "aria-owns");
      }
    };
  }

  var Vu,
      Pu,
      Hu = function Hu(n, t) {
    return Au(t, function (t) {
      return Bn(t, n.element);
    }, O) || (e = n, Bu(t, function (t) {
      if (!Ri(t)) return !1;

      var n = _r(t, "id");

      return void 0 !== n && -1 < n.indexOf("aria-owns");
    }).bind(function (t) {
      var n = _r(t, "id");

      return Fu(ji(t), '[aria-owns="' + n + '"]');
    }).exists(function (t) {
      return Hu(e, t);
    }));
    var e;
  },
      zu = "unknown";

  function Nu(n, t, e) {
    var o, r, i, u;

    switch (kt(Lu.get(), n).orThunk(function () {
      return q(Xn(Lu.get()), function (t) {
        return -1 < n.indexOf(t) ? ft.some(Lu.get()[t]) : ft.none();
      });
    }).getOr(Vu.NORMAL)) {
      case Vu.NORMAL:
        return e(Wu());

      case Vu.LOGGING:
        var a = (o = n, r = t, i = [], u = new Date().getTime(), {
          logEventCut: function logEventCut(t, n, e) {
            i.push({
              outcome: "cut",
              target: n,
              purpose: e
            });
          },
          logEventStopped: function logEventStopped(t, n, e) {
            i.push({
              outcome: "stopped",
              target: n,
              purpose: e
            });
          },
          logNoParent: function logNoParent(t, n, e) {
            i.push({
              outcome: "no-parent",
              target: n,
              purpose: e
            });
          },
          logEventNoHandlers: function logEventNoHandlers(t, n) {
            i.push({
              outcome: "no-handlers-left",
              target: n
            });
          },
          logEventResponse: function logEventResponse(t, n, e) {
            i.push({
              outcome: "response",
              purpose: e,
              target: n
            });
          },
          write: function write() {
            var t = new Date().getTime();
            et(["mousemove", "mouseover", "mouseout", Io()], o) || console.log(o, {
              event: o,
              time: t - u,
              target: r.dom,
              sequence: A(i, function (t) {
                return et(["cut", "stopped", "response"], t.outcome) ? "{" + t.purpose + "} " + t.outcome + " at (" + Br(t.target) + ")" : t.outcome;
              })
            });
          }
        }),
            c = e(a);
        return a.write(), c;

      case Vu.STOP:
        return !0;
    }
  }

  (Pu = Vu = Vu || {})[Pu.STOP = 0] = "STOP", Pu[Pu.NORMAL = 1] = "NORMAL", Pu[Pu.LOGGING = 2] = "LOGGING";
  var Lu = wn({}),
      ju = ["alloy/data/Fields", "alloy/debugging/Debugging"],
      Wu = tt({
    logEventCut: ct,
    logEventStopped: ct,
    logNoParent: ct,
    logEventNoHandlers: ct,
    logEventResponse: ct,
    write: ct
  }),
      Uu = tt([Jt("menu"), Jt("selectedMenu")]),
      Gu = tt([Jt("item"), Jt("selectedItem")]);

  function Xu() {
    return nn("markers", [Jt("backgroundMenu")].concat(Uu()).concat(Gu()));
  }

  function Yu(t) {
    return nn("markers", A(t, Jt));
  }

  function qu(t, n, e) {
    return void 0 !== (o = new Error()).stack && V(o.stack.split("\n"), function (n) {
      return 0 < n.indexOf("alloy") && !T(ju, function (t) {
        return -1 < n.indexOf(t);
      });
    }).getOr(zu), le(n, n, e, Wt(function (e) {
      return mt.value(function () {
        for (var t = [], n = 0; n < arguments.length; n++) {
          t[n] = arguments[n];
        }

        return e.apply(void 0, t);
      });
    }));
    var o;
  }

  function Ku(t) {
    return qu(0, t, Dt(ct));
  }

  function Ju(t) {
    return qu(0, t, Dt(ft.none));
  }

  function $u(t) {
    return qu(0, t, Tt());
  }

  function Qu(t) {
    return qu(0, t, Tt());
  }

  function Zu(t, n) {
    return fe(t, tt(n));
  }

  function ta(t) {
    return fe(t, h);
  }

  function na(t, n, e, o, r, i, u, a) {
    return {
      x: t,
      y: n,
      bubble: e,
      direction: o,
      placement: r,
      restriction: i,
      label: u + "-" + r,
      alwaysFit: a = void 0 !== a && a
    };
  }

  function ea(t, n, e, o) {
    var r = t + n;
    return o < r ? e : r < e ? o : r;
  }

  function oa(t, n, e) {
    return Math.min(Math.max(t, n), e);
  }

  function ra(e, n) {
    return W(["left", "right", "top", "bottom"], function (t) {
      return kt(n, t).map(function (n) {
        return function (t) {
          switch (n) {
            case 1:
              return t.x;

            case 0:
              return t.x + t.width;

            case 2:
              return t.y;

            case 3:
              return t.y + t.height;
          }
        }(e);
      });
    });
  }

  function ia(t, n) {
    return t.x + t.width / 2 - n.width / 2;
  }

  function ua(t, n) {
    return t.x + t.width - n.width;
  }

  function aa(t, n) {
    return t.y - n.height;
  }

  function ca(t) {
    return t.y + t.height;
  }

  function sa(t, n) {
    return t.y + t.height / 2 - n.height / 2;
  }

  function la(t, n, e) {
    return na(t.x + t.width, sa(t, n), e.east(), La(), "east", ra(t, {
      left: 0
    }), Wa);
  }

  function fa(t, n, e) {
    return na(t.x - n.width, sa(t, n), e.west(), ja(), "west", ra(t, {
      right: 1
    }), Wa);
  }

  function da() {
    return [Ua, Ga, Xa, Ya, Ka, qa, la, fa];
  }

  function ma() {
    return [Ga, Ua, Ya, Xa, Ka, qa, la, fa];
  }

  function ga() {
    return [Xa, Ya, Ua, Ga, qa, Ka];
  }

  function pa() {
    return [Ya, Xa, Ga, Ua, qa, Ka];
  }

  function ha() {
    return [Ua, Ga, Xa, Ya, Ka, qa];
  }

  function va() {
    return [Ga, Ua, Ya, Xa, Ka, qa];
  }

  function ba(e, o, r) {
    return Zo(function (t, n) {
      r(t, e, o);
    });
  }

  function ya(t) {
    return {
      key: t,
      value: void 0
    };
  }

  function xa(t) {
    var n,
        e,
        o,
        r,
        i,
        u,
        a,
        c,
        s = Yt("Creating behaviour: " + t.name, tc, t);
    return n = s.fields, e = s.name, o = s.active, r = s.apis, i = s.extra, u = s.state, a = Ht(n), c = fn(e, [un("config", Ht(n))]), Qa(a, c, e, o, r, i, u);
  }

  function wa(t) {
    var n,
        e = Yt("Creating behaviour: " + t.name, nc, t),
        o = qt(e.branchKey, e.branches),
        r = e.name,
        i = e.active,
        u = e.apis,
        a = e.extra,
        c = e.state,
        s = fn(r, [un("config", n = o)]);
    return Qa(n, s, r, i, u, a, c);
  }

  function Sa(t) {
    return t.dom.focus();
  }

  function ka(t) {
    var n = ji(t).dom;
    return t.dom === n.activeElement;
  }

  function Ca(t) {
    return void 0 === t && (t = de.fromDom(document)), ft.from(t.dom.activeElement).map(de.fromDom);
  }

  function Oa(n) {
    return Ca(ji(n)).filter(function (t) {
      return n.dom.contains(t.dom);
    });
  }

  function _a(t, e) {
    var o = ji(e),
        n = Ca(o).bind(function (n) {
      function t(t) {
        return Bn(n, t);
      }

      var r, _i2;

      return t(e) ? ft.some(e) : (r = t, (_i2 = function i(t) {
        for (var n = 0; n < t.childNodes.length; n++) {
          var e = de.fromDom(t.childNodes[n]);
          if (r(e)) return ft.some(e);

          var o = _i2(t.childNodes[n]);

          if (o.isSome()) return o;
        }

        return ft.none();
      })(e.dom));
    }),
        r = t(e);
    return n.each(function (n) {
      Ca(o).filter(function (t) {
        return Bn(t, n);
      }).fold(function () {
        Sa(n);
      }, ct);
    }), r;
  }

  function Ta(t, n, e, o, r) {
    function i(t) {
      return t + "px";
    }

    return {
      position: t,
      left: n.map(i),
      top: e.map(i),
      right: o.map(i),
      bottom: r.map(i)
    };
  }

  function Ea(t, n) {
    var e;
    oi(t, _st(_st({}, e = n), {
      position: ft.some(e.position)
    }));
  }

  function Da(t, n, e, o, r, i) {
    var u = n.rect,
        a = u.x - e,
        c = u.y - o,
        s = r - (a + u.width),
        l = i - (c + u.height),
        f = ft.some(a),
        d = ft.some(c),
        m = ft.some(s),
        g = ft.some(l),
        p = ft.none();
    return n.direction.fold(function () {
      return Ta(t, f, d, p, p);
    }, function () {
      return Ta(t, p, d, m, p);
    }, function () {
      return Ta(t, f, p, p, g);
    }, function () {
      return Ta(t, p, p, m, g);
    }, function () {
      return Ta(t, f, d, p, p);
    }, function () {
      return Ta(t, f, p, p, g);
    }, function () {
      return Ta(t, f, d, p, p);
    }, function () {
      return Ta(t, p, d, m, p);
    });
  }

  function Ba(t, r) {
    return t.fold(function () {
      var t = r.rect;
      return Ta("absolute", ft.some(t.x), ft.some(t.y), ft.none(), ft.none());
    }, function (t, n, e, o) {
      return Da("absolute", r, t, n, e, o);
    }, function (t, n, e, o) {
      return Da("fixed", r, t, n, e, o);
    });
  }

  function Aa(t, n) {
    var e = S(Di, n),
        o = t.fold(e, e, function () {
      var t = Oi();
      return Di(n).translate(-t.left, -t.top);
    }),
        r = Si(n),
        i = bi(n);
    return Bi(o.left, o.top, r, i);
  }

  tt(te(Gu().concat(Uu())));

  var Ma = tt(te(Gu())),
      Fa = tt(nn("initSize", [Jt("numColumns"), Jt("numRows")])),
      Ia = Vn([{
    southeast: []
  }, {
    southwest: []
  }, {
    northeast: []
  }, {
    northwest: []
  }, {
    south: []
  }, {
    north: []
  }, {
    east: []
  }, {
    west: []
  }]),
      Ra = Ia.southeast,
      Va = Ia.southwest,
      Pa = Ia.northeast,
      Ha = Ia.northwest,
      za = Ia.south,
      Na = Ia.north,
      La = Ia.east,
      ja = Ia.west,
      Wa = "layout",
      Ua = function Ua(t, n, e) {
    return na(t.x, ca(t), e.southeast(), Ra(), "southeast", ra(t, {
      left: 1,
      top: 3
    }), Wa);
  },
      Ga = function Ga(t, n, e) {
    return na(ua(t, n), ca(t), e.southwest(), Va(), "southwest", ra(t, {
      right: 0,
      top: 3
    }), Wa);
  },
      Xa = function Xa(t, n, e) {
    return na(t.x, aa(t, n), e.northeast(), Pa(), "northeast", ra(t, {
      left: 1,
      bottom: 2
    }), Wa);
  },
      Ya = function Ya(t, n, e) {
    return na(ua(t, n), aa(t, n), e.northwest(), Ha(), "northwest", ra(t, {
      right: 0,
      bottom: 2
    }), Wa);
  },
      qa = function qa(t, n, e) {
    return na(ia(t, n), aa(t, n), e.north(), Na(), "north", ra(t, {
      bottom: 2
    }), Wa);
  },
      Ka = function Ka(t, n, e) {
    return na(ia(t, n), ca(t), e.south(), za(), "south", ra(t, {
      top: 3
    }), Wa);
  },
      Ja = Object.freeze({
    __proto__: null,
    events: function events(a) {
      return Jo([Xe(To(), function (r, t) {
        var n,
            i = a.channels,
            e = Xn(i),
            u = t,
            o = (n = u).universal ? e : F(e, function (t) {
          return et(n.channels, t);
        });
        dt(o, function (t) {
          var n = i[t],
              e = n.schema,
              o = Yt("channel[" + t + "] data\nReceiver: " + Br(r.element), e, u.data);
          n.onReceive(r, o);
        });
      })]);
    }
  }),
      $a = [$t("channels", Ut(mt.value, Ht([$u("onReceive"), dn("schema", ee())])))],
      Qa = function Qa(e, t, f, n, o, r, i) {
    function u(t) {
      return Ct(t, f) ? t[f]() : ft.none();
    }

    var a = yt(o, function (t, n) {
      return r = f, e = function e(_e2) {
        for (var t = [], n = 1; n < arguments.length; n++) {
          t[n - 1] = arguments[n];
        }

        var o = [_e2].concat(t);
        return _e2.config({
          name: tt(r)
        }).fold(function () {
          throw new Error("We could not find any behaviour configuration for: " + r + ". Using API: " + u);
        }, function (t) {
          var n = Array.prototype.slice.call(o, 1);
          return i.apply(void 0, [_e2, t.config, t.state].concat(n));
        });
      }, o = u = n, a = (i = t).toString(), c = a.indexOf(")") + 1, s = a.indexOf("("), l = a.substring(s + 1, c - 1).split(/,\s*/), e.toFunctionAnnotation = function () {
        return {
          name: o,
          parameters: ru(l.slice(0, 1).concat(l.slice(3)))
        };
      }, e;
      var r, i, u, e, o, a, c, s, l;
    }),
        c = yt(r, Ir),
        s = _st(_st(_st({}, c), a), {
      revoke: S(ya, f),
      config: function config(t) {
        var n = Yt(f + "-config", e, t);
        return {
          key: f,
          value: {
            config: n,
            me: s,
            configAsRaw: _t(function () {
              return Yt(f + "-config", e, t);
            }),
            initialConfig: t,
            state: i
          }
        };
      },
      schema: tt(t),
      exhibit: function exhibit(t, e) {
        return fu(u(t), kt(n, "exhibit"), function (t, n) {
          return n(e, t.config, t.state);
        }).getOrThunk(function () {
          return Hr({});
        });
      },
      name: tt(f),
      handlers: function handlers(t) {
        return u(t).map(function (t) {
          return kt(n, "events").getOr(function () {
            return {};
          })(t.config, t.state);
        }).getOr({});
      }
    });

    return s;
  },
      Za = Me,
      tc = Ht([Jt("fields"), Jt("name"), dn("active", {}), dn("apis", {}), dn("state", uu), dn("extra", {})]),
      nc = Ht([Jt("branchKey"), Jt("branches"), Jt("name"), dn("active", {}), dn("apis", {}), dn("state", uu), dn("extra", {})]),
      ec = tt(void 0),
      oc = xa({
    fields: $a,
    name: "receiving",
    active: Ja
  }),
      rc = Object.freeze({
    __proto__: null,
    exhibit: function exhibit(t, n) {
      return Hr({
        classes: [],
        styles: n.useFixed() ? {} : {
          position: "relative"
        }
      });
    }
  }),
      ic = Vn([{
    none: []
  }, {
    relative: ["x", "y", "width", "height"]
  }, {
    fixed: ["x", "y", "width", "height"]
  }]),
      uc = function uc(t, n, e) {
    var o = Su(n, e);
    return t.fold(tt(o), tt(o), function () {
      var t = Oi();
      return o.translate(-t.left, -t.top);
    });
  };

  function ac(t) {
    return Tr(t, _c);
  }

  function cc(t, n, e, o) {
    var r,
        i,
        u,
        a,
        c,
        s,
        l,
        f,
        d,
        m,
        g,
        p,
        h,
        v,
        b,
        y,
        x,
        w,
        S,
        k,
        C,
        O,
        _,
        T,
        E,
        D,
        B,
        A,
        M,
        F,
        I,
        R,
        V,
        P,
        H,
        z = t.bubble,
        N = z.offset,
        L = (I = o, R = t.restriction, V = N, P = Z("left", I.x), H = Z("top", I.y), Bi(P, H, Z("right", I.right) - P, Z("bottom", I.bottom) - H)),
        j = t.x + N.left,
        W = t.y + N.top,
        U = Bi(j, W, n, e),
        G = (r = L.x, i = L.y, u = L.right, a = L.bottom, c = U.x, s = U.y, l = U.right, f = U.bottom, d = U.width, m = U.height, {
      originInBounds: r <= c && c <= u && i <= s && s <= a,
      sizeInBounds: l <= u && r <= l && f <= a && i <= f,
      visibleW: Math.min(d, r <= c ? u - c : l - r),
      visibleH: Math.min(m, i <= s ? a - s : f - i)
    }),
        X = G.visibleW,
        Y = G.visibleH,
        q = G.originInBounds && G.sizeInBounds,
        K = q ? U : (g = L.x, p = L.y, h = L.right, v = L.bottom, b = U.x, y = U.y, x = U.width, w = U.height, S = Math.max(g, h - x), k = Math.max(p, v - w), Bi(C = oa(b, g, S), O = oa(y, p, k), Math.min(C + x, h) - C, Math.min(O + w, v) - O)),
        J = 0 < K.width && 0 < K.height,
        $ = (_ = t.direction, D = tt((T = K).bottom - (E = o).y), B = tt(E.bottom - T.y), A = _.fold(B, B, D, D, B, D, B, B), M = tt(T.right - E.x), F = tt(E.right - T.x), {
      maxWidth: _.fold(F, M, F, M, F, F, F, M),
      maxHeight: A
    }),
        Q = {
      rect: K,
      maxHeight: $.maxHeight,
      maxWidth: $.maxWidth,
      direction: t.direction,
      placement: t.placement,
      classes: {
        on: z.classesOn,
        off: z.classesOff
      },
      layout: t.label,
      testY: W
    };

    function Z(r, i) {
      return R[r].map(function (t) {
        var n = "top" === r || "bottom" === r,
            e = n ? V.top : V.left,
            o = ("left" === r || "top" === r ? Math.max : Math.min)(t, i) + e;
        return n ? oa(o, I.y, I.bottom) : oa(o, I.x, I.right);
      }).getOr(i);
    }

    return q || t.alwaysFit ? Tc.fit(Q) : Tc.nofit(Q, X, Y, J);
  }

  function sc(t) {
    function n() {
      return e.get().each(t);
    }

    var e = wn(ft.none());
    return {
      clear: function clear() {
        n(), e.set(ft.none());
      },
      isSet: function isSet() {
        return e.get().isSome();
      },
      get: function get() {
        return e.get();
      },
      set: function set(t) {
        n(), e.set(ft.some(t));
      }
    };
  }

  function lc() {
    return sc(function (t) {
      return t.unbind();
    });
  }

  function fc() {
    var n = sc(ct);
    return _st(_st({}, n), {
      on: function on(t) {
        return n.get().each(t);
      }
    });
  }

  function dc(t, n, e) {
    return Ci(t, n, Ec, e, !1);
  }

  function mc(t, n, e) {
    return Ci(t, n, Ec, e, !0);
  }

  function gc(o, e) {
    function r(t) {
      var n,
          e = null !== (n = t.raw.pseudoElement) && void 0 !== n ? n : "";
      return Bn(t.target, o) && !On(e) && et(Bc, t.raw.propertyName);
    }

    function t(t) {
      var n;
      (g(t) || r(t)) && (a.clear(), c.clear(), !g(n = null == t ? void 0 : t.raw.type) && n !== xo() || (clearTimeout(i), Dr(o, Ac), qr(o, e.classes)));
    }

    function n() {
      a.set(dc(o, xo(), t)), c.set(dc(o, yo(), t));
    }

    var i,
        u,
        a = lc(),
        c = lc();
    "ontransitionstart" in o.dom ? u = dc(o, wo(), function (t) {
      r(t) && (u.unbind(), n());
    }) : n();
    var s,
        l,
        f = (s = o, l = d("transition-delay"), R(d("transition-duration"), function (t, n, e) {
      var o = m(l[e]) + m(n);
      return Math.max(t, o);
    }, 0));

    function d(t) {
      var n = ri(s, t);
      return F(y(n) ? n.split(/\s*,\s*/) : [], On);
    }

    function m(t) {
      if (y(t) && /^[\d.]+/.test(t)) {
        var n = parseFloat(t);
        return he(t, "ms") ? n : 1e3 * n;
      }

      return 0;
    }

    requestAnimationFrame(function () {
      i = setTimeout(t, f + 17), Or(o, Ac, i);
    });
  }

  function pc(t, n, e, o, r, i) {
    var u,
        a,
        c,
        s,
        l,
        f,
        d,
        m,
        g,
        p = (u = o, a = r, i.exists(function (t) {
      var n = u.mode;
      return "all" === n || t[n] !== a[n];
    }));

    function h(t) {
      return parseFloat(t).toPrecision(3);
    }

    p || (g = t, N(o.classes, function (t) {
      return Xr(g, t);
    })) ? (ni(t, "position", e.position), c = Aa(n, t), s = Ba(n, _st(_st({}, r), {
      rect: c
    })), l = W(Bc, function (t) {
      return s[t];
    }), m = e, wt(l, function (t, n) {
      var e,
          o,
          r,
          i = m[n].map(h),
          u = t.map(h);
      return !fu(e = i, o = u, r = void 0 === r ? v : r).getOr(e.isNone() && o.isNone());
    }).isSome() && (oi(t, l), p && (Yr(f = t, (d = o).classes), Tr(f, Ac).each(function (t) {
      clearTimeout(parseInt(t, 10)), Dr(f, Ac);
    }), gc(f, d)), ci(t))) : qr(t, o.classes);
  }

  function hc(t, n, e, o) {
    ai(n, "max-height"), ai(n, "max-width");
    var r,
        s,
        i,
        l,
        f,
        d,
        m,
        g,
        p,
        u = {
      width: Si(r = n),
      height: bi(r)
    };
    return s = n, i = o.preference, l = t, f = u, d = e, m = o.bounds, g = f.width, p = f.height, R(i, function (t, n) {
      var e = S(a, n);
      return t.fold(tt(t), e);
    }, Tc.nofit({
      rect: l,
      maxHeight: f.height,
      maxWidth: f.width,
      direction: Ra(),
      placement: "southeast",
      classes: {
        on: [],
        off: []
      },
      layout: "none",
      testY: l.y
    }, -1, -1, !1)).fold(h, h);

    function a(t, r, i, u, a) {
      var c = cc(t(l, f, d, s, m), g, p, m);
      return c.fold(tt(c), function (t, n, e, o) {
        return (a === o ? u < e || i < n : !a && o) ? c : Tc.nofit(r, i, u, a);
      });
    }
  }

  function vc(t, n) {
    var e = t,
        o = Math.floor(n);
    ni(e, "max-height", xu.max(e, o, ["margin-top", "border-top-width", "padding-top", "padding-bottom", "border-bottom-width", "margin-bottom"]) + "px");
  }

  function bc(t, n, e) {
    return void 0 === t[n] ? e : t[n];
  }

  function yc(t, n, e, o) {
    function r(t) {
      return kt(e, t).getOr([]);
    }

    function i(t, n, e) {
      var o = j(Rc, e);
      return {
        offset: Su(t, n),
        classesOn: z(e, r),
        classesOff: z(o, r)
      };
    }

    var u = t * (o = void 0 === o ? 1 : o),
        a = n * o;
    return {
      southeast: function southeast() {
        return i(-t, n, ["top", "alignLeft"]);
      },
      southwest: function southwest() {
        return i(t, n, ["top", "alignRight"]);
      },
      south: function south() {
        return i(-t / 2, n, ["top", "alignCentre"]);
      },
      northeast: function northeast() {
        return i(-t, -n, ["bottom", "alignLeft"]);
      },
      northwest: function northwest() {
        return i(t, -n, ["bottom", "alignRight"]);
      },
      north: function north() {
        return i(-t / 2, -n, ["bottom", "alignCentre"]);
      },
      east: function east() {
        return i(t, -n / 2, ["valignCentre", "left"]);
      },
      west: function west() {
        return i(-t, -n / 2, ["valignCentre", "right"]);
      },
      insetNortheast: function insetNortheast() {
        return i(u, a, ["top", "alignLeft", "inset"]);
      },
      insetNorthwest: function insetNorthwest() {
        return i(-u, a, ["top", "alignRight", "inset"]);
      },
      insetNorth: function insetNorth() {
        return i(-u / 2, a, ["top", "alignCentre", "inset"]);
      },
      insetSoutheast: function insetSoutheast() {
        return i(u, -a, ["bottom", "alignLeft", "inset"]);
      },
      insetSouthwest: function insetSouthwest() {
        return i(-u, -a, ["bottom", "alignRight", "inset"]);
      },
      insetSouth: function insetSouth() {
        return i(-u / 2, -a, ["bottom", "alignCentre", "inset"]);
      },
      insetEast: function insetEast() {
        return i(-u, -a / 2, ["valignCentre", "right", "inset"]);
      },
      insetWest: function insetWest() {
        return i(u, -a / 2, ["valignCentre", "left", "inset"]);
      }
    };
  }

  function xc() {
    return yc(0, 0, {});
  }

  function wc(n, e) {
    return function (t) {
      return "rtl" === Pc(t) ? e : n;
    };
  }

  ic.none;

  var Sc,
      kc,
      Cc = ic.relative,
      Oc = ic.fixed,
      _c = "data-alloy-placement",
      Tc = Vn([{
    fit: ["reposition"]
  }, {
    nofit: ["reposition", "visibleW", "visibleH", "isVisible"]
  }]),
      Ec = _,
      Dc = ki,
      Bc = ["top", "bottom", "right", "left"],
      Ac = "data-alloy-transition-timer",
      Mc = tt(function (t, n) {
    vc(t, n), ei(t, {
      "overflow-x": "hidden",
      "overflow-y": "auto"
    });
  }),
      Fc = tt(function (t, n) {
    vc(t, n);
  }),
      Ic = function Ic(t, n, e, o) {
    var r,
        i,
        u,
        a,
        c = hc(t, n, e, o),
        s = n,
        l = c,
        f = Ba((r = o).origin, l);
    return r.transition.each(function (t) {
      pc(s, r.origin, f, t, l, r.lastPlacement);
    }), Ea(s, f), a = c.placement, Or(n, _c, a), qr(i = n, (u = c.classes).off), Yr(i, u.on), (0, o.maxHeightFunction)(n, c.maxHeight), (0, o.maxWidthFunction)(n, c.maxWidth), {
      layout: c.layout,
      placement: c.placement
    };
  },
      Rc = ["valignCentre", "alignLeft", "alignRight", "alignCentre", "top", "bottom", "left", "right", "inset"],
      Vc = h,
      Pc = function Pc(t) {
    return "rtl" === ri(t, "direction") ? "rtl" : "ltr";
  };

  function Hc(t) {
    return Au(t, function (t) {
      return Ri(t) && _r(t, "data-alloy-vertical-dir") === Sc.BottomToTop;
    });
  }

  function zc() {
    return fn("layouts", [Jt("onLtr"), Jt("onRtl"), rn("onBottomLtr"), rn("onBottomRtl")]);
  }

  function Nc(n, t, e, o, r, i, u) {
    var a = u.map(Hc).getOr(!1),
        c = t.layouts.map(function (t) {
      return t.onLtr(n);
    }),
        s = t.layouts.map(function (t) {
      return t.onRtl(n);
    });
    return wc(a ? t.layouts.bind(function (t) {
      return t.onBottomLtr.map(function (t) {
        return t(n);
      });
    }).or(c).getOr(r) : c.getOr(e), a ? t.layouts.bind(function (t) {
      return t.onBottomRtl.map(function (t) {
        return t(n);
      });
    }).or(s).getOr(i) : s.getOr(o))(n);
  }

  function Lc(t) {
    return t.fold(h, function (t, n, e) {
      return t.translate(-n, -e);
    });
  }

  function jc(t) {
    return t.fold(h, h);
  }

  function Wc(t) {
    return R(t, function (t, n) {
      return t.translate(n.left, n.top);
    }, Su(0, 0));
  }

  function Uc(t) {
    return Wc(A(t, jc));
  }

  function Gc(t, n, e) {
    var o,
        r,
        i = Oi(or(t.element)),
        u = (o = t, r = ur(e.root).dom, ft.from(r.frameElement).map(de.fromDom).filter(function (t) {
      return Bn(or(t), or(o.element));
    }).map(xi).getOr(i));
    return rs(u, i.left, i.top);
  }

  function Xc(t, n, e, o) {
    var r = os(Su(t, n));
    return ft.some({
      point: r,
      width: e,
      height: o
    });
  }

  function Yc(t, a, c, s, l) {
    return t.map(function (t) {
      var n = [a, t.point],
          e = s.fold(function () {
        return Uc(n);
      }, function () {
        return Uc(n);
      }, function () {
        return Wc(A(n, Lc));
      }),
          o = {
        x: e.left,
        y: e.top,
        width: t.width,
        height: t.height
      },
          r = (c.showAbove ? ga : ha)(),
          i = (c.showAbove ? pa : va)(),
          u = Nc(l, c, r, i, r, i, ft.none());
      return Vc({
        anchorBox: o,
        bubble: c.bubble.getOr(xc()),
        overrides: c.overrides,
        layouts: u,
        placer: ft.none()
      });
    });
  }

  function qc(t, n, e) {
    var o,
        r = t.document.createRange(),
        i = r;
    return n.fold(function (t) {
      i.setStartBefore(t.dom);
    }, function (t, n) {
      i.setStart(t.dom, n);
    }, function (t) {
      i.setStartAfter(t.dom);
    }), o = r, e.fold(function (t) {
      o.setEndBefore(t.dom);
    }, function (t, n) {
      o.setEnd(t.dom, n);
    }, function (t) {
      o.setEndAfter(t.dom);
    }), r;
  }

  function Kc(t, n, e, o, r) {
    var i = t.document.createRange();
    return i.setStart(n.dom, e), i.setEnd(o.dom, r), i;
  }

  function Jc(t) {
    return {
      left: t.left,
      top: t.top,
      right: t.right,
      bottom: t.bottom,
      width: t.width,
      height: t.height
    };
  }

  function $c(t, n, e) {
    return n(de.fromDom(e.startContainer), e.startOffset, de.fromDom(e.endContainer), e.endOffset);
  }

  function Qc(i, t) {
    return r = i, o = t.match({
      domRange: function domRange(t) {
        return {
          ltr: tt(t),
          rtl: ft.none
        };
      },
      relative: function relative(t, n) {
        return {
          ltr: _t(function () {
            return qc(r, t, n);
          }),
          rtl: _t(function () {
            return ft.some(qc(r, n, t));
          })
        };
      },
      exact: function exact(t, n, e, o) {
        return {
          ltr: _t(function () {
            return Kc(r, t, n, e, o);
          }),
          rtl: _t(function () {
            return ft.some(Kc(r, e, o, t, n));
          })
        };
      }
    }), ((e = (n = o).ltr()).collapsed ? n.rtl().filter(function (t) {
      return !1 === t.collapsed;
    }).map(function (t) {
      return fs.rtl(de.fromDom(t.endContainer), t.endOffset, de.fromDom(t.startContainer), t.startOffset);
    }).getOrThunk(function () {
      return $c(0, fs.ltr, e);
    }) : $c(0, fs.ltr, e)).match({
      ltr: function ltr(t, n, e, o) {
        var r = i.document.createRange();
        return r.setStart(t.dom, n), r.setEnd(e.dom, o), r;
      },
      rtl: function rtl(t, n, e, o) {
        var r = i.document.createRange();
        return r.setStart(e.dom, o), r.setEnd(t.dom, n), r;
      }
    });
    var r, n, e, o;
  }

  (Sc = Sc || {}).TopToBottom = "toptobottom", Sc.BottomToTop = "bottomtotop";

  var Zc = "data-alloy-vertical-dir",
      ts = [Jt("hotspot"), rn("bubble"), dn("overrides", {}), zc(), Zu("placement", function (t, n, e) {
    var o = Aa(e, n.hotspot.element),
        r = Nc(t.element, n, ha(), va(), ga(), pa(), ft.some(n.hotspot.element));
    return ft.some(Vc({
      anchorBox: o,
      bubble: n.bubble.getOr(xc()),
      overrides: n.overrides,
      layouts: r,
      placer: ft.none()
    }));
  })],
      ns = [Jt("x"), Jt("y"), dn("height", 0), dn("width", 0), dn("bubble", xc()), dn("overrides", {}), zc(), Zu("placement", function (t, n, e) {
    var o = uc(e, n.x, n.y),
        r = Bi(o.left, o.top, n.width, n.height),
        i = Nc(t.element, n, da(), ma(), da(), ma(), ft.none());
    return ft.some(Vc({
      anchorBox: r,
      bubble: n.bubble,
      overrides: n.overrides,
      layouts: i,
      placer: ft.none()
    }));
  })],
      es = Vn([{
    screen: ["point"]
  }, {
    absolute: ["point", "scrollLeft", "scrollTop"]
  }]),
      os = es.screen,
      rs = es.absolute,
      is = [Jt("node"), Jt("root"), rn("bubble"), zc(), dn("overrides", {}), dn("showAbove", !1), Zu("placement", function (r, i, u) {
    var a = Gc(r, 0, i);
    return i.node.filter(du).bind(function (t) {
      var n = t.dom.getBoundingClientRect(),
          e = Xc(n.left, n.top, n.width, n.height),
          o = i.node.getOr(r.element);
      return Yc(e, a, i, u, o);
    });
  })],
      us = function us(t, n, e, o) {
    return {
      start: t,
      soffset: n,
      finish: e,
      foffset: o
    };
  },
      as = Vn([{
    before: ["element"]
  }, {
    on: ["element", "offset"]
  }, {
    after: ["element"]
  }]),
      cs = (as.before, as.on, as.after, function (t) {
    return t.fold(h, h, h);
  }),
      ss = Vn([{
    domRange: ["rng"]
  }, {
    relative: ["startSitu", "finishSitu"]
  }, {
    exact: ["start", "soffset", "finish", "foffset"]
  }]),
      ls = {
    domRange: ss.domRange,
    relative: ss.relative,
    exact: ss.exact,
    exactFromRange: function exactFromRange(t) {
      return ss.exact(t.start, t.soffset, t.finish, t.foffset);
    },
    getWin: function getWin(t) {
      return ur(t.match({
        domRange: function domRange(t) {
          return de.fromDom(t.startContainer);
        },
        relative: function relative(t, n) {
          return cs(t);
        },
        exact: function exact(t, n, e, o) {
          return t;
        }
      }));
    },
    range: us
  },
      fs = Vn([{
    ltr: ["start", "soffset", "finish", "foffset"]
  }, {
    rtl: ["start", "soffset", "finish", "foffset"]
  }]);

  function ds(t) {
    return Ql.getOption(t);
  }

  function ms(t) {
    return ds(t).filter(function (t) {
      return 0 !== t.trim().length || -1 < t.indexOf("\xa0");
    }).isSome() || et(Zl, nr(t));
  }

  function gs(t, n) {
    return Dn(e = void 0 === t ? document : t.dom) ? [] : A(e.querySelectorAll(n), de.fromDom);
    var e;
  }

  function ps(t) {
    if (0 < t.rangeCount) {
      var n = t.getRangeAt(0),
          e = t.getRangeAt(t.rangeCount - 1);
      return ft.some(us(de.fromDom(n.startContainer), n.startOffset, de.fromDom(e.endContainer), e.endOffset));
    }

    return ft.none();
  }

  function hs(t) {
    if (null === t.anchorNode || null === t.focusNode) return ps(t);
    var n,
        e,
        o,
        r,
        i,
        u,
        a,
        c,
        s,
        l,
        f,
        d = de.fromDom(t.anchorNode),
        m = de.fromDom(t.focusNode);
    return n = d, e = t.anchorOffset, o = m, r = t.focusOffset, u = e, a = o, c = r, (s = or(i = n).dom.createRange()).setStart(i.dom, u), s.setEnd(a.dom, c), l = s, f = Bn(n, o) && e === r, l.collapsed && !f ? ft.some(us(d, t.anchorOffset, m, t.focusOffset)) : ps(t);
  }

  function vs(t, n) {
    var e,
        o,
        r = (e = Qc(t, n)).getClientRects();
    return 0 < (o = 0 < r.length ? r[0] : e.getBoundingClientRect()).width || 0 < o.height ? ft.some(o).map(Jc) : ft.none();
  }

  function bs(t, n) {
    return {
      element: t,
      offset: n
    };
  }

  function ys(t, n) {
    return (Vi(t) ? bs : function (t, n) {
      var e = sr(t);
      if (0 === e.length) return bs(t, n);
      if (n < e.length) return bs(e[n], 0);
      var o = e[e.length - 1];
      return bs(o, (Vi(o) ? Ql.get(o) : sr(o)).length);
    })(t, n);
  }

  function xs(t, n) {
    return n.getSelection.getOrThunk(function () {
      return function () {
        return ft.from(t.getSelection()).filter(function (t) {
          return 0 < t.rangeCount;
        }).bind(hs);
      };
    })().map(function (t) {
      var n = ys(t.start, t.soffset),
          e = ys(t.finish, t.foffset);
      return ls.range(n.element, n.offset, e.element, e.offset);
    });
  }

  function ws(t) {
    return t.x + t.width;
  }

  function Ss(t, n) {
    return t.x - n.width;
  }

  function ks(t, n) {
    return t.y - n.height + t.height;
  }

  function Cs(t, n, e) {
    return na(ws(t), t.y, e.southeast(), Ra(), "southeast", ra(t, {
      left: 0,
      top: 2
    }), nf);
  }

  function Os(t, n, e) {
    return na(Ss(t, n), t.y, e.southwest(), Va(), "southwest", ra(t, {
      right: 1,
      top: 2
    }), nf);
  }

  function _s(t, n, e) {
    return na(ws(t), ks(t, n), e.northeast(), Pa(), "northeast", ra(t, {
      left: 0,
      bottom: 3
    }), nf);
  }

  function Ts(t, n, e) {
    return na(Ss(t, n), ks(t, n), e.northwest(), Ha(), "northwest", ra(t, {
      right: 1,
      bottom: 3
    }), nf);
  }

  function Es() {
    return [Cs, Os, _s, Ts];
  }

  function Ds() {
    return [Os, Cs, Ts, _s];
  }

  function Bs(t, n, e, o, r, i, u) {
    var a,
        c,
        s,
        l,
        f,
        d,
        m,
        g,
        p,
        h,
        v,
        b,
        y,
        x,
        w = {
      anchorBox: e.anchorBox,
      origin: n
    };
    return a = w, c = r.element, s = e.bubble, l = e.layouts, f = i, d = o, m = e.overrides, g = u, h = bc(m, "maxHeightFunction", Mc()), v = bc(m, "maxWidthFunction", ct), b = a.anchorBox, y = a.origin, x = {
      bounds: (p = y, d.fold(function () {
        return p.fold(Fi, Fi, Bi);
      }, function (e) {
        return p.fold(e, e, function () {
          var t = e(),
              n = uc(p, t.x, t.y);
          return Bi(n.left, n.top, t.width, t.height);
        });
      })),
      origin: y,
      preference: l,
      maxHeightFunction: h,
      maxWidthFunction: v,
      lastPlacement: f,
      transition: g
    }, Ic(b, c, s, x);
  }

  function As(t, n) {
    Gi(t.element, n.element);
  }

  function Ms(n, t) {
    var e,
        o = n.components();
    dt((e = n).components(), function (t) {
      return Xi(t.element);
    }), xr(e.element), e.syncComponents();
    var r = j(o, t);
    dt(r, function (t) {
      sf(t), n.getSystem().removeFromWorld(t);
    }), dt(t, function (t) {
      t.getSystem().isConnected() ? As(n, t) : (n.getSystem().addToWorld(t), As(n, t), du(n.element) && lf(t)), n.syncComponents();
    });
  }

  function Fs(t, n) {
    ff(t, n, Gi);
  }

  function Is(t) {
    sf(t), Xi(t.element), t.getSystem().removeFromWorld(t);
  }

  function Rs(n) {
    var t = ar(n.element).bind(function (t) {
      return n.getSystem().getByDom(t).toOptional();
    });
    Is(n), t.each(function (t) {
      t.syncComponents();
    });
  }

  function Vs(t) {
    var n = t.components();
    dt(n, Is), xr(t.element), t.syncComponents();
  }

  function Ps(t, n) {
    df(t, n, Gi);
  }

  function Hs(n) {
    var t = sr(n.element);
    dt(t, function (t) {
      n.getByDom(t).each(sf);
    }), Xi(n.element);
  }

  function zs(n, t, e, o) {
    e.get().each(function (t) {
      Vs(n);
    }), Fs(t.getAttachPoint(n), n);
    var r = n.getSystem().build(o);
    return Fs(n, r), e.set(r), r;
  }

  function Ns(t, n, e, o) {
    var r = zs(t, n, e, o);
    return n.onOpen(t, r), r;
  }

  function Ls(n, e, o) {
    o.get().each(function (t) {
      Vs(n), Rs(n), e.onClose(n, t), o.clear();
    });
  }

  function js(t, n, e) {
    return e.isOpen();
  }

  function Ws(t) {
    var e = Yt("Dismissal", yf, t),
        n = {};
    return n[hf()] = {
      schema: Ht([Jt("target")]),
      onReceive: function onReceive(n, t) {
        pf.isOpen(n) && (pf.isPartOf(n, t.target) || e.isExtraPart(n, t.target) || e.fireEventInstead.fold(function () {
          return pf.close(n);
        }, function (t) {
          return ze(n, t.event);
        }));
      }
    }, n;
  }

  function Us(t) {
    var e = Yt("Reposition", xf, t),
        n = {};
    return n[vf()] = {
      onReceive: function onReceive(n) {
        pf.isOpen(n) && e.fireEventInstead.fold(function () {
          return e.doReposition(n);
        }, function (t) {
          return ze(n, t.event);
        });
      }
    }, n;
  }

  function Gs(t, n, e) {
    n.store.manager.onLoad(t, n, e);
  }

  function Xs(t, n, e) {
    n.store.manager.onUnload(t, n, e);
  }

  function Ys() {
    var t = wn(null);
    return au({
      set: t.set,
      get: t.get,
      isNotSet: function isNotSet() {
        return null === t.get();
      },
      clear: function clear() {
        t.set(null);
      },
      readState: function readState() {
        return {
          mode: "memory",
          value: t.get()
        };
      }
    });
  }

  function qs() {
    var i = wn({}),
        u = wn({});
    return au({
      readState: function readState() {
        return {
          mode: "dataset",
          dataByValue: i.get(),
          dataByText: u.get()
        };
      },
      lookup: function lookup(t) {
        return kt(i.get(), t).orThunk(function () {
          return kt(u.get(), t);
        });
      },
      update: function update(t) {
        var n = i.get(),
            e = u.get(),
            o = {},
            r = {};
        dt(t, function (n) {
          kt(o[n.value] = n, "meta").each(function (t) {
            kt(t, "text").each(function (t) {
              r[t] = n;
            });
          });
        }), i.set(_st(_st({}, n), o)), u.set(_st(_st({}, e), r));
      },
      clear: function clear() {
        i.set({}), u.set({});
      }
    });
  }

  function Ks(t, n, e, o) {
    var r = n.store;
    e.update([o]), r.setValue(t, o), n.onSetValue(t, o);
  }

  function Js(o, t) {
    return xn(o, {}, A(t, function (t) {
      return n = t.name(), e = "Cannot configure " + t.name() + " for " + o, le(n, n, Bt(), It(function (t) {
        return Nn("The field: " + n + " is forbidden. " + e);
      }));
      var n, e;
    }).concat([fe("dump", h)]));
  }

  function $s(t) {
    return t.dump;
  }

  function Qs(t, n) {
    return _st(_st({}, t.dump), Za(n));
  }

  function Zs(t) {
    return Kn(t, "uiType");
  }

  function tl(t) {
    return t.fold(ft.some, ft.none, ft.some, ft.some);
  }

  function nl(t) {
    function n(t) {
      return t.name;
    }

    return t.fold(n, n, n, n);
  }

  function el(e, o) {
    return function (t) {
      var n = Yt("Converting part type", o, t);
      return e(n);
    };
  }

  function ol(t, n, e, o) {
    return Jn(n.defaults(t, e, o), e, {
      uid: t.partUids[n.name]
    }, n.overrides(t, e, o));
  }

  function rl(r, t) {
    var n = {};
    return dt(t, function (t) {
      tl(t).each(function (e) {
        var o = Zf(r, e.pname);

        n[e.name] = function (t) {
          var n = Yt("Part: " + e.name + " in " + r, te(e.schema), t);
          return _st(_st({}, o), {
            config: t,
            validated: n
          });
        };
      });
    }), n;
  }

  function il(t, n, e) {
    return {
      uiType: If(),
      owner: t,
      name: n,
      config: e,
      validated: {}
    };
  }

  function ul(t) {
    return z(t, function (t) {
      return t.fold(ft.none, ft.some, ft.none, ft.none).map(function (t) {
        return nn(t.name, t.schema.concat([ta($f())]));
      }).toArray();
    });
  }

  function al(t) {
    return A(t, nl);
  }

  function cl(t, n, e) {
    return o = n, r = {}, i = {}, dt(e, function (t) {
      t.fold(function (o) {
        r[o.pname] = Mf(!0, function (t, n, e) {
          return o.factory.sketch(ol(t, o, n, e));
        });
      }, function (t) {
        var n = o.parts[t.name];
        i[t.name] = tt(t.factory.sketch(ol(o, t, n[$f()]), n));
      }, function (o) {
        r[o.pname] = Mf(!1, function (t, n, e) {
          return o.factory.sketch(ol(t, o, n, e));
        });
      }, function (o) {
        r[o.pname] = Ff(!0, function (n, t, e) {
          return A(n[o.name], function (t) {
            return o.factory.sketch(Jn(o.defaults(n, t, e), t, o.overrides(n, t)));
          });
        });
      });
    }), {
      internals: tt(r),
      externals: tt(i)
    };
    var o, r, i;
  }

  function sl(t, n, e) {
    return o = ft.some(t), i = (r = n).components, s = yt(e, function (t, n) {
      return o = t, r = !1, {
        name: tt(e = n),
        required: function required() {
          return o.fold(function (t, n) {
            return t;
          }, function (t, n) {
            return t;
          });
        },
        used: function used() {
          return r;
        },
        replace: function replace() {
          if (r) throw new Error("Trying to use the same placeholder more than once: " + e);
          return r = !0, o;
        }
      };
      var e, o, r;
    }), u = o, a = r, c = s, l = z(i, function (t) {
      return Af(u, a, t, c);
    }), bt(s, function (t) {
      if (!1 === t.used() && t.required()) throw new Error("Placeholder: " + t.name() + " was not found in components list\nNamespace: " + o.getOr("none") + "\nComponents: " + JSON.stringify(r.components, null, 2));
    }), l;
    var o, r, i, u, a, c, s, l;
  }

  function ll(t, n, e) {
    var o = n.partUids[e];
    return t.getSystem().getByUid(o).toOptional();
  }

  function fl(t, n, e) {
    return ll(t, n, e).getOrDie("Could not find part: " + e);
  }

  function dl(t, n, e) {
    var o = {},
        r = n.partUids,
        i = t.getSystem();
    return dt(e, function (t) {
      o[t] = tt(i.getByUid(r[t]));
    }), o;
  }

  function ml(t, n) {
    var e = t.getSystem();
    return yt(n.partUids, function (t, n) {
      return tt(e.getByUid(t));
    });
  }

  function gl(t) {
    return Xn(t.partUids);
  }

  function pl(t, n, e) {
    var o = {},
        r = n.partUids,
        i = t.getSystem();
    return dt(e, function (t) {
      o[t] = tt(i.getByUid(r[t]).getOrDie());
    }), o;
  }

  function hl(n, t) {
    return Me(A(al(t), function (t) {
      return {
        key: t,
        value: n + "-" + t
      };
    }));
  }

  function vl(n) {
    return le("partUids", "partUids", At(function (t) {
      return hl(t.uid, n);
    }), ee());
  }

  function bl(t, n, e, o, r) {
    var i;
    return Yt(t + " [SpecSchema]", Ht((i = r, (0 < o.length ? [nn("parts", o)] : []).concat([Jt("uid"), dn("dom", {}), dn("components", []), ta("originalSpec"), dn("debug.sketcher", {})]).concat(i)).concat(n)), e);
  }

  function yl(t, n, e, o, r) {
    var i = nd(r),
        u = bl(t, n, i, ul(e), [vl(e)]),
        a = cl(0, u, e);
    return o(u, sl(t, u, a.internals()), i, a.externals());
  }

  function xl(t) {
    var r = Yt("Sketcher for " + t.name, ed, t),
        n = yt(r.apis, Vr),
        e = yt(r.extraApis, Ir);
    return _st(_st({
      name: r.name,
      configFields: r.configFields,
      sketch: function sketch(t) {
        return n = r.name, e = r.configFields, (0, r.factory)(bl(n, e, o = nd(t), [], []), o);
        var n, e, o;
      }
    }, n), e);
  }

  function wl(t) {
    var n = Yt("Sketcher for " + t.name, od, t),
        e = rl(n.name, n.partFields),
        o = yt(n.apis, Vr),
        r = yt(n.extraApis, Ir);
    return _st(_st({
      name: n.name,
      partFields: n.partFields,
      configFields: n.configFields,
      sketch: function sketch(t) {
        return yl(n.name, n.configFields, n.partFields, n.factory, t);
      },
      parts: e
    }, o), r);
  }

  function Sl(t) {
    return "input" === nr(t) && "radio" !== _r(t, "type") || "textarea" === nr(t);
  }

  function kl(t, n, e) {
    (n.disabled() ? ad : cd)(t, n);
  }

  function Cl(t, n) {
    return !0 === n.useNative && et(ud, nr(t.element));
  }

  function Ol(t, n) {
    return Cl(t, n) ? Er(t.element, "disabled") : "true" === _r(t.element, "aria-disabled");
  }

  function _l(e, o, t, r) {
    var n = gs(e.element, "." + o.highlightClass);
    dt(n, function (n) {
      T(r, function (t) {
        return t.element === n;
      }) || (Gr(n, o.highlightClass), e.getSystem().getByDom(n).each(function (t) {
        o.onDehighlight(e, t), ze(t, qo());
      }));
    });
  }

  function Tl(t, n, e, o) {
    _l(t, n, 0, [o]), Ul(0, n, 0, o) || (Ur(o.element, n.highlightClass), n.onHighlight(t, o), ze(o, Yo()));
  }

  function El(e, n, t, o) {
    var r = gs(e.element, "." + n.itemClass);
    return P(r, function (t) {
      return Xr(t, n.highlightClass);
    }).bind(function (t) {
      var n = ea(t, o, 0, r.length - 1);
      return e.getSystem().getByDom(r[n]).toOptional();
    });
  }

  function Dl(t, n, e) {
    var o = L(t.slice(0, n)),
        r = L(t.slice(n + 1));
    return V(o.concat(r), e);
  }

  function Bl(t, n, e) {
    return V(L(t.slice(0, n)), e);
  }

  function Al(t, n, e) {
    var o = t.slice(0, n);
    return V(t.slice(n + 1).concat(o), e);
  }

  function Ml(t, n, e) {
    return V(t.slice(n + 1), e);
  }

  function Fl(e) {
    return function (t) {
      var n = t.raw;
      return et(e, n.which);
    };
  }

  function Il(t) {
    return function (n) {
      return N(t, function (t) {
        return t(n);
      });
    };
  }

  function Rl(t) {
    return !0 === t.raw.shiftKey;
  }

  function Vl(t) {
    return !0 === t.raw.ctrlKey;
  }

  function Pl(t, n) {
    return {
      matches: t,
      classification: n
    };
  }

  function Hl(t, n, e) {
    n.exists(function (n) {
      return e.exists(function (t) {
        return Bn(t, n);
      });
    }) || Ne(t, Wo(), {
      prevFocus: n,
      newFocus: e
    });
  }

  function zl() {
    function o(t) {
      return Oa(t.element);
    }

    return {
      get: o,
      set: function set(t, n) {
        var e = o(t);
        t.getSystem().triggerFocus(n, t.element), Hl(t, e, o(t));
      }
    };
  }

  function Nl() {
    function r(t) {
      return md.getHighlighted(t).map(function (t) {
        return t.element;
      });
    }

    return {
      get: r,
      set: function set(n, t) {
        var e = r(n);
        n.getSystem().getByDom(t).fold(ct, function (t) {
          md.highlight(n, t);
        });
        var o = r(n);
        Hl(n, e, o);
      }
    };
  }

  fs.ltr, fs.rtl;

  function Ll(t, n, e, o, r, i) {
    var u = i.map(Ai);
    return af(t, n, e, o, r, u);
  }

  function jl(t, n, e) {
    var o,
        r,
        i,
        u = n.getAttachPoint(t);
    ni(t.element, "position", cf.getMode(u)), i = n.cloakVisibilityAttr, ii((o = t).element, r = "visibility").fold(function () {
      Dr(o.element, i);
    }, function (t) {
      Or(o.element, i, t);
    }), ni(o.element, r, "hidden");
  }

  function Wl(t, n, e) {
    var o,
        r,
        i,
        u = t.element;
    T(["top", "left", "right", "bottom"], function (t) {
      return ii(u, t).isSome();
    }) || ai(t.element, "position"), r = "visibility", i = n.cloakVisibilityAttr, Tr((o = t).element, i).fold(function () {
      return ai(o.element, r);
    }, function (t) {
      return ni(o.element, r, t);
    });
  }

  function Ul(t, n, e, o) {
    return Xr(o.element, n.highlightClass);
  }

  function Gl(n, t, e) {
    return Fu(n.element, "." + t.itemClass).bind(function (t) {
      return n.getSystem().getByDom(t).toOptional();
    });
  }

  function Xl(n, t, e) {
    var o = gs(n.element, "." + t.itemClass);
    return (0 < o.length ? ft.some(o[o.length - 1]) : ft.none()).bind(function (t) {
      return n.getSystem().getByDom(t).toOptional();
    });
  }

  function Yl(n, t, e) {
    return Jr(A(gs(n.element, "." + t.itemClass), function (t) {
      return n.getSystem().getByDom(t).toOptional();
    }));
  }

  var ql,
      Kl,
      Jl,
      $l,
      Ql = (ql = Vi, {
    get: function get(t) {
      if (!ql(t)) throw new Error("Can only get text value of a text node");
      return Kl(t).getOr("");
    },
    getOption: Kl = function Kl(t) {
      return ql(t) ? ft.from(t.dom.nodeValue) : ft.none();
    },
    set: function set(t, n) {
      if (!ql(t)) throw new Error("Can only set raw text value of a text node");
      t.dom.nodeValue = n;
    }
  }),
      Zl = ["img", "br"],
      tf = [rn("getSelection"), Jt("root"), rn("bubble"), zc(), dn("overrides", {}), dn("showAbove", !1), Zu("placement", function (t, n, e) {
    var r = ur(n.root).dom,
        o = Gc(t, 0, n);
    return Yc(xs(r, n).bind(function (e) {
      return t = r, n = ls.exactFromRange(e), (0 < (o = Qc(t, n).getBoundingClientRect()).width || 0 < o.height ? ft.some(o).map(Jc) : ft.none()).orThunk(function () {
        var t = de.fromText("\uFEFF");
        hr(e.start, t);
        var n = vs(r, ls.exact(t, 0, t, 1));
        return Xi(t), n;
      }).bind(function (t) {
        return Xc(t.left, t.top, t.width, t.height);
      });
      var t, n, o;
    }), o, n, e, xs(r, n).bind(function (t) {
      return Ri(t.start) ? ft.some(t.start) : zi(t.start);
    }).getOr(t.element));
  })],
      nf = "link-layout",
      ef = qt("type", {
    selection: tf,
    node: is,
    hotspot: ts,
    submenu: [Jt("item"), zc(), dn("overrides", {}), Zu("placement", function (t, n, e) {
      var o = Aa(e, n.item.element),
          r = Nc(t.element, n, Es(), Ds(), Es(), Ds(), ft.none());
      return ft.some(Vc({
        anchorBox: o,
        bubble: xc(),
        overrides: n.overrides,
        layouts: r,
        placer: ft.none()
      }));
    })],
    makeshift: ns
  }),
      of = [on("classes", re), hn("mode", "all", ["all", "layout", "placement"])],
      rf = [dn("useFixed", O), rn("getBounds")],
      uf = [$t("anchor", ef), fn("transition", of)],
      af = function af(c, s, l, f, t, d) {
    var m = Yt("placement.info", te(uf), t),
        g = m.anchor,
        p = f.element,
        h = l.get(f.uid);

    _a(function () {
      ni(p, "position", "fixed");
      var t = ii(p, "visibility");
      ni(p, "visibility", "hidden");
      var n,
          e,
          o,
          r,
          i = s.useFixed() ? (r = document.documentElement, Oc(0, 0, r.clientWidth, r.clientHeight)) : (e = xi((n = c).element), o = n.element.dom.getBoundingClientRect(), Cc(e.left, e.top, o.width, o.height)),
          u = g.placement,
          a = d.map(tt).or(s.getBounds);
      u(c, g, i).each(function (t) {
        var n = t.placer.getOr(Bs)(c, i, t, a, f, h, m.transition);
        l.set(f.uid, n);
      }), t.fold(function () {
        ai(p, "visibility");
      }, function (t) {
        ni(p, "visibility", t);
      }), ii(p, "left").isNone() && ii(p, "top").isNone() && ii(p, "right").isNone() && ii(p, "bottom").isNone() && Kr(ii(p, "position"), "fixed") && ai(p, "position");
    }, p);
  },
      cf = xa({
    fields: rf,
    name: "positioning",
    active: rc,
    apis: Object.freeze({
      __proto__: null,
      position: function position(t, n, e, o, r) {
        Ll(t, n, e, o, r, ft.none());
      },
      positionWithin: Ll,
      positionWithinBounds: af,
      getMode: function getMode(t, n, e) {
        return n.useFixed() ? "fixed" : "absolute";
      },
      reset: function reset(t, n, e, o) {
        var r = o.element;
        dt(["position", "left", "right", "top", "bottom"], function (t) {
          return ai(r, t);
        }), Dr(r, _c), e.clear(o.uid);
      }
    }),
    state: Object.freeze({
      __proto__: null,
      init: function init() {
        var e = {};
        return au({
          readState: function readState() {
            return e;
          },
          clear: function clear(t) {
            f(t) ? delete e[t] : e = {};
          },
          set: function set(t, n) {
            e[t] = n;
          },
          get: function get(t) {
            return kt(e, t);
          }
        });
      }
    })
  }),
      sf = function sf(t) {
    ze(t, No());
    var n = t.components();
    dt(n, sf);
  },
      lf = function lf(t) {
    var n = t.components();
    dt(n, lf), ze(t, zo());
  },
      ff = function ff(t, n, e) {
    t.getSystem().addToWorld(n), e(t.element, n.element), du(t.element) && lf(n), t.syncComponents();
  },
      df = function df(t, n, e) {
    e(t, n.element);
    var o = sr(n.element);
    dt(o, function (t) {
      n.getByDom(t).each(lf);
    });
  },
      mf = Object.freeze({
    __proto__: null,
    cloak: jl,
    decloak: Wl,
    open: Ns,
    openWhileCloaked: function openWhileCloaked(t, n, e, o, r) {
      jl(t, n), Ns(t, n, e, o), r(), Wl(t, n);
    },
    close: Ls,
    isOpen: js,
    isPartOf: function isPartOf(n, e, t, o) {
      return js(0, 0, t) && t.get().exists(function (t) {
        return e.isPartOf(n, t, o);
      });
    },
    getState: function getState(t, n, e) {
      return e.get();
    },
    setContent: function setContent(t, n, e, o) {
      return e.get().map(function () {
        return zs(t, n, e, o);
      });
    }
  }),
      gf = Object.freeze({
    __proto__: null,
    events: function events(e, o) {
      return Jo([Xe(Mo(), function (t, n) {
        Ls(t, e, o);
      })]);
    }
  }),
      pf = xa({
    fields: [Ku("onOpen"), Ku("onClose"), Jt("isPartOf"), Jt("getAttachPoint"), dn("cloakVisibilityAttr", "data-precloak-visibility")],
    name: "sandboxing",
    active: gf,
    apis: mf,
    state: Object.freeze({
      __proto__: null,
      init: function init() {
        var t = fc(),
            n = tt("not-implemented");
        return au({
          readState: n,
          isOpen: t.isSet,
          clear: t.clear,
          set: t.set,
          get: t.get
        });
      }
    })
  }),
      hf = tt("dismiss.popups"),
      vf = tt("reposition.popups"),
      bf = tt("mouse.released"),
      yf = Ht([dn("isExtraPart", O), fn("fireEventInstead", [dn("event", Lo())])]),
      xf = Ht([fn("fireEventInstead", [dn("event", jo())]), tn("doReposition")]),
      wf = Object.freeze({
    __proto__: null,
    onLoad: Gs,
    onUnload: Xs,
    setValue: function setValue(t, n, e, o) {
      n.store.manager.setValue(t, n, e, o);
    },
    getValue: function getValue(t, n, e) {
      return n.store.manager.getValue(t, n, e);
    },
    getState: function getState(t, n, e) {
      return e;
    }
  }),
      Sf = Object.freeze({
    __proto__: null,
    events: function events(e, o) {
      var t = e.resetOnDom ? [$o(function (t, n) {
        Gs(t, e, o);
      }), Qo(function (t, n) {
        Xs(t, e, o);
      })] : [ba(e, o, Gs)];
      return Jo(t);
    }
  }),
      kf = Object.freeze({
    __proto__: null,
    memory: Ys,
    dataset: qs,
    manual: function manual() {
      return au({
        readState: ct
      });
    },
    init: function init(t) {
      return t.store.manager.state(t);
    }
  }),
      Cf = [rn("initialValue"), Jt("getFallbackEntry"), Jt("getDataKey"), Jt("setValue"), Zu("manager", {
    setValue: Ks,
    getValue: function getValue(t, n, e) {
      var o = n.store,
          r = o.getDataKey(t);
      return e.lookup(r).getOrThunk(function () {
        return o.getFallbackEntry(r);
      });
    },
    onLoad: function onLoad(n, e, o) {
      e.store.initialValue.each(function (t) {
        Ks(n, e, o, t);
      });
    },
    onUnload: function onUnload(t, n, e) {
      e.clear();
    },
    state: qs
  })],
      Of = [Jt("getValue"), dn("setValue", ct), rn("initialValue"), Zu("manager", {
    setValue: function setValue(t, n, e, o) {
      n.store.setValue(t, o), n.onSetValue(t, o);
    },
    getValue: function getValue(t, n, e) {
      return n.store.getValue(t);
    },
    onLoad: function onLoad(n, e, t) {
      e.store.initialValue.each(function (t) {
        e.store.setValue(n, t);
      });
    },
    onUnload: ct,
    state: uu.init
  })],
      _f = xa({
    fields: [mn("store", {
      mode: "memory"
    }, qt("mode", {
      memory: [rn("initialValue"), Zu("manager", {
        setValue: function setValue(t, n, e, o) {
          e.set(o), n.onSetValue(t, o);
        },
        getValue: function getValue(t, n, e) {
          return e.get();
        },
        onLoad: function onLoad(t, n, e) {
          n.store.initialValue.each(function (t) {
            e.isNotSet() && e.set(t);
          });
        },
        onUnload: function onUnload(t, n, e) {
          e.clear();
        },
        state: Ys
      })],
      manual: Of,
      dataset: Cf
    })), Ku("onSetValue"), dn("resetOnDom", !1)],
    name: "representing",
    active: Sf,
    apis: wf,
    extra: {
      setValueFrom: function setValueFrom(t, n) {
        var e = _f.getValue(n);

        _f.setValue(t, e);
      }
    },
    state: kf
  }),
      Tf = Js,
      Ef = Qs,
      Df = "placeholder",
      Bf = Vn([{
    single: ["required", "valueThunk"]
  }, {
    multiple: ["required", "valueThunks"]
  }]),
      Af = function Af(r, i, u, a) {
    return t = r, e = a, (Zs(n = u) && n.uiType === Df ? (c = n, s = e, (o = t).exists(function (t) {
      return t !== c.owner;
    }) ? Bf.single(!0, tt(c)) : kt(s, c.name).fold(function () {
      throw new Error("Unknown placeholder component: " + c.name + "\nKnown: [" + Xn(s) + "]\nNamespace: " + o.getOr("none") + "\nSpec: " + JSON.stringify(c, null, 2));
    }, function (t) {
      return t.replace();
    })) : Bf.single(!1, tt(n))).fold(function (t, n) {
      var e = Zs(u) ? n(i, u.config, u.validated) : n(i),
          o = z(kt(e, "components").getOr([]), function (t) {
        return Af(r, i, t, a);
      });
      return [_st(_st({}, e), {
        components: o
      })];
    }, function (t, n) {
      if (Zs(u)) {
        var e = n(i, u.config, u.validated);
        return u.validated.preprocess.getOr(h)(e);
      }

      return n(i);
    });
    var t, n, e, o, c, s;
  },
      Mf = Bf.single,
      Ff = Bf.multiple,
      If = tt(Df),
      Rf = Vn([{
    required: ["data"]
  }, {
    external: ["data"]
  }, {
    optional: ["data"]
  }, {
    group: ["data"]
  }]),
      Vf = dn("factory", {
    sketch: h
  }),
      Pf = dn("schema", []),
      Hf = Jt("name"),
      zf = le("pname", "pname", Et(function (t) {
    return "<alloy." + Ar(t.name) + ">";
  }), ee()),
      Nf = fe("schema", function () {
    return [rn("preprocess")];
  }),
      Lf = dn("defaults", tt({})),
      jf = dn("overrides", tt({})),
      Wf = te([Vf, Pf, Hf, zf, Lf, jf]),
      Uf = te([Vf, Pf, Hf, Lf, jf]),
      Gf = te([Vf, Pf, Hf, zf, Lf, jf]),
      Xf = te([Vf, Nf, Hf, Jt("unit"), zf, Lf, jf]),
      Yf = el(Rf.required, Wf),
      qf = el(Rf.external, Uf),
      Kf = el(Rf.optional, Gf),
      Jf = el(Rf.group, Xf),
      $f = tt("entirety"),
      Qf = Object.freeze({
    __proto__: null,
    required: Yf,
    external: qf,
    optional: Kf,
    group: Jf,
    asNamedPart: tl,
    name: nl,
    asCommon: function asCommon(t) {
      return t.fold(h, h, h, h);
    },
    original: $f
  }),
      Zf = function Zf(t, n) {
    return {
      uiType: If(),
      owner: t,
      name: n
    };
  },
      td = Object.freeze({
    __proto__: null,
    generate: rl,
    generateOne: il,
    schemas: ul,
    names: al,
    substitutes: cl,
    components: sl,
    defaultUids: hl,
    defaultUidsSchema: vl,
    getAllParts: ml,
    getAllPartNames: gl,
    getPart: ll,
    getPartOrDie: fl,
    getParts: dl,
    getPartsOrDie: pl
  }),
      nd = function nd(t) {
    return Kn(t, "uid") ? t : _st(_st({}, t), {
      uid: nu("uid")
    });
  },
      ed = Ht([Jt("name"), Jt("factory"), Jt("configFields"), dn("apis", {}), dn("extraApis", {})]),
      od = Ht([Jt("name"), Jt("factory"), Jt("configFields"), Jt("partFields"), dn("apis", {}), dn("extraApis", {})]),
      rd = Object.freeze({
    __proto__: null,
    getCurrent: function getCurrent(t, n, e) {
      return n.find(t);
    }
  }),
      id = xa({
    fields: [Jt("find")],
    name: "composing",
    apis: rd
  }),
      ud = ["input", "button", "textarea", "select"],
      ad = function ad(n, t, e) {
    t.disableClass.each(function (t) {
      Ur(n.element, t);
    }), (Cl(n, t) ? function (t) {
      Or(t.element, "disabled", "disabled");
    } : function (t) {
      Or(t.element, "aria-disabled", "true");
    })(n), t.onDisabled(n);
  },
      cd = function cd(n, t, e) {
    t.disableClass.each(function (t) {
      Gr(n.element, t);
    }), (Cl(n, t) ? function (t) {
      Dr(t.element, "disabled");
    } : function (t) {
      Or(t.element, "aria-disabled", "false");
    })(n), t.onEnabled(n);
  },
      sd = Object.freeze({
    __proto__: null,
    enable: cd,
    disable: ad,
    isDisabled: Ol,
    onLoad: kl,
    set: function set(t, n, e, o) {
      (o ? ad : cd)(t, n);
    }
  }),
      ld = Object.freeze({
    __proto__: null,
    exhibit: function exhibit(t, n) {
      return Hr({
        classes: n.disabled() ? n.disableClass.toArray() : []
      });
    },
    events: function events(e, t) {
      return Jo([Ue(Eo(), function (t, n) {
        return Ol(t, e);
      }), ba(e, t, kl)]);
    }
  }),
      fd = xa({
    fields: [bn("disabled", O), dn("useNative", !0), rn("disableClass"), Ku("onDisabled"), Ku("onEnabled")],
    name: "disabling",
    active: ld,
    apis: sd
  }),
      dd = Object.freeze({
    __proto__: null,
    dehighlightAll: function dehighlightAll(t, n, e) {
      return _l(t, n, 0, []);
    },
    dehighlight: function dehighlight(t, n, e, o) {
      Ul(0, n, 0, o) && (Gr(o.element, n.highlightClass), n.onDehighlight(t, o), ze(o, qo()));
    },
    highlight: Tl,
    highlightFirst: function highlightFirst(n, e, t) {
      Gl(n, e).each(function (t) {
        Tl(n, e, 0, t);
      });
    },
    highlightLast: function highlightLast(n, e, t) {
      Xl(n, e).each(function (t) {
        Tl(n, e, 0, t);
      });
    },
    highlightAt: function highlightAt(n, e, t, o) {
      var r, i, u;
      i = o, u = gs((r = n).element, "." + e.itemClass), ft.from(u[i]).fold(function () {
        return mt.error(new Error("No element found with index " + i));
      }, r.getSystem().getByDom).fold(function (t) {
        throw t;
      }, function (t) {
        Tl(n, e, 0, t);
      });
    },
    highlightBy: function highlightBy(n, e, t, o) {
      V(Yl(n, e), o).each(function (t) {
        Tl(n, e, 0, t);
      });
    },
    isHighlighted: Ul,
    getHighlighted: function getHighlighted(n, t, e) {
      return Fu(n.element, "." + t.highlightClass).bind(function (t) {
        return n.getSystem().getByDom(t).toOptional();
      });
    },
    getFirst: Gl,
    getLast: Xl,
    getPrevious: function getPrevious(t, n, e) {
      return El(t, n, 0, -1);
    },
    getNext: function getNext(t, n, e) {
      return El(t, n, 0, 1);
    },
    getCandidates: Yl
  }),
      md = xa({
    fields: [Jt("highlightClass"), Jt("itemClass"), Ku("onHighlight"), Ku("onDehighlight")],
    name: "highlighting",
    apis: dd
  }),
      gd = [8],
      pd = [9],
      hd = [13],
      vd = [27],
      bd = [32],
      yd = [37],
      xd = [38],
      wd = [39],
      Sd = [40],
      kd = k(Rl);

  function Cd(t, n, e, o, a) {
    function c(n, e, t, o, r) {
      var i = t(n, e, o, r),
          u = e.event;
      return V(i, function (t) {
        return t.matches(u);
      }).map(function (t) {
        return t.classification;
      }).bind(function (t) {
        return t(n, e, o, r);
      });
    }

    var r = {
      schema: function schema() {
        return t.concat([dn("focusManager", zl()), mn("focusInside", "onFocus", Wt(function (t) {
          return et(["onFocus", "onEnterOrSpace", "onApi"], t) ? mt.value(t) : mt.error("Invalid value for focusInside");
        })), Zu("handler", r), Zu("state", n), Zu("sendFocusIn", a)]);
      },
      processKey: c,
      toEvents: function toEvents(i, u) {
        var t = i.focusInside !== Jl.OnFocusMode ? ft.none() : a(i).map(function (e) {
          return Xe(Co(), function (t, n) {
            e(t, i, u), n.stop();
          });
        }),
            n = [Xe(go(), function (o, r) {
          c(o, r, e, i, u).fold(function () {
            var n = o,
                e = r,
                t = Fl(bd.concat(hd))(e.event);
            i.focusInside === Jl.OnEnterOrSpaceMode && t && Ve(n, e) && a(i).each(function (t) {
              t(n, i, u), e.stop();
            });
          }, function (t) {
            r.stop();
          });
        }), Xe(po(), function (t, n) {
          c(t, n, o, i, u).each(function (t) {
            n.stop();
          });
        })];
        return Jo(t.toArray().concat(n));
      }
    };
    return r;
  }

  function Od(t) {
    function a(t, n) {
      return 0 < vi(t.visibilitySelector.bind(function (t) {
        return Iu(n, t);
      }).getOr(n));
    }

    function n(n, e, t) {
      var o = e,
          r = F(gs(n.element, o.selector), function (t) {
        return a(o, t);
      });
      ft.from(r[o.firstTabstop]).each(function (t) {
        e.focusManager.set(n, t);
      });
    }

    function o(e, t, r, i) {
      var n,
          u = gs(e.element, r.selector);
      return (n = r).focusManager.get(e).bind(function (t) {
        return Iu(t, n.selector);
      }).bind(function (t) {
        return P(u, S(Bn, t)).bind(function (t) {
          return n = e, o = r, i(u, t, function (t) {
            return a(n = o, e = t) && n.useTabstopAt(e);
            var n, e;
          }).fold(function () {
            return o.cyclic ? ft.some(!0) : ft.none();
          }, function (t) {
            return o.focusManager.set(n, t), ft.some(!0);
          });
          var n, o;
        });
      });
    }

    var e = [rn("onEscape"), rn("onEnter"), dn("selector", '[data-alloy-tabstop="true"]:not(:disabled)'), dn("firstTabstop", 0), dn("useTabstopAt", _), rn("visibilitySelector")].concat([t]),
        r = tt([Pl(Il([Rl, Fl(pd)]), function (t, n, e) {
      return o(t, 0, e, e.cyclic ? Dl : Bl);
    }), Pl(Fl(pd), function (t, n, e) {
      return o(t, 0, e, e.cyclic ? Al : Ml);
    }), Pl(Fl(vd), function (n, e, t) {
      return t.onEscape.bind(function (t) {
        return t(n, e);
      });
    }), Pl(Il([kd, Fl(hd)]), function (n, e, t) {
      return t.onEnter.bind(function (t) {
        return t(n, e);
      });
    })]),
        i = tt([]);
    return Cd(e, uu.init, r, i, function () {
      return ft.some(n);
    });
  }

  function _d(t, n, e) {
    return Sl(e) && Fl(bd)(n.event) ? ft.none() : (je(t, e, Eo()), ft.some(!0));
  }

  function Td(t, n) {
    return ft.some(!0);
  }

  function Ed(t, n, e) {
    return e.execute(t, n, t.element);
  }

  function Dd() {
    var e = fc();
    return au({
      readState: function readState() {
        return e.get().map(function (t) {
          return {
            numRows: String(t.numRows),
            numColumns: String(t.numColumns)
          };
        }).getOr({
          numRows: "?",
          numColumns: "?"
        });
      },
      setGridSize: function setGridSize(t, n) {
        e.set({
          numRows: t,
          numColumns: n
        });
      },
      getNumRows: function getNumRows() {
        return e.get().map(function (t) {
          return t.numRows;
        });
      },
      getNumColumns: function getNumColumns() {
        return e.get().map(function (t) {
          return t.numColumns;
        });
      }
    });
  }

  function Bd(i) {
    return function (t, n, e, o) {
      var r = i(t.element);
      return $m(r, t, n, e, o);
    };
  }

  function Ad(t, n) {
    return Bd(wc(t, n));
  }

  function Md(t, n) {
    return Bd(wc(n, t));
  }

  function Fd(r) {
    return function (t, n, e, o) {
      return $m(r, t, n, e, o);
    };
  }

  function Id(t) {
    return !((n = t.dom).offsetWidth <= 0 && n.offsetHeight <= 0);
    var n;
  }

  function Rd(t, n, e) {
    var o,
        r = F(gs(t, e), Id);
    return P(o = r, function (t) {
      return Bn(t, n);
    }).map(function (t) {
      return {
        index: t,
        candidates: o
      };
    });
  }

  function Vd(t, n) {
    return P(t, function (t) {
      return Bn(n, t);
    });
  }

  function Pd(e, t, o, n) {
    return n(Math.floor(t / o), t % o).bind(function (t) {
      var n = t.row * o + t.column;
      return 0 <= n && n < e.length ? ft.some(e[n]) : ft.none();
    });
  }

  function Hd(r, t, i, u, a) {
    return Pd(r, t, u, function (t, n) {
      var e = t === i - 1 ? r.length - t * u : u,
          o = ea(n, a, 0, e - 1);
      return ft.some({
        row: t,
        column: o
      });
    });
  }

  function zd(r, t, i, u, a) {
    return Pd(r, t, u, function (t, n) {
      var e = ea(t, a, 0, i - 1),
          o = oa(n, 0, (e === i - 1 ? r.length - e * u : u) - 1);
      return ft.some({
        row: e,
        column: o
      });
    });
  }

  function Nd(n, e, t) {
    Fu(n.element, e.selector).each(function (t) {
      e.focusManager.set(n, t);
    });
  }

  function Ld(r) {
    return function (t, n, e, o) {
      return Rd(t, n, e.selector).bind(function (t) {
        return r(t.candidates, t.index, o.getNumRows().getOr(e.initSize.numRows), o.getNumColumns().getOr(e.initSize.numColumns));
      });
    };
  }

  function jd(t, n, e) {
    return e.captureTab ? ft.some(!0) : ft.none();
  }

  function Wd(t, n, e, i) {
    var u = function u(t, n, e) {
      var o,
          r = ea(n, i, 0, e.length - 1);
      return r === t ? ft.none() : "button" === nr(o = e[r]) && "disabled" === _r(o, "disabled") ? u(t, r, e) : ft.from(e[r]);
    };

    return Rd(t, e, n).bind(function (t) {
      var n = t.index,
          e = t.candidates;
      return u(n, n, e);
    });
  }

  function Ud(n, e, o) {
    return (r = o).focusManager.get(n).bind(function (t) {
      return Iu(t, r.selector);
    }).bind(function (t) {
      return o.execute(n, e, t);
    });
    var r;
  }

  function Gd(n, e, t) {
    e.getInitial(n).orThunk(function () {
      return Fu(n.element, e.selector);
    }).each(function (t) {
      e.focusManager.set(n, t);
    });
  }

  function Xd(t, n, e) {
    return Wd(t, e.selector, n, -1);
  }

  function Yd(t, n, e) {
    return Wd(t, e.selector, n, 1);
  }

  function qd(r) {
    return function (t, n, e, o) {
      return r(t, n, e, o).bind(function () {
        return e.executeOnMove ? Ud(t, n, e) : ft.some(!0);
      });
    };
  }

  function Kd(t, n, e) {
    return e.onEscape(t, n);
  }

  function Jd(t, n, e) {
    return ft.from(t[n]).bind(function (t) {
      return ft.from(t[e]).map(function (t) {
        return {
          rowIndex: n,
          columnIndex: e,
          cell: t
        };
      });
    });
  }

  function $d(t, n, e, o) {
    return Jd(t, n, ea(e, o, 0, t[n].length - 1));
  }

  function Qd(t, n, e, o) {
    var r = ea(e, o, 0, t.length - 1);
    return Jd(t, r, oa(n, 0, t[r].length - 1));
  }

  function Zd(t, n, e, o) {
    return Jd(t, n, oa(e + o, 0, t[n].length - 1));
  }

  function tm(t, n, e, o) {
    var r = oa(e + o, 0, t.length - 1);
    return Jd(t, r, oa(n, 0, t[r].length - 1));
  }

  function nm(n, e, t) {
    e.previousSelector(n).orThunk(function () {
      var t = e.selectors;
      return Fu(n.element, t.cell);
    }).each(function (t) {
      e.focusManager.set(n, t);
    });
  }

  function em(t, o) {
    return function (n, e, i) {
      var u = i.cycles ? t : o;
      return Iu(e, i.selectors.row).bind(function (t) {
        return Vd(gs(t, i.selectors.cell), e).bind(function (o) {
          var r = gs(n, i.selectors.row);
          return Vd(r, t).bind(function (t) {
            var n,
                e = (n = i, A(r, function (t) {
              return gs(t, n.selectors.cell);
            }));
            return u(e, t, o).map(function (t) {
              return t.cell;
            });
          });
        });
      });
    };
  }

  function om(n, e, o) {
    return o.focusManager.get(n).bind(function (t) {
      return o.execute(n, e, t);
    });
  }

  function rm(n, e, t) {
    Fu(n.element, e.selector).each(function (t) {
      e.focusManager.set(n, t);
    });
  }

  function im(t, n, e) {
    return Wd(t, e.selector, n, -1);
  }

  function um(t, n, e) {
    return Wd(t, e.selector, n, 1);
  }

  function am(t, n, e, o) {
    var r = t.getSystem().build(o);
    ff(t, r, e);
  }

  function cm(t, n, e, o) {
    V(Ag(t), function (t) {
      return Bn(o.element, t.element);
    }).each(Rs);
  }

  function sm(n, t, e, r, o) {
    var i = Ag(n);
    return ft.from(i[r]).map(function (t) {
      return cm(n, 0, 0, t), o.each(function (t) {
        am(n, 0, function (t, n) {
          var e,
              o = n;
          lr(e = t, r).fold(function () {
            Gi(e, o);
          }, function (t) {
            hr(t, o);
          });
        }, t);
      }), t;
    });
  }

  function lm(t, n) {
    var e, o;
    return {
      key: t,
      value: {
        config: {},
        me: (e = t, o = Jo(n), xa({
          fields: [Jt("enabled")],
          name: e,
          active: {
            events: tt(o)
          }
        })),
        configAsRaw: tt({}),
        initialConfig: {},
        state: uu
      }
    };
  }

  function fm(t, n) {
    n.ignore || (Sa(t.element), n.onFocus(t));
  }

  function dm(t, n, e) {
    var o = n.aria;
    o.update(t, o, e.get());
  }

  function mm(n, t, e) {
    t.toggleClass.each(function (t) {
      (e.get() ? Ur : Gr)(n.element, t);
    });
  }

  function gm(t, n, e) {
    Um(t, n, e, !e.get());
  }

  function pm(t, n, e) {
    e.set(!0), mm(t, n, e), dm(t, n, e);
  }

  function hm(t, n, e) {
    e.set(!1), mm(t, n, e), dm(t, n, e);
  }

  function vm(t, n, e) {
    Um(t, n, e, n.selected);
  }

  function bm() {
    function t(t, n) {
      n.stop(), Le(t);
    }

    return [Xe(bo(), t), Xe(Bo(), t), $e(eo()), $e(uo())];
  }

  function ym(t) {
    return Jo(lt([t.map(function (e) {
      return tr(function (t, n) {
        e(t), n.stop();
      });
    }).toArray(), bm()]));
  }

  function xm(t) {
    (Oa(t.element).isNone() || Rg.isFocused(t)) && (Rg.isFocused(t) || Rg.focus(t), Ne(t, zg, {
      item: t
    }));
  }

  function wm(t) {
    Ne(t, Ng, {
      item: t
    });
  }

  function Sm(t, n) {
    return t.x + t.width / 2 - n.width / 2;
  }

  function km(t, n) {
    return t.x + t.width - n.width;
  }

  function Cm(t, n) {
    return t.y + t.height - n.height;
  }

  function Om(t, n) {
    return t.y + t.height / 2 - n.height / 2;
  }

  function _m(t, n, e) {
    return na(km(t, n), Cm(t, n), e.insetSouthwest(), Ha(), "southwest", ra(t, {
      right: 0,
      bottom: 3
    }), rp);
  }

  function Tm(t, n, e) {
    return na(t.x, Cm(t, n), e.insetSoutheast(), Pa(), "southeast", ra(t, {
      left: 1,
      bottom: 3
    }), rp);
  }

  function Em(t, n, e) {
    return na(km(t, n), t.y, e.insetNorthwest(), Va(), "northwest", ra(t, {
      right: 0,
      top: 2
    }), rp);
  }

  function Dm(t, n, e) {
    return na(t.x, t.y, e.insetNortheast(), Ra(), "northeast", ra(t, {
      left: 1,
      top: 2
    }), rp);
  }

  function Bm(t, n, e) {
    return na(km(t, n), Om(t, n), e.insetEast(), ja(), "east", ra(t, {
      right: 0
    }), rp);
  }

  function Am(t, n, e) {
    return na(t.x, Om(t, n), e.insetWest(), La(), "west", ra(t, {
      left: 1
    }), rp);
  }

  function Mm(t) {
    switch (t) {
      case "north":
        return ip;

      case "northeast":
        return Dm;

      case "northwest":
        return Em;

      case "south":
        return up;

      case "southeast":
        return Tm;

      case "southwest":
        return _m;

      case "east":
        return Bm;

      case "west":
        return Am;
    }
  }

  function Fm(t, n, e, o, r) {
    return ac(o).map(Mm).getOr(ip)(t, n, e, o, r);
  }

  function Im(t) {
    switch (t) {
      case "north":
        return up;

      case "northeast":
        return Tm;

      case "northwest":
        return _m;

      case "south":
        return ip;

      case "southeast":
        return Dm;

      case "southwest":
        return Em;

      case "east":
        return Am;

      case "west":
        return Bm;
    }
  }

  function Rm(t, n, e, o, r) {
    return ac(o).map(Im).getOr(ip)(t, n, e, o, r);
  }

  function Vm(t) {
    var n = void 0 !== t.uid && Ct(t, "uid") ? t.uid : nu("memento");
    return {
      get: function get(t) {
        return t.getSystem().getByUid(n).getOrDie();
      },
      getOpt: function getOpt(t) {
        return t.getSystem().getByUid(n).toOptional();
      },
      asSpec: function asSpec() {
        return _st(_st({}, t), {
          uid: n
        });
      }
    };
  }

  function Pm(t) {
    return function () {
      return kt(t, fp).getOr("!not found!");
    };
  }

  function Hm(t, n) {
    var e,
        o = t.toLowerCase();

    if (sp.isRtl()) {
      var r = he(e = o, "-rtl") ? e : e + "-rtl";
      return Kn(n, r) ? r : o;
    }

    return o;
  }

  function zm(t, n) {
    return kt(n, Hm(t, n));
  }

  function Nm(t, n) {
    var e = n();
    return zm(t, e).getOrThunk(Pm(e));
  }

  function Lm() {
    return lm("add-focusable", [$o(function (t) {
      var n, e, o;
      n = t.element, e = "svg", o = function o(t) {
        return En(t, e);
      }, V(n.dom.childNodes, function (t) {
        return o(de.fromDom(t));
      }).map(de.fromDom).each(function (t) {
        return Or(t, "focusable", "false");
      });
    })]);
  }

  function jm(t, n, e, o) {
    var r,
        i,
        u,
        a = (u = n, sp.isRtl() && Kn(lp, u) ? ["tox-icon--flip"] : []),
        c = kt(e, Hm(n, e)).or(o).getOrThunk(Pm(e));
    return {
      dom: {
        tag: t.tag,
        attributes: null !== (r = t.attributes) && void 0 !== r ? r : {},
        classes: t.classes.concat(a),
        innerHtml: c
      },
      behaviours: Za(H(H([], null !== (i = t.behaviours) && void 0 !== i ? i : []), [Lm()]))
    };
  }

  function Wm(t, n, e, o) {
    return void 0 === o && (o = ft.none()), jm(n, t, e(), o);
  }

  ($l = Jl = Jl || {}).OnFocusMode = "onFocus", $l.OnEnterOrSpaceMode = "onEnterOrSpace", $l.OnApiMode = "onApi";

  function Um(t, n, e, o) {
    (o ? pm : hm)(t, n, e);
  }

  function Gm(t, n, e) {
    Or(t.element, "aria-expanded", e);
  }

  function Xm(t) {
    return "prepared" === t.type ? ft.some(t.menu) : ft.none();
  }

  var Ym = Od(fe("cyclic", O)),
      qm = Od(fe("cyclic", _)),
      Km = Cd([dn("execute", _d), dn("useSpace", !1), dn("useEnter", !0), dn("useControlEnter", !1), dn("useDown", !1)], uu.init, function (t, n, e, o) {
    var r = e.useSpace && !Sl(t.element) ? bd : [],
        i = e.useEnter ? hd : [],
        u = e.useDown ? Sd : [];
    return [Pl(Fl(r.concat(i).concat(u)), Ed)].concat(e.useControlEnter ? [Pl(Il([Vl, Fl(hd)]), Ed)] : []);
  }, function (t, n, e, o) {
    return e.useSpace && !Sl(t.element) ? [Pl(Fl(bd), Td)] : [];
  }, function () {
    return ft.none();
  }),
      Jm = Object.freeze({
    __proto__: null,
    flatgrid: Dd,
    init: function init(t) {
      return t.state(t);
    }
  }),
      $m = function $m(n, e, t, o, r) {
    return o.focusManager.get(e).bind(function (t) {
      return n(e.element, t, o, r);
    }).map(function (t) {
      return o.focusManager.set(e, t), !0;
    });
  },
      Qm = Fd,
      Zm = Fd,
      tg = Fd,
      ng = Ld(function (t, n, e, o) {
    return Hd(t, n, e, o, -1);
  }),
      eg = Ld(function (t, n, e, o) {
    return Hd(t, n, e, o, 1);
  }),
      og = Ld(function (t, n, e, o) {
    return zd(t, n, e, o, -1);
  }),
      rg = Ld(function (t, n, e, o) {
    return zd(t, n, e, o, 1);
  }),
      ig = Cd([Jt("selector"), dn("execute", _d), Ju("onEscape"), dn("captureTab", !1), Fa()], Dd, tt([Pl(Fl(yd), Ad(ng, eg)), Pl(Fl(wd), Md(ng, eg)), Pl(Fl(xd), Qm(og)), Pl(Fl(Sd), Zm(rg)), Pl(Il([Rl, Fl(pd)]), jd), Pl(Il([kd, Fl(pd)]), jd), Pl(Fl(vd), function (t, n, e) {
    return e.onEscape(t, n);
  }), Pl(Fl(bd.concat(hd)), function (n, e, o, t) {
    return (r = o).focusManager.get(n).bind(function (t) {
      return Iu(t, r.selector);
    }).bind(function (t) {
      return o.execute(n, e, t);
    });
    var r;
  })]), tt([Pl(Fl(bd), Td)]), function () {
    return ft.some(Nd);
  }),
      ug = [Jt("selector"), dn("getInitial", ft.none), dn("execute", _d), Ju("onEscape"), dn("executeOnMove", !1), dn("allowVertical", !0)],
      ag = tt([Pl(Fl(bd), Td)]),
      cg = Cd(ug, uu.init, function (t, n, e, o) {
    var r = yd.concat(e.allowVertical ? xd : []),
        i = wd.concat(e.allowVertical ? Sd : []);
    return [Pl(Fl(r), qd(Ad(Xd, Yd))), Pl(Fl(i), qd(Md(Xd, Yd))), Pl(Fl(hd), Ud), Pl(Fl(bd), Ud), Pl(Fl(vd), Kd)];
  }, ag, function () {
    return ft.some(Gd);
  }),
      sg = [nn("selectors", [Jt("row"), Jt("cell")]), dn("cycles", !0), dn("previousSelector", ft.none), dn("execute", _d)],
      lg = em(function (t, n, e) {
    return $d(t, n, e, -1);
  }, function (t, n, e) {
    return Zd(t, n, e, -1);
  }),
      fg = em(function (t, n, e) {
    return $d(t, n, e, 1);
  }, function (t, n, e) {
    return Zd(t, n, e, 1);
  }),
      dg = em(function (t, n, e) {
    return Qd(t, e, n, -1);
  }, function (t, n, e) {
    return tm(t, e, n, -1);
  }),
      mg = em(function (t, n, e) {
    return Qd(t, e, n, 1);
  }, function (t, n, e) {
    return tm(t, e, n, 1);
  }),
      gg = tt([Pl(Fl(yd), Ad(lg, fg)), Pl(Fl(wd), Md(lg, fg)), Pl(Fl(xd), Qm(dg)), Pl(Fl(Sd), Zm(mg)), Pl(Fl(bd.concat(hd)), function (n, e, o) {
    return Oa(n.element).bind(function (t) {
      return o.execute(n, e, t);
    });
  })]),
      pg = tt([Pl(Fl(bd), Td)]),
      hg = Cd(sg, uu.init, gg, pg, function () {
    return ft.some(nm);
  }),
      vg = [Jt("selector"), dn("execute", _d), dn("moveOnTab", !1)],
      bg = tt([Pl(Fl(xd), tg(im)), Pl(Fl(Sd), tg(um)), Pl(Il([Rl, Fl(pd)]), function (t, n, e, o) {
    return e.moveOnTab ? tg(im)(t, n, e, o) : ft.none();
  }), Pl(Il([kd, Fl(pd)]), function (t, n, e, o) {
    return e.moveOnTab ? tg(um)(t, n, e, o) : ft.none();
  }), Pl(Fl(hd), om), Pl(Fl(bd), om)]),
      yg = tt([Pl(Fl(bd), Td)]),
      xg = Cd(vg, uu.init, bg, yg, function () {
    return ft.some(rm);
  }),
      wg = Cd([Ju("onSpace"), Ju("onEnter"), Ju("onShiftEnter"), Ju("onLeft"), Ju("onRight"), Ju("onTab"), Ju("onShiftTab"), Ju("onUp"), Ju("onDown"), Ju("onEscape"), dn("stopSpaceKeyup", !1), rn("focusIn")], uu.init, function (t, n, e) {
    return [Pl(Fl(bd), e.onSpace), Pl(Il([kd, Fl(hd)]), e.onEnter), Pl(Il([Rl, Fl(hd)]), e.onShiftEnter), Pl(Il([Rl, Fl(pd)]), e.onShiftTab), Pl(Il([kd, Fl(pd)]), e.onTab), Pl(Fl(xd), e.onUp), Pl(Fl(Sd), e.onDown), Pl(Fl(yd), e.onLeft), Pl(Fl(wd), e.onRight), Pl(Fl(bd), e.onSpace), Pl(Fl(vd), e.onEscape)];
  }, function (t, n, e) {
    return e.stopSpaceKeyup ? [Pl(Fl(bd), Td)] : [];
  }, function (t) {
    return t.focusIn;
  }),
      Sg = Ym.schema(),
      kg = qm.schema(),
      Cg = cg.schema(),
      Og = ig.schema(),
      _g = hg.schema(),
      Tg = Km.schema(),
      Eg = xg.schema(),
      Dg = wg.schema(),
      Bg = wa({
    branchKey: "mode",
    branches: Object.freeze({
      __proto__: null,
      acyclic: Sg,
      cyclic: kg,
      flow: Cg,
      flatgrid: Og,
      matrix: _g,
      execution: Tg,
      menu: Eg,
      special: Dg
    }),
    name: "keying",
    active: {
      events: function events(t, n) {
        return t.handler.toEvents(t, n);
      }
    },
    apis: {
      focusIn: function focusIn(n, e, o) {
        e.sendFocusIn(e).fold(function () {
          n.getSystem().triggerFocus(n.element, n.element);
        }, function (t) {
          t(n, e, o);
        });
      },
      setGridSize: function setGridSize(t, n, e, o, r) {
        Ct(e, "setGridSize") ? e.setGridSize(o, r) : console.error("Layout does not support setGridSize");
      }
    },
    state: Jm
  }),
      Ag = function Ag(t, n) {
    return t.components();
  },
      Mg = xa({
    fields: [],
    name: "replacing",
    apis: Object.freeze({
      __proto__: null,
      append: function append(t, n, e, o) {
        am(t, 0, Gi, o);
      },
      prepend: function prepend(t, n, e, o) {
        am(t, 0, br, o);
      },
      remove: cm,
      replaceAt: sm,
      replaceBy: function replaceBy(n, t, e, o, r) {
        return P(Ag(n), o).bind(function (t) {
          return sm(n, 0, 0, t, r);
        });
      },
      set: function set(n, t, e, o) {
        _a(function () {
          var t = A(o, n.getSystem().build);
          Ms(n, t);
        }, n.element);
      },
      contents: Ag
    })
  }),
      Fg = Object.freeze({
    __proto__: null,
    focus: fm,
    blur: function blur(t, n) {
      n.ignore || t.element.dom.blur();
    },
    isFocused: function isFocused(t) {
      return ka(t.element);
    }
  }),
      Ig = Object.freeze({
    __proto__: null,
    exhibit: function exhibit(t, n) {
      return Hr(n.ignore ? {} : {
        attributes: {
          tabindex: "-1"
        }
      });
    },
    events: function events(e) {
      return Jo([Xe(Co(), function (t, n) {
        fm(t, e), n.stop();
      })].concat(e.stopMousedown ? [Xe(uo(), function (t, n) {
        n.event.prevent();
      })] : []));
    }
  }),
      Rg = xa({
    fields: [Ku("onFocus"), dn("stopMousedown", !1), dn("ignore", !1)],
    name: "focusing",
    active: Ig,
    apis: Fg
  }),
      Vg = Object.freeze({
    __proto__: null,
    onLoad: vm,
    toggle: gm,
    isOn: function isOn(t, n, e) {
      return e.get();
    },
    on: pm,
    off: hm,
    set: Um
  }),
      Pg = Object.freeze({
    __proto__: null,
    exhibit: function exhibit() {
      return Hr({});
    },
    events: function events(t, n) {
      var e,
          o,
          r,
          i = (e = t, o = n, r = gm, tr(function (t) {
        r(t, e, o);
      })),
          u = ba(t, n, vm);
      return Jo(lt([t.toggleOnExecute ? [i] : [], [u]]));
    }
  }),
      Hg = xa({
    fields: [dn("selected", !1), rn("toggleClass"), dn("toggleOnExecute", !0), mn("aria", {
      mode: "none"
    }, qt("mode", {
      pressed: [dn("syncWithExpanded", !1), Zu("update", function (t, n, e) {
        Or(t.element, "aria-pressed", e), n.syncWithExpanded && Gm(t, 0, e);
      })],
      checked: [Zu("update", function (t, n, e) {
        Or(t.element, "aria-checked", e);
      })],
      expanded: [Zu("update", Gm)],
      selected: [Zu("update", function (t, n, e) {
        Or(t.element, "aria-selected", e);
      })],
      none: [Zu("update", ct)]
    }))],
    name: "toggling",
    active: Pg,
    apis: Vg,
    state: {
      init: function init() {
        var n = wn(!1);
        return {
          get: function get() {
            return n.get();
          },
          set: function set(t) {
            return n.set(t);
          },
          clear: function clear() {
            return n.set(!1);
          },
          readState: function readState() {
            return n.get();
          }
        };
      }
    }
  }),
      zg = "alloy.item-hover",
      Ng = "alloy.item-focus",
      Lg = tt(zg),
      jg = tt(Ng),
      Wg = [Jt("data"), Jt("components"), Jt("dom"), dn("hasSubmenu", !1), rn("toggling"), Tf("itemBehaviours", [Hg, Rg, Bg, _f]), dn("ignoreFocus", !1), dn("domModification", {}), Zu("builder", function (t) {
    return {
      dom: t.dom,
      domModification: _st(_st({}, t.domModification), {
        attributes: _st(_st(_st({
          role: t.toggling.isSome() ? "menuitemcheckbox" : "menuitem"
        }, t.domModification.attributes), {
          "aria-haspopup": t.hasSubmenu
        }), t.hasSubmenu ? {
          "aria-expanded": !1
        } : {})
      }),
      behaviours: Ef(t.itemBehaviours, [t.toggling.fold(Hg.revoke, function (t) {
        return Hg.config(_st({
          aria: {
            mode: "checked"
          }
        }, t));
      }), Rg.config({
        ignore: t.ignoreFocus,
        stopMousedown: t.ignoreFocus,
        onFocus: function onFocus(t) {
          wm(t);
        }
      }), Bg.config({
        mode: "execution"
      }), _f.config({
        store: {
          mode: "memory",
          initialValue: t.data
        }
      }), lm("item-type-events", H(H([], bm()), [Xe(lo(), xm), Xe(Do(), Rg.focus)]))]),
      components: t.components,
      eventOrder: t.eventOrder
    };
  }), dn("eventOrder", {})],
      Ug = [Jt("dom"), Jt("components"), Zu("builder", function (t) {
    return {
      dom: t.dom,
      components: t.components,
      events: Jo([Xe(Do(), function (t, n) {
        n.stop();
      })])
    };
  })],
      Gg = tt("item-widget"),
      Xg = tt([Yf({
    name: "widget",
    overrides: function overrides(n) {
      return {
        behaviours: Za([_f.config({
          store: {
            mode: "manual",
            getValue: function getValue(t) {
              return n.data;
            },
            setValue: ct
          }
        })])
      };
    }
  })]),
      Yg = qt("type", {
    widget: [Jt("uid"), Jt("data"), Jt("components"), Jt("dom"), dn("autofocus", !1), dn("ignoreFocus", !1), Tf("widgetBehaviours", [_f, Rg, Bg]), dn("domModification", {}), vl(Xg()), Zu("builder", function (e) {
      function o(t) {
        return ll(t, e, "widget").map(function (t) {
          return Bg.focusIn(t), t;
        });
      }

      function t(t, n) {
        return Sl(n.event.target) || e.autofocus && n.setSource(t.element), ft.none();
      }

      var n = cl(Gg(), e, Xg()),
          r = sl(Gg(), e, n.internals());
      return {
        dom: e.dom,
        components: r,
        domModification: e.domModification,
        events: Jo([tr(function (t, n) {
          o(t).each(function (t) {
            n.stop();
          });
        }), Xe(lo(), xm), Xe(Do(), function (t, n) {
          e.autofocus ? o(t) : Rg.focus(t);
        })]),
        behaviours: Ef(e.widgetBehaviours, [_f.config({
          store: {
            mode: "memory",
            initialValue: e.data
          }
        }), Rg.config({
          ignore: e.ignoreFocus,
          onFocus: function onFocus(t) {
            wm(t);
          }
        }), Bg.config({
          mode: "special",
          focusIn: e.autofocus ? function (t) {
            o(t);
          } : ec(),
          onLeft: t,
          onRight: t,
          onEscape: function onEscape(t, n) {
            return Rg.isFocused(t) || e.autofocus ? (e.autofocus && n.setSource(t.element), ft.none()) : (Rg.focus(t), ft.some(!0));
          }
        })])
      };
    })],
    item: Wg,
    separator: Ug
  }),
      qg = tt([Jf({
    factory: {
      sketch: function sketch(t) {
        var n = Yt("menu.spec item", Yg, t);
        return n.builder(n);
      }
    },
    name: "items",
    unit: "item",
    defaults: function defaults(t, n) {
      return Kn(n, "uid") ? n : _st(_st({}, n), {
        uid: nu("item")
      });
    },
    overrides: function overrides(t, n) {
      return {
        type: n.type,
        ignoreFocus: t.fakeFocus,
        domModification: {
          classes: [t.markers.item]
        }
      };
    }
  })]),
      Kg = tt([Jt("value"), Jt("items"), Jt("dom"), Jt("components"), dn("eventOrder", {}), Js("menuBehaviours", [md, _f, id, Bg]), mn("movement", {
    mode: "menu",
    moveOnTab: !0
  }, qt("mode", {
    grid: [Fa(), Zu("config", function (t, n) {
      return {
        mode: "flatgrid",
        selector: "." + t.markers.item,
        initSize: {
          numColumns: n.initSize.numColumns,
          numRows: n.initSize.numRows
        },
        focusManager: t.focusManager
      };
    })],
    matrix: [Zu("config", function (t, n) {
      return {
        mode: "matrix",
        selectors: {
          row: n.rowSelector,
          cell: "." + t.markers.item
        },
        focusManager: t.focusManager
      };
    }), Jt("rowSelector")],
    menu: [dn("moveOnTab", !0), Zu("config", function (t, n) {
      return {
        mode: "menu",
        selector: "." + t.markers.item,
        moveOnTab: n.moveOnTab,
        focusManager: t.focusManager
      };
    })]
  })), $t("markers", Ma()), dn("fakeFocus", !1), dn("focusManager", zl()), Ku("onHighlight")]),
      Jg = tt("alloy.menu-focus"),
      $g = wl({
    name: "Menu",
    configFields: Kg(),
    partFields: qg(),
    factory: function factory(t, n, e, o) {
      return {
        uid: t.uid,
        dom: t.dom,
        markers: t.markers,
        behaviours: Qs(t.menuBehaviours, [md.config({
          highlightClass: t.markers.selectedItem,
          itemClass: t.markers.item,
          onHighlight: t.onHighlight
        }), _f.config({
          store: {
            mode: "memory",
            initialValue: t.value
          }
        }), id.config({
          find: ft.some
        }), Bg.config(t.movement.config(t, t.movement))]),
        events: Jo([Xe(jg(), function (n, e) {
          var t = e.event;
          n.getSystem().getByDom(t.target).each(function (t) {
            md.highlight(n, t), e.stop(), Ne(n, Jg(), {
              menu: n,
              item: t
            });
          });
        }), Xe(Lg(), function (t, n) {
          var e = n.event.item;
          md.highlight(t, e);
        })]),
        components: n,
        eventOrder: t.eventOrder,
        domModification: {
          attributes: {
            role: "menu"
          }
        }
      };
    }
  }),
      Qg = function Qg(e, o, r, t) {
    return kt(r, t).bind(function (t) {
      return kt(e, t).bind(function (t) {
        var n = Qg(e, o, r, t);
        return ft.some([t].concat(n));
      });
    }).getOr([]);
  },
      Zg = function Zg() {
    function a(t) {
      return n(t).bind(Xm);
    }

    function e(t) {
      return kt(c.get(), t);
    }

    var c = wn({}),
        i = wn({}),
        s = wn({}),
        l = fc(),
        u = wn({}),
        n = function n(t) {
      return kt(i.get(), t);
    };

    return {
      setMenuBuilt: function setMenuBuilt(t, n) {
        var e;
        i.set(_st(_st({}, i.get()), ((e = {})[t] = {
          type: "prepared",
          menu: n
        }, e)));
      },
      setContents: function setContents(t, n, e, o) {
        l.set(t), c.set(e), i.set(n), u.set(o);

        var r = function (t, n) {
          var e = {};
          bt(t, function (t, n) {
            dt(t, function (t) {
              e[t] = n;
            });
          });
          var o = n,
              r = qn(n, function (t, n) {
            return {
              k: t,
              v: n
            };
          }),
              i = yt(r, function (t, n) {
            return [n].concat(Qg(e, o, r, n));
          });
          return yt(e, function (t) {
            return kt(i, t).getOr([t]);
          });
        }(o, e);

        s.set(r);
      },
      expand: function expand(e) {
        return kt(c.get(), e).map(function (t) {
          var n = kt(s.get(), e).getOr([]);
          return [t].concat(n);
        });
      },
      refresh: function refresh(t) {
        return kt(s.get(), t);
      },
      collapse: function collapse(t) {
        return kt(s.get(), t).bind(function (t) {
          return 1 < t.length ? ft.some(t.slice(1)) : ft.none();
        });
      },
      lookupMenu: n,
      lookupItem: e,
      otherMenus: function otherMenus(t) {
        var n = u.get();
        return j(Xn(n), t);
      },
      getPrimary: function getPrimary() {
        return l.get().bind(a);
      },
      getMenus: function getMenus() {
        return i.get();
      },
      clear: function clear() {
        c.set({}), i.set({}), s.set({}), l.clear();
      },
      isClear: function isClear() {
        return l.get().isNone();
      },
      getTriggeringPath: function getTriggeringPath(t, u) {
        var n = F(e(t).toArray(), function (t) {
          return a(t).isSome();
        });
        return kt(s.get(), t).bind(function (t) {
          var e = L(n.concat(t));
          return function (t) {
            for (var n = [], e = 0; e < t.length; e++) {
              var o = t[e];
              if (!o.isSome()) return ft.none();
              n.push(o.getOrDie());
            }

            return ft.some(n);
          }(z(e, function (t, n) {
            return o = t, r = u, i = e.slice(0, n + 1), a(o).bind(function (n) {
              return e = o, wt(c.get(), function (t, n) {
                return t === e;
              }).bind(function (t) {
                return r(t).map(function (t) {
                  return {
                    triggeredMenu: n,
                    triggeringItem: t,
                    triggeringPath: i
                  };
                });
              });
              var e;
            }).fold(function () {
              return Kr(l.get(), t) ? [] : [ft.none()];
            }, function (t) {
              return [ft.some(t)];
            });
            var o, r, i;
          }));
        });
      }
    };
  },
      tp = Xm,
      np = tt("collapse-item"),
      ep = xl({
    name: "TieredMenu",
    configFields: [Qu("onExecute"), Qu("onEscape"), $u("onOpenMenu"), $u("onOpenSubmenu"), Ku("onRepositionMenu"), Ku("onCollapseMenu"), dn("highlightImmediately", !0), nn("data", [Jt("primary"), Jt("menus"), Jt("expansions")]), dn("fakeFocus", !1), Ku("onHighlight"), Ku("onHover"), Xu(), Jt("dom"), dn("navigateOnHover", !0), dn("stayInDom", !1), Js("tmenuBehaviours", [Bg, md, id, Mg]), dn("eventOrder", {})],
    apis: {
      collapseMenu: function collapseMenu(t, n) {
        t.collapseMenu(n);
      },
      highlightPrimary: function highlightPrimary(t, n) {
        t.highlightPrimary(n);
      },
      repositionMenus: function repositionMenus(t, n) {
        t.repositionMenus(n);
      }
    },
    factory: function factory(a, t) {
      function e(t) {
        var o,
            r,
            n = (o = t, r = a.data.primary, yt(a.data.menus, function (t, n) {
          function e() {
            return $g.sketch(_st(_st({}, t), {
              value: n,
              markers: a.markers,
              fakeFocus: a.fakeFocus,
              onHighlight: a.onHighlight,
              focusManager: (a.fakeFocus ? Nl : zl)()
            }));
          }

          return n === r ? {
            type: "prepared",
            menu: o.getSystem().build(e())
          } : {
            type: "notbuilt",
            nbMenu: e
          };
        })),
            e = yt(a.data.menus, function (t, n) {
          return z(t.items, function (t) {
            return "separator" === t.type ? [] : [t.data.value];
          });
        });
        return g.setContents(a.data.primary, n, a.data.expansions, e), g.getPrimary();
      }

      function c(t) {
        return _f.getValue(t).value;
      }

      function u(n, t) {
        md.highlight(n, t), md.getHighlighted(t).orThunk(function () {
          return md.getFirst(t);
        }).each(function (t) {
          je(n, t.element, Do());
        });
      }

      function s(n, t) {
        return Jr(A(t, function (t) {
          return n.lookupMenu(t).bind(function (t) {
            return "prepared" === t.type ? ft.some(t.menu) : ft.none();
          });
        }));
      }

      function l(n, t, e) {
        var o = s(t, t.otherMenus(e));
        dt(o, function (t) {
          qr(t.element, [a.markers.backgroundMenu]), a.stayInDom || Mg.remove(n, t);
        });
      }

      function f(t, o) {
        var n;
        bt((n = t, r.get().getOrThunk(function () {
          var e = {},
              t = F(gs(n.element, "." + a.markers.item), function (t) {
            return "true" === _r(t, "aria-haspopup");
          });
          return dt(t, function (t) {
            n.getSystem().getByDom(t).each(function (t) {
              var n = c(t);
              e[n] = t;
            });
          }), r.set(e), e;
        })), function (t, n) {
          var e = et(o, n);
          Or(t.element, "aria-expanded", e);
        });
      }

      function d(o, r, i) {
        return ft.from(i[0]).bind(function (t) {
          return r.lookupMenu(t).bind(function (t) {
            if ("notbuilt" === t.type) return ft.none();
            var n = t.menu,
                e = s(r, i.slice(1));
            return dt(e, function (t) {
              Ur(t.element, a.markers.backgroundMenu);
            }), du(n.element) || Mg.append(o, yu(n)), qr(n.element, [a.markers.backgroundMenu]), u(o, n), l(o, r, i), ft.some(n);
          });
        });
      }

      var m,
          n,
          r = fc(),
          g = Zg();

      function i(r, i, u) {
        if (void 0 === u && (u = m.HighlightSubmenu), i.hasConfigured(fd) && fd.isDisabled(i)) return ft.some(i);
        var t = c(i);
        return g.expand(t).bind(function (o) {
          return f(r, o), ft.from(o[0]).bind(function (e) {
            return g.lookupMenu(e).bind(function (t) {
              var n = function (t, n, e) {
                if ("notbuilt" !== e.type) return e.menu;
                var o = t.getSystem().build(e.nbMenu());
                return g.setMenuBuilt(n, o), o;
              }(r, e, t);

              return du(n.element) || Mg.append(r, yu(n)), a.onOpenSubmenu(r, i, n, L(o)), u === m.HighlightSubmenu ? (md.highlightFirst(n), d(r, g, o)) : (md.dehighlightAll(n), ft.some(i));
            });
          });
        });
      }

      function o(n, e) {
        var t = c(e);
        return g.collapse(t).bind(function (t) {
          return f(n, t), d(n, g, t).map(function (t) {
            return a.onCollapseMenu(n, e, t), t;
          });
        });
      }

      function p(e) {
        return function (n, t) {
          return Iu(t.getSource(), "." + a.markers.item).bind(function (t) {
            return n.getSystem().getByDom(t).toOptional().bind(function (t) {
              return e(n, t).map(_);
            });
          });
        };
      }

      function h(t) {
        return md.getHighlighted(t).bind(md.getHighlighted);
      }

      (n = m = {})[n.HighlightSubmenu = 0] = "HighlightSubmenu", n[n.HighlightParent = 1] = "HighlightParent";
      var v = Jo([Xe(Jg(), function (e, o) {
        var t = o.event.item;
        g.lookupItem(c(t)).each(function () {
          var t = o.event.menu;
          md.highlight(e, t);
          var n = c(o.event.item);
          g.refresh(n).each(function (t) {
            return l(e, g, t);
          });
        });
      }), tr(function (n, t) {
        var e = t.event.target;
        n.getSystem().getByDom(e).each(function (t) {
          0 === c(t).indexOf("collapse-item") && o(n, t), i(n, t, m.HighlightSubmenu).fold(function () {
            a.onExecute(n, t);
          }, ct);
        });
      }), $o(function (n, t) {
        e(n).each(function (t) {
          Mg.append(n, yu(t)), a.onOpenMenu(n, t), a.highlightImmediately && u(n, t);
        });
      })].concat(a.navigateOnHover ? [Xe(Lg(), function (t, n) {
        var e = n.event.item,
            o = t,
            r = c(e);
        g.refresh(r).bind(function (t) {
          return f(o, t), d(o, g, t);
        }), i(t, e, m.HighlightParent), a.onHover(t, e);
      })] : [])),
          b = {
        collapseMenu: function collapseMenu(n) {
          h(n).each(function (t) {
            o(n, t);
          });
        },
        highlightPrimary: function highlightPrimary(n) {
          g.getPrimary().each(function (t) {
            u(n, t);
          });
        },
        repositionMenus: function repositionMenus(o) {
          g.getPrimary().bind(function (n) {
            return h(o).bind(function (t) {
              var n = c(t),
                  e = Jr(A(St(g.getMenus()), tp));
              return g.getTriggeringPath(n, function (t) {
                return n = t, q(e, function (t) {
                  return t.getSystem().isConnected() ? V(md.getCandidates(t), function (t) {
                    return c(t) === n;
                  }) : ft.none();
                });
                var n;
              });
            }).map(function (t) {
              return {
                primary: n,
                triggeringPath: t
              };
            });
          }).fold(function () {
            ft.from(o.components()[0]).filter(function (t) {
              return "menu" === _r(t.element, "role");
            }).each(function (t) {
              a.onRepositionMenu(o, t, []);
            });
          }, function (t) {
            var n = t.primary,
                e = t.triggeringPath;
            a.onRepositionMenu(o, n, e);
          });
        }
      };
      return {
        uid: a.uid,
        dom: a.dom,
        markers: a.markers,
        behaviours: Qs(a.tmenuBehaviours, [Bg.config({
          mode: "special",
          onRight: p(function (t, n) {
            return Sl(n.element) ? ft.none() : i(t, n, m.HighlightSubmenu);
          }),
          onLeft: p(function (t, n) {
            return Sl(n.element) ? ft.none() : o(t, n);
          }),
          onEscape: p(function (t, n) {
            return o(t, n).orThunk(function () {
              return a.onEscape(t, n).map(function () {
                return t;
              });
            });
          }),
          focusIn: function focusIn(n, t) {
            g.getPrimary().each(function (t) {
              je(n, t.element, Do());
            });
          }
        }), md.config({
          highlightClass: a.markers.selectedMenu,
          itemClass: a.markers.menu
        }), id.config({
          find: function find(t) {
            return md.getHighlighted(t);
          }
        }), Mg.config({})]),
        eventOrder: a.eventOrder,
        apis: b,
        events: v
      };
    },
    extraApis: {
      tieredData: function tieredData(t, n, e) {
        return {
          primary: t,
          menus: n,
          expansions: e
        };
      },
      singleData: function singleData(t, n) {
        return {
          primary: t,
          menus: Ae(t, n),
          expansions: {}
        };
      },
      collapseItem: function collapseItem(t) {
        return {
          value: Ar(np()),
          meta: {
            text: t
          }
        };
      }
    }
  }),
      op = xl({
    name: "InlineView",
    configFields: [Jt("lazySink"), Ku("onShow"), Ku("onHide"), sn("onEscape"), Js("inlineBehaviours", [pf, _f, oc]), fn("fireDismissalEventInstead", [dn("event", Lo())]), fn("fireRepositionEventInstead", [dn("event", jo())]), dn("getRelated", ft.none), dn("isExtraPart", O), dn("eventOrder", ft.none)],
    factory: function factory(d, t) {
      function n(e) {
        pf.isOpen(e) && _f.getValue(e).each(function (t) {
          switch (t.mode) {
            case "menu":
              pf.getState(e).each(ep.repositionMenus);
              break;

            case "position":
              var n = d.lazySink(e).getOrDie();
              cf.positionWithinBounds(n, e, t.config, t.getBounds());
          }
        });
      }

      function o(t, n, e, o) {
        i(t, n, e, function () {
          return o.map(Ai);
        });
      }

      function r(t, n, e, o) {
        var r,
            i,
            u,
            a,
            c,
            s = (r = d, i = t, u = n, a = o, c = "horizontal" === e.type ? {
          layouts: {
            onLtr: ha,
            onRtl: va
          }
        } : {}, ep.sketch({
          dom: {
            tag: "div"
          },
          data: e.data,
          markers: e.menu.markers,
          highlightImmediately: e.menu.highlightImmediately,
          onEscape: function onEscape() {
            return pf.close(i), r.onEscape.map(function (t) {
              return t(i);
            }), ft.some(!0);
          },
          onExecute: function onExecute() {
            return ft.some(!0);
          },
          onOpenMenu: function onOpenMenu(t, n) {
            cf.positionWithinBounds(l().getOrDie(), n, u, a());
          },
          onOpenSubmenu: function onOpenSubmenu(t, n, e, o) {
            var r = l().getOrDie();
            cf.position(r, e, {
              anchor: _st({
                type: "submenu",
                item: n
              }, f(o))
            });
          },
          onRepositionMenu: function onRepositionMenu(t, n, e) {
            var o = l().getOrDie();
            cf.positionWithinBounds(o, n, u, a()), dt(e, function (t) {
              var n = f(t.triggeringPath);
              cf.position(o, t.triggeredMenu, {
                anchor: _st({
                  type: "submenu",
                  item: t.triggeringItem
                }, n)
              });
            });
          }
        }));

        function l() {
          return r.lazySink(i);
        }

        function f(t) {
          return 2 === t.length ? c : {};
        }

        pf.open(t, s), _f.setValue(t, ft.some({
          mode: "menu",
          menu: s
        }));
      }

      var i = function i(t, n, e, o) {
        var r = d.lazySink(t).getOrDie();
        pf.openWhileCloaked(t, n, function () {
          return cf.positionWithinBounds(r, t, e, o());
        }), _f.setValue(t, ft.some({
          mode: "position",
          config: e,
          getBounds: o
        }));
      },
          e = {
        setContent: function setContent(t, n) {
          pf.setContent(t, n);
        },
        showAt: function showAt(t, n, e) {
          o(t, n, e, ft.none());
        },
        showWithin: o,
        showWithinBounds: i,
        showMenuAt: function showMenuAt(t, n, e) {
          r(t, n, e, ft.none);
        },
        showMenuWithinBounds: r,
        hide: function hide(t) {
          pf.isOpen(t) && (_f.setValue(t, ft.none()), pf.close(t));
        },
        getContent: function getContent(t) {
          return pf.getState(t);
        },
        reposition: n,
        isOpen: pf.isOpen
      };

      return {
        uid: d.uid,
        dom: d.dom,
        behaviours: Qs(d.inlineBehaviours, [pf.config({
          isPartOf: function isPartOf(t, n, e) {
            return Hu(n, e) || (o = e, d.getRelated(t).exists(function (t) {
              return Hu(t, o);
            }));
            var o;
          },
          getAttachPoint: function getAttachPoint(t) {
            return d.lazySink(t).getOrDie();
          },
          onOpen: function onOpen(t) {
            d.onShow(t);
          },
          onClose: function onClose(t) {
            d.onHide(t);
          }
        }), _f.config({
          store: {
            mode: "memory",
            initialValue: ft.none()
          }
        }), oc.config({
          channels: _st(_st({}, Ws(_st({
            isExtraPart: t.isExtraPart
          }, d.fireDismissalEventInstead.map(function (t) {
            return {
              fireEventInstead: {
                event: t.event
              }
            };
          }).getOr({})))), Us(_st(_st({}, d.fireRepositionEventInstead.map(function (t) {
            return {
              fireEventInstead: {
                event: t.event
              }
            };
          }).getOr({})), {
            doReposition: n
          })))
        })]),
        eventOrder: d.eventOrder,
        apis: e
      };
    },
    apis: {
      showAt: function showAt(t, n, e, o) {
        t.showAt(n, e, o);
      },
      showWithin: function showWithin(t, n, e, o, r) {
        t.showWithin(n, e, o, r);
      },
      showWithinBounds: function showWithinBounds(t, n, e, o, r) {
        t.showWithinBounds(n, e, o, r);
      },
      showMenuAt: function showMenuAt(t, n, e, o) {
        t.showMenuAt(n, e, o);
      },
      showMenuWithinBounds: function showMenuWithinBounds(t, n, e, o, r) {
        t.showMenuWithinBounds(n, e, o, r);
      },
      hide: function hide(t, n) {
        t.hide(n);
      },
      isOpen: function isOpen(t, n) {
        return t.isOpen(n);
      },
      getContent: function getContent(t, n) {
        return t.getContent(n);
      },
      setContent: function setContent(t, n, e) {
        t.setContent(n, e);
      },
      reposition: function reposition(t, n) {
        t.reposition(n);
      }
    }
  }),
      rp = "layout-inset",
      ip = function ip(t, n, e) {
    return na(Sm(t, n), t.y, e.insetNorth(), za(), "north", ra(t, {
      top: 2
    }), rp);
  },
      up = function up(t, n, e) {
    return na(Sm(t, n), Cm(t, n), e.insetSouth(), Na(), "south", ra(t, {
      bottom: 3
    }), rp);
  },
      ap = tinymce.util.Tools.resolve("tinymce.util.Delay"),
      cp = xl({
    name: "Button",
    factory: function factory(t) {
      function e(n) {
        return kt(t.dom, "attributes").bind(function (t) {
          return kt(t, n);
        });
      }

      var n = ym(t.action),
          o = t.dom.tag;
      return {
        uid: t.uid,
        dom: t.dom,
        components: t.components,
        events: n,
        behaviours: Ef(t.buttonBehaviours, [Rg.config({}), Bg.config({
          mode: "execution",
          useSpace: !0,
          useEnter: !0
        })]),
        domModification: {
          attributes: function () {
            if ("button" !== o) return {
              role: e("role").getOr("button")
            };
            var t = e("type").getOr("button"),
                n = e("role").map(function (t) {
              return {
                role: t
              };
            }).getOr({});
            return _st({
              type: t
            }, n);
          }()
        },
        eventOrder: t.eventOrder
      };
    },
    configFields: [dn("uid", void 0), Jt("dom"), dn("components", []), Tf("buttonBehaviours", [Rg, Bg]), rn("action"), rn("role"), dn("eventOrder", {})]
  }),
      sp = tinymce.util.Tools.resolve("tinymce.util.I18n"),
      lp = {
    indent: !0,
    outdent: !0,
    "table-insert-column-after": !0,
    "table-insert-column-before": !0,
    "paste-column-after": !0,
    "paste-column-before": !0,
    "unordered-list": !0,
    "list-bull-circle": !0,
    "list-bull-default": !0,
    "list-bull-square": !0
  },
      fp = "temporary-placeholder",
      dp = {
    success: "checkmark",
    error: "warning",
    err: "error",
    warning: "warning",
    warn: "warning",
    info: "info"
  },
      mp = xl({
    name: "Notification",
    factory: function factory(n) {
      function e(t) {
        return {
          dom: {
            tag: "div",
            classes: ["tox-bar"],
            attributes: {
              style: "width: " + t + "%"
            }
          }
        };
      }

      function o(t) {
        return {
          dom: {
            tag: "div",
            classes: ["tox-text"],
            innerHtml: t + "%"
          }
        };
      }

      var t,
          r,
          i,
          u,
          a = Vm({
        dom: {
          tag: "p",
          innerHtml: n.translationProvider(n.text)
        },
        behaviours: Za([Mg.config({})])
      }),
          c = Vm({
        dom: {
          tag: "div",
          classes: n.progress ? ["tox-progress-bar", "tox-progress-indicator"] : ["tox-progress-bar"]
        },
        components: [{
          dom: {
            tag: "div",
            classes: ["tox-bar-container"]
          },
          components: [e(0)]
        }, o(0)],
        behaviours: Za([Mg.config({})])
      }),
          s = {
        updateProgress: function updateProgress(t, n) {
          t.getSystem().isConnected() && c.getOpt(t).each(function (t) {
            Mg.set(t, [{
              dom: {
                tag: "div",
                classes: ["tox-bar-container"]
              },
              components: [e(n)]
            }, o(n)]);
          });
        },
        updateText: function updateText(t, n) {
          var e;
          t.getSystem().isConnected() && (e = a.get(t), Mg.set(e, [pi(n)]));
        }
      },
          l = lt([n.icon.toArray(), n.level.toArray(), n.level.bind(function (t) {
        return ft.from(dp[t]);
      }).toArray()]),
          f = Vm(cp.sketch({
        dom: {
          tag: "button",
          classes: ["tox-notification__dismiss", "tox-button", "tox-button--naked", "tox-button--icon"]
        },
        components: [Wm("close", {
          tag: "div",
          classes: ["tox-icon"],
          attributes: {
            "aria-label": n.translationProvider("Close")
          }
        }, n.iconProvider)],
        action: function action(t) {
          n.onAction(t);
        }
      })),
          d = [(t = l, r = {
        tag: "div",
        classes: ["tox-notification__icon"]
      }, i = n.iconProvider, u = i(), jm(r, V(t, function (t) {
        return Kn(u, Hm(t, u));
      }).getOr(fp), u, ft.none())), {
        dom: {
          tag: "div",
          classes: ["tox-notification__body"]
        },
        components: [a.asSpec()],
        behaviours: Za([Mg.config({})])
      }];
      return {
        uid: n.uid,
        dom: {
          tag: "div",
          attributes: {
            role: "alert"
          },
          classes: n.level.map(function (t) {
            return ["tox-notification", "tox-notification--in", "tox-notification--" + t];
          }).getOr(["tox-notification", "tox-notification--in"])
        },
        behaviours: Za([Rg.config({}), lm("notification-events", [Xe(fo(), function (t) {
          f.getOpt(t).each(Rg.focus);
        })])]),
        components: d.concat(n.progress ? [c.asSpec()] : []).concat(n.closeButton ? [f.asSpec()] : []),
        apis: s
      };
    },
    configFields: [rn("level"), Jt("progress"), Jt("icon"), Jt("onAction"), Jt("text"), Jt("iconProvider"), Jt("translationProvider"), vn("closeButton", !0)],
    apis: {
      updateProgress: function updateProgress(t, n, e) {
        t.updateProgress(n, e);
      },
      updateText: function updateText(t, n, e) {
        t.updateText(n, e);
      }
    }
  });

  function gp(e, o) {
    function r() {
      b(i) || (clearTimeout(i), i = null);
    }

    var i = null;
    return {
      cancel: r,
      throttle: function throttle() {
        for (var t = [], n = 0; n < arguments.length; n++) {
          t[n] = arguments[n];
        }

        r(), i = setTimeout(function () {
          i = null, e.apply(null, t);
        }, o);
      }
    };
  }

  function pp(o, t, n, e, r) {
    var i = Tp(o, function (t) {
      return (n = o).isBlock(e = t) || et(["BR", "IMG", "HR", "INPUT"], e.nodeName) || "false" === n.getContentEditable(e);
      var n, e;
    });
    return ft.from(i.backwards(t, n, e, r));
  }

  function hp(e, n) {
    return Ep(de.fromDom(e.selection.getNode())).getOrThunk(function () {
      var i,
          _u2,
          t = de.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>', e.getDoc());

      return Gi(t, de.fromDom(n.extractContents())), n.insertNode(t.dom), ar(t).each(function (t) {
        return t.dom.normalize();
      }), i = ms, (_u2 = function u(t) {
        for (var n = sr(t), e = n.length - 1; 0 <= e; e--) {
          var o = n[e];
          if (i(o)) return ft.some(o);

          var r = _u2(o);

          if (r.isSome()) return r;
        }

        return ft.none();
      })(t).map(function (t) {
        var n;
        e.selection.setCursorLocation(t.dom, "img" === nr(n = t) ? 1 : ds(n).fold(function () {
          return sr(n).length;
        }, function (t) {
          return t.length;
        }));
      }), t;
    });
  }

  function vp(t) {
    return t.toString().replace(/\u00A0/g, " ").replace(/\uFEFF/g, "");
  }

  function bp(t) {
    return "" !== t && -1 !== " \xa0\f\n\r\t\v".indexOf(t);
  }

  function yp(t, n) {
    return t.substring(n.length);
  }

  function xp(o, t, r, n) {
    return void 0 === n && (n = 0), Ep(de.fromDom(t.startContainer)).fold(function () {
      return function (t, o, i, r) {
        if (void 0 === r && (r = 0), !o.collapsed || 3 !== o.startContainer.nodeType) return ft.none();
        var n = t.getParent(o.startContainer, t.isBlock) || t.getRoot();
        return pp(t, o.startContainer, o.startOffset, function (t, r, n) {
          return function (t, n) {
            for (var e = r - 1; 0 <= e; e--) {
              var o = t.charAt(e);
              if (bp(o)) return ft.none();
              if (o === n) break;
            }

            return ft.some(e);
          }(n, i).getOr(r);
        }, n).bind(function (t) {
          var n = o.cloneRange();
          if (n.setStart(t.container, t.offset), n.setEnd(o.endContainer, o.endOffset), n.collapsed) return ft.none();
          var e = vp(n);
          return 0 !== e.lastIndexOf(i) || yp(e, i).length < r ? ft.none() : ft.some({
            text: yp(e, i),
            range: n,
            triggerChar: i
          });
        });
      }(o, t, r, n);
    }, function (t) {
      var n = o.createRng();
      n.selectNode(t.dom);
      var e = vp(n);
      return ft.some({
        range: n,
        text: yp(e, r),
        triggerChar: r
      });
    });
  }

  function wp(t, n) {
    return {
      container: t,
      offset: n
    };
  }

  function Sp(t) {
    return Gt("toolbarbutton", Vp, t);
  }

  function kp(t) {
    return Gt("ToggleButton", Hp, t);
  }

  function Cp(n, t, e, o) {
    void 0 === o && (o = {});
    var r = t(),
        i = n.selection.getRng().startContainer.nodeValue,
        u = F(r.lookupByChar(e.triggerChar), function (t) {
      return e.text.length >= t.minChars && t.matches.getOrThunk(function () {
        return e = n.dom, function (t) {
          var n = Ap(t.startContainer, t.startOffset);
          return !pp(e, n.container, n.offset, function (t, n) {
            return 0 === n ? -1 : n;
          }, e.getRoot()).filter(function (t) {
            return !bp(t.container.data.charAt(t.offset - 1));
          }).isSome();
        };
        var e;
      })(e.range, i, e.text);
    });
    if (0 === u.length) return ft.none();
    var a = Dp.all(A(u, function (n) {
      return n.fetch(e.text, n.maxResults, o).then(function (t) {
        return {
          matchText: e.text,
          items: t,
          columns: n.columns,
          onAction: n.onAction,
          highlightOn: n.highlightOn
        };
      });
    }));
    return ft.some({
      lookupData: a,
      context: e
    });
  }

  var Op,
      _p,
      Tp = tinymce.util.Tools.resolve("tinymce.dom.TextSeeker"),
      Ep = function Ep(t) {
    return Iu(t, "[data-mce-autocompleter]");
  },
      Dp = tinymce.util.Tools.resolve("tinymce.util.Promise"),
      Bp = function Bp(t) {
    if (3 === t.nodeType) return wp(t, t.data.length);
    var n = t.childNodes;
    return 0 < n.length ? Bp(n[n.length - 1]) : wp(t, n.length);
  },
      Ap = function Ap(t, n) {
    var e = t.childNodes;
    return 0 < e.length && n < e.length ? Ap(e[n], 0) : 0 < e.length && 1 === t.nodeType && e.length === n ? Bp(e[e.length - 1]) : wp(t, n);
  },
      Mp = te([Qt("type"), cn("text")]),
      Fp = te([dn("type", "autocompleteitem"), dn("active", !1), dn("disabled", !1), dn("meta", {}), Qt("value"), cn("text"), cn("icon")]),
      Ip = te([Qt("type"), Qt("ch"), gn("minChars", 1), dn("columns", 1), gn("maxResults", 10), sn("matches"), tn("fetch"), tn("onAction"), yn("highlightOn", [], re)]),
      Rp = [vn("disabled", !1), cn("tooltip"), cn("icon"), cn("text"), bn("onSetup", function () {
    return ct;
  })],
      Vp = te([Qt("type"), tn("onAction")].concat(Rp)),
      Pp = [vn("active", !1)].concat(Rp),
      Hp = te(Pp.concat([Qt("type"), tn("onAction")])),
      zp = [bn("predicate", O), hn("scope", "node", ["node", "editor"]), hn("position", "selection", ["node", "selection", "line"])],
      Np = Rp.concat([dn("type", "contextformbutton"), dn("primary", !1), tn("onAction"), fe("original", h)]),
      Lp = Pp.concat([dn("type", "contextformbutton"), dn("primary", !1), tn("onAction"), fe("original", h)]),
      jp = Rp.concat([dn("type", "contextformbutton")]),
      Wp = Pp.concat([dn("type", "contextformtogglebutton")]),
      Up = qt("type", {
    contextformbutton: Np,
    contextformtogglebutton: Lp
  }),
      Gp = te([dn("type", "contextform"), bn("initValue", tt("")), cn("label"), on("commands", Up), un("launch", qt("type", {
    contextformbutton: jp,
    contextformtogglebutton: Wp
  }))].concat(zp)),
      Xp = te([dn("type", "contexttoolbar"), Qt("items")].concat(zp));

  function Yp(t) {
    return kt(kh, t).getOr(xh);
  }

  function qp(t) {
    return {
      backgroundMenu: "tox-background-menu",
      selectedMenu: "tox-selected-menu",
      selectedItem: "tox-collection__item--active",
      hasIcons: "tox-menu--has-icons",
      menu: "color" === t ? "tox-swatches" : "tox-menu",
      tieredMenu: "tox-tiered-menu"
    };
  }

  function Kp(t) {
    var n = qp(t);
    return {
      backgroundMenu: n.backgroundMenu,
      selectedMenu: n.selectedMenu,
      menu: n.menu,
      selectedItem: n.selectedItem,
      item: Yp(t)
    };
  }

  function Jp(t, n, e) {
    return {
      dom: {
        tag: "div",
        classes: lt([[qp(e).tieredMenu]])
      },
      markers: Kp(e)
    };
  }

  function $p(n, e) {
    return function (t) {
      return A(B(t, e), function (t) {
        return {
          dom: n,
          components: t
        };
      });
    };
  }

  function Qp(t, e) {
    var o = [],
        r = [];
    return dt(t, function (t, n) {
      e(t, n) ? (0 < r.length && o.push(r), r = [], Kn(t.dom, "innerHtml") && r.push(t)) : r.push(t);
    }), 0 < r.length && o.push(r), A(o, function (t) {
      return {
        dom: {
          tag: "div",
          classes: ["tox-collection__group"]
        },
        components: t
      };
    });
  }

  function Zp(n, e) {
    return {
      dom: {
        tag: "div",
        classes: ["tox-menu", "tox-collection"].concat(1 === n ? ["tox-collection--list"] : ["tox-collection--grid"])
      },
      components: [$g.parts.items({
        preprocess: function preprocess(t) {
          return "auto" !== n && 1 < n ? $p({
            tag: "div",
            classes: ["tox-collection__group"]
          }, n)(t) : Qp(t, function (t, n) {
            return "separator" === e[n].type;
          });
        }
      })]
    };
  }

  function th(t) {
    return T(t, function (t) {
      return "icon" in t && void 0 !== t.icon;
    });
  }

  function nh(t) {
    return console.error(se(t)), console.log(t), ft.none();
  }

  function eh(t, n, e, o, r) {
    var i,
        u = (i = e, {
      dom: {
        tag: "div",
        classes: ["tox-collection", "tox-collection--horizontal"]
      },
      components: [$g.parts.items({
        preprocess: function preprocess(t) {
          return Qp(t, function (t, n) {
            return "separator" === i[n].type;
          });
        }
      })]
    });
    return {
      value: t,
      dom: u.dom,
      components: u.components,
      items: e
    };
  }

  function oh(t, n, e, o, r) {
    var i, u;
    return "color" === r ? {
      value: t,
      dom: (i = {
        dom: {
          tag: "div",
          classes: ["tox-menu", "tox-swatches-menu"]
        },
        components: [{
          dom: {
            tag: "div",
            classes: ["tox-swatches"]
          },
          components: [$g.parts.items({
            preprocess: "auto" !== o ? $p({
              tag: "div",
              classes: ["tox-swatches__row"]
            }, o) : h
          })]
        }]
      }).dom,
      components: i.components,
      items: e
    } : "normal" === r && "auto" === o ? {
      value: t,
      dom: (i = Zp(o, e)).dom,
      components: i.components,
      items: e
    } : "normal" === r && 1 === o ? {
      value: t,
      dom: (i = Zp(1, e)).dom,
      components: i.components,
      items: e
    } : "normal" === r ? {
      value: t,
      dom: (i = Zp(o, e)).dom,
      components: i.components,
      items: e
    } : "listpreview" !== r || "auto" === o ? {
      value: t,
      dom: {
        tag: "div",
        classes: lt([[(u = qp(r)).menu, "tox-menu-" + o + "-column"], n ? [u.hasIcons] : []])
      },
      components: Ah,
      items: e
    } : {
      value: t,
      dom: (i = {
        dom: {
          tag: "div",
          classes: ["tox-menu", "tox-collection", "tox-collection--toolbar", "tox-collection--toolbar-lg"]
        },
        components: [$g.parts.items({
          preprocess: $p({
            tag: "div",
            classes: ["tox-collection__group"]
          }, o)
        })]
      }).dom,
      components: i.components,
      items: e
    };
  }

  function rh(t, o, n) {
    var r = gs(t.element, "." + n);

    if (0 < r.length) {
      var e = P(r, function (t) {
        var n = t.dom.getBoundingClientRect().top,
            e = r[0].dom.getBoundingClientRect().top;
        return Math.abs(n - e) > o;
      }).getOr(r.length);
      return ft.some({
        numColumns: e,
        numRows: Math.ceil(r.length / e)
      });
    }

    return ft.none();
  }

  function ih(t, n, e) {
    t.getSystem().broadcastOn([Yh], {});
  }

  function uh(t) {
    return t.getParam("height", Math.max(t.getElement().offsetHeight, 200));
  }

  function ah(t) {
    return t.getParam("width", Zh.DOM.getStyle(t.getElement(), "width"));
  }

  function ch(t) {
    return ft.from(t.getParam("min_width")).filter(u);
  }

  function sh(t) {
    return ft.from(t.getParam("min_height")).filter(u);
  }

  function lh(t) {
    return ft.from(t.getParam("max_width")).filter(u);
  }

  function fh(t) {
    return ft.from(t.getParam("max_height")).filter(u);
  }

  function dh(t) {
    return !1 !== t.getParam("menubar", !0, "boolean");
  }

  function mh(t) {
    var n = t.getParam("toolbar", !0),
        e = !0 === n,
        o = y(n),
        r = c(n) && 0 < n.length;
    return !nv(t) && (r || o || e);
  }

  function gh(n) {
    var t = F(D(9, function (t) {
      return n.getParam("toolbar" + (t + 1), !1, "string");
    }), function (t) {
      return "string" == typeof t;
    });
    return 0 < t.length ? ft.some(t) : ft.none();
  }

  (_p = Op = {})[_p.CLOSE_ON_EXECUTE = 0] = "CLOSE_ON_EXECUTE", _p[_p.BUBBLE_TO_SANDBOX = 1] = "BUBBLE_TO_SANDBOX";

  var ph,
      hh,
      vh,
      bh,
      yh = Op,
      xh = "tox-menu-nav__js",
      wh = "tox-collection__item",
      Sh = "tox-swatch",
      kh = {
    normal: xh,
    color: Sh
  },
      Ch = "tox-collection__item--enabled",
      Oh = "tox-collection__item-icon",
      _h = "tox-collection__item-label",
      Th = "tox-collection__item-caret",
      Eh = "tox-collection__item--active",
      Dh = "tox-collection__item-container",
      Bh = "tox-collection__item-container--row",
      Ah = [$g.parts.items({})],
      Mh = [Qt("type"), Qt("src"), cn("alt"), yn("classes", [], re)],
      Fh = te(Mh),
      Ih = [Qt("type"), Qt("text"), cn("name"), yn("classes", ["tox-collection__item-label"], re)],
      Rh = te(Ih),
      Vh = Pt(function () {
    return jt("type", {
      cardimage: Fh,
      cardtext: Rh,
      cardcontainer: Ph
    });
  }),
      Ph = te([Qt("type"), pn("direction", "horizontal"), pn("align", "left"), pn("valign", "middle"), on("items", Vh)]),
      Hh = [vn("disabled", !1), cn("text"), cn("shortcut"), le("value", "value", Et(function () {
    return Ar("menuitem-value");
  }), ee()), dn("meta", {})],
      zh = te([Qt("type"), cn("label"), on("items", Vh), bn("onSetup", function () {
    return ct;
  }), bn("onAction", ct)].concat(Hh)),
      Nh = te([Qt("type"), vn("active", !1), cn("icon")].concat(Hh)),
      Lh = [Qt("type"), Qt("fancytype"), bn("onAction", ct)],
      jh = qt("fancytype", {
    inserttable: [dn("initData", {})].concat(Lh),
    colorswatch: [xn("initData", {}, [vn("allowCustomColors", !0), ln("colors", ee())])].concat(Lh)
  }),
      Wh = te([Qt("type"), bn("onSetup", function () {
    return ct;
  }), bn("onAction", ct), cn("icon")].concat(Hh)),
      Uh = te([Qt("type"), tn("getSubmenuItems"), bn("onSetup", function () {
    return ct;
  }), cn("icon")].concat(Hh)),
      Gh = te([Qt("type"), cn("icon"), vn("active", !1), bn("onSetup", function () {
    return ct;
  }), tn("onAction")].concat(Hh)),
      Xh = function Xh(t) {
    return n = Ar("unnamed-events"), Za([lm(n, t)]);
    var n;
  },
      Yh = Ar("tooltip.exclusive"),
      qh = Ar("tooltip.show"),
      Kh = Ar("tooltip.hide"),
      Jh = Object.freeze({
    __proto__: null,
    hideAllExclusive: ih,
    setComponents: function setComponents(t, n, e, o) {
      e.getTooltip().each(function (t) {
        t.getSystem().isConnected() && Mg.set(t, o);
      });
    }
  }),
      $h = Object.freeze({
    __proto__: null,
    events: function events(r, i) {
      function e(n) {
        i.getTooltip().each(function (t) {
          Rs(t), r.onHide(n, t), i.clearTooltip();
        }), i.clearTimer();
      }

      return Jo(lt([[Xe(qh, function (o) {
        i.resetTimer(function () {
          var t,
              n,
              e = o;
          i.isShowing() || (ih(e), t = r.lazySink(e).getOrDie(), n = e.getSystem().build({
            dom: r.tooltipDom,
            components: r.tooltipComponents,
            events: Jo("normal" === r.mode ? [Xe(lo(), function (t) {
              ze(e, qh);
            }), Xe(co(), function (t) {
              ze(e, Kh);
            })] : []),
            behaviours: Za([Mg.config({})])
          }), i.setTooltip(n), Fs(t, n), r.onShow(e, n), cf.position(t, n, {
            anchor: r.anchor(e)
          }));
        }, r.delay);
      }), Xe(Kh, function (t) {
        i.resetTimer(function () {
          e(t);
        }, r.delay);
      }), Xe(To(), function (t, n) {
        n.universal || et(n.channels, Yh) && e(t);
      }), Qo(function (t) {
        e(t);
      })], "normal" === r.mode ? [Xe(fo(), function (t) {
        ze(t, qh);
      }), Xe(Oo(), function (t) {
        ze(t, Kh);
      }), Xe(lo(), function (t) {
        ze(t, qh);
      }), Xe(co(), function (t) {
        ze(t, Kh);
      })] : [Xe(Yo(), function (t, n) {
        ze(t, qh);
      }), Xe(qo(), function (t) {
        ze(t, Kh);
      })]]));
    }
  }),
      Qh = xa({
    fields: [Jt("lazySink"), Jt("tooltipDom"), dn("exclusive", !0), dn("tooltipComponents", []), dn("delay", 300), hn("mode", "normal", ["normal", "follow-highlight"]), dn("anchor", function (t) {
      return {
        type: "hotspot",
        hotspot: t,
        layouts: {
          onLtr: tt([Ka, qa, Ua, Xa, Ga, Ya]),
          onRtl: tt([Ka, qa, Ua, Xa, Ga, Ya])
        }
      };
    }), Ku("onHide"), Ku("onShow")],
    name: "tooltipping",
    active: $h,
    state: Object.freeze({
      __proto__: null,
      init: function init() {
        function e() {
          o.on(clearTimeout);
        }

        var o = fc(),
            t = fc(),
            n = tt("not-implemented");
        return au({
          getTooltip: t.get,
          isShowing: t.isSet,
          setTooltip: t.set,
          clearTooltip: t.clear,
          clearTimer: e,
          resetTimer: function resetTimer(t, n) {
            e(), o.set(setTimeout(t, n));
          },
          readState: n
        });
      }
    }),
    apis: Jh
  }),
      Zh = tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),
      tv = tinymce.util.Tools.resolve("tinymce.EditorManager"),
      nv = function nv(t) {
    return gh(t).fold(function () {
      return 0 < t.getParam("toolbar", [], "string[]").length;
    }, _);
  };

  function ev(t) {
    return t.getParam("toolbar_mode", "", "string");
  }

  function ov(t) {
    return t.getParam("toolbar_location", vh.auto, "string");
  }

  function rv(t) {
    return ov(t) === vh.bottom;
  }

  function iv(t) {
    if (!t.inline) return ft.none();
    var n = t.getParam("fixed_toolbar_container", "", "string");
    if (0 < n.length) return Fu(mu(), n);
    var e = t.getParam("fixed_toolbar_container_target");
    return f(e) ? ft.some(de.fromDom(e)) : ft.none();
  }

  function uv(t) {
    return t.inline && iv(t).isSome();
  }

  function av(t) {
    return iv(t).getOrThunk(function () {
      return gr(ji(de.fromDom(t.getElement())));
    });
  }

  function cv(t) {
    return t.inline && !dh(t) && !mh(t) && !nv(t);
  }

  function sv(t) {
    return (t.getParam("toolbar_sticky", !1, "boolean") || t.inline) && !uv(t) && !cv(t);
  }

  function lv(t, n) {
    var e = t.outerContainer.element;
    n && (t.mothership.broadcastOn([hf()], {
      target: e
    }), t.uiMothership.broadcastOn([hf()], {
      target: e
    })), t.mothership.broadcastOn([Xv], {
      readonly: n
    }), t.uiMothership.broadcastOn([Xv], {
      readonly: n
    });
  }

  function fv(t, n) {
    t.on("init", function () {
      t.mode.isReadOnly() && lv(n, !0);
    }), t.on("SwitchMode", function () {
      return lv(n, t.mode.isReadOnly());
    }), t.getParam("readonly", !1, "boolean") && t.setMode("readonly");
  }

  function dv() {
    var t;
    return oc.config({
      channels: ((t = {})[Xv] = {
        schema: Yv,
        onReceive: function onReceive(t, n) {
          fd.set(t, n.readonly);
        }
      }, t)
    });
  }

  function mv(t, n) {
    var e = t.getApi(n);
    return function (t) {
      t(e);
    };
  }

  function gv(e, o) {
    return $o(function (t) {
      mv(e, t)(function (t) {
        var n = e.onSetup(t);
        m(n) && o.set(n);
      });
    });
  }

  function pv(n, e) {
    return Qo(function (t) {
      return mv(n, t)(e.get());
    });
  }

  function hv(t, n, e, o) {
    var r,
        i,
        u = wn(ct);
    return {
      type: "item",
      dom: n.dom,
      components: $v(n.optComponents),
      data: t.data,
      eventOrder: Jv,
      hasSubmenu: t.triggersSubmenu,
      itemBehaviours: Za([lm("item-events", [(r = t, i = e, tr(function (t, n) {
        mv(r, t)(r.onAction), r.triggersSubmenu || i !== yh.CLOSE_ON_EXECUTE || (ze(t, Mo()), n.stop());
      })), gv(t, u), pv(t, u)]), fd.config({
        disabled: function disabled() {
          return t.disabled || o.isDisabled();
        },
        disableClass: "tox-collection__item--state-disabled"
      }), dv(), Mg.config({})].concat(t.itemBehaviours))
    };
  }

  function vv(t) {
    return {
      value: t.value,
      meta: _st({
        text: t.text.getOr("")
      }, t.meta)
    };
  }

  function bv(t, n, e) {
    return Wm(t, {
      tag: "div",
      classes: e = void 0 === e ? [Oh] : e
    }, n);
  }

  function yv(t) {
    return {
      dom: {
        tag: "div",
        classes: [_h]
      },
      components: [pi(sp.translate(t))]
    };
  }

  function xv(t, n) {
    return {
      dom: {
        tag: "div",
        classes: n,
        innerHtml: t
      }
    };
  }

  function wv(t, n) {
    return {
      dom: {
        tag: "div",
        classes: [_h]
      },
      components: [{
        dom: {
          tag: t.tag,
          styles: t.styles
        },
        components: [pi(sp.translate(n))]
      }]
    };
  }

  function Sv(t) {
    return {
      dom: {
        tag: "div",
        classes: ["tox-collection__item-accessory"],
        innerHtml: (e = Qv.mac ? {
          alt: "&#x2325;",
          ctrl: "&#x2303;",
          shift: "&#x21E7;",
          meta: "&#x2318;",
          access: "&#x2303;&#x2325;"
        } : {
          meta: "Ctrl",
          access: "Shift+Alt"
        }, n = A(t.split("+"), function (t) {
          var n = t.toLowerCase().trim();
          return Kn(e, n) ? e[n] : t;
        }), Qv.mac ? n.join("") : n.join("+"))
      }
    };
    var e, n;
  }

  function kv(t) {
    return bv("checkmark", t, ["tox-collection__item-checkmark"]);
  }

  function Cv(t) {
    var n = t.map(function (t) {
      return {
        attributes: {
          title: sp.translate(t)
        }
      };
    }).getOr({});
    return _st({
      tag: "div",
      classes: [xh, wh]
    }, n);
  }

  function Ov(t, n, e, o) {
    return void 0 === o && (o = ft.none()), "color" === t.presets ? (r = n, i = o, c = t.ariaLabel, s = t.value, {
      dom: (u = t.iconContent.map(function (t) {
        return n = r.icons, e = i, zm(t, o = n()).or(e).getOrThunk(Pm(o));
        var n, e, o;
      }).getOr(""), a = {
        tag: "div",
        attributes: c.map(function (t) {
          return {
            title: r.translate(t)
          };
        }).getOr({}),
        classes: ["tox-swatch"]
      }, _st(_st({}, a), "custom" === s ? {
        tag: "button",
        classes: H(H([], a.classes), ["tox-swatches__picker-btn"]),
        innerHtml: u
      } : "remove" === s ? {
        classes: H(H([], a.classes), ["tox-swatch--remove"]),
        innerHtml: u
      } : {
        attributes: _st(_st({}, a.attributes), {
          "data-mce-color": s
        }),
        styles: {
          "background-color": s
        }
      })),
      optComponents: []
    }) : (l = t, f = n, d = o, m = {
      tag: "div",
      classes: [Oh]
    }, g = e ? l.iconContent.map(function (t) {
      return Wm(t, m, f.icons, d);
    }).orThunk(function () {
      return ft.some({
        dom: m
      });
    }) : ft.none(), p = l.checkMark, h = ft.from(l.meta).fold(function () {
      return yv;
    }, function (t) {
      return Kn(t, "style") ? S(wv, t.style) : yv;
    }), v = l.htmlContent.fold(function () {
      return l.textContent.map(h);
    }, function (t) {
      return ft.some(xv(t, [_h]));
    }), {
      dom: Cv(l.ariaLabel),
      optComponents: [g, v, l.shortcutContent.map(Sv), p, l.caret]
    });
    var r, i, u, a, c, s, l, f, d, m, g, p, h, v;
  }

  function _v(t, n) {
    return kt(t, "tooltipWorker").map(function (e) {
      return [Qh.config({
        lazySink: n.getSink,
        tooltipDom: {
          tag: "div",
          classes: ["tox-tooltip-worker-container"]
        },
        tooltipComponents: [],
        anchor: function anchor(t) {
          return {
            type: "submenu",
            item: t,
            overrides: {
              maxHeightFunction: Fc
            }
          };
        },
        mode: "follow-highlight",
        onShow: function onShow(n, t) {
          e(function (t) {
            Qh.setComponents(n, [hu({
              element: de.fromDom(t)
            })]);
          });
        }
      })];
    }).getOr([]);
  }

  function Tv(t, n) {
    var e = sp.translate(t),
        o = Zh.DOM.encode(e);

    if (0 < n.length) {
      var r = new RegExp(n.replace(/[.*+?^${}()|[\]\\]/g, "\\$&"), "gi");
      return o.replace(r, function (t) {
        return '<span class="tox-autocompleter-highlight">' + t + "</span>";
      });
    }

    return o;
  }

  function Ev(t) {
    return {
      value: t
    };
  }

  function Dv(t) {
    return nb.test(t) || eb.test(t);
  }

  function Bv(t) {
    var n = t.toString(16);
    return (1 === n.length ? "0" + n : n).toUpperCase();
  }

  function Av(t) {
    return Ev(Bv(t.red) + Bv(t.green) + Bv(t.blue));
  }

  function Mv(t, n, e, o) {
    return {
      red: t,
      green: n,
      blue: e,
      alpha: o
    };
  }

  function Fv(t) {
    var n = parseInt(t, 10);
    return n.toString() === t && 0 <= n && n <= 255;
  }

  function Iv(t) {
    var n,
        e,
        o,
        r = (t.hue || 0) % 360,
        i = t.saturation / 100,
        u = t.value / 100,
        i = rb(0, ob(i, 1)),
        u = rb(0, ob(u, 1));
    if (0 === i) return Mv(n = e = o = ib(255 * u), e, o, 1);
    var a = r / 60,
        c = u * i,
        s = c * (1 - Math.abs(a % 2 - 1)),
        l = u - c;

    switch (Math.floor(a)) {
      case 0:
        n = c, e = s, o = 0;
        break;

      case 1:
        n = s, e = c, o = 0;
        break;

      case 2:
        n = 0, e = c, o = s;
        break;

      case 3:
        n = 0, e = s, o = c;
        break;

      case 4:
        n = s, e = 0, o = c;
        break;

      case 5:
        n = c, e = 0, o = s;
        break;

      default:
        n = e = o = 0;
    }

    return Mv(n = ib(255 * (n + l)), e = ib(255 * (e + l)), o = ib(255 * (o + l)), 1);
  }

  function Rv(t) {
    var n,
        e,
        o = (n = {
      value: t.value.replace(nb, function (t, n, e, o) {
        return n + n + e + e + o + o;
      })
    }, null === (e = eb.exec(n.value)) ? ["FFFFFF", "FF", "FF", "FF"] : e);
    return Mv(parseInt(o[1], 16), parseInt(o[2], 16), parseInt(o[3], 16), 1);
  }

  function Vv(t, n, e, o) {
    return Mv(parseInt(t, 10), parseInt(n, 10), parseInt(e, 10), parseFloat(o));
  }

  function Pv(t) {
    if ("transparent" === t) return ft.some(Mv(0, 0, 0, 0));
    var n = ub.exec(t);
    if (null !== n) return ft.some(Vv(n[1], n[2], n[3], "1"));
    var e = ab.exec(t);
    return null !== e ? ft.some(Vv(e[1], e[2], e[3], e[4])) : ft.none();
  }

  function Hv(t) {
    return "rgba(" + t.red + "," + t.green + "," + t.blue + "," + t.alpha + ")";
  }

  function zv(t, n) {
    return t.fire("ResizeContent", n);
  }

  function Nv(t, n, e) {
    return {
      hue: t,
      saturation: n,
      value: e
    };
  }

  function Lv(t) {
    var n,
        e,
        o = 0,
        r = t.red / 255,
        i = t.green / 255,
        u = t.blue / 255,
        a = Math.min(r, Math.min(i, u)),
        c = Math.max(r, Math.max(i, u));
    return a === c ? Nv(0, 0, 100 * (o = a)) : (e = 60 * ((r === a ? 3 : u === a ? 1 : 5) - (r === a ? i - u : u === a ? r - i : u - r) / (c - a)), n = (c - a) / c, o = c, Nv(Math.round(e), Math.round(100 * n), Math.round(100 * o)));
  }

  function jv(t) {
    return Av(Iv(t));
  }

  function Wv(o) {
    return (Dv(n = o) ? ft.some({
      value: (pe(t = n, "#") ? t.substring("#".length) : t).toUpperCase()
    }) : ft.none()).orThunk(function () {
      return Pv(o).map(Av);
    }).getOrThunk(function () {
      var t = document.createElement("canvas");
      t.height = 1, t.width = 1;
      var n = t.getContext("2d");
      n.clearRect(0, 0, t.width, t.height), n.fillStyle = "#FFFFFF", n.fillStyle = o, n.fillRect(0, 0, 1, 1);
      var e = n.getImageData(0, 0, 1, 1).data;
      return Av(Mv(e[0], e[1], e[2], e[3]));
    });
    var t, n;
  }

  (hh = ph = ph || {})["default"] = "wrap", hh.floating = "floating", hh.sliding = "sliding", hh.scrolling = "scrolling", (bh = vh = vh || {}).auto = "auto", bh.top = "top", bh.bottom = "bottom";

  function Uv(t) {
    return fd.config({
      disabled: t,
      disableClass: "tox-tbtn--disabled"
    });
  }

  var Gv,
      Xv = "silver.readonly",
      Yv = te([$t("readonly", ie)]),
      qv = function qv(t) {
    return fd.config({
      disabled: t
    });
  },
      Kv = function Kv(t) {
    return fd.config({
      disabled: t,
      disableClass: "tox-tbtn--disabled",
      useNative: !1
    });
  },
      Jv = ((Gv = {})[Eo()] = ["disabling", "alloy.base.behaviour", "toggling", "item-events"], Gv),
      $v = Jr,
      Qv = tinymce.util.Tools.resolve("tinymce.Env"),
      Zv = function Zv(t, a) {
    return A(t, function (t) {
      switch (t.type) {
        case "cardcontainer":
          return r = Zv((o = t).items, a), i = "vertical" === o.direction ? "tox-collection__item-container--column" : Bh, u = "left" === o.align ? "tox-collection__item-container--align-left" : "tox-collection__item-container--align-right", {
            dom: {
              tag: "div",
              classes: [Dh, i, u, function () {
                switch (o.valign) {
                  case "top":
                    return "tox-collection__item-container--valign-top";

                  case "middle":
                    return "tox-collection__item-container--valign-middle";

                  case "bottom":
                    return "tox-collection__item-container--valign-bottom";
                }
              }()]
            },
            components: r
          };

        case "cardimage":
          return e = t.src, {
            dom: {
              tag: "img",
              classes: t.classes,
              attributes: {
                src: e,
                alt: t.alt.getOr("")
              }
            }
          };

        case "cardtext":
          var n = t.name.exists(function (t) {
            return et(a.cardText.highlightOn, t);
          }) ? ft.from(a.cardText.matchText).getOr("") : "";
          return xv(Tv(t.text, n), t.classes);
      }

      var e, o, r, i, u;
    });
  },
      tb = rl(Gg(), Xg()),
      nb = /^#?([a-f\d])([a-f\d])([a-f\d])$/i,
      eb = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,
      ob = Math.min,
      rb = Math.max,
      ib = Math.round,
      ub = /^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,
      ab = /^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,
      cb = Mv(255, 0, 0, 1),
      sb = tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),
      lb = "tinymce-custom-colors";

  function fb(t) {
    return !1 !== t.getParam("custom_colors");
  }

  function db(t) {
    var n = t.getParam("color_map");
    return void 0 !== n ? function (t) {
      for (var n = [], e = 0; e < t.length; e += 2) {
        n.push({
          text: t[e + 1],
          value: "#" + Wv(t[e]).value,
          type: "choiceitem"
        });
      }

      return n;
    }(n) : Tb;
  }

  function mb(t) {
    Eb.add(t);
  }

  function gb(t) {
    var n,
        e = (n = db(t).length, Math.max(5, Math.ceil(Math.sqrt(n))));
    return t.getParam("color_cols", e, "number");
  }

  function pb(t) {
    var n = "choiceitem",
        e = {
      type: n,
      text: "Remove color",
      icon: "color-swatch-remove-color",
      value: "remove"
    };
    return t ? [e, {
      type: n,
      text: "Custom color",
      icon: "color-picker",
      value: "custom"
    }] : [e];
  }

  function hb(n, e, t, o) {
    "custom" === t ? Db(n)(function (t) {
      t.each(function (t) {
        mb(t), n.execCommand("mceApplyTextcolor", e, t), o(t);
      });
    }, "#000000") : "remove" === t ? (o(""), n.execCommand("mceRemoveTextcolor", e)) : (o(t), n.execCommand("mceApplyTextcolor", e, t));
  }

  function vb(t, n) {
    return t.concat(A(Eb.state(), function (t) {
      return {
        type: _b,
        text: t,
        value: t
      };
    }).concat(pb(n)));
  }

  function bb(n, e) {
    return function (t) {
      t(vb(n, e));
    };
  }

  function yb(t, n, e) {
    t.setIconFill("forecolor" === n ? "tox-icon-text-color__color" : "tox-icon-highlight-bg-color__color", e);
  }

  function xb(i, e, u, t, o) {
    i.ui.registry.addSplitButton(e, {
      tooltip: t,
      presets: "color",
      icon: "forecolor" === e ? "text-color" : "highlight-bg-color",
      select: function select(e) {
        var o, r;
        return ft.from((o = u, i.dom.getParents(i.selection.getStart(), function (t) {
          var n;
          (n = t.style["forecolor" === o ? "color" : "background-color"]) && (r = r || n);
        }), r)).bind(function (t) {
          return Pv(t).map(function (t) {
            var n = Av(t).value;
            return Cn(e.toLowerCase(), n);
          });
        }).getOr(!1);
      },
      columns: gb(i),
      fetch: bb(db(i), fb(i)),
      onAction: function onAction(t) {
        null !== o.get() && hb(i, u, o.get(), ct);
      },
      onItemAction: function onItemAction(t, n) {
        hb(i, u, n, function (t) {
          o.set(t), i.fire("TextColorChange", {
            name: e,
            color: t
          });
        });
      },
      onSetup: function onSetup(n) {
        function t(t) {
          t.name === e && yb(n, t.name, t.color);
        }

        return null !== o.get() && yb(n, e, o.get()), i.on("TextColorChange", t), function () {
          i.off("TextColorChange", t);
        };
      }
    });
  }

  function wb(n, t, e, o) {
    n.ui.registry.addNestedMenuItem(t, {
      text: o,
      icon: "forecolor" === t ? "text-color" : "highlight-bg-color",
      getSubmenuItems: function getSubmenuItems() {
        return [{
          type: "fancymenuitem",
          fancytype: "colorswatch",
          onAction: function onAction(t) {
            hb(n, e, t.value, ct);
          }
        }];
      }
    });
  }

  function Sb(t, n, e, o, r, i, u, a) {
    return oh(t, th(n), Bb(n, e, o, "color" !== r ? "normal" : "color", i, u, a), o, r);
  }

  function kb(t, n) {
    var e = Kp(n);
    return 1 === t ? {
      mode: "menu",
      moveOnTab: !0
    } : "auto" === t ? {
      mode: "grid",
      selector: "." + e.item,
      initSize: {
        numColumns: 1,
        numRows: 1
      }
    } : {
      mode: "matrix",
      rowSelector: "." + ("color" === n ? "tox-swatches__row" : "tox-collection__group")
    };
  }

  var Cb,
      Ob,
      _b = "choiceitem",
      Tb = [{
    type: _b,
    text: "Light Green",
    value: "#BFEDD2"
  }, {
    type: _b,
    text: "Light Yellow",
    value: "#FBEEB8"
  }, {
    type: _b,
    text: "Light Red",
    value: "#F8CAC6"
  }, {
    type: _b,
    text: "Light Purple",
    value: "#ECCAFA"
  }, {
    type: _b,
    text: "Light Blue",
    value: "#C2E0F4"
  }, {
    type: _b,
    text: "Green",
    value: "#2DC26B"
  }, {
    type: _b,
    text: "Yellow",
    value: "#F1C40F"
  }, {
    type: _b,
    text: "Red",
    value: "#E03E2D"
  }, {
    type: _b,
    text: "Purple",
    value: "#B96AD9"
  }, {
    type: _b,
    text: "Blue",
    value: "#3598DB"
  }, {
    type: _b,
    text: "Dark Turquoise",
    value: "#169179"
  }, {
    type: _b,
    text: "Orange",
    value: "#E67E23"
  }, {
    type: _b,
    text: "Dark Red",
    value: "#BA372A"
  }, {
    type: _b,
    text: "Dark Purple",
    value: "#843FA1"
  }, {
    type: _b,
    text: "Dark Blue",
    value: "#236FA1"
  }, {
    type: _b,
    text: "Light Gray",
    value: "#ECF0F1"
  }, {
    type: _b,
    text: "Medium Gray",
    value: "#CED4D9"
  }, {
    type: _b,
    text: "Gray",
    value: "#95A5A6"
  }, {
    type: _b,
    text: "Dark Gray",
    value: "#7E8C8D"
  }, {
    type: _b,
    text: "Navy Blue",
    value: "#34495E"
  }, {
    type: _b,
    text: "Black",
    value: "#000000"
  }, {
    type: _b,
    text: "White",
    value: "#ffffff"
  }],
      Eb = function (e) {
    void 0 === e && (e = 10);

    function o(t) {
      i.splice(t, 1);
    }

    var t,
        n = sb.getItem(lb),
        r = y(n) ? JSON.parse(n) : [],
        i = e - (t = r).length < 0 ? t.slice(0, e) : t;
    return {
      add: function add(t) {
        var n;
        (-1 === (n = p(i, t)) ? ft.none() : ft.some(n)).each(o), i.unshift(t), i.length > e && i.pop(), sb.setItem(lb, JSON.stringify(i));
      },
      state: function state() {
        return i.slice(0);
      }
    };
  }(10),
      Db = function Db(r) {
    return function (e, t) {
      var o = !1;
      r.windowManager.open({
        title: "Color Picker",
        size: "normal",
        body: {
          type: "panel",
          items: [{
            type: "colorpicker",
            name: "colorpicker",
            label: "Color"
          }]
        },
        buttons: [{
          type: "cancel",
          name: "cancel",
          text: "Cancel"
        }, {
          type: "submit",
          name: "save",
          text: "Save",
          primary: !0
        }],
        initialData: {
          colorpicker: t
        },
        onAction: function onAction(t, n) {
          "hex-valid" === n.name && (o = n.value);
        },
        onSubmit: function onSubmit(t) {
          var n = t.getData().colorpicker;
          o ? (e(ft.from(n)), t.close()) : r.windowManager.alert(r.translate(["Invalid hex color code: {0}", n]));
        },
        onClose: ct,
        onCancel: function onCancel() {
          e(ft.none());
        }
      });
    };
  },
      Bb = function Bb(e, o, r, i, u, a, c) {
    return Jr(A(e, function (n) {
      return "choiceitem" === n.type ? Gt("choicemenuitem", Nh, n).fold(nh, function (t) {
        return ft.some(function (n, t, e, o, r, i, u, a) {
          void 0 === a && (a = !0);
          var c = Ov({
            presets: e,
            textContent: t ? n.text : ft.none(),
            htmlContent: ft.none(),
            ariaLabel: n.text,
            iconContent: n.icon,
            shortcutContent: t ? n.shortcut : ft.none(),
            checkMark: t ? ft.some(kv(u.icons)) : ft.none(),
            caret: ft.none(),
            value: n.value
          }, u, a);
          return Jn(hv({
            data: vv(n),
            disabled: n.disabled,
            getApi: function getApi(n) {
              return {
                setActive: function setActive(t) {
                  Hg.set(n, t);
                },
                isActive: function isActive() {
                  return Hg.isOn(n);
                },
                isDisabled: function isDisabled() {
                  return fd.isDisabled(n);
                },
                setDisabled: function setDisabled(t) {
                  return fd.set(n, t);
                }
              };
            },
            onAction: function onAction(t) {
              return o(n.value);
            },
            onSetup: function onSetup(t) {
              return t.setActive(r), ct;
            },
            triggersSubmenu: !1,
            itemBehaviours: []
          }, c, i, u), {
            toggling: {
              toggleClass: Ch,
              toggleOnExecute: !1,
              selected: n.active
            }
          });
        }(t, 1 === r, i, o, a(n.value), u, c, th(e)));
      }) : ft.none();
    }));
  },
      Ab = Ar("cell-over"),
      Mb = Ar("cell-execute"),
      Fb = {
    inserttable: function inserttable(o) {
      var t = Ar("size-label"),
          i = function (t) {
        for (var n = [], e = 0; e < 10; e++) {
          for (var o = [], r = 0; r < 10; r++) {
            o.push(function (n, e, t) {
              function o(t) {
                return Ne(t, Mb, {
                  row: n,
                  col: e
                });
              }

              function r(t, n) {
                n.stop(), o(t);
              }

              var i;
              return bu({
                dom: {
                  tag: "div",
                  attributes: ((i = {
                    role: "button"
                  })["aria-labelledby"] = t, i)
                },
                behaviours: Za([lm("insert-table-picker-cell", [Xe(lo(), Rg.focus), Xe(Eo(), o), Xe(bo(), r), Xe(Bo(), r)]), Hg.config({
                  toggleClass: "tox-insert-table-picker__selected",
                  toggleOnExecute: !1
                }), Rg.config({
                  onFocus: function onFocus(t) {
                    return Ne(t, Ab, {
                      row: n,
                      col: e
                    });
                  }
                })])
              });
            }(e, r, t));
          }

          n.push(o);
        }

        return n;
      }(t),
          u = Vm({
        dom: {
          tag: "span",
          classes: ["tox-insert-table-picker__label"],
          attributes: {
            id: t
          }
        },
        components: [pi("0x0")],
        behaviours: Za([Mg.config({})])
      });

      return {
        type: "widget",
        data: {
          value: Ar("widget-id")
        },
        dom: {
          tag: "div",
          classes: ["tox-fancymenuitem"]
        },
        autofocus: !0,
        components: [tb.widget({
          dom: {
            tag: "div",
            classes: ["tox-insert-table-picker"]
          },
          components: z(i, function (t) {
            return A(t, yu);
          }).concat(u.asSpec()),
          behaviours: Za([lm("insert-table-picker", [Je(Ab, function (t, n, e) {
            var o = e.event.row,
                r = e.event.col;
            !function (t, n, e) {
              for (var o = 0; o < 10; o++) {
                for (var r = 0; r < 10; r++) {
                  Hg.set(t[o][r], o <= n && r <= e);
                }
              }
            }(i, o, r), Mg.set(u.get(t), [pi(r + 1 + "x" + (o + 1))]);
          }), Je(Mb, function (t, n, e) {
            o.onAction({
              numRows: e.event.row + 1,
              numColumns: e.event.col + 1
            }), ze(t, Mo());
          })]), Bg.config({
            initSize: {
              numRows: 10,
              numColumns: 10
            },
            mode: "flatgrid",
            selector: '[role="button"]'
          })])
        })]
      };
    },
    colorswatch: function colorswatch(n, t) {
      var e,
          o,
          r,
          i = (o = t, r = (e = n).initData.allowCustomColors && o.colorinput.hasCustomColors(), e.initData.colors.fold(function () {
        return vb(o.colorinput.getColors(), r);
      }, function (t) {
        return t.concat(pb(r));
      })),
          u = t.colorinput.getColorCols(),
          a = Sb(Ar("menu-value"), i, function (t) {
        n.onAction({
          value: t
        });
      }, u, "color", yh.CLOSE_ON_EXECUTE, O, t.shared.providers),
          c = _st(_st({}, a), {
        markers: Kp("color"),
        movement: kb(u, "color")
      });

      return {
        type: "widget",
        data: {
          value: Ar("widget-id")
        },
        dom: {
          tag: "div",
          classes: ["tox-fancymenuitem"]
        },
        autofocus: !0,
        components: [tb.widget($g.sketch(c))]
      };
    }
  },
      Ib = function Ib(t) {
    var n = t.text.fold(function () {
      return {};
    }, function (t) {
      return {
        innerHtml: t
      };
    });
    return {
      type: "separator",
      dom: _st({
        tag: "div",
        classes: [wh, "tox-collection__group-heading"]
      }, n),
      components: []
    };
  },
      Rb = function Rb(t, n, e, o) {
    void 0 === o && (o = !0);
    var r = Ov({
      presets: "normal",
      iconContent: t.icon,
      textContent: t.text,
      htmlContent: ft.none(),
      ariaLabel: t.text,
      caret: ft.none(),
      checkMark: ft.none(),
      shortcutContent: t.shortcut
    }, e, o);
    return hv({
      data: vv(t),
      getApi: function getApi(n) {
        return {
          isDisabled: function isDisabled() {
            return fd.isDisabled(n);
          },
          setDisabled: function setDisabled(t) {
            return fd.set(n, t);
          }
        };
      },
      disabled: t.disabled,
      onAction: t.onAction,
      onSetup: t.onSetup,
      triggersSubmenu: !1,
      itemBehaviours: []
    }, r, n, e);
  },
      Vb = function Vb(t, n, e, o, r) {
    void 0 === o && (o = !0);
    var i = (r = void 0 !== r && r) ? bv("chevron-down", e.icons, [Th]) : bv("chevron-right", e.icons, [Th]),
        u = Ov({
      presets: "normal",
      iconContent: t.icon,
      textContent: t.text,
      htmlContent: ft.none(),
      ariaLabel: t.text,
      caret: ft.some(i),
      checkMark: ft.none(),
      shortcutContent: t.shortcut
    }, e, o);
    return hv({
      data: vv(t),
      getApi: function getApi(n) {
        return {
          isDisabled: function isDisabled() {
            return fd.isDisabled(n);
          },
          setDisabled: function setDisabled(t) {
            return fd.set(n, t);
          }
        };
      },
      disabled: t.disabled,
      onAction: ct,
      onSetup: t.onSetup,
      triggersSubmenu: !0,
      itemBehaviours: []
    }, u, n, e);
  },
      Pb = function Pb(t, n, e, o) {
    void 0 === o && (o = !0);
    var r = Ov({
      iconContent: t.icon,
      textContent: t.text,
      htmlContent: ft.none(),
      ariaLabel: t.text,
      checkMark: ft.some(kv(e.icons)),
      caret: ft.none(),
      shortcutContent: t.shortcut,
      presets: "normal",
      meta: t.meta
    }, e, o);
    return Jn(hv({
      data: vv(t),
      disabled: t.disabled,
      getApi: function getApi(n) {
        return {
          setActive: function setActive(t) {
            Hg.set(n, t);
          },
          isActive: function isActive() {
            return Hg.isOn(n);
          },
          isDisabled: function isDisabled() {
            return fd.isDisabled(n);
          },
          setDisabled: function setDisabled(t) {
            return fd.set(n, t);
          }
        };
      },
      onAction: t.onAction,
      onSetup: t.onSetup,
      triggersSubmenu: !1,
      itemBehaviours: []
    }, r, n, e), {
      toggling: {
        toggleClass: Ch,
        toggleOnExecute: !1,
        selected: t.active
      }
    });
  },
      Hb = function Hb(n, e) {
    return kt(Fb, n.fancytype).map(function (t) {
      return t(n, e);
    });
  };

  function zb(t, u, a, n, c, s, l) {
    var e = 1 === n,
        o = !e || th(t);
    return Jr(A(t, function (t) {
      switch (t.type) {
        case "separator":
          return Gt("Autocompleter.Separator", Mp, t).fold(nh, function (t) {
            return ft.some(Ib(t));
          });

        case "cardmenuitem":
          return Gt("cardmenuitem", zh, t).fold(nh, function (n) {
            return ft.some((t = _st(_st({}, n), {
              onAction: function onAction(t) {
                n.onAction(t), a(n.value, n.meta);
              }
            }), e = c, o = s, r = {
              itemBehaviours: _v(n.meta, s),
              cardText: {
                matchText: u,
                highlightOn: l
              }
            }, i = {
              dom: Cv(t.label),
              optComponents: [ft.some({
                dom: {
                  tag: "div",
                  classes: [Dh, Bh]
                },
                components: Zv(t.items, r)
              })]
            }, hv({
              data: vv(_st({
                text: ft.none()
              }, t)),
              disabled: t.disabled,
              getApi: function getApi(e) {
                return {
                  isDisabled: function isDisabled() {
                    return fd.isDisabled(e);
                  },
                  setDisabled: function setDisabled(n) {
                    fd.set(e, n), dt(gs(e.element, "*"), function (t) {
                      e.getSystem().getByDom(t).each(function (t) {
                        t.hasConfigured(fd) && fd.set(t, n);
                      });
                    });
                  }
                };
              },
              onAction: t.onAction,
              onSetup: t.onSetup,
              triggersSubmenu: !1,
              itemBehaviours: ft.from(r.itemBehaviours).getOr([])
            }, i, e, o.providers)));
            var t, e, o, r, i;
          });

        default:
          return Gt("Autocompleter.Item", Fp, t).fold(nh, function (t) {
            return ft.some(function (n, e, t, o, r, i, u, a) {
              void 0 === a && (a = !0);
              var c = Ov({
                presets: o,
                textContent: ft.none(),
                htmlContent: t ? n.text.map(function (t) {
                  return Tv(t, e);
                }) : ft.none(),
                ariaLabel: n.text,
                iconContent: n.icon,
                shortcutContent: ft.none(),
                checkMark: ft.none(),
                caret: ft.none(),
                value: n.value
              }, u.providers, a, n.icon);
              return hv({
                data: vv(n),
                disabled: n.disabled,
                getApi: tt({}),
                onAction: function onAction(t) {
                  return r(n.value, n.meta);
                },
                onSetup: tt(ct),
                triggersSubmenu: !1,
                itemBehaviours: _v(n.meta, u)
              }, c, i, u.providers);
            }(t, u, e, "normal", a, c, s, o));
          });
      }
    }));
  }

  function Nb(t, n, e, o, r) {
    var i = th(n),
        u = Jr(A(n, function (t) {
      function n(t) {
        return function (t, n, e, o, r) {
          function i(t) {
            return r ? _st(_st({}, t), {
              shortcut: ft.none(),
              icon: t.text.isSome() ? ft.none() : t.icon
            }) : t;
          }

          var u = e.shared.providers;

          switch (t.type) {
            case "menuitem":
              return Gt("menuitem", Wh, t).fold(nh, function (t) {
                return ft.some(Rb(i(t), n, u, o));
              });

            case "nestedmenuitem":
              return Gt("nestedmenuitem", Uh, t).fold(nh, function (t) {
                return ft.some(Vb(i(t), n, u, o, r));
              });

            case "togglemenuitem":
              return Gt("togglemenuitem", Gh, t).fold(nh, function (t) {
                return ft.some(Pb(i(t), n, u, o));
              });

            case "separator":
              return Gt("separatormenuitem", Mp, t).fold(nh, function (t) {
                return ft.some(Ib(t));
              });

            case "fancymenuitem":
              return Gt("fancymenuitem", jh, t).fold(nh, function (t) {
                return Hb(i(t), e);
              });

            default:
              return console.error("Unknown item in general menu", t), ft.none();
          }
        }(t, e, o, r ? !Kn(t, "text") : i, r);
      }

      return "nestedmenuitem" === t.type && t.getSubmenuItems().length <= 0 ? n(_st(_st({}, t), {
        disabled: !0
      })) : n(t);
    }));
    return (r ? eh : oh)(t, i, u, 1, "normal");
  }

  function Lb(t) {
    return ep.singleData(t.value, t);
  }

  function jb(t, n, e) {
    return Iu(t, n, e).isSome();
  }

  function Wb(e, o) {
    var r = null;
    return {
      cancel: function cancel() {
        null !== r && (clearTimeout(r), r = null);
      },
      schedule: function schedule() {
        for (var t = [], n = 0; n < arguments.length; n++) {
          t[n] = arguments[n];
        }

        r = setTimeout(function () {
          e.apply(null, t), r = null;
        }, o);
      }
    };
  }

  function Ub(t) {
    var n = t.raw;
    return void 0 === n.touches || 1 !== n.touches.length ? ft.none() : ft.some(n.touches[0]);
  }

  function Gb() {
    return Be().browser.isFirefox();
  }

  function Xb(n, t) {
    var e,
        o,
        r,
        i,
        u,
        a,
        c,
        s,
        l,
        f = Yt("Getting GUI events settings", iy, t),
        d = (u = f, a = fc(), c = wn(!1), s = Wb(function (t) {
      u.triggerEvent(Ao(), t), c.set(!0);
    }, 400), l = Me([{
      key: eo(),
      value: function value(e) {
        return Ub(e).each(function (t) {
          s.cancel();
          var n = {
            x: t.clientX,
            y: t.clientY,
            target: e.target
          };
          s.schedule(e), c.set(!1), a.set(n);
        }), ft.none();
      }
    }, {
      key: oo(),
      value: function value(t) {
        return s.cancel(), Ub(t).each(function (i) {
          a.on(function (t) {
            var n = i,
                e = t,
                o = Math.abs(n.clientX - e.x),
                r = Math.abs(n.clientY - e.y);
            (5 < o || 5 < r) && a.clear();
          });
        }), ft.none();
      }
    }, {
      key: ro(),
      value: function value(n) {
        return s.cancel(), a.get().filter(function (t) {
          return Bn(t.target, n.target);
        }).map(function (t) {
          return c.get() ? (n.prevent(), !1) : u.triggerEvent(Bo(), n);
        });
      }
    }]), {
      fireIfReady: function fireIfReady(n, t) {
        return kt(l, t).bind(function (t) {
          return t(n);
        });
      }
    }),
        m = A(["touchstart", "touchmove", "touchend", "touchcancel", "gesturestart", "mousedown", "mouseup", "mouseover", "mousemove", "mouseout", "click"].concat(["selectstart", "input", "contextmenu", "change", "transitionend", "transitioncancel", "drag", "dragstart", "dragend", "dragenter", "dragleave", "dragover", "drop", "keyup"]), function (t) {
      return dc(n, t, function (n) {
        d.fireIfReady(n, t).each(function (t) {
          t && n.kill();
        }), f.triggerEvent(t, n) && n.kill();
      });
    }),
        g = fc(),
        p = dc(n, "paste", function (n) {
      d.fireIfReady(n, "paste").each(function (t) {
        t && n.kill();
      }), f.triggerEvent("paste", n) && n.kill(), g.set(setTimeout(function () {
        f.triggerEvent(_o(), n);
      }, 0));
    }),
        h = dc(n, "keydown", function (t) {
      var n;
      f.triggerEvent("keydown", t) ? t.kill() : !0 !== f.stopBackspace || (n = t).raw.which !== gd[0] || et(["input", "textarea"], nr(n.target)) || jb(n.target, '[contenteditable="true"]') || t.prevent();
    }),
        v = (e = n, o = function o(t) {
      f.triggerEvent("focusin", t) && t.kill();
    }, Gb() ? mc(e, "focus", o) : dc(e, "focusin", o)),
        b = fc(),
        y = (r = n, i = function i(t) {
      f.triggerEvent("focusout", t) && t.kill(), b.set(setTimeout(function () {
        f.triggerEvent(Oo(), t);
      }, 0));
    }, Gb() ? mc(r, "blur", i) : dc(r, "focusout", i));
    return {
      unbind: function unbind() {
        dt(m, function (t) {
          t.unbind();
        }), h.unbind(), v.unbind(), y.unbind(), p.unbind(), g.on(clearTimeout), b.on(clearTimeout);
      }
    };
  }

  function Yb(t, n) {
    return wn(kt(t, "target").getOr(n));
  }

  function qb(t, o, n, e, r, i) {
    var u,
        a,
        c = t(o, e),
        s = (u = wn(!1), a = wn(!1), {
      stop: function stop() {
        u.set(!0);
      },
      cut: function cut() {
        a.set(!0);
      },
      isStopped: u.get,
      isCut: a.get,
      event: n,
      setSource: r.set,
      getSource: r.get
    });
    return c.fold(function () {
      return i.logEventNoHandlers(o, e), uy.complete();
    }, function (n) {
      var e = n.descHandler;
      return zr(e)(s), s.isStopped() ? (i.logEventStopped(o, n.element, e.purpose), uy.stopped()) : s.isCut() ? (i.logEventCut(o, n.element, e.purpose), uy.complete()) : ar(n.element).fold(function () {
        return i.logNoParent(o, n.element, e.purpose), uy.complete();
      }, function (t) {
        return i.logEventResponse(o, n.element, e.purpose), uy.resume(t);
      });
    });
  }

  function Kb() {
    function r(t) {
      Mr(t.element).each(function (t) {
        delete a[t], i.unregisterId(t);
      });
    }

    var u,
        i = (u = {}, {
      registerId: function registerId(r, i, t) {
        bt(t, function (t, n) {
          var e,
              o = void 0 !== u[n] ? u[n] : {};
          o[i] = {
            cHandler: S.apply(void 0, [(e = t).handler].concat(r)),
            purpose: e.purpose
          }, u[n] = o;
        });
      },
      unregisterId: function unregisterId(e) {
        bt(u, function (t, n) {
          Kn(t, e) && delete t[e];
        });
      },
      filterByType: function filterByType(t) {
        return kt(u, t).map(function (t) {
          return xt(t, function (t, n) {
            return {
              id: n,
              descHandler: t
            };
          });
        }).getOr([]);
      },
      find: function find(t, n, e) {
        var r = kt(u, n);
        return Re(e, function (t) {
          return e = r, Mr(o = t).fold(function () {
            return ft.none();
          }, function (n) {
            return e.bind(function (t) {
              return kt(t, n);
            }).map(function (t) {
              return {
                element: o,
                descHandler: t
              };
            });
          });
          var e, o;
        }, t);
      }
    }),
        a = {};
    return {
      find: function find(t, n, e) {
        return i.find(t, n, e);
      },
      filter: function filter(t) {
        return i.filterByType(t);
      },
      register: function register(t) {
        var e,
            o = Mr((e = t).element).getOrThunk(function () {
          return t = e.element, n = Ar(Qi + "uid-"), tu(t, n), n;
          var t, n;
        });
        Ct(a, o) && function (t) {
          var n = a[o];
          if (n !== t) throw new Error('The tagId "' + o + '" is already used by: ' + Br(n.element) + "\nCannot use it for: " + Br(t.element) + "\nThe conflicting element is" + (du(n.element) ? " " : " not ") + "already in the DOM");
          r(t);
        }(t), i.registerId([t], o, t.events), a[o] = t;
      },
      unregister: r,
      getById: function getById(t) {
        return kt(a, t);
      }
    };
  }

  function Jb(e) {
    function o(n) {
      return ar(e.element).fold(_, function (t) {
        return Bn(n, t);
      });
    }

    function s(t, n) {
      return i.find(o, t, n);
    }

    function r(n) {
      var t = i.filter(To());
      dt(t, function (t) {
        zr(t.descHandler)(n);
      });
    }

    var i = Kb(),
        t = Xb(e.element, {
      triggerEvent: function triggerEvent(n, e) {
        return Nu(n, e.target, function (t) {
          return cy(s, n, e, e.target, t);
        });
      }
    }),
        u = {
      debugInfo: tt("real"),
      triggerEvent: function triggerEvent(n, e, o) {
        Nu(n, e, function (t) {
          return cy(s, n, o, e, t);
        });
      },
      triggerFocus: function triggerFocus(a, c) {
        Mr(a).fold(function () {
          Sa(a);
        }, function (t) {
          Nu(Co(), a, function (t) {
            var n,
                e,
                o = s,
                r = Co(),
                i = t,
                u = Yb(n = {
              originator: c,
              kill: ct,
              prevent: ct,
              target: a
            }, e = a);
            return qb(o, r, n, e, u, i), !1;
          });
        });
      },
      triggerEscape: function triggerEscape(t, n) {
        u.triggerEvent("keydown", t.element, n.event);
      },
      getByUid: function getByUid(t) {
        return g(t);
      },
      getByDom: function getByDom(t) {
        return p(t);
      },
      build: bu,
      addToGui: function addToGui(t) {
        c(t);
      },
      removeFromGui: function removeFromGui(t) {
        l(t);
      },
      addToWorld: function addToWorld(t) {
        n(t);
      },
      removeFromWorld: function removeFromWorld(t) {
        a(t);
      },
      broadcast: function broadcast(t) {
        f(t);
      },
      broadcastOn: function broadcastOn(t, n) {
        d(t, n);
      },
      broadcastEvent: function broadcastEvent(t, n) {
        m(t, n);
      },
      isConnected: _
    },
        n = function n(t) {
      t.connect(u), Vi(t.element) || (i.register(t), dt(t.components(), n), u.triggerEvent(Io(), t.element, {
        target: t.element
      }));
    },
        a = function a(t) {
      Vi(t.element) || (dt(t.components(), a), i.unregister(t)), t.disconnect();
    },
        c = function c(t) {
      Fs(e, t);
    },
        l = function l(t) {
      Rs(t);
    },
        f = function f(t) {
      r({
        universal: !0,
        data: t
      });
    },
        d = function d(t, n) {
      r({
        universal: !1,
        channels: t,
        data: n
      });
    },
        m = function m(t, n) {
      var e,
          o,
          r = i.filter(t);
      return o = {
        stop: function stop() {
          e.set(!0);
        },
        cut: ct,
        isStopped: (e = wn(!1)).get,
        isCut: O,
        event: n,
        setSource: C("Cannot set source of a broadcasted event"),
        getSource: C("Cannot get source of a broadcasted event")
      }, dt(r, function (t) {
        zr(t.descHandler)(o);
      }), o.isStopped();
    },
        g = function g(t) {
      return i.getById(t).fold(function () {
        return mt.error(new Error('Could not find component with uid: "' + t + '" in system.'));
      }, mt.value);
    },
        p = function p(t) {
      var n = Mr(t).getOr("not found");
      return g(n);
    };

    return n(e), {
      root: e,
      element: e.element,
      destroy: function destroy() {
        t.unbind(), Xi(e.element);
      },
      add: c,
      remove: l,
      getByUid: g,
      getByDom: p,
      addToWorld: n,
      removeFromWorld: a,
      broadcast: f,
      broadcastOn: d,
      broadcastEvent: m
    };
  }

  function $b(t, n, e, o) {
    var r = hy(t, n, e, o);
    return dy.sketch(r);
  }

  function Qb(t, n) {
    return dy.parts.label({
      dom: {
        tag: "label",
        classes: ["tox-label"],
        innerHtml: n.translate(t)
      }
    });
  }

  function Zb(t) {
    return Za([Rg.config({
      onFocus: t.selectOnFocus ? function (t) {
        var n = t.element,
            e = si(n);
        n.dom.setSelectionRange(0, e.length);
      } : ct
    })]);
  }

  function ty(t) {
    return {
      tag: t.tag,
      attributes: _st({
        type: "text"
      }, t.inputAttributes),
      styles: t.inputStyles,
      classes: t.inputClasses
    };
  }

  (Ob = Cb = {})[Ob.ContentFocus = 0] = "ContentFocus", Ob[Ob.UiFocus = 1] = "UiFocus";

  function ny(f, c) {
    function e() {
      return r.get().isSome();
    }

    function s() {
      e() && op.hide(d);
    }

    var o,
        t,
        r = fc(),
        l = wn(!1),
        d = bu(op.sketch({
      dom: {
        tag: "div",
        classes: ["tox-autocompleter"]
      },
      components: [],
      fireDismissalEventInstead: {},
      inlineBehaviours: Za([lm("dismissAutocompleter", [Xe(Lo(), function () {
        return m();
      })])]),
      lazySink: c.getSink
    })),
        m = function m() {
      var t;
      e() && (t = r.get().map(function (t) {
        return t.element;
      }), Ep(t.getOr(de.fromDom(f.selection.getNode()))).each(wr), s(), r.clear(), l.set(!1));
    },
        u = _t(function () {
      return e = yt(f.ui.registry.getAll().popups, function (t) {
        return Gt("Autocompleter", Ip, t).fold(function (t) {
          throw new Error(se(t));
        }, h);
      }), t = xt(e, function (t) {
        return t.ch;
      }), n = {}, dt(t, function (t) {
        n[t] = {};
      }), o = Xn(n), r = St(e), {
        dataset: e,
        triggerChars: o,
        lookupByChar: function lookupByChar(n) {
          return F(r, function (t) {
            return t.ch === n;
          });
        }
      };
      var t, n, e, o, r;
    }),
        g = function g(t) {
      var n = t;
      r.get().map(function (t) {
        return xp(f.dom, f.selection.getRng(), t.triggerChar).bind(function (t) {
          return Cp(f, u, t, n);
        });
      }).getOrThunk(function () {
        return n = f, t = (e = u)(), o = n.selection.getRng(), r = n.dom, i = o, q(t.triggerChars, function (t) {
          return xp(r, i, t);
        }).bind(function (t) {
          return Cp(n, e, t);
        });
        var n, e, t, o, r, i;
      }).fold(m, function (a) {
        var t,
            n = a.context;
        e() || (t = hp(f, n.range), r.set({
          triggerChar: n.triggerChar,
          element: t,
          matchLength: n.text.length
        }), l.set(!1)), a.lookupData.then(function (u) {
          r.get().map(function (t) {
            var n,
                e,
                o,
                r,
                i = a.context;
            t.triggerChar === i.triggerChar && (e = i.triggerChar, r = q(o = u, function (t) {
              return ft.from(t.columns);
            }).getOr(1), 0 < (n = z(o, function (i) {
              return zb(i.items, i.matchText, function (o, r) {
                var t = f.selection.getRng();
                xp(f.dom, t, e).fold(function () {
                  return console.error("Lost context. Cursor probably moved");
                }, function (t) {
                  var n = t.range,
                      e = {
                    hide: function hide() {
                      m();
                    },
                    reload: function reload(t) {
                      s(), g(t);
                    }
                  };
                  l.set(!0), i.onAction(e, n, o, r), l.set(!1);
                });
              }, r, yh.BUBBLE_TO_SANDBOX, c, i.highlightOn);
            })).length ? function (t, n, e, o) {
              t.matchLength = n.text.length;
              var r,
                  i,
                  u,
                  a,
                  c,
                  s,
                  l = q(e, function (t) {
                return ft.from(t.columns);
              }).getOr(1);
              op.showAt(d, $g.sketch((r = oh("autocompleter-value", !0, o, l, "normal"), i = l, a = ((u = Cb.ContentFocus) === Cb.ContentFocus ? Nl : zl)(), c = kb(i, "normal"), s = Kp("normal"), {
                dom: r.dom,
                components: r.components,
                items: r.items,
                value: r.value,
                markers: {
                  selectedItem: s.selectedItem,
                  item: s.item
                },
                movement: c,
                fakeFocus: u === Cb.ContentFocus,
                focusManager: a,
                menuBehaviours: Xh("auto" !== i ? [] : [$o(function (o, t) {
                  rh(o, 4, s.item).each(function (t) {
                    var n = t.numColumns,
                        e = t.numRows;
                    Bg.setGridSize(o, e, n);
                  });
                })])
              })), {
                anchor: {
                  type: "node",
                  root: de.fromDom(f.getBody()),
                  node: ft.from(t.element)
                }
              }), op.getContent(d).each(md.highlightFirst);
            }(t, i, u, n) : (10 <= i.text.length - t.matchLength ? m : s)());
          });
        });
      });
    },
        n = {
      onKeypress: gp(function (t) {
        27 !== t.which && g();
      }, 50),
      cancelIfNecessary: m,
      isMenuOpen: function isMenuOpen() {
        return op.isOpen(d);
      },
      isActive: e,
      isProcessingAction: l.get,
      getView: function getView() {
        return op.getContent(d);
      }
    };

    function i(t, n) {
      Ne(t, go(), {
        raw: n
      });
    }

    !1 === f.hasPlugin("rtc") && (o = n, (t = f).on("keypress compositionend", o.onKeypress.throttle), t.on("remove", o.onKeypress.cancel), t.on("keydown", function (n) {
      function t() {
        return o.getView().bind(md.getHighlighted);
      }

      8 === n.which && o.onKeypress.throttle(n), o.isActive() && (27 === n.which && o.cancelIfNecessary(), o.isMenuOpen() ? 13 === n.which ? (t().each(Le), n.preventDefault()) : 40 === n.which ? (t().fold(function () {
        o.getView().each(md.highlightFirst);
      }, function (t) {
        i(t, n);
      }), n.preventDefault(), n.stopImmediatePropagation()) : 37 !== n.which && 38 !== n.which && 39 !== n.which || t().each(function (t) {
        i(t, n), n.preventDefault(), n.stopImmediatePropagation();
      }) : 13 !== n.which && 38 !== n.which && 40 !== n.which || o.cancelIfNecessary());
    }), t.on("NodeChange", function (t) {
      o.isActive() && !o.isProcessingAction() && Ep(de.fromDom(t.element)).isNone() && o.cancelIfNecessary();
    }));
  }

  var ey,
      oy,
      ry,
      iy = Ht([tn("triggerEvent"), dn("stopBackspace", !0)]),
      uy = Vn([{
    stopped: []
  }, {
    resume: ["element"]
  }, {
    complete: []
  }]),
      ay = function ay(n, e, o, t, r, i) {
    return qb(n, e, o, t, r, i).fold(_, function (t) {
      return ay(n, e, o, t, r, i);
    }, O);
  },
      cy = function cy(t, n, e, o, r) {
    var i = Yb(e, o);
    return ay(t, n, e, o, i, r);
  },
      sy = xl({
    name: "Container",
    factory: function factory(t) {
      var n = t.dom,
          e = n.attributes,
          o = s(n, ["attributes"]);
      return {
        uid: t.uid,
        dom: _st({
          tag: "div",
          attributes: _st({
            role: "presentation"
          }, e)
        }, o),
        components: t.components,
        behaviours: $s(t.containerBehaviours),
        events: t.events,
        domModification: t.domModification,
        eventOrder: t.eventOrder
      };
    },
    configFields: [dn("components", []), Js("containerBehaviours", []), dn("events", {}), dn("domModification", {}), dn("eventOrder", {})]
  }),
      ly = tt([dn("prefix", "form-field"), Js("fieldBehaviours", [id, _f])]),
      fy = tt([Kf({
    schema: [Jt("dom")],
    name: "label"
  }), Kf({
    factory: {
      sketch: function sketch(t) {
        return {
          uid: t.uid,
          dom: {
            tag: "span",
            styles: {
              display: "none"
            },
            attributes: {
              "aria-hidden": "true"
            },
            innerHtml: t.text
          }
        };
      }
    },
    schema: [Jt("text")],
    name: "aria-descriptor"
  }), Yf({
    factory: {
      sketch: function sketch(t) {
        var e,
            o,
            n = (e = ["factory"], o = {}, bt(t, function (t, n) {
          et(e, n) || (o[n] = t);
        }), o);
        return t.factory.sketch(n);
      }
    },
    schema: [Jt("factory")],
    name: "field"
  })]),
      dy = wl({
    name: "FormField",
    configFields: ly(),
    partFields: fy(),
    factory: function factory(r, t, n, e) {
      var o = Qs(r.fieldBehaviours, [id.config({
        find: function find(t) {
          return ll(t, r, "field");
        }
      }), _f.config({
        store: {
          mode: "manual",
          getValue: function getValue(t) {
            return id.getCurrent(t).bind(_f.getValue);
          },
          setValue: function setValue(t, n) {
            id.getCurrent(t).each(function (t) {
              _f.setValue(t, n);
            });
          }
        }
      })]),
          i = Jo([$o(function (t, n) {
        var o = dl(t, r, ["label", "field", "aria-descriptor"]);
        o.field().each(function (e) {
          var n = Ar(r.prefix);
          o.label().each(function (t) {
            Or(t.element, "for", n), Or(e.element, "id", n);
          }), o["aria-descriptor"]().each(function (t) {
            var n = Ar(r.prefix);
            Or(t.element, "id", n), Or(e.element, "aria-describedby", n);
          });
        });
      })]);
      return {
        uid: r.uid,
        dom: r.dom,
        components: t,
        behaviours: o,
        events: i,
        apis: {
          getField: function getField(t) {
            return ll(t, r, "field");
          },
          getLabel: function getLabel(t) {
            return ll(t, r, "label");
          }
        }
      };
    },
    apis: {
      getField: function getField(t, n) {
        return t.getField(n);
      },
      getLabel: function getLabel(t, n) {
        return t.getLabel(n);
      }
    }
  }),
      my = Object.freeze({
    __proto__: null,
    exhibit: function exhibit(t, n) {
      return Hr({
        attributes: Me([{
          key: n.tabAttr,
          value: "true"
        }])
      });
    }
  }),
      gy = xa({
    fields: [dn("tabAttr", "data-alloy-tabstop")],
    name: "tabstopping",
    active: my
  }),
      py = tinymce.util.Tools.resolve("tinymce.html.Entities"),
      hy = function hy(t, n, e, o) {
    return {
      dom: vy(e),
      components: t.toArray().concat([n]),
      fieldBehaviours: Za(o)
    };
  },
      vy = function vy(t) {
    return {
      tag: "div",
      classes: ["tox-form__group"].concat(t)
    };
  },
      by = Ar("form-component-change"),
      yy = Ar("form-close"),
      xy = Ar("form-cancel"),
      wy = Ar("form-action"),
      Sy = Ar("form-submit"),
      ky = Ar("form-block"),
      Cy = Ar("form-unblock"),
      Oy = Ar("form-tabchange"),
      _y = Ar("form-resize"),
      Ty = tt([rn("data"), dn("inputAttributes", {}), dn("inputStyles", {}), dn("tag", "input"), dn("inputClasses", []), Ku("onSetValue"), dn("styles", {}), dn("eventOrder", {}), Js("inputBehaviours", [_f, Rg]), dn("selectOnFocus", !0)]),
      Ey = xl({
    name: "Input",
    configFields: Ty(),
    factory: function factory(t, n) {
      return {
        uid: t.uid,
        dom: ty(t),
        components: [],
        behaviours: _st(_st({}, Zb(e = t)), Qs(e.inputBehaviours, [_f.config({
          store: _st(_st({
            mode: "manual"
          }, e.data.map(function (t) {
            return {
              initialValue: t
            };
          }).getOr({})), {
            getValue: function getValue(t) {
              return si(t.element);
            },
            setValue: function setValue(t, n) {
              si(t.element) !== n && li(t.element, n);
            }
          }),
          onSetValue: e.onSetValue
        })])),
        eventOrder: t.eventOrder
      };
      var e;
    }
  }),
      Dy = {},
      By = {
    exports: Dy
  };

  function Ay(t) {
    setTimeout(function () {
      throw t;
    }, 0);
  }

  function My(t) {
    var n = nr(t);
    return et(Gy, n);
  }

  function Fy(t, n) {
    Gr(n.getRoot(t).getOr(t.element), n.invalidClass), n.notify.each(function (n) {
      My(t.element) && Or(t.element, "aria-invalid", !1), n.getContainer(t).each(function (t) {
        kr(t, n.validHtml);
      }), n.onValid(t);
    });
  }

  function Iy(n, t, e, o) {
    Ur(t.getRoot(n).getOr(n.element), t.invalidClass), t.notify.each(function (t) {
      My(n.element) && Or(n.element, "aria-invalid", !0), t.getContainer(n).each(function (t) {
        kr(t, o);
      }), t.onInvalid(n, o);
    });
  }

  function Ry(n, t, e) {
    return t.validator.fold(function () {
      return Uy(mt.value(!0));
    }, function (t) {
      return t.validate(n);
    });
  }

  function Vy(n, e, t) {
    return e.notify.each(function (t) {
      t.onValidate(n);
    }), Ry(n, e).map(function (t) {
      return n.getSystem().isConnected() ? t.fold(function (t) {
        return Iy(n, e, 0, t), mt.error(t);
      }, function (t) {
        return Fy(n, e), mt.value(t);
      }) : mt.error("No longer in system");
    });
  }

  ey = Dy, oy = By, ry = void 0, function (t) {
    "object" == _typeof(ey) && void 0 !== oy ? oy.exports = t() : ("undefined" != typeof window ? window : "undefined" != typeof __webpack_require__.g ? __webpack_require__.g : "undefined" != typeof self ? self : this).EphoxContactWrapper = t();
  }(function () {
    return function i(u, a, c) {
      function s(n, t) {
        if (!a[n]) {
          if (!u[n]) {
            var e = "function" == typeof ry;
            if (!t && e) return e(n, !0);
            if (l) return l(n, !0);
            var o = new Error("Cannot find module '" + n + "'");
            throw o.code = "MODULE_NOT_FOUND", o;
          }

          var r = a[n] = {
            exports: {}
          };
          u[n][0].call(r.exports, function (t) {
            return s(u[n][1][t] || t);
          }, r, r.exports, i, u, a, c);
        }

        return a[n].exports;
      }

      for (var l = "function" == typeof ry, t = 0; t < c.length; t++) {
        s(c[t]);
      }

      return s;
    }({
      1: [function (t, n, e) {
        var o,
            r,
            i = n.exports = {};

        function u() {
          throw new Error("setTimeout has not been defined");
        }

        function a() {
          throw new Error("clearTimeout has not been defined");
        }

        function c(n) {
          if (o === setTimeout) return setTimeout(n, 0);
          if ((o === u || !o) && setTimeout) return o = setTimeout, setTimeout(n, 0);

          try {
            return o(n, 0);
          } catch (t) {
            try {
              return o.call(null, n, 0);
            } catch (t) {
              return o.call(this, n, 0);
            }
          }
        }

        !function () {
          try {
            o = "function" == typeof setTimeout ? setTimeout : u;
          } catch (t) {
            o = u;
          }

          try {
            r = "function" == typeof clearTimeout ? clearTimeout : a;
          } catch (t) {
            r = a;
          }
        }();
        var s,
            l = [],
            f = !1,
            d = -1;

        function m() {
          f && s && (f = !1, s.length ? l = s.concat(l) : d = -1, l.length && g());
        }

        function g() {
          if (!f) {
            var t = c(m);
            f = !0;

            for (var n = l.length; n;) {
              for (s = l, l = []; ++d < n;) {
                s && s[d].run();
              }

              d = -1, n = l.length;
            }

            s = null, f = !1, function (n) {
              if (r === clearTimeout) return clearTimeout(n);
              if ((r === a || !r) && clearTimeout) return r = clearTimeout, clearTimeout(n);

              try {
                r(n);
              } catch (t) {
                try {
                  return r.call(null, n);
                } catch (t) {
                  return r.call(this, n);
                }
              }
            }(t);
          }
        }

        function p(t, n) {
          this.fun = t, this.array = n;
        }

        function h() {}

        i.nextTick = function (t) {
          var n = new Array(arguments.length - 1);
          if (1 < arguments.length) for (var e = 1; e < arguments.length; e++) {
            n[e - 1] = arguments[e];
          }
          l.push(new p(t, n)), 1 !== l.length || f || c(g);
        }, p.prototype.run = function () {
          this.fun.apply(null, this.array);
        }, i.title = "browser", i.browser = !0, i.env = {}, i.argv = [], i.version = "", i.versions = {}, i.on = h, i.addListener = h, i.once = h, i.off = h, i.removeListener = h, i.removeAllListeners = h, i.emit = h, i.prependListener = h, i.prependOnceListener = h, i.listeners = function (t) {
          return [];
        }, i.binding = function (t) {
          throw new Error("process.binding is not supported");
        }, i.cwd = function () {
          return "/";
        }, i.chdir = function (t) {
          throw new Error("process.chdir is not supported");
        }, i.umask = function () {
          return 0;
        };
      }, {}],
      2: [function (t, f, n) {
        !function (n) {
          function o() {}

          function i(t) {
            if ("object" != _typeof(this)) throw new TypeError("Promises must be constructed via new");
            if ("function" != typeof t) throw new TypeError("not a function");
            this._state = 0, this._handled = !1, this._value = void 0, this._deferreds = [], l(t, this);
          }

          function r(e, o) {
            for (; 3 === e._state;) {
              e = e._value;
            }

            0 !== e._state ? (e._handled = !0, i._immediateFn(function () {
              var t,
                  n = 1 === e._state ? o.onFulfilled : o.onRejected;

              if (null !== n) {
                try {
                  t = n(e._value);
                } catch (t) {
                  return void a(o.promise, t);
                }

                u(o.promise, t);
              } else (1 === e._state ? u : a)(o.promise, e._value);
            })) : e._deferreds.push(o);
          }

          function u(n, t) {
            try {
              if (t === n) throw new TypeError("A promise cannot be resolved with itself.");

              if (t && ("object" == _typeof(t) || "function" == typeof t)) {
                var e = t.then;
                if (t instanceof i) return n._state = 3, n._value = t, void c(n);
                if ("function" == typeof e) return void l((o = e, r = t, function () {
                  o.apply(r, arguments);
                }), n);
              }

              n._state = 1, n._value = t, c(n);
            } catch (t) {
              a(n, t);
            }

            var o, r;
          }

          function a(t, n) {
            t._state = 2, t._value = n, c(t);
          }

          function c(t) {
            2 === t._state && 0 === t._deferreds.length && i._immediateFn(function () {
              t._handled || i._unhandledRejectionFn(t._value);
            });

            for (var n = 0, e = t._deferreds.length; n < e; n++) {
              r(t, t._deferreds[n]);
            }

            t._deferreds = null;
          }

          function s(t, n, e) {
            this.onFulfilled = "function" == typeof t ? t : null, this.onRejected = "function" == typeof n ? n : null, this.promise = e;
          }

          function l(t, n) {
            var e = !1;

            try {
              t(function (t) {
                e || (e = !0, u(n, t));
              }, function (t) {
                e || (e = !0, a(n, t));
              });
            } catch (t) {
              if (e) return;
              e = !0, a(n, t);
            }
          }

          var e = setTimeout;
          i.prototype["catch"] = function (t) {
            return this.then(null, t);
          }, i.prototype.then = function (t, n) {
            var e = new this.constructor(o);
            return r(this, new s(t, n, e)), e;
          }, i.all = function (t) {
            var a = Array.prototype.slice.call(t);
            return new i(function (r, i) {
              if (0 === a.length) return r([]);

              for (var u = a.length, t = 0; t < a.length; t++) {
                !function n(e, t) {
                  try {
                    if (t && ("object" == _typeof(t) || "function" == typeof t)) {
                      var o = t.then;
                      if ("function" == typeof o) return o.call(t, function (t) {
                        n(e, t);
                      }, i), 0;
                    }

                    a[e] = t, 0 == --u && r(a);
                  } catch (t) {
                    i(t);
                  }
                }(t, a[t]);
              }
            });
          }, i.resolve = function (n) {
            return n && "object" == _typeof(n) && n.constructor === i ? n : new i(function (t) {
              t(n);
            });
          }, i.reject = function (e) {
            return new i(function (t, n) {
              n(e);
            });
          }, i.race = function (r) {
            return new i(function (t, n) {
              for (var e = 0, o = r.length; e < o; e++) {
                r[e].then(t, n);
              }
            });
          }, i._immediateFn = "function" == typeof n ? function (t) {
            n(t);
          } : function (t) {
            e(t, 0);
          }, i._unhandledRejectionFn = function (t) {
            "undefined" != typeof console && console && console.warn("Possible Unhandled Promise Rejection:", t);
          }, i._setImmediateFn = function (t) {
            i._immediateFn = t;
          }, i._setUnhandledRejectionFn = function (t) {
            i._unhandledRejectionFn = t;
          }, void 0 !== f && f.exports ? f.exports = i : this.Promise || (this.Promise = i);
        }.call(this, t("timers").setImmediate);
      }, {
        timers: 3
      }],
      3: [function (c, t, s) {
        !function (t, n) {
          var o = c("process/browser.js").nextTick,
              e = Function.prototype.apply,
              r = Array.prototype.slice,
              i = {},
              u = 0;

          function a(t, n) {
            this._id = t, this._clearFn = n;
          }

          s.setTimeout = function () {
            return new a(e.call(setTimeout, window, arguments), clearTimeout);
          }, s.setInterval = function () {
            return new a(e.call(setInterval, window, arguments), clearInterval);
          }, s.clearTimeout = s.clearInterval = function (t) {
            t.close();
          }, a.prototype.unref = a.prototype.ref = function () {}, a.prototype.close = function () {
            this._clearFn.call(window, this._id);
          }, s.enroll = function (t, n) {
            clearTimeout(t._idleTimeoutId), t._idleTimeout = n;
          }, s.unenroll = function (t) {
            clearTimeout(t._idleTimeoutId), t._idleTimeout = -1;
          }, s._unrefActive = s.active = function (t) {
            clearTimeout(t._idleTimeoutId);
            var n = t._idleTimeout;
            0 <= n && (t._idleTimeoutId = setTimeout(function () {
              t._onTimeout && t._onTimeout();
            }, n));
          }, s.setImmediate = "function" == typeof t ? t : function (t) {
            var n = u++,
                e = !(arguments.length < 2) && r.call(arguments, 1);
            return i[n] = !0, o(function () {
              i[n] && (e ? t.apply(null, e) : t.call(null), s.clearImmediate(n));
            }), n;
          }, s.clearImmediate = "function" == typeof n ? n : function (t) {
            delete i[t];
          };
        }.call(this, c("timers").setImmediate, c("timers").clearImmediate);
      }, {
        "process/browser.js": 1,
        timers: 3
      }],
      4: [function (t, n, e) {
        var o = t("promise-polyfill"),
            r = "undefined" != typeof window ? window : Function("return this;")();
        n.exports = {
          boltExport: r.Promise || o
        };
      }, {
        "promise-polyfill": 2
      }]
    }, {}, [4])(4);
  });

  var Py,
      Hy,
      zy = By.exports.boltExport,
      Ny = function Ny(t) {
    function o(t) {
      r() ? i(t) : n.push(t);
    }

    var e = ft.none(),
        n = [],
        r = function r() {
      return e.isSome();
    },
        i = function i(n) {
      e.each(function (t) {
        setTimeout(function () {
          n(t);
        }, 0);
      });
    };

    return t(function (t) {
      r() || (e = ft.some(t), dt(n, i), n = []);
    }), {
      get: o,
      map: function map(e) {
        return Ny(function (n) {
          o(function (t) {
            n(e(t));
          });
        });
      },
      isReady: r
    };
  },
      Ly = {
    nu: Ny,
    pure: function pure(n) {
      return Ny(function (t) {
        t(n);
      });
    }
  },
      jy = function jy(e) {
    function t(t) {
      e().then(t, Ay);
    }

    return {
      map: function map(t) {
        return jy(function () {
          return e().then(t);
        });
      },
      bind: function bind(n) {
        return jy(function () {
          return e().then(function (t) {
            return n(t).toPromise();
          });
        });
      },
      anonBind: function anonBind(t) {
        return jy(function () {
          return e().then(function () {
            return t.toPromise();
          });
        });
      },
      toLazy: function toLazy() {
        return Ly.nu(t);
      },
      toCached: function toCached() {
        var t = null;
        return jy(function () {
          return t = null === t ? e() : t;
        });
      },
      toPromise: e,
      get: t
    };
  },
      Wy = function Wy(t) {
    return jy(function () {
      return new zy(t);
    });
  },
      Uy = function Uy(t) {
    return jy(function () {
      return zy.resolve(t);
    });
  },
      Gy = ["input", "textarea"],
      Xy = Object.freeze({
    __proto__: null,
    markValid: Fy,
    markInvalid: Iy,
    query: Ry,
    run: Vy,
    isInvalid: function isInvalid(t, n) {
      return Xr(n.getRoot(t).getOr(t.element), n.invalidClass);
    }
  }),
      Yy = Object.freeze({
    __proto__: null,
    events: function events(n, t) {
      return n.validator.map(function (t) {
        return Jo([Xe(t.onEvent, function (t) {
          Vy(t, n).get(h);
        })].concat(t.validateOnLoad ? [$o(function (t) {
          Vy(t, n).get(ct);
        })] : []));
      }).getOr({});
    }
  }),
      qy = xa({
    fields: [Jt("invalidClass"), dn("getRoot", ft.none), fn("notify", [dn("aria", "alert"), dn("getContainer", ft.none), dn("validHtml", ""), Ku("onValid"), Ku("onInvalid"), Ku("onValidate")]), fn("validator", [Jt("validate"), dn("onEvent", "input"), dn("validateOnLoad", !0)])],
    name: "invalidating",
    active: Yy,
    apis: Xy,
    extra: {
      validation: function validation(e) {
        return function (t) {
          var n = _f.getValue(t);

          return Uy(e(n));
        };
      }
    }
  }),
      Ky = Object.freeze({
    __proto__: null,
    getCoupled: function getCoupled(t, n, e, o) {
      return e.getOrCreate(t, n, o);
    }
  }),
      Jy = xa({
    fields: [$t("others", Ut(mt.value, ee()))],
    name: "coupling",
    apis: Ky,
    state: Object.freeze({
      __proto__: null,
      init: function init() {
        var i = {},
            t = tt({});
        return au({
          readState: t,
          getOrCreate: function getOrCreate(e, o, r) {
            var t = Xn(o.others);
            if (t) return kt(i, r).getOrThunk(function () {
              var t = kt(o.others, r).getOrDie("No information found for coupled component: " + r)(e),
                  n = e.getSystem().build(t);
              return i[r] = n;
            });
            throw new Error("Cannot find coupled component: " + r + ". Known coupled components: " + JSON.stringify(t, null, 2));
          }
        });
      }
    })
  }),
      $y = tt("sink"),
      Qy = tt(Kf({
    name: $y(),
    overrides: tt({
      dom: {
        tag: "div"
      },
      behaviours: Za([cf.config({
        useFixed: _
      })]),
      events: Jo([$e(go()), $e(uo()), $e(bo())])
    })
  }));

  function Zy(t, n) {
    var e = t.getHotspot(n).getOr(n),
        o = t.getAnchorOverrides();
    return t.layouts.fold(function () {
      return {
        type: "hotspot",
        hotspot: e,
        overrides: o
      };
    }, function (t) {
      return {
        type: "hotspot",
        hotspot: e,
        overrides: o,
        layouts: t
      };
    });
  }

  function tx(t, n, e, o, r, i, u) {
    var a,
        c = Zy(t, e),
        s = e,
        l = o,
        f = r,
        d = u,
        m = n,
        g = (0, (a = t).fetch)(s).map(m),
        p = T0(s, a);
    return g.map(function (t) {
      return t.bind(function (t) {
        return ft.from(ep.sketch(_st(_st({}, f.menu()), {
          uid: nu(""),
          data: t,
          highlightImmediately: d === Py.HighlightFirst,
          onOpenMenu: function onOpenMenu(t, n) {
            var e = p().getOrDie();
            cf.position(e, n, {
              anchor: c
            }), pf.decloak(l);
          },
          onOpenSubmenu: function onOpenSubmenu(t, n, e) {
            var o = p().getOrDie();
            cf.position(o, e, {
              anchor: {
                type: "submenu",
                item: n
              }
            }), pf.decloak(l);
          },
          onRepositionMenu: function onRepositionMenu(t, n, e) {
            var o = p().getOrDie();
            cf.position(o, n, {
              anchor: c
            }), dt(e, function (t) {
              cf.position(o, t.triggeredMenu, {
                anchor: {
                  type: "submenu",
                  item: t.triggeringItem
                }
              });
            });
          },
          onEscape: function onEscape() {
            return Rg.focus(s), pf.close(l), ft.some(!0);
          }
        })));
      });
    }).map(function (t) {
      return t.fold(function () {
        pf.isOpen(o) && pf.close(o);
      }, function (t) {
        pf.cloak(o), pf.open(o, t), i(o);
      }), o;
    });
  }

  function nx(t, n, e, o, r, i) {
    var u = Jy.getCoupled(e, "sandbox");
    return (pf.isOpen(u) ? function (t, n, e, o, r, i, u) {
      return pf.close(o), Uy(o);
    } : tx)(t, n, e, u, o, r, i);
  }

  function ex(t) {
    pf.getState(t).each(function (t) {
      ep.repositionMenus(t);
    });
  }

  function ox(s, l, f) {
    var d = Ru(),
        t = T0(l, s);
    return {
      dom: {
        tag: "div",
        classes: s.sandboxClasses,
        attributes: {
          id: d.id,
          role: "listbox"
        }
      },
      behaviours: Ef(s.sandboxBehaviours, [_f.config({
        store: {
          mode: "memory",
          initialValue: l
        }
      }), pf.config({
        onOpen: function onOpen(t, n) {
          var e,
              o,
              r,
              i,
              u,
              a,
              c = Zy(s, l);
          d.link(l.element), s.matchWidth && (e = c.hotspot, o = n, r = s.useMinWidth, u = id.getCurrent(o).getOr(o), a = wi(e.element), r ? ni(u.element, "min-width", a + "px") : (i = u.element, Cu.set(i, a))), s.onOpen(c, t, n), void 0 !== f && void 0 !== f.onOpen && f.onOpen(t, n);
        },
        onClose: function onClose(t, n) {
          d.unlink(l.element), void 0 !== f && void 0 !== f.onClose && f.onClose(t, n);
        },
        isPartOf: function isPartOf(t, n, e) {
          return Hu(n, e) || Hu(l, e);
        },
        getAttachPoint: function getAttachPoint() {
          return t().getOrDie();
        }
      }), id.config({
        find: function find(t) {
          return pf.getState(t).bind(function (t) {
            return id.getCurrent(t);
          });
        }
      }), oc.config({
        channels: _st(_st({}, Ws({
          isExtraPart: O
        })), Us({
          doReposition: ex
        }))
      })])
    };
  }

  function rx(t) {
    ex(Jy.getCoupled(t, "sandbox"));
  }

  function ix() {
    return [dn("sandboxClasses", []), Tf("sandboxBehaviours", [id, oc, pf, _f])];
  }

  function ux(n) {
    return Kf({
      name: n + "-edge",
      overrides: function overrides(t) {
        return t.model.manager.edgeActions[n].fold(function () {
          return {};
        }, function (o) {
          return {
            events: Jo([Ye(eo(), function (t, n, e) {
              return o(t, e);
            }, [t]), Ye(uo(), function (t, n, e) {
              return o(t, e);
            }, [t]), Ye(ao(), function (t, n, e) {
              e.mouseIsDown.get() && o(t, e);
            }, [t])])
          };
        });
      }
    });
  }

  function ax(t) {
    var n = t.event.raw;
    return -1 === n.type.indexOf("touch") ? void 0 !== n.clientX ? ft.some(n).map(function (t) {
      return Su(t.clientX, t.clientY);
    }) : ft.none() : void 0 !== n.touches && 1 === n.touches.length ? ft.some(n.touches[0]).map(function (t) {
      return Su(t.clientX, t.clientY);
    }) : ft.none();
  }

  function cx(t) {
    return t.model.minX;
  }

  function sx(t) {
    return t.model.minY;
  }

  function lx(t) {
    return t.model.minX - 1;
  }

  function fx(t) {
    return t.model.minY - 1;
  }

  function dx(t) {
    return t.model.maxX;
  }

  function mx(t) {
    return t.model.maxY;
  }

  function gx(t) {
    return t.model.maxX + 1;
  }

  function px(t) {
    return t.model.maxY + 1;
  }

  function hx(t, n, e) {
    return n(t) - e(t);
  }

  function vx(t) {
    return hx(t, dx, cx);
  }

  function bx(t) {
    return hx(t, mx, sx);
  }

  function yx(t) {
    return vx(t) / 2;
  }

  function xx(t) {
    return bx(t) / 2;
  }

  function wx(t) {
    return t.stepSize;
  }

  function Sx(t) {
    return t.snapToGrid;
  }

  function kx(t) {
    return t.snapStart;
  }

  function Cx(t) {
    return t.rounded;
  }

  function Ox(t, n) {
    return void 0 !== t[n + "-edge"];
  }

  function _x(t) {
    return Ox(t, "left");
  }

  function Tx(t) {
    return Ox(t, "right");
  }

  function Ex(t) {
    return Ox(t, "top");
  }

  function Dx(t) {
    return Ox(t, "bottom");
  }

  function Bx(t) {
    return t.model.value.get();
  }

  function Ax(t, n) {
    return {
      x: t,
      y: n
    };
  }

  function Mx(t, n) {
    Ne(t, U0(), {
      value: n
    });
  }

  function Fx(t, n, e, o) {
    return t < n ? t : e < t ? e : t === n ? n - 1 : Math.max(n, t - o);
  }

  function Ix(t, n, e, o) {
    return e < t ? t : t < n ? n : t === e ? e + 1 : Math.min(e, t + o);
  }

  function Rx(t, n, e) {
    return Math.max(n, Math.min(e, t));
  }

  function Vx(t) {
    var n = t.min,
        e = t.max,
        o = t.range,
        r = t.value,
        i = t.step,
        u = t.snap,
        a = t.snapStart,
        c = t.rounded,
        s = t.hasMinEdge,
        l = t.hasMaxEdge,
        f = t.minBound,
        d = t.maxBound,
        m = t.screenRange,
        g = s ? n - 1 : n,
        p = l ? e + 1 : e;
    if (r < f) return g;
    if (d < r) return p;
    var h,
        v,
        b,
        y,
        x,
        w = Rx((x = f, Math.min(d, Math.max(r, x)) - x) / m * o + n, g, p);
    return u && n <= w && w <= e ? (h = w, v = n, b = e, y = i, a.fold(function () {
      var t = Math.round((h - v) / y) * y;
      return Rx(v + t, v - 1, b + 1);
    }, function (t) {
      var n = Math.round((h - t) % y / y),
          e = Math.floor((h - t) / y),
          o = Math.floor((b - t) / y),
          r = Math.min(o, e + n);
      return Math.max(t, t + r * y);
    })) : c ? Math.round(w) : w;
  }

  function Px(t) {
    var n = t.min,
        e = t.max,
        o = t.range,
        r = t.value,
        i = t.hasMinEdge,
        u = t.hasMaxEdge,
        a = t.maxBound,
        c = t.maxOffset,
        s = t.centerMinEdge,
        l = t.centerMaxEdge;
    return r < n ? i ? 0 : s : e < r ? u ? a : l : (r - n) / o * c;
  }

  function Hx(t) {
    return t.element.dom.getBoundingClientRect();
  }

  function zx(t) {
    return Hx(t)[G0];
  }

  function Nx(t) {
    return Hx(t).right;
  }

  function Lx(t) {
    return Hx(t).top;
  }

  function jx(t) {
    return Hx(t).bottom;
  }

  function Wx(t) {
    return Hx(t).width;
  }

  function Ux(t) {
    return Hx(t).height;
  }

  function Gx(t, n) {
    var e = Hx(t),
        o = Hx(n);
    return (e[G0] + e.right) / 2 - o[G0];
  }

  function Xx(t, n) {
    var e = Hx(t),
        o = Hx(n);
    return (e.top + e.bottom) / 2 - o.top;
  }

  function Yx(t, n) {
    Ne(t, U0(), {
      value: n
    });
  }

  function qx(t, n, e) {
    return Vx({
      min: cx(n),
      max: dx(n),
      range: vx(n),
      value: e,
      step: wx(n),
      snap: Sx(n),
      snapStart: kx(n),
      rounded: Cx(n),
      hasMinEdge: _x(n),
      hasMaxEdge: Tx(n),
      minBound: zx(t),
      maxBound: Nx(t),
      screenRange: Wx(t)
    });
  }

  function Kx(r) {
    return function (t, n) {
      return Yx(t, {
        x: o = (0 < r ? Ix : Fx)(Bx(e = n).x, cx(e), dx(e), wx(e))
      }), ft.some(o).map(_);
      var e, o;
    };
  }

  function Jx(t, n, e, o, r, i) {
    var u,
        a,
        c,
        s,
        l,
        f,
        d,
        m,
        g = (a = i, c = e, s = o, l = r, f = Wx(u = n), d = s.bind(function (t) {
      return ft.some(Gx(t, u));
    }).getOr(0), m = l.bind(function (t) {
      return ft.some(Gx(t, u));
    }).getOr(f), Px({
      min: cx(a),
      max: dx(a),
      range: vx(a),
      value: c,
      hasMinEdge: _x(a),
      hasMaxEdge: Tx(a),
      minBound: zx(u),
      minOffset: 0,
      maxBound: Nx(u),
      maxOffset: f,
      centerMinEdge: d,
      centerMaxEdge: m
    }));
    return zx(n) - zx(t) + g;
  }

  function $x(t, n) {
    Ne(t, U0(), {
      value: n
    });
  }

  function Qx(t, n, e) {
    return Vx({
      min: sx(n),
      max: mx(n),
      range: bx(n),
      value: e,
      step: wx(n),
      snap: Sx(n),
      snapStart: kx(n),
      rounded: Cx(n),
      hasMinEdge: Ex(n),
      hasMaxEdge: Dx(n),
      minBound: Lx(t),
      maxBound: jx(t),
      screenRange: Ux(t)
    });
  }

  function Zx(r) {
    return function (t, n) {
      return $x(t, {
        y: o = (0 < r ? Ix : Fx)(Bx(e = n).y, sx(e), mx(e), wx(e))
      }), ft.some(o).map(_);
      var e, o;
    };
  }

  function t0(t, n, e, o, r, i) {
    var u,
        a,
        c,
        s,
        l,
        f,
        d,
        m,
        g = (a = i, c = e, s = o, l = r, f = Ux(u = n), d = s.bind(function (t) {
      return ft.some(Xx(t, u));
    }).getOr(0), m = l.bind(function (t) {
      return ft.some(Xx(t, u));
    }).getOr(f), Px({
      min: sx(a),
      max: mx(a),
      range: bx(a),
      value: c,
      hasMinEdge: Ex(a),
      hasMaxEdge: Dx(a),
      minBound: Lx(u),
      minOffset: 0,
      maxBound: jx(u),
      maxOffset: f,
      centerMinEdge: d,
      centerMaxEdge: m
    }));
    return Lx(n) - Lx(t) + g;
  }

  function n0(t, n) {
    Ne(t, U0(), {
      value: n
    });
  }

  function e0(t, n) {
    return {
      x: t,
      y: n
    };
  }

  function o0(u, a) {
    return function (t, n) {
      return o = n, r = 0 < u ? Ix : Fx, n0(t, e0(i = (e = a) ? Bx(o).x : r(Bx(o).x, cx(o), dx(o), wx(o)), e ? r(Bx(o).y, sx(o), mx(o), wx(o)) : Bx(o).y)), ft.some(i).map(_);
      var e, o, r, i;
    };
  }

  function r0(t) {
    return "<alloy.field." + t + ">";
  }

  function i0(f, d, m, g) {
    function p(t, n, e, o, r) {
      var i,
          u,
          a = f(xw + "range"),
          c = [dy.parts.label({
        dom: {
          tag: "label",
          innerHtml: e,
          attributes: {
            "aria-label": o
          }
        }
      }), dy.parts.field({
        data: r,
        factory: Ey,
        inputAttributes: _st({
          type: "text"
        }, "hex" === n ? {
          "aria-live": "polite"
        } : {}),
        inputClasses: [d("textfield")],
        inputBehaviours: Za([(i = n, u = t, qy.config({
          invalidClass: d("invalid"),
          notify: {
            onValidate: function onValidate(t) {
              Ne(t, yw, {
                type: i
              });
            },
            onValid: function onValid(t) {
              Ne(t, vw, {
                type: i,
                value: _f.getValue(t)
              });
            },
            onInvalid: function onInvalid(t) {
              Ne(t, bw, {
                type: i,
                value: _f.getValue(t)
              });
            }
          },
          validator: {
            validate: function validate(t) {
              var n = _f.getValue(t),
                  e = u(n) ? mt.value(!0) : mt.error(f("aria.input.invalid"));

              return Uy(e);
            },
            validateOnLoad: !1
          }
        })), gy.config({})]),
        onSetValue: function onSetValue(t) {
          qy.isInvalid(t) && qy.run(t).get(ct);
        }
      })],
          s = "hex" !== n ? [dy.parts["aria-descriptor"]({
        text: a
      })] : [];
      return {
        dom: {
          tag: "div",
          attributes: {
            role: "presentation"
          }
        },
        components: c.concat(s)
      };
    }

    function h(t, n) {
      var e = n.red,
          o = n.green,
          r = n.blue;

      _f.setValue(t, {
        red: e,
        green: o,
        blue: r
      });
    }

    function v(t, n) {
      b.getOpt(t).each(function (t) {
        ni(t.element, "background-color", "#" + n.value);
      });
    }

    var b = Vm({
      dom: {
        tag: "div",
        classes: [d("rgba-preview")],
        styles: {
          "background-color": "white"
        },
        attributes: {
          role: "presentation"
        }
      }
    });
    return xl({
      factory: function factory() {
        function a(t) {
          return o[t].get();
        }

        function c(t, n) {
          o[t].set(n);
        }

        function n(t, n) {
          var e = n.event;
          "hex" !== e.type ? c(e.type, ft.none()) : g(t);
        }

        function e(t, n) {
          var r,
              e,
              o,
              i,
              u = n.event;
          "hex" === u.type ? function (t, n) {
            m(t);
            var e = Ev(n);
            c("hex", ft.some(n));
            var o = Rv(e);
            h(t, o), s(o), Ne(t, dw, {
              hex: e
            }), v(t, e);
          }(t, u.value) : (r = t, e = u.type, o = u.value, i = parseInt(o, 10), c(e, ft.some(i)), a("red").bind(function (e) {
            return a("green").bind(function (n) {
              return a("blue").map(function (t) {
                return Mv(e, n, t, 1);
              });
            });
          }).each(function (t) {
            var n,
                e,
                o = (n = r, e = Av(t), hw.getField(n, "hex").each(function (t) {
              Rg.isFocused(t) || _f.setValue(n, {
                hex: e.value
              });
            }), e);
            Ne(r, dw, {
              hex: o
            }), v(r, o);
          }));
        }

        function t(t) {
          return {
            label: f(xw + t + ".label"),
            description: f(xw + t + ".description")
          };
        }

        function s(t) {
          var n = t.red,
              e = t.green,
              o = t.blue;
          c("red", ft.some(n)), c("green", ft.some(e)), c("blue", ft.some(o));
        }

        var o = {
          red: wn(ft.some(255)),
          green: wn(ft.some(255)),
          blue: wn(ft.some(255)),
          hex: wn(ft.some("ffffff"))
        },
            r = t("red"),
            i = t("green"),
            u = t("blue"),
            l = t("hex");
        return Jn(hw.sketch(function (t) {
          return {
            dom: {
              tag: "form",
              classes: [d("rgb-form")],
              attributes: {
                "aria-label": f("aria.color.picker")
              }
            },
            components: [t.field("red", dy.sketch(p(Fv, "red", r.label, r.description, 255))), t.field("green", dy.sketch(p(Fv, "green", i.label, i.description, 255))), t.field("blue", dy.sketch(p(Fv, "blue", u.label, u.description, 255))), t.field("hex", dy.sketch(p(Dv, "hex", l.label, l.description, "ffffff"))), b.asSpec()],
            formBehaviours: Za([qy.config({
              invalidClass: d("form-invalid")
            }), lm("rgb-form-events", [Xe(vw, e), Xe(bw, n), Xe(yw, n)])])
          };
        }), {
          apis: {
            updateHex: function updateHex(t, n) {
              var e;
              _f.setValue(t, {
                hex: n.value
              }), h(t, e = Rv(n)), s(e), v(t, n);
            }
          }
        });
      },
      name: "RgbForm",
      configFields: [],
      apis: {
        updateHex: function updateHex(t, n, e) {
          t.updateHex(n, e);
        }
      },
      extraApis: {}
    });
  }

  function u0(x, w) {
    return xl({
      name: "ColourPicker",
      configFields: [Jt("dom"), dn("onValidHex", ct), dn("onInvalidHex", ct)],
      factory: function factory(t) {
        function n(t, n, e) {
          v.getOpt(t).each(function (t) {
            g.setHue(t, e);
          });
        }

        function e(t, n) {
          b.getOpt(t).each(function (t) {
            m.updateHex(t, n);
          });
        }

        function r(n, e, o, t) {
          var r = o,
              i = Rv(e);
          p.paletteRgba.set(i), p.paletteHue.set(r), dt(t, function (t) {
            t(n, e, o);
          });
        }

        var o,
            i,
            u,
            a,
            c,
            s,
            l,
            f,
            d,
            m = i0(x, w, t.onValidHex, t.onInvalidHex),
            g = (l = w, f = fw.parts.spectrum({
          dom: {
            tag: "canvas",
            attributes: {
              role: "presentation"
            },
            classes: [l("sv-palette-spectrum")]
          }
        }), d = fw.parts.thumb({
          dom: {
            tag: "div",
            attributes: {
              role: "presentation"
            },
            classes: [l("sv-palette-thumb")],
            innerHtml: "<div class=" + l("sv-palette-inner-thumb") + ' role="presentation"></div>'
          }
        }), xl({
          factory: function factory(t) {
            var n = tt({
              x: 0,
              y: 0
            }),
                e = Za([id.config({
              find: ft.some
            }), Rg.config({})]);
            return fw.sketch({
              dom: {
                tag: "div",
                attributes: {
                  role: "presentation"
                },
                classes: [l("sv-palette")]
              },
              model: {
                mode: "xy",
                getInitialValue: n
              },
              rounded: !1,
              components: [f, d],
              onChange: function onChange(t, n, e) {
                Ne(t, gw, {
                  value: e
                });
              },
              onInit: function onInit(t, n, e, o) {
                y(e.element.dom, Hv(cb));
              },
              sliderBehaviours: e
            });
          },
          name: "SaturationBrightnessPalette",
          configFields: [],
          apis: {
            setHue: function setHue(t, n, e) {
              var o = e;
              y(n.components()[0].element.dom, Hv(Iv(Nv(o, 100, 100))));
            },
            setThumb: function setThumb(t, n, e) {
              var o = n,
                  r = Lv(Rv(e));
              fw.setValue(o, {
                x: r.saturation,
                y: 100 - r.value
              });
            }
          },
          extraApis: {}
        })),
            p = {
          paletteRgba: wn(cb),
          paletteHue: wn(0)
        },
            h = Vm((i = fw.parts.spectrum({
          dom: {
            tag: "div",
            classes: [(o = w)("hue-slider-spectrum")],
            attributes: {
              role: "presentation"
            }
          }
        }), u = fw.parts.thumb({
          dom: {
            tag: "div",
            classes: [o("hue-slider-thumb")],
            attributes: {
              role: "presentation"
            }
          }
        }), fw.sketch({
          dom: {
            tag: "div",
            classes: [o("hue-slider")],
            attributes: {
              role: "presentation"
            }
          },
          rounded: !1,
          model: {
            mode: "y",
            getInitialValue: tt({
              y: 0
            })
          },
          components: [i, u],
          sliderBehaviours: Za([Rg.config({})]),
          onChange: function onChange(t, n, e) {
            Ne(t, mw, {
              value: e
            });
          }
        }))),
            v = Vm(g.sketch({})),
            b = Vm(m.sketch({}));

        function y(t, n) {
          var e,
              o,
              r = t.width,
              i = t.height,
              u = t.getContext("2d");
          null !== u && (u.fillStyle = n, u.fillRect(0, 0, r, i), (e = u.createLinearGradient(0, 0, r, 0)).addColorStop(0, "rgba(255,255,255,1)"), e.addColorStop(1, "rgba(255,255,255,0)"), u.fillStyle = e, u.fillRect(0, 0, r, i), (o = u.createLinearGradient(0, 0, 0, i)).addColorStop(0, "rgba(0,0,0,0)"), o.addColorStop(1, "rgba(0,0,0,1)"), u.fillStyle = o, u.fillRect(0, 0, r, i));
        }

        return {
          uid: t.uid,
          dom: t.dom,
          components: [v.asSpec(), h.asSpec(), b.asSpec()],
          behaviours: Za([lm("colour-picker-events", [Xe(dw, (s = [n, function (t, n, e) {
            h.getOpt(t).each(function (t) {
              fw.setValue(t, {
                y: 100 - e / 360 * 100
              });
            });
          }, function (t, n) {
            v.getOpt(t).each(function (t) {
              g.setThumb(t, n);
            });
          }], function (t, n) {
            var e = n.event.hex;
            r(t, e, Lv(Rv(e)).hue, s);
          })), Xe(gw, (c = [e], function (t, n) {
            var e = n.event.value,
                o = p.paletteHue.get();
            r(t, jv(Nv(o, e.x, 100 - e.y)), o, c);
          })), Xe(mw, (a = [n, e], function (t, n) {
            var e = (100 - n.event.value.y) / 100 * 360,
                o = Lv(p.paletteRgba.get());
            r(t, jv(Nv(e, o.saturation, o.value)), e, a);
          }))]), id.config({
            find: function find(t) {
              return b.getOpt(t);
            }
          }), Bg.config({
            mode: "acyclic"
          })])
        };
      }
    });
  }

  function a0(t) {
    return kw[t];
  }

  function c0(t, n, e) {
    return _f.config(Jn({
      store: {
        mode: "manual",
        getValue: n,
        setValue: e
      }
    }, t.map(function (t) {
      return {
        store: {
          initialValue: t
        }
      };
    }).getOr({})));
  }

  function s0(r, i) {
    function n(t, n) {
      n.stop();
    }

    function e(t) {
      return function (n, e) {
        dt(t, function (t) {
          t(n, e);
        });
      };
    }

    function o(t, n) {
      var e;
      fd.isDisabled(t) || (e = n.event.raw, a(t, e.dataTransfer.files));
    }

    function u(t, n) {
      var e = n.event.raw.target;
      a(t, e.files);
    }

    function a(t, n) {
      var e, o;
      _f.setValue(t, (e = n, o = Ow.explode(i.getSetting("images_file_types", "jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp", "string")), F(rt(e), function (n) {
        return T(o, function (t) {
          return he(n.name.toLowerCase(), "." + t.toLowerCase());
        });
      }))), Ne(t, by, {
        name: r.name
      });
    }

    var c = Vm({
      dom: {
        tag: "input",
        attributes: {
          type: "file",
          accept: "image/*"
        },
        styles: {
          display: "none"
        }
      },
      behaviours: Za([lm("input-file-events", [$e(bo()), $e(Bo())])])
    });
    return $b(r.label.map(function (t) {
      return Qb(t, i);
    }), dy.parts.field({
      factory: {
        sketch: function sketch(t) {
          return {
            uid: t.uid,
            dom: {
              tag: "div",
              classes: ["tox-dropzone-container"]
            },
            behaviours: Za([Dw([]), x0(), fd.config({}), Hg.config({
              toggleClass: "dragenter",
              toggleOnExecute: !1
            }), lm("dropzone-events", [Xe("dragenter", e([n, Hg.toggle])), Xe("dragleave", e([n, Hg.toggle])), Xe("dragover", n), Xe("drop", e([n, o])), Xe(vo(), u)])]),
            components: [{
              dom: {
                tag: "div",
                classes: ["tox-dropzone"],
                styles: {}
              },
              components: [{
                dom: {
                  tag: "p",
                  innerHtml: i.translate("Kéo 1 ảnh vào đây")
                }
              }, cp.sketch({
                dom: {
                  tag: "button",
                  innerHtml: i.translate("Chọn ảnh từ máy tính"),
                  styles: {
                    position: "relative"
                  },
                  classes: ["tox-button", "tox-button--secondary"]
                },
                components: [c.asSpec()],
                action: function action(t) {
                  c.get(t).element.dom.click();
                },
                buttonBehaviours: Za([gy.config({}), qv(i.isDisabled), dv()])
              })]
            }]
          };
        }
      }
    }), ["tox-form__group--stretched"], []);
  }

  function l0(t) {
    return {
      dom: {
        tag: "div",
        styles: {
          width: "1px",
          height: "1px",
          outline: "none"
        },
        attributes: {
          tabindex: "0"
        },
        classes: t
      },
      behaviours: Za([Rg.config({
        ignore: !0
      }), gy.config({})])
    };
  }

  function f0(t) {
    return {
      dom: {
        tag: "div",
        classes: ["tox-navobj"]
      },
      components: [l0([Bw]), t, l0([Aw])],
      behaviours: Za([Sw(1)])
    };
  }

  function d0(t, n) {
    Ne(t, go(), {
      raw: {
        which: 9,
        shiftKey: n
      }
    });
  }

  function m0(t, n) {
    var e = n.element;
    Xr(e, Bw) ? d0(t, !0) : Xr(e, Aw) && d0(t, !1);
  }

  function g0(t) {
    return jb(t, ["." + Bw, "." + Aw].join(","), O);
  }

  function p0(t, n) {
    return Iw(document.createElement("canvas"), t, n);
  }

  function h0(t) {
    var n = p0(t.width, t.height);
    return Fw(n).drawImage(t, 0, 0), n;
  }

  function v0(t) {
    return t.naturalWidth || t.width;
  }

  function b0(t) {
    return t.naturalHeight || t.height;
  }

  (Hy = Py = Py || {})[Hy.HighlightFirst = 0] = "HighlightFirst", Hy[Hy.HighlightNone = 1] = "HighlightNone";

  function y0(o, t) {
    return {
      uid: o.uid,
      dom: o.dom,
      components: t,
      behaviours: Qs(o.formBehaviours, [_f.config({
        store: {
          mode: "manual",
          getValue: function getValue(t) {
            return yt(ml(t, o), function (t, o) {
              return t().bind(function (t) {
                var n = id.getCurrent(t),
                    e = new Error("Cannot find a current component to extract the value from for form part '" + o + "': " + Br(t.element));
                return n.fold(function () {
                  return mt.error(e);
                }, mt.value);
              }).map(_f.getValue);
            });
          },
          setValue: function setValue(e, t) {
            bt(t, function (n, t) {
              ll(e, o, t).each(function (t) {
                id.getCurrent(t).each(function (t) {
                  _f.setValue(t, n);
                });
              });
            });
          }
        }
      })]),
      apis: {
        getField: function getField(t, n) {
          return ll(t, o, n).bind(id.getCurrent);
        }
      }
    };
  }

  function x0() {
    return id.config({
      find: ft.some
    });
  }

  function w0(t) {
    return n = Sr, e = kr, c0(t, function (t) {
      return n(t.element);
    }, function (t, n) {
      return e(t.element, n);
    });
    var n, e;
  }

  var S0,
      k0,
      C0,
      O0,
      _0,
      T0 = function T0(n, t) {
    return n.getSystem().getByUid(t.uid + "-" + $y()).map(function (t) {
      return function () {
        return mt.value(t);
      };
    }).getOrThunk(function () {
      return t.lazySink.fold(function () {
        return function () {
          return mt.error(new Error("No internal sink is specified, nor could an external sink be found"));
        };
      }, function (t) {
        return function () {
          return t(n);
        };
      });
    });
  },
      E0 = tt([Jt("dom"), Jt("fetch"), Ku("onOpen"), Ju("onExecute"), dn("getHotspot", ft.some), dn("getAnchorOverrides", tt({})), zc(), Js("dropdownBehaviours", [Hg, Jy, Bg, Rg]), Jt("toggleClass"), dn("eventOrder", {}), rn("lazySink"), dn("matchWidth", !1), dn("useMinWidth", !1), rn("role")].concat(ix())),
      D0 = tt([qf({
    schema: [Xu()],
    name: "menu",
    defaults: function defaults(t) {
      return {
        onExecute: t.onExecute
      };
    }
  }), Qy()]),
      B0 = wl({
    name: "Dropdown",
    configFields: E0(),
    partFields: D0(),
    factory: function factory(n, t, e, o) {
      function r(t) {
        pf.getState(t).each(function (t) {
          ep.highlightPrimary(t);
        });
      }

      function i(t, n) {
        return Le(t), ft.some(!0);
      }

      var u,
          a = {
        expand: function expand(t) {
          Hg.isOn(t) || nx(n, h, t, o, ct, Py.HighlightNone).get(ct);
        },
        open: function open(t) {
          Hg.isOn(t) || nx(n, h, t, o, ct, Py.HighlightFirst).get(ct);
        },
        isOpen: Hg.isOn,
        close: function close(t) {
          Hg.isOn(t) && nx(n, h, t, o, ct, Py.HighlightFirst).get(ct);
        },
        repositionMenus: function repositionMenus(t) {
          Hg.isOn(t) && rx(t);
        }
      };
      return {
        uid: n.uid,
        dom: n.dom,
        components: t,
        behaviours: Qs(n.dropdownBehaviours, [Hg.config({
          toggleClass: n.toggleClass,
          aria: {
            mode: "expanded"
          }
        }), Jy.config({
          others: {
            sandbox: function sandbox(t) {
              return ox(n, t, {
                onOpen: function onOpen() {
                  return Hg.on(t);
                },
                onClose: function onClose() {
                  return Hg.off(t);
                }
              });
            }
          }
        }), Bg.config({
          mode: "special",
          onSpace: i,
          onEnter: i,
          onDown: function onDown(t, n) {
            return B0.isOpen(t) ? r(Jy.getCoupled(t, "sandbox")) : B0.open(t), ft.some(!0);
          },
          onEscape: function onEscape(t, n) {
            return B0.isOpen(t) ? (B0.close(t), ft.some(!0)) : ft.none();
          }
        }), Rg.config({})]),
        events: ym(ft.some(function (t) {
          nx(n, h, t, o, r, Py.HighlightFirst).get(ct);
        })),
        eventOrder: _st(_st({}, n.eventOrder), ((u = {})[Eo()] = ["disabling", "toggling", "alloy.base.behaviour"], u)),
        apis: a,
        domModification: {
          attributes: _st(_st({
            "aria-haspopup": "true"
          }, n.role.fold(function () {
            return {};
          }, function (t) {
            return {
              role: t
            };
          })), "button" === n.dom.tag ? {
            type: kt(n.dom, "attributes").bind(function (t) {
              return kt(t, "type");
            }).getOr("button")
          } : {})
        }
      };
    },
    apis: {
      open: function open(t, n) {
        return t.open(n);
      },
      expand: function expand(t, n) {
        return t.expand(n);
      },
      close: function close(t, n) {
        return t.close(n);
      },
      isOpen: function isOpen(t, n) {
        return t.isOpen(n);
      },
      repositionMenus: function repositionMenus(t, n) {
        return t.repositionMenus(n);
      }
    }
  }),
      A0 = xa({
    fields: [],
    name: "unselecting",
    active: Object.freeze({
      __proto__: null,
      events: function events() {
        return Jo([Ue(So(), _)]);
      },
      exhibit: function exhibit() {
        return Hr({
          styles: {
            "-webkit-user-select": "none",
            "user-select": "none",
            "-ms-user-select": "none",
            "-moz-user-select": "-moz-none"
          },
          attributes: {
            unselectable: "on"
          }
        });
      }
    })
  }),
      M0 = Ar("color-input-change"),
      F0 = Ar("color-swatch-change"),
      I0 = Ar("color-picker-cancel"),
      R0 = Kf({
    schema: [Jt("dom")],
    name: "label"
  }),
      V0 = ux("top-left"),
      P0 = ux("top"),
      H0 = ux("top-right"),
      z0 = ux("right"),
      N0 = ux("bottom-right"),
      L0 = ux("bottom"),
      j0 = ux("bottom-left"),
      W0 = [R0, ux("left"), z0, P0, L0, V0, H0, j0, N0, Yf({
    name: "thumb",
    defaults: tt({
      dom: {
        styles: {
          position: "absolute"
        }
      }
    }),
    overrides: function overrides(t) {
      return {
        events: Jo([Ke(eo(), t, "spectrum"), Ke(oo(), t, "spectrum"), Ke(ro(), t, "spectrum"), Ke(uo(), t, "spectrum"), Ke(ao(), t, "spectrum"), Ke(so(), t, "spectrum")])
      };
    }
  }), Yf({
    schema: [fe("mouseIsDown", function () {
      return wn(!1);
    })],
    name: "spectrum",
    overrides: function overrides(e) {
      function o(n, t) {
        return r.getValueFromEvent(t).map(function (t) {
          return r.setValueFrom(n, e, t);
        });
      }

      var r = e.model.manager;
      return {
        behaviours: Za([Bg.config({
          mode: "special",
          onLeft: function onLeft(t) {
            return r.onLeft(t, e);
          },
          onRight: function onRight(t) {
            return r.onRight(t, e);
          },
          onUp: function onUp(t) {
            return r.onUp(t, e);
          },
          onDown: function onDown(t) {
            return r.onDown(t, e);
          }
        }), Rg.config({})]),
        events: Jo([Xe(eo(), o), Xe(oo(), o), Xe(uo(), o), Xe(ao(), function (t, n) {
          e.mouseIsDown.get() && o(t, n);
        })])
      };
    }
  })],
      U0 = tt("slider.change.value"),
      G0 = "left",
      X0 = Kx(-1),
      Y0 = Kx(1),
      q0 = ft.none,
      K0 = ft.none,
      J0 = {
    "top-left": ft.none(),
    top: ft.none(),
    "top-right": ft.none(),
    right: ft.some(function (t, n) {
      Mx(t, {
        x: gx(n)
      });
    }),
    "bottom-right": ft.none(),
    bottom: ft.none(),
    "bottom-left": ft.none(),
    left: ft.some(function (t, n) {
      Mx(t, {
        x: lx(n)
      });
    })
  },
      $0 = Object.freeze({
    __proto__: null,
    setValueFrom: function setValueFrom(t, n, e) {
      var o = qx(t, n, e);
      return Yx(t, {
        x: o
      }), o;
    },
    setToMin: function setToMin(t, n) {
      Yx(t, {
        x: cx(n)
      });
    },
    setToMax: function setToMax(t, n) {
      Yx(t, {
        x: dx(n)
      });
    },
    findValueOfOffset: qx,
    getValueFromEvent: function getValueFromEvent(t) {
      return ax(t).map(function (t) {
        return t.left;
      });
    },
    findPositionOfValue: Jx,
    setPositionFromValue: function setPositionFromValue(t, n, e, o) {
      var r = Bx(e),
          i = Jx(t, o.getSpectrum(t), r.x, o.getLeftEdge(t), o.getRightEdge(t), e),
          u = wi(n.element) / 2;
      ni(n.element, "left", i - u + "px");
    },
    onLeft: X0,
    onRight: Y0,
    onUp: q0,
    onDown: K0,
    edgeActions: J0
  }),
      Q0 = ft.none,
      Z0 = ft.none,
      tw = Zx(-1),
      nw = Zx(1),
      ew = {
    "top-left": ft.none(),
    top: ft.some(function (t, n) {
      Mx(t, {
        y: fx(n)
      });
    }),
    "top-right": ft.none(),
    right: ft.none(),
    "bottom-right": ft.none(),
    bottom: ft.some(function (t, n) {
      Mx(t, {
        y: px(n)
      });
    }),
    "bottom-left": ft.none(),
    left: ft.none()
  },
      ow = Object.freeze({
    __proto__: null,
    setValueFrom: function setValueFrom(t, n, e) {
      var o = Qx(t, n, e);
      return $x(t, {
        y: o
      }), o;
    },
    setToMin: function setToMin(t, n) {
      $x(t, {
        y: sx(n)
      });
    },
    setToMax: function setToMax(t, n) {
      $x(t, {
        y: mx(n)
      });
    },
    findValueOfOffset: Qx,
    getValueFromEvent: function getValueFromEvent(t) {
      return ax(t).map(function (t) {
        return t.top;
      });
    },
    findPositionOfValue: t0,
    setPositionFromValue: function setPositionFromValue(t, n, e, o) {
      var r = Bx(e),
          i = t0(t, o.getSpectrum(t), r.y, o.getTopEdge(t), o.getBottomEdge(t), e),
          u = vi(n.element) / 2;
      ni(n.element, "top", i - u + "px");
    },
    onLeft: Q0,
    onRight: Z0,
    onUp: tw,
    onDown: nw,
    edgeActions: ew
  }),
      rw = ax,
      iw = o0(-1, !1),
      uw = o0(1, !1),
      aw = o0(-1, !0),
      cw = o0(1, !0),
      sw = {
    "top-left": ft.some(function (t, n) {
      Mx(t, Ax(lx(n), fx(n)));
    }),
    top: ft.some(function (t, n) {
      Mx(t, Ax(yx(n), fx(n)));
    }),
    "top-right": ft.some(function (t, n) {
      Mx(t, Ax(gx(n), fx(n)));
    }),
    right: ft.some(function (t, n) {
      Mx(t, Ax(gx(n), xx(n)));
    }),
    "bottom-right": ft.some(function (t, n) {
      Mx(t, Ax(gx(n), px(n)));
    }),
    bottom: ft.some(function (t, n) {
      Mx(t, Ax(yx(n), px(n)));
    }),
    "bottom-left": ft.some(function (t, n) {
      Mx(t, Ax(lx(n), px(n)));
    }),
    left: ft.some(function (t, n) {
      Mx(t, Ax(lx(n), xx(n)));
    })
  },
      lw = Object.freeze({
    __proto__: null,
    setValueFrom: function setValueFrom(t, n, e) {
      var o = e0(qx(t, n, e.left), Qx(t, n, e.top));
      return n0(t, o), o;
    },
    setToMin: function setToMin(t, n) {
      n0(t, e0(cx(n), sx(n)));
    },
    setToMax: function setToMax(t, n) {
      n0(t, e0(dx(n), mx(n)));
    },
    getValueFromEvent: rw,
    setPositionFromValue: function setPositionFromValue(t, n, e, o) {
      var r = Bx(e),
          i = Jx(t, o.getSpectrum(t), r.x, o.getLeftEdge(t), o.getRightEdge(t), e),
          u = t0(t, o.getSpectrum(t), r.y, o.getTopEdge(t), o.getBottomEdge(t), e),
          a = wi(n.element) / 2,
          c = vi(n.element) / 2;
      ni(n.element, "left", i - a + "px"), ni(n.element, "top", u - c + "px");
    },
    onLeft: iw,
    onRight: uw,
    onUp: aw,
    onDown: cw,
    edgeActions: sw
  }),
      fw = wl({
    name: "Slider",
    configFields: [dn("stepSize", 1), dn("onChange", ct), dn("onChoose", ct), dn("onInit", ct), dn("onDragStart", ct), dn("onDragEnd", ct), dn("snapToGrid", !1), dn("rounded", !0), rn("snapStart"), $t("model", qt("mode", {
      x: [dn("minX", 0), dn("maxX", 100), fe("value", function (t) {
        return wn(t.mode.minX);
      }), Jt("getInitialValue"), Zu("manager", $0)],
      y: [dn("minY", 0), dn("maxY", 100), fe("value", function (t) {
        return wn(t.mode.minY);
      }), Jt("getInitialValue"), Zu("manager", ow)],
      xy: [dn("minX", 0), dn("maxX", 100), dn("minY", 0), dn("maxY", 100), fe("value", function (t) {
        return wn({
          x: t.mode.minX,
          y: t.mode.minY
        });
      }), Jt("getInitialValue"), Zu("manager", lw)]
    })), Js("sliderBehaviours", [Bg, _f]), fe("mouseIsDown", function () {
      return wn(!1);
    })],
    partFields: W0,
    factory: function factory(i, t, n, e) {
      function u(t) {
        return fl(t, i, "thumb");
      }

      function a(t) {
        return fl(t, i, "spectrum");
      }

      function o(t) {
        return ll(t, i, "left-edge");
      }

      function r(t) {
        return ll(t, i, "right-edge");
      }

      function c(t) {
        return ll(t, i, "top-edge");
      }

      function s(t) {
        return ll(t, i, "bottom-edge");
      }

      function l(t, n) {
        v.setPositionFromValue(t, n, i, {
          getLeftEdge: o,
          getRightEdge: r,
          getTopEdge: c,
          getBottomEdge: s,
          getSpectrum: a
        });
      }

      function f(t, n) {
        h.value.set(n), l(t, u(t));
      }

      function d(e) {
        var t = i.mouseIsDown.get();
        i.mouseIsDown.set(!1), t && ll(e, i, "thumb").each(function (t) {
          var n = h.value.get();
          i.onChoose(e, t, n);
        });
      }

      function m(t, n) {
        n.stop(), i.mouseIsDown.set(!0), i.onDragStart(t, u(t));
      }

      function g(t, n) {
        n.stop(), i.onDragEnd(t, u(t)), d(t);
      }

      var p,
          h = i.model,
          v = h.manager;
      return {
        uid: i.uid,
        dom: i.dom,
        components: t,
        behaviours: Qs(i.sliderBehaviours, [Bg.config({
          mode: "special",
          focusIn: function focusIn(t) {
            return ll(t, i, "spectrum").map(Bg.focusIn).map(_);
          }
        }), _f.config({
          store: {
            mode: "manual",
            getValue: function getValue(t) {
              return h.value.get();
            }
          }
        }), oc.config({
          channels: ((p = {})[bf()] = {
            onReceive: d
          }, p)
        })]),
        events: Jo([Xe(U0(), function (t, n) {
          !function (t, n) {
            f(t, n);
            var e = u(t);
            i.onChange(t, e, n), ft.some(!0);
          }(t, n.event.value);
        }), $o(function (t, n) {
          var e = h.getInitialValue();
          h.value.set(e);
          var o = u(t);
          l(t, o);
          var r = a(t);
          i.onInit(t, o, r, h.value.get());
        }), Xe(eo(), m), Xe(ro(), g), Xe(uo(), m), Xe(so(), g)]),
        apis: {
          resetToMin: function resetToMin(t) {
            v.setToMin(t, i);
          },
          resetToMax: function resetToMax(t) {
            v.setToMax(t, i);
          },
          setValue: f,
          refresh: l
        },
        domModification: {
          styles: {
            position: "relative"
          }
        }
      };
    },
    apis: {
      setValue: function setValue(t, n, e) {
        t.setValue(n, e);
      },
      resetToMin: function resetToMin(t, n) {
        t.resetToMin(n);
      },
      resetToMax: function resetToMax(t, n) {
        t.resetToMax(n);
      },
      refresh: function refresh(t, n) {
        t.refresh(n);
      }
    }
  }),
      dw = Ar("rgb-hex-update"),
      mw = Ar("slider-update"),
      gw = Ar("palette-update"),
      pw = [Js("formBehaviours", [_f])],
      hw = {
    getField: Vr(function (t, n, e) {
      return t.getField(n, e);
    }),
    sketch: function sketch(t) {
      var e,
          n = {
        field: function field(t, n) {
          return e.push(t), il("form", r0(t), n);
        },
        record: tt(e = [])
      },
          o = t(n),
          r = A(n.record(), function (t) {
        return Yf({
          name: t,
          pname: r0(t)
        });
      });
      return yl("form", pw, r, y0, o);
    }
  },
      vw = Ar("valid-input"),
      bw = Ar("invalid-input"),
      yw = Ar("validating-input"),
      xw = "colorcustom.rgb.",
      ww = function ww(t) {
    return id.config({
      find: t.getOpt
    });
  },
      Sw = function Sw(t) {
    return id.config({
      find: function find(n) {
        return lr(n.element, t).bind(function (t) {
          return n.getSystem().getByDom(t).toOptional();
        });
      }
    });
  },
      kw = {
    "colorcustom.rgb.red.label": "R",
    "colorcustom.rgb.red.description": "Red component",
    "colorcustom.rgb.green.label": "G",
    "colorcustom.rgb.green.description": "Green component",
    "colorcustom.rgb.blue.label": "B",
    "colorcustom.rgb.blue.description": "Blue component",
    "colorcustom.rgb.hex.label": "#",
    "colorcustom.rgb.hex.description": "Hex color code",
    "colorcustom.rgb.range": "Range 0 to 255",
    "colorcustom.sb.saturation": "Saturation",
    "colorcustom.sb.brightness": "Brightness",
    "colorcustom.sb.picker": "Saturation and Brightness Picker",
    "colorcustom.sb.palette": "Saturation and Brightness Palette",
    "colorcustom.sb.instructions": "Use arrow keys to select saturation and brightness, on x and y axes",
    "colorcustom.hue.hue": "Hue",
    "colorcustom.hue.slider": "Hue Slider",
    "colorcustom.hue.palette": "Hue Palette",
    "colorcustom.hue.instructions": "Use arrow keys to select a hue",
    "aria.color.picker": "Color Picker",
    "aria.input.invalid": "Invalid input"
  },
      Cw = tinymce.util.Tools.resolve("tinymce.Resource"),
      Ow = tinymce.util.Tools.resolve("tinymce.util.Tools"),
      _w = te([dn("preprocess", h), dn("postprocess", h)]),
      Tw = function Tw(r, t) {
    var i = Yt("RepresentingConfigs.memento processors", _w, t);
    return _f.config({
      store: {
        mode: "manual",
        getValue: function getValue(t) {
          var n = r.get(t),
              e = _f.getValue(n);

          return i.postprocess(e);
        },
        setValue: function setValue(t, n) {
          var e = i.preprocess(n),
              o = r.get(t);

          _f.setValue(o, e);
        }
      }
    });
  },
      Ew = c0,
      Dw = function Dw(t) {
    return _f.config({
      store: {
        mode: "memory",
        initialValue: t
      }
    });
  },
      Bw = Ar("alloy-fake-before-tabstop"),
      Aw = Ar("alloy-fake-after-tabstop"),
      Mw = !(Be().browser.isIE() || Be().browser.isEdge()),
      Fw = function Fw(t) {
    return t.getContext("2d");
  },
      Iw = function Iw(t, n, e) {
    return t.width = n, t.height = e, t;
  },
      Rw = window.Promise || (S0 = window, k0 = Vw.immediateFn || "function" == typeof S0.setImmediate && S0.setImmediate || function (t) {
    return setTimeout(t, 1);
  }, C0 = function C0(e, o) {
    return function () {
      for (var t = [], n = 0; n < arguments.length; n++) {
        t[n] = arguments[n];
      }

      return e.apply(o, t);
    };
  }, O0 = Array.isArray || function (t) {
    return "[object Array]" === Object.prototype.toString.call(t);
  }, _0 = function _0(t, n, e) {
    var o = !1;

    try {
      t(function (t) {
        o || (o = !0, n(t));
      }, function (t) {
        o || (o = !0, e(t));
      });
    } catch (t) {
      if (o) return;
      o = !0, e(t);
    }
  }, Vw.prototype["catch"] = function (t) {
    return this.then(null, t);
  }, Vw.prototype.then = function (e, o) {
    var r = this;
    return new Vw(function (t, n) {
      Pw.call(r, new Lw(e, o, t, n));
    });
  }, Vw.all = function () {
    for (var t = [], n = 0; n < arguments.length; n++) {
      t[n] = arguments[n];
    }

    var a = Array.prototype.slice.call(1 === t.length && O0(t[0]) ? t[0] : t);
    return new Vw(function (o, r) {
      if (0 === a.length) return o([]);

      for (var i = a.length, u = function u(n, t) {
        try {
          if (t && ("object" == _typeof(t) || "function" == typeof t)) {
            var e = t.then;
            if ("function" == typeof e) return void e.call(t, function (t) {
              u(n, t);
            }, r);
          }

          a[n] = t, 0 == --i && o(a);
        } catch (t) {
          r(t);
        }
      }, t = 0; t < a.length; t++) {
        u(t, a[t]);
      }
    });
  }, Vw.resolve = function (n) {
    return n && "object" == _typeof(n) && n.constructor === Vw ? n : new Vw(function (t) {
      t(n);
    });
  }, Vw.reject = function (e) {
    return new Vw(function (t, n) {
      n(e);
    });
  }, Vw.race = function (r) {
    return new Vw(function (t, n) {
      for (var e = 0, o = r; e < o.length; e++) {
        o[e].then(t, n);
      }
    });
  }, Vw);

  function Vw(t) {
    if ("object" != _typeof(this)) throw new TypeError("Promises must be constructed via new");
    if ("function" != typeof t) throw new TypeError("not a function");
    this._state = null, this._value = null, this._deferreds = [], _0(t, C0(Hw, this), C0(zw, this));
  }

  function Pw(e) {
    var o = this;
    null !== this._state ? k0(function () {
      var t,
          n = o._state ? e.onFulfilled : e.onRejected;

      if (null !== n) {
        try {
          t = n(o._value);
        } catch (t) {
          return void e.reject(t);
        }

        e.resolve(t);
      } else (o._state ? e.resolve : e.reject)(o._value);
    }) : this._deferreds.push(e);
  }

  function Hw(t) {
    try {
      if (t === this) throw new TypeError("A promise cannot be resolved with itself.");

      if (t && ("object" == _typeof(t) || "function" == typeof t)) {
        var n = t.then;
        if ("function" == typeof n) return void _0(C0(n, t), C0(Hw, this), C0(zw, this));
      }

      this._state = !0, this._value = t, Nw.call(this);
    } catch (t) {
      zw.call(this, t);
    }
  }

  function zw(t) {
    this._state = !1, this._value = t, Nw.call(this);
  }

  function Nw() {
    for (var t = 0, n = this._deferreds; t < n.length; t++) {
      var e = n[t];
      Pw.call(this, e);
    }

    this._deferreds = [];
  }

  function Lw(t, n, e, o) {
    this.onFulfilled = "function" == typeof t ? t : null, this.onRejected = "function" == typeof n ? n : null, this.resolve = e, this.reject = o;
  }

  function jw(t, o, r) {
    return o = o || "image/png", m(HTMLCanvasElement.prototype.toBlob) ? new Rw(function (n, e) {
      t.toBlob(function (t) {
        t ? n(t) : e();
      }, o, r);
    }) : (g = t.toDataURL(o, r), new Rw(function (t, n) {
      !function () {
        var t = g.split(","),
            n = /data:([^;]+)/.exec(t[0]);
        if (!n) return ft.none();

        for (var e = n[1], o = t[1], r = atob(o), i = r.length, u = Math.ceil(i / 1024), a = new Array(u), c = 0; c < u; ++c) {
          for (var s = 1024 * c, l = Math.min(1024 + s, i), f = new Array(l - s), d = s, m = 0; d < l; ++m, ++d) {
            f[m] = r[d].charCodeAt(0);
          }

          a[c] = new Uint8Array(f);
        }

        return ft.some(new Blob(a, {
          type: e
        }));
      }().fold(function () {
        n("uri is not base64: " + g);
      }, t);
    }));
    var g;
  }

  function Ww(t, n, e) {
    function o(n, e) {
      return t.then(function (t) {
        return t.toDataURL(n || "image/png", e);
      });
    }

    return {
      getType: tt(n.type),
      toBlob: function toBlob() {
        return Rw.resolve(n);
      },
      toDataURL: tt(e),
      toBase64: function toBase64() {
        return e.split(",")[1];
      },
      toAdjustedBlob: function toAdjustedBlob(n, e) {
        return t.then(function (t) {
          return jw(t, n, e);
        });
      },
      toAdjustedDataURL: o,
      toAdjustedBase64: function toAdjustedBase64(t, n) {
        return o(t, n).then(function (t) {
          return t.split(",")[1];
        });
      },
      toCanvas: function toCanvas() {
        return t.then(h0);
      }
    };
  }

  function Uw(n, t) {
    return jw(n, t).then(function (t) {
      return Ww(Rw.resolve(n), t, n.toDataURL());
    });
  }

  function Gw(n) {
    return e = n, new Rw(function (t) {
      var n = new FileReader();
      n.onloadend = function () {
        t(n.result);
      }, n.readAsDataURL(e);
    }).then(function (t) {
      return Ww((a = n, new Rw(function (t, n) {
        function e() {
          r.removeEventListener("load", i), r.removeEventListener("error", u);
        }

        var o = URL.createObjectURL(a),
            r = new Image(),
            i = function i() {
          e(), t(r);
        },
            u = function u() {
          e(), n("Unable to load data of type " + a.type + ": " + o);
        };

        r.addEventListener("load", i), r.addEventListener("error", u), r.src = o, r.complete && setTimeout(i, 0);
      }).then(function (t) {
        MS(t);
        var n = p0(v0(t), b0(t));
        return Fw(n).drawImage(t, 0, 0), n;
      })), n, t);
      var a;
    });
    var e;
  }

  function Xw(t, n, e) {
    var o = "string" == typeof t ? parseFloat(t) : t;
    return e < o ? o = e : o < n && (o = n), o;
  }

  function Yw() {
    return [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1];
  }

  function qw(t, n) {
    for (var e = [], o = new Array(25), r = 0; r < 5; r++) {
      for (var i = 0; i < 5; i++) {
        e[i] = n[i + 5 * r];
      }

      for (i = 0; i < 5; i++) {
        for (var u = 0, a = 0; a < 5; a++) {
          u += t[i + 5 * a] * e[a];
        }

        o[i + 5 * r] = u;
      }
    }

    return o;
  }

  function Kw(n, e) {
    return n.toCanvas().then(function (t) {
      return IS(t, n.getType(), e);
    });
  }

  function Jw(e) {
    return function (t, n) {
      return Kw(t, e(Yw(), n));
    };
  }

  function $w(t, n) {
    void 0 === n && (n = 2);
    var e = Math.pow(10, n),
        o = Math.round(t * e);
    return Math.ceil(o / e);
  }

  function Qw(t) {
    return RS(t);
  }

  function Zw(t) {
    return HS(t);
  }

  function tS(t, n) {
    return zS(t, n);
  }

  function nS(t, n) {
    return VS(t, n);
  }

  function eS(t, n) {
    return PS(t, n);
  }

  function oS(t, n) {
    return o = n, (e = t).toCanvas().then(function (t) {
      return WS(t, e.getType(), o);
    });
    var e, o;
  }

  function rS(t, n) {
    return o = n, (e = t).toCanvas().then(function (t) {
      return jS(t, e.getType(), o);
    });
    var e, o;
  }

  function iS(t, n, e) {
    return Wm(t, {
      tag: "span",
      classes: ["tox-icon", "tox-tbtn__icon-wrap"],
      behaviours: e
    }, n);
  }

  function uS(t, n) {
    return iS(t, n, []);
  }

  function aS(t, n) {
    return iS(t, n, [Mg.config({})]);
  }

  function cS(t, n, e) {
    return {
      dom: {
        tag: "span",
        innerHtml: e.translate(t),
        classes: [n + "__select-label"]
      },
      behaviours: Za([Mg.config({})])
    };
  }

  function sS(n, e, o) {
    function t(t, n) {
      var e = _f.getValue(t);

      return Rg.focus(e), Ne(e, "keydown", {
        raw: n.event.raw
      }), B0.close(e), ft.some(!0);
    }

    var r = wn(ct),
        i = n.text.map(function (t) {
      return Vm(cS(t, e, o.providers));
    }),
        u = n.icon.map(function (t) {
      return Vm(aS(t, o.providers.icons));
    }),
        a = n.role.fold(function () {
      return {};
    }, function (t) {
      return {
        role: t
      };
    }),
        c = n.tooltip.fold(function () {
      return {};
    }, function (t) {
      var n = o.providers.translate(t);
      return {
        title: n,
        "aria-label": n
      };
    }),
        s = Wm("chevron-down", {
      tag: "div",
      classes: [e + "__select-chevron"]
    }, o.providers.icons);
    return Vm(B0.sketch(_st(_st(_st({}, n.uid ? {
      uid: n.uid
    } : {}), a), {
      dom: {
        tag: "button",
        classes: [e, e + "--select"].concat(A(n.classes, function (t) {
          return e + "--" + t;
        })),
        attributes: _st({}, c)
      },
      components: $v([u.map(function (t) {
        return t.asSpec();
      }), i.map(function (t) {
        return t.asSpec();
      }), ft.some(s)]),
      matchWidth: !0,
      useMinWidth: !0,
      dropdownBehaviours: Za(H(H([], n.dropdownBehaviours), [qv(function () {
        return n.disabled || o.providers.isDisabled();
      }), dv(), A0.config({}), Mg.config({}), lm("dropdown-events", [gv(n, r), pv(n, r)]), lm("menubutton-update-display-text", [Xe(YS, function (n, e) {
        i.bind(function (t) {
          return t.getOpt(n);
        }).each(function (t) {
          Mg.set(t, [pi(o.providers.translate(e.event.text))]);
        });
      }), Xe(qS, function (n, e) {
        u.bind(function (t) {
          return t.getOpt(n);
        }).each(function (t) {
          Mg.set(t, [aS(e.event.icon, o.providers.icons)]);
        });
      })])])),
      eventOrder: Jn(XS, {
        mousedown: ["focusing", "alloy.base.behaviour", "item-type-events", "normal-dropdown-events"]
      }),
      sandboxBehaviours: Za([Bg.config({
        mode: "special",
        onLeft: t,
        onRight: t
      })]),
      lazySink: o.getSink,
      toggleClass: e + "--active",
      parts: {
        menu: Jp(0, n.columns, n.presets)
      },
      fetch: function fetch(t) {
        return Wy(S(n.fetch, t));
      }
    }))).asSpec();
  }

  function lS(t) {
    return "separator" === t.type;
  }

  function fS(t, e, o, n) {
    var r = Ar("primary-menu"),
        i = JS(t, o.shared.providers.menuItems());
    if (0 === i.items.length) return ft.none();
    var u = Nb(r, i.items, e, o, n),
        a = yt(i.menus, function (t, n) {
      return Nb(n, t, e, o, !1);
    }),
        c = Jn(a, Ae(r, u));
    return ft.from(ep.tieredData(r, c, i.expansions));
  }

  function dS(e) {
    return {
      isDisabled: function isDisabled() {
        return fd.isDisabled(e);
      },
      setDisabled: function setDisabled(t) {
        return fd.set(e, t);
      },
      setActive: function setActive(t) {
        var n = e.element;
        t ? (Ur(n, "tox-tbtn--enabled"), Or(n, "aria-pressed", !0)) : (Gr(n, "tox-tbtn--enabled"), Dr(n, "aria-pressed"));
      },
      isActive: function isActive() {
        return Xr(e.element, "tox-tbtn--enabled");
      }
    };
  }

  function mS(e, t, o, n) {
    return sS({
      text: e.text,
      icon: e.icon,
      tooltip: e.tooltip,
      role: n,
      fetch: function fetch(t, n) {
        e.fetch(function (t) {
          n(fS(t, yh.CLOSE_ON_EXECUTE, o, !1));
        });
      },
      onSetup: e.onSetup,
      getApi: dS,
      columns: 1,
      presets: "normal",
      classes: [],
      dropdownBehaviours: [gy.config({})]
    }, t, o.shared);
  }

  function gS(t, n, e, o, r, i) {
    void 0 === e && (e = []);

    var u = n.fold(function () {
      return {};
    }, function (t) {
      return {
        action: t
      };
    }),
        a = _st({
      buttonBehaviours: Za([qv(function () {
        return t.disabled || i.isDisabled();
      }), dv(), gy.config({}), lm("button press", [Ge("click"), Ge("mousedown")])].concat(e)),
      eventOrder: {
        click: ["button press", "alloy.base.behaviour"],
        mousedown: ["button press", "alloy.base.behaviour"]
      }
    }, u),
        c = Jn(a, {
      dom: o
    });

    return Jn(c, {
      components: r
    });
  }

  function pS(t, n, e, o) {
    void 0 === o && (o = []);
    var r = {
      tag: "button",
      classes: ["tox-tbtn"],
      attributes: t.tooltip.map(function (t) {
        return {
          "aria-label": e.translate(t),
          title: e.translate(t)
        };
      }).getOr({})
    },
        i = t.icon.map(function (t) {
      return uS(t, e.icons);
    });
    return gS(t, n, o, r, $v([i]), e);
  }

  function hS(t, n, e, o) {
    void 0 === o && (o = []);
    var r = pS(t, ft.some(n), e, o);
    return cp.sketch(r);
  }

  function vS(t, n, e, o, r) {
    void 0 === o && (o = []), void 0 === r && (r = []);
    var i = e.translate(t.text),
        u = t.icon ? t.icon.map(function (t) {
      return uS(t, e.icons);
    }) : ft.none(),
        a = u.isSome() ? $v([u]) : [],
        c = u.isSome() ? {} : {
      innerHtml: i
    },
        s = H(H(H(H([], t.primary || t.borderless ? ["tox-button"] : ["tox-button", "tox-button--secondary"]), u.isSome() ? ["tox-button--icon"] : []), t.borderless ? ["tox-button--naked"] : []), r);
    return gS(t, n, o, _st(_st({
      tag: "button",
      classes: s
    }, c), {
      attributes: {
        title: i
      }
    }), a, e);
  }

  function bS(t, n, e, o, r) {
    void 0 === o && (o = []), void 0 === r && (r = []);
    var i = vS(t, ft.some(n), e, o, r);
    return cp.sketch(i);
  }

  function yS(n, e) {
    return function (t) {
      "custom" === e ? Ne(t, wy, {
        name: n,
        value: {}
      }) : "submit" === e ? ze(t, Sy) : "cancel" === e ? ze(t, xy) : console.error("Unknown button type: ", e);
    };
  }

  function xS(n, t, e) {
    if ("menu" === t) {
      var o = n,
          r = Vm(mS(_st(_st({}, n), {
        onSetup: function onSetup(t) {
          return t.setDisabled(n.disabled), ct;
        },
        fetch: (i = o.items, u = function u() {
          return r;
        }, a = e, function (t) {
          t(A(i, function (t) {
            var n,
                e,
                o = t.text.fold(function () {
              return {};
            }, function (t) {
              return {
                text: t
              };
            });
            return _st(_st({
              type: t.type,
              active: !1
            }, o), {
              onAction: function onAction(t) {
                var n = !t.isActive();
                t.setActive(n), e.storage.set(n), a.shared.getSink().each(function (t) {
                  u().getOpt(t).each(function (t) {
                    Sa(t.element), Ne(t, wy, {
                      name: e.name,
                      value: e.storage.get()
                    });
                  });
                });
              },
              onSetup: (n = e = t, function (t) {
                t.setActive(n.storage.get());
              })
            });
          }));
        })
      }), "tox-tbtn", e, ft.none()));
      return r.asSpec();
    }

    var i, u, a;

    if ("custom" === t || "cancel" === t || "submit" === t) {
      var c = yS(n.name, t);
      return bS(_st(_st({}, n), {
        borderless: !1
      }), c, e.shared.providers, []);
    }

    console.error("Unknown footer button type: ", t);
  }

  function wS(t, n) {
    return Yf({
      factory: dy,
      name: t,
      overrides: function overrides(o) {
        return {
          fieldBehaviours: Za([lm("coupled-input-behaviour", [Xe(ho(), function (e) {
            ll(e, o, n).bind(id.getCurrent).each(function (n) {
              ll(e, o, "lock").each(function (t) {
                Hg.isOn(t) && o.onLockedChange(e, n, t);
              });
            });
          })])])
        };
      }
    });
  }

  function SS(t) {
    var n = /^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(t);
    if (null === n) return mt.error(t);
    var e = parseFloat(n[1]),
        o = n[2];
    return mt.value({
      value: e,
      unit: o
    });
  }

  function kS(t, n) {
    function e(t) {
      return Kn(o, t);
    }

    var o = {
      "": 96,
      px: 96,
      pt: 72,
      cm: 2.54,
      pc: 12,
      mm: 25.4,
      "in": 1
    };
    return t.unit === n ? ft.some(t.value) : e(t.unit) && e(n) ? o[t.unit] === o[n] ? ft.some(t.value) : ft.some(t.value / o[t.unit] * o[n]) : ft.none();
  }

  function CS(t) {
    return ft.none();
  }

  function OS(o, n) {
    function t(t) {
      return Wm(t, {
        tag: "span",
        classes: ["tox-icon", "tox-lock-icon__" + t]
      }, n.icons);
    }

    function e(t) {
      return {
        dom: {
          tag: "div",
          classes: ["tox-form__group"]
        },
        components: t
      };
    }

    function r(e) {
      return dy.parts.field({
        factory: Ey,
        inputClasses: ["tox-textfield"],
        inputBehaviours: Za([fd.config({
          disabled: function disabled() {
            return o.disabled || n.isDisabled();
          }
        }), dv(), gy.config({}), lm("size-input-events", [Xe(fo(), function (t, n) {
          Ne(t, u, {
            isField1: e
          });
        }), Xe(vo(), function (t, n) {
          Ne(t, by, {
            name: o.name
          });
        })])]),
        selectOnFocus: !1
      });
    }

    function i(t) {
      return {
        dom: {
          tag: "label",
          classes: ["tox-label"],
          innerHtml: n.translate(t)
        }
      };
    }

    var l = CS,
        u = Ar("ratio-event"),
        a = ZS.parts.lock({
      dom: {
        tag: "button",
        classes: ["tox-lock", "tox-button", "tox-button--naked", "tox-button--icon"],
        attributes: {
          title: n.translate(o.label.getOr("Constrain proportions"))
        }
      },
      components: [t("lock"), t("unlock")],
      buttonBehaviours: Za([fd.config({
        disabled: function disabled() {
          return o.disabled || n.isDisabled();
        }
      }), dv(), gy.config({})])
    }),
        c = ZS.parts.field1(e([dy.parts.label(i("Chiều rộng")), r(!0)])),
        s = ZS.parts.field2(e([dy.parts.label(i("Chiều cao")), r(!1)]));
    return ZS.sketch({
      dom: {
        tag: "div",
        classes: ["tox-form__group"]
      },
      components: [{
        dom: {
          tag: "div",
          classes: ["tox-form__controls-h-stack"]
        },
        components: [c, s, e([i("&nbsp;"), a])]
      }],
      field1Name: "width",
      field2Name: "height",
      locked: !0,
      markers: {
        lockClass: "tox-locked"
      },
      onLockedChange: function onLockedChange(t, i, n) {
        SS(_f.getValue(t)).each(function (t) {
          l(t).each(function (t) {
            var n, e, o, r;

            _f.setValue(i, (r = -1 !== (r = (n = t).value.toFixed((e = n.unit) in (o = {
              "": 0,
              px: 0,
              pt: 1,
              mm: 1,
              pc: 2,
              ex: 2,
              em: 2,
              ch: 2,
              rem: 2,
              cm: 3,
              "in": 4,
              "%": 4
            }) ? o[e] : 1)).indexOf(".") ? r.replace(/\.?0*$/, "") : r) + n.unit);
          });
        });
      },
      coupledFieldBehaviours: Za([fd.config({
        disabled: function disabled() {
          return o.disabled || n.isDisabled();
        },
        onDisabled: function onDisabled(t) {
          ZS.getField1(t).bind(dy.getField).each(fd.disable), ZS.getField2(t).bind(dy.getField).each(fd.disable), ZS.getLock(t).each(fd.disable);
        },
        onEnabled: function onEnabled(t) {
          ZS.getField1(t).bind(dy.getField).each(fd.enable), ZS.getField2(t).bind(dy.getField).each(fd.enable), ZS.getLock(t).each(fd.enable);
        }
      }), dv(), lm("size-input-events2", [Xe(u, function (t, n) {
        var e,
            o,
            r,
            i = n.event.isField1,
            u = i ? ZS.getField1(t) : ZS.getField2(t),
            a = i ? ZS.getField2(t) : ZS.getField1(t),
            c = u.map(_f.getValue).getOr(""),
            s = a.map(_f.getValue).getOr("");
        e = s, o = SS(c).toOptional(), r = SS(e).toOptional(), l = fu(o, r, function (t, o) {
          return kS(t, o.unit).map(function (t) {
            return o.value / t;
          }).map(function (t) {
            return n = t, e = o.unit, function (t) {
              return kS(t, e).map(function (t) {
                return {
                  value: t * n,
                  unit: e
                };
              });
            };
            var n, e;
          }).getOr(CS);
        }).getOr(CS);
      })])])
    });
  }

  function _S(f, c) {
    function t(t, n, e, o) {
      return Vm(bS({
        name: t,
        text: t,
        disabled: e,
        primary: o,
        icon: ft.none(),
        borderless: !1
      }, n, c));
    }

    function n(t, n, e, o) {
      return Vm(hS({
        name: t,
        icon: ft.some(t),
        tooltip: ft.some(n),
        disabled: o,
        primary: !1,
        borderless: !1
      }, e, c));
    }

    function d(t, e) {
      t.map(function (t) {
        var n = t.get(e);
        n.hasConfigured(fd) && fd.disable(n);
      });
    }

    function m(t, e) {
      t.map(function (t) {
        var n = t.get(e);
        n.hasConfigured(fd) && fd.enable(n);
      });
    }

    function r(t, n, e) {
      Ne(t, n, e);
    }

    function i(t) {
      return ze(t, rk.disable()), 0;
    }

    function u(t) {
      return ze(t, rk.enable()), 0;
    }

    function g(t, n) {
      i(t), r(t, tk.transform(), {
        transform: n
      }), u(t);
    }

    function e(t) {
      return function () {
        q.getOpt(t).each(function (t) {
          Mg.set(t, [Y]);
        });
      };
    }

    function s(t, n) {
      i(t), r(t, tk.transformApply(), {
        transform: n,
        swap: e(t)
      }), u(t);
    }

    function p() {
      return t("Back", function (t) {
        return r(t, tk.back(), {
          swap: e(t)
        });
      }, !1, !1);
    }

    function o() {
      return Vm({
        dom: {
          tag: "div",
          classes: ["tox-spacer"]
        },
        behaviours: Za([fd.config({})])
      });
    }

    function h() {
      return t("Apply", function (t) {
        return r(t, tk.apply(), {
          swap: e(t)
        });
      }, !0, !0);
    }

    function v(n, e) {
      return function (t) {
        return n(t, e);
      };
    }

    function a(t, n) {
      var e,
          o = n;
      i(e = t), r(e, tk.tempTransform(), {
        transform: o
      }), u(e);
    }

    function b(t, n, e, o, r) {
      var i = fw.parts.label({
        dom: {
          tag: "label",
          classes: ["tox-label"],
          innerHtml: c.translate(t)
        }
      }),
          u = fw.parts.spectrum({
        dom: {
          tag: "div",
          classes: ["tox-slider__rail"],
          attributes: {
            role: "presentation"
          }
        }
      }),
          a = fw.parts.thumb({
        dom: {
          tag: "div",
          classes: ["tox-slider__handle"],
          attributes: {
            role: "presentation"
          }
        }
      });
      return Vm(fw.sketch({
        dom: {
          tag: "div",
          classes: ["tox-slider"],
          attributes: {
            role: "presentation"
          }
        },
        model: {
          mode: "x",
          minX: e,
          maxX: r,
          getInitialValue: tt({
            x: o
          })
        },
        components: [i, u, a],
        sliderBehaviours: Za([Rg.config({})]),
        onChoose: n
      }));
    }

    function l(t, n, e, o, r) {
      var i,
          u,
          a,
          c,
          s,
          l,
          f = (i = t, u = n, a = e, c = o, s = r, [p(), (l = u, b(i, function (t, n, e) {
        g(t, v(l, e.x / 100));
      }, a, c, s)), h()]);
      return sy.sketch({
        dom: w,
        components: f.map(function (t) {
          return t.asSpec();
        }),
        containerBehaviours: Za([lm("image-tools-filter-panel-buttons-events", [Xe(rk.disable(), function (t, n) {
          d(f, t);
        }), Xe(rk.enable(), function (t, n) {
          m(f, t);
        })])])
      });
    }

    function y(t) {
      return b(t, function (l, t, n) {
        var e = z.getOpt(l),
            o = L.getOpt(l),
            r = N.getOpt(l);
        e.each(function (s) {
          o.each(function (c) {
            r.each(function (t) {
              var o,
                  r,
                  i,
                  n = _f.getValue(s).x / 100,
                  e = _f.getValue(t).x / 100,
                  u = _f.getValue(c).x / 100,
                  a = (o = n, r = e, i = u, function (t) {
                return Kw(t, (n = r, e = i, qw(Yw(), [Xw(o, 0, 2), 0, 0, 0, 0, 0, Xw(n, 0, 2), 0, 0, 0, 0, 0, Xw(e, 0, 2), 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1])));
                var n, e;
              });
              g(l, a);
            });
          });
        });
      }, 0, 100, 200);
    }

    function x(n, e, o) {
      return function (t) {
        r(t, tk.swap(), {
          transform: e,
          swap: function swap() {
            q.getOpt(t).each(function (t) {
              Mg.set(t, [n]), o(t);
            });
          }
        });
      };
    }

    var w = {
      tag: "div",
      classes: ["tox-image-tools__toolbar", "tox-image-tools-edit-panel"]
    },
        S = ct,
        k = [p(), o(), t("Apply", function (t) {
      s(t, function (t) {
        var n,
            e,
            o,
            r,
            i,
            u,
            a,
            c,
            s,
            l = f.getRect();
        return n = l.x, e = l.y, o = l.w, r = l.h, u = n, a = e, c = o, s = r, (i = t).toCanvas().then(function (t) {
          return US(t, i.getType(), u, a, c, s);
        });
      }), f.hideCrop();
    }, !1, !0)],
        C = sy.sketch({
      dom: w,
      components: k.map(function (t) {
        return t.asSpec();
      }),
      containerBehaviours: Za([lm("image-tools-crop-buttons-events", [Xe(rk.disable(), function (t, n) {
        d(k, t);
      }), Xe(rk.enable(), function (t, n) {
        m(k, t);
      })])])
    }),
        O = Vm(OS({
      name: "size",
      label: ft.none(),
      constrain: !0,
      disabled: !1
    }, c)),
        _ = [p(), o(), O, o(), t("Apply", function (a) {
      O.getOpt(a).each(function (t) {
        var r,
            i,
            n = _f.getValue(t),
            e = parseInt(n.width, 10),
            o = parseInt(n.height, 10),
            u = (r = e, i = o, function (t) {
          return e = r, o = i, (n = t).toCanvas().then(function (t) {
            return NS(t, e, o).then(function (t) {
              return Uw(t, n.getType());
            });
          });
          var n, e, o;
        });

        s(a, u);
      });
    }, !1, !0)],
        T = sy.sketch({
      dom: w,
      components: _.map(function (t) {
        return t.asSpec();
      }),
      containerBehaviours: Za([lm("image-tools-resize-buttons-events", [Xe(rk.disable(), function (t, n) {
        d(_, t);
      }), Xe(rk.enable(), function (t, n) {
        m(_, t);
      })])])
    }),
        E = v(oS, "h"),
        D = v(oS, "v"),
        B = v(rS, -90),
        A = v(rS, 90),
        M = [p(), o(), n("flip-horizontally", "Flip horizontally", function (t) {
      a(t, E);
    }, !1), n("flip-vertically", "Flip vertically", function (t) {
      a(t, D);
    }, !1), n("rotate-left", "Rotate counterclockwise", function (t) {
      a(t, B);
    }, !1), n("rotate-right", "Rotate clockwise", function (t) {
      a(t, A);
    }, !1), o(), h()],
        F = sy.sketch({
      dom: w,
      components: M.map(function (t) {
        return t.asSpec();
      }),
      containerBehaviours: Za([lm("image-tools-fliprotate-buttons-events", [Xe(rk.disable(), function (t, n) {
        d(M, t);
      }), Xe(rk.enable(), function (t, n) {
        m(M, t);
      })])])
    }),
        I = [p(), o(), h()],
        R = sy.sketch({
      dom: w,
      components: I.map(function (t) {
        return t.asSpec();
      })
    }),
        V = l("Brightness", nS, -100, 0, 100),
        P = l("Contrast", eS, -100, 0, 100),
        H = l("Gamma", tS, -100, 0, 100),
        z = y("R"),
        N = y("G"),
        L = y("B"),
        j = [p(), z, N, L, h()],
        W = sy.sketch({
      dom: w,
      components: j.map(function (t) {
        return t.asSpec();
      })
    }),
        U = ft.some(Zw),
        G = ft.some(Qw),
        X = [n("crop", "Crop", x(C, ft.none(), function (t) {
      f.showCrop();
    }), !1), n("resize", "Resize", x(T, ft.none(), function (t) {
      O.getOpt(t).each(function (t) {
        var n = f.getMeasurements(),
            e = n.width,
            o = n.height;

        _f.setValue(t, {
          width: e,
          height: o
        });
      });
    }), !1), n("orientation", "Orientation", x(F, ft.none(), S), !1), n("brightness", "Brightness", x(V, ft.none(), S), !1), n("sharpen", "Sharpen", x(R, U, S), !1), n("contrast", "Contrast", x(P, ft.none(), S), !1), n("color-levels", "Color levels", x(W, ft.none(), S), !1), n("gamma", "Gamma", x(H, ft.none(), S), !1), n("invert", "Invert", x(R, G, S), !1)],
        Y = sy.sketch({
      dom: w,
      components: X.map(function (t) {
        return t.asSpec();
      })
    }),
        q = Vm(sy.sketch({
      dom: {
        tag: "div"
      },
      components: [Y],
      containerBehaviours: Za([Mg.config({})])
    }));
    return {
      memContainer: q,
      getApplyButton: function getApplyButton(t) {
        return q.getOpt(t).map(function (t) {
          var n = t.components()[0];
          return n.components()[n.components().length - 1];
        });
      }
    };
  }

  function TS(t) {
    var n, e;
    if (t.changedTouches) for (n = "screenX screenY pageX pageY clientX clientY".split(" "), e = 0; e < n.length; e++) {
      t[n[e]] = t.changedTouches[0][n[e]];
    }
  }

  var ES,
      DS,
      BS,
      AS,
      MS = function MS(t) {
    URL.revokeObjectURL(t.src);
  },
      FS = [0, 0.01, 0.02, 0.04, 0.05, 0.06, 0.07, 0.08, 0.1, 0.11, 0.12, 0.14, 0.15, 0.16, 0.17, 0.18, 0.2, 0.21, 0.22, 0.24, 0.25, 0.27, 0.28, 0.3, 0.32, 0.34, 0.36, 0.38, 0.4, 0.42, 0.44, 0.46, 0.48, 0.5, 0.53, 0.56, 0.59, 0.62, 0.65, 0.68, 0.71, 0.74, 0.77, 0.8, 0.83, 0.86, 0.89, 0.92, 0.95, 0.98, 1, 1.06, 1.12, 1.18, 1.24, 1.3, 1.36, 1.42, 1.48, 1.54, 1.6, 1.66, 1.72, 1.78, 1.84, 1.9, 1.96, 2, 2.12, 2.25, 2.37, 2.5, 2.62, 2.75, 2.87, 3, 3.2, 3.4, 3.6, 3.8, 4, 4.3, 4.7, 4.9, 5, 5.5, 6, 6.5, 6.8, 7, 7.3, 7.5, 7.8, 8, 8.4, 8.7, 9, 9.4, 9.6, 9.8, 10],
      IS = function IS(t, n, T) {
    var e = Fw(t),
        o = function (t) {
      for (var n, e, o, r, i = t.data, u = T[0], a = T[1], c = T[2], s = T[3], l = T[4], f = T[5], d = T[6], m = T[7], g = T[8], p = T[9], h = T[10], v = T[11], b = T[12], y = T[13], x = T[14], w = T[15], S = T[16], k = T[17], C = T[18], O = T[19], _ = 0; _ < i.length; _ += 4) {
        n = i[_], e = i[_ + 1], o = i[_ + 2], r = i[_ + 3], i[_] = n * u + e * a + o * c + r * s + l, i[_ + 1] = n * f + e * d + o * m + r * g + p, i[_ + 2] = n * h + e * v + o * b + r * y + x, i[_ + 3] = n * w + e * S + o * k + r * C + O;
      }

      return t;
    }(e.getImageData(0, 0, t.width, t.height));

    return e.putImageData(o, 0, 0), Uw(t, n);
  },
      RS = (ES = [-1, 0, 0, 0, 255, 0, -1, 0, 0, 255, 0, 0, -1, 0, 255, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1], function (t) {
    return Kw(t, ES);
  }),
      VS = Jw(function (t, n) {
    return qw(t, [1, 0, 0, 0, n = Xw(255 * n, -255, 255), 0, 1, 0, 0, n, 0, 0, 1, 0, n, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1]);
  }),
      PS = Jw(function (t, n) {
    var e;
    return n = Xw(n, -1, 1), qw(t, [(e = (n *= 100) < 0 ? 127 + n / 100 * 127 : 127 * (0 == (e = n % 1) ? FS[n] : FS[Math.floor(n)] * (1 - e) + FS[Math.floor(n) + 1] * e) + 127) / 127, 0, 0, 0, 0.5 * (127 - e), 0, e / 127, 0, 0, 0.5 * (127 - e), 0, 0, e / 127, 0, 0.5 * (127 - e), 0, 0, 0, 1, 0, 0, 0, 0, 0, 1]);
  }),
      HS = (DS = [0, -1, 0, -1, 5, -1, 0, -1, 0], function (t) {
    return a = DS, (u = t).toCanvas().then(function (t) {
      return n = t, e = u.getType(), o = a, r = Fw(n), i = function (t, n, e) {
        for (var o = function o(t, n, e) {
          return e < t ? t = e : t < n && (t = n), t;
        }, r = Math.round(Math.sqrt(e.length)), i = Math.floor(r / 2), u = t.data, a = n.data, c = t.width, s = t.height, l = 0; l < s; l++) {
          for (var f = 0; f < c; f++) {
            for (var d = 0, m = 0, g = 0, p = 0; p < r; p++) {
              for (var h = 0; h < r; h++) {
                var v = o(f + h - i, 0, c - 1),
                    b = 4 * (o(l + p - i, 0, s - 1) * c + v),
                    y = e[p * r + h];
                d += u[b] * y, m += u[1 + b] * y, g += u[2 + b] * y;
              }
            }

            var x = 4 * (l * c + f);
            a[x] = o(d, 0, 255), a[1 + x] = o(m, 0, 255), a[2 + x] = o(g, 0, 255);
          }
        }

        return n;
      }(r.getImageData(0, 0, n.width, n.height), r.getImageData(0, 0, n.width, n.height), o), r.putImageData(i, 0, 0), Uw(n, e);
      var n, e, o, r, i;
    });
    var u, a;
  }),
      zS = (BS = function BS(t, n) {
    return 255 * Math.pow(t / 255, 1 - n);
  }, function (n, e) {
    return n.toCanvas().then(function (t) {
      return function (t, n, e) {
        for (var o = Fw(t), r = new Array(256), i = 0; i < r.length; i++) {
          r[i] = BS(i, e);
        }

        var u = function (t, n) {
          for (var e = t.data, o = 0; o < e.length; o += 4) {
            e[o] = n[e[o]], e[o + 1] = n[e[o + 1]], e[o + 2] = n[e[o + 2]];
          }

          return t;
        }(o.getImageData(0, 0, t.width, t.height), r);

        return o.putImageData(u, 0, 0), Uw(t, n);
      }(t, n.getType(), e);
    });
  }),
      NS = function NS(t, n, e) {
    var o = v0(t),
        r = b0(t),
        i = n / o,
        u = e / r,
        a = !1;
    (i < 0.5 || 2 < i) && (i = i < 0.5 ? 0.5 : 2, a = !0), (u < 0.5 || 2 < u) && (u = u < 0.5 ? 0.5 : 2, a = !0);
    var c = LS(t, i, u);
    return a ? c.then(function (t) {
      return NS(t, n, e);
    }) : c;
  },
      LS = function LS(u, a, c) {
    return new Rw(function (t) {
      var n = v0(u),
          e = b0(u),
          o = Math.floor(n * a),
          r = Math.floor(e * c),
          i = p0(o, r);
      Fw(i).drawImage(u, 0, 0, n, e, 0, 0, o, r), t(i);
    });
  },
      jS = function jS(t, n, e) {
    var o = (e < 0 ? 360 + e : e) * Math.PI / 180,
        r = t.width,
        i = t.height,
        u = Math.sin(o),
        a = Math.cos(o),
        c = $w(Math.abs(r * a) + Math.abs(i * u)),
        s = $w(Math.abs(r * u) + Math.abs(i * a)),
        l = p0(c, s),
        f = Fw(l);
    return f.translate(c / 2, s / 2), f.rotate(o), f.drawImage(t, -r / 2, -i / 2), Uw(l, n);
  },
      WS = function WS(t, n, e) {
    var o = p0(t.width, t.height),
        r = Fw(o);
    return "v" === e ? (r.scale(1, -1), r.drawImage(t, 0, -o.height)) : (r.scale(-1, 1), r.drawImage(t, -o.width, 0)), Uw(o, n);
  },
      US = function US(t, n, e, o, r, i) {
    var u = p0(r, i);
    return Fw(u).drawImage(t, -e, -o), Uw(u, n);
  },
      GS = Ar("toolbar.button.execute"),
      XS = ((AS = {})[Eo()] = ["disabling", "alloy.base.behaviour", "toggling", "toolbar-button-events"], AS),
      YS = Ar("update-menu-text"),
      qS = Ar("update-menu-icon"),
      KS = {
    type: "separator"
  },
      JS = function JS(t, l) {
    var n, e, o;
    return I((n = y(t) ? t.split(" ") : t, e = l, 0 < (o = R(n, function (t, n) {
      return y(n) ? "" === n ? t : "|" === n ? 0 < t.length && !lS(t[t.length - 1]) ? t.concat([KS]) : t : Kn(e, n.toLowerCase()) ? t.concat([e[n.toLowerCase()]]) : t : t.concat([n]);
    }, [])).length && lS(o[o.length - 1]) && o.pop(), o), function (t, n) {
      var e,
          o,
          r,
          i,
          u,
          a,
          c = function (t) {
        if (lS(t)) return t;
        var n = kt(t, "value").getOrThunk(function () {
          return Ar("generated-menu-item");
        });
        return Jn({
          value: n
        }, t);
      }(n),
          s = (o = l, Kn(e = c, "getSubmenuItems") ? (i = o, u = (r = e).getSubmenuItems(), a = JS(u, i), {
        item: r,
        menus: Jn(a.menus, Ae(r.value, a.items)),
        expansions: Jn(a.expansions, Ae(r.value, r.value))
      }) : {
        item: e,
        menus: {},
        expansions: {}
      });

      return {
        menus: Jn(t.menus, s.menus),
        items: [s.item].concat(t.items),
        expansions: Jn(t.expansions, s.expansions)
      };
    }, {
      menus: {},
      expansions: {},
      items: []
    });
  },
      $S = tt([dn("field1Name", "field1"), dn("field2Name", "field2"), $u("onLockedChange"), Yu(["lockClass"]), dn("locked", !1), Tf("coupledFieldBehaviours", [id, _f])]),
      QS = tt([wS("field1", "field2"), wS("field2", "field1"), Yf({
    factory: cp,
    schema: [Jt("dom")],
    name: "lock",
    overrides: function overrides(t) {
      return {
        buttonBehaviours: Za([Hg.config({
          selected: t.locked,
          toggleClass: t.markers.lockClass,
          aria: {
            mode: "pressed"
          }
        })])
      };
    }
  })]),
      ZS = wl({
    name: "FormCoupledInputs",
    configFields: $S(),
    partFields: QS(),
    factory: function factory(o, t, n, e) {
      return {
        uid: o.uid,
        dom: o.dom,
        components: t,
        behaviours: Ef(o.coupledFieldBehaviours, [id.config({
          find: ft.some
        }), _f.config({
          store: {
            mode: "manual",
            getValue: function getValue(t) {
              var n = pl(t, o, ["field1", "field2"]),
                  e = {};
              return e[o.field1Name] = _f.getValue(n.field1()), e[o.field2Name] = _f.getValue(n.field2()), e;
            },
            setValue: function setValue(t, n) {
              var e = pl(t, o, ["field1", "field2"]);
              Ct(n, o.field1Name) && _f.setValue(e.field1(), n[o.field1Name]), Ct(n, o.field2Name) && _f.setValue(e.field2(), n[o.field2Name]);
            }
          }
        })]),
        apis: {
          getField1: function getField1(t) {
            return ll(t, o, "field1");
          },
          getField2: function getField2(t) {
            return ll(t, o, "field2");
          },
          getLock: function getLock(t) {
            return ll(t, o, "lock");
          }
        }
      };
    },
    apis: {
      getField1: function getField1(t, n) {
        return t.getField1(n);
      },
      getField2: function getField2(t, n) {
        return t.getField2(n);
      },
      getLock: function getLock(t, n) {
        return t.getLock(n);
      }
    }
  }),
      tk = {
    undo: tt(Ar("undo")),
    redo: tt(Ar("redo")),
    zoom: tt(Ar("zoom")),
    back: tt(Ar("back")),
    apply: tt(Ar("apply")),
    swap: tt(Ar("swap")),
    transform: tt(Ar("transform")),
    tempTransform: tt(Ar("temp-transform")),
    transformApply: tt(Ar("transform-apply"))
  },
      nk = tt("save-state"),
      ek = tt("disable"),
      ok = tt("enable"),
      rk = {
    formActionEvent: wy,
    saveState: nk,
    disable: ek,
    enable: ok
  },
      ik = tinymce.util.Tools.resolve("tinymce.geom.Rect"),
      uk = tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),
      ak = tinymce.util.Tools.resolve("tinymce.util.Observable"),
      ck = tinymce.util.Tools.resolve("tinymce.util.VK");

  function sk(t, d) {
    function m(t) {
      if (TS(t), t.button !== p) return x(t);
      t.deltaX = t.screenX - h, t.deltaY = t.screenY - v, t.preventDefault(), d.drag(t);
    }

    var g,
        p,
        h,
        v,
        b = d.document || document,
        y = b.getElementById(d.handle || t),
        x = function x(t) {
      TS(t), uk(b).off("mousemove touchmove", m).off("mouseup touchend", x), g.remove(), d.stop && d.stop(t);
    };

    return uk(y).on("mousedown touchstart", function (t) {
      var n,
          e,
          o,
          r,
          i,
          u,
          a,
          c,
          s,
          l = (n = Math.max, e = b.documentElement, o = b.body, r = n(e.scrollWidth, o.scrollWidth), i = n(e.clientWidth, o.clientWidth), u = n(e.offsetWidth, o.offsetWidth), a = n(e.scrollHeight, o.scrollHeight), c = n(e.clientHeight, o.clientHeight), {
        width: r < u ? i : r,
        height: a < n(e.offsetHeight, o.offsetHeight) ? c : a
      });
      TS(t), t.preventDefault(), p = t.button;
      var f = y;
      h = t.screenX, v = t.screenY, s = window.getComputedStyle ? window.getComputedStyle(f, null).getPropertyValue("cursor") : f.runtimeStyle.cursor, g = uk("<div></div>").css({
        position: "absolute",
        top: 0,
        left: 0,
        width: l.width,
        height: l.height,
        zIndex: 2147483647,
        opacity: 1e-4,
        cursor: s
      }).appendTo(b.body), uk(b).on("mousemove touchmove", m).on("mouseup touchend", x), d.start(t);
    }), {
      destroy: function destroy() {
        uk(y).off();
      }
    };
  }

  function lk(t, n, e, o, r) {
    return hS({
      name: t,
      icon: ft.some(n),
      disabled: e,
      tooltip: ft.some(t),
      primary: !1,
      borderless: !1
    }, o, r);
  }

  function fk(t, n) {
    n ? fd.enable(t) : fd.disable(t);
  }

  var dk = 0,
      mk = function mk(s, e, l, o, r) {
    function f(t, n) {
      return {
        x: n.x - t.x,
        y: n.y - t.y,
        w: n.w,
        h: n.h
      };
    }

    function u(t, n, e, o) {
      var r,
          i = n.x,
          u = n.y,
          a = n.w,
          c = n.h;
      i += e * t.deltaX, u += o * t.deltaY, a += e * t.deltaW, c += o * t.deltaH, s = ik.clamp({
        x: i,
        y: u,
        w: a = a < 20 ? 20 : a,
        h: c = c < 20 ? 20 : c
      }, l, "move" === t.name), r = f(l, s), p.fire("updateRect", {
        rect: r
      }), g(r);
    }

    function i(t) {
      n(s = t);
    }

    function n(n) {
      function t(t, n) {
        n.h < 0 && (n.h = 0), n.w < 0 && (n.w = 0), uk("#" + c + "-" + t, o).css({
          left: n.x,
          top: n.y,
          width: n.w,
          height: n.h
        });
      }

      Ow.each(d, function (t) {
        uk("#" + c + "-" + t.name, o).css({
          left: n.w * t.xMul + n.x,
          top: n.h * t.yMul + n.y
        });
      }), t("top", {
        x: e.x,
        y: e.y,
        w: e.w,
        h: n.y - e.y
      }), t("right", {
        x: n.x + n.w,
        y: n.y,
        w: e.w - n.x - n.w + e.x,
        h: n.h
      }), t("bottom", {
        x: e.x,
        y: n.y + n.h,
        w: e.w,
        h: e.h - n.y - n.h + e.y
      }), t("left", {
        x: e.x,
        y: n.y,
        w: n.x - e.x,
        h: n.h
      }), t("move", n);
    }

    var t,
        a = "tox-",
        c = "tox-crid-" + dk++,
        d = [{
      name: "move",
      xMul: 0,
      yMul: 0,
      deltaX: 1,
      deltaY: 1,
      deltaW: 0,
      deltaH: 0,
      label: "Crop Mask"
    }, {
      name: "nw",
      xMul: 0,
      yMul: 0,
      deltaX: 1,
      deltaY: 1,
      deltaW: -1,
      deltaH: -1,
      label: "Top Left Crop Handle"
    }, {
      name: "ne",
      xMul: 1,
      yMul: 0,
      deltaX: 0,
      deltaY: 1,
      deltaW: 1,
      deltaH: -1,
      label: "Top Right Crop Handle"
    }, {
      name: "sw",
      xMul: 0,
      yMul: 1,
      deltaX: 1,
      deltaY: 0,
      deltaW: -1,
      deltaH: 1,
      label: "Bottom Left Crop Handle"
    }, {
      name: "se",
      xMul: 1,
      yMul: 1,
      deltaX: 0,
      deltaY: 0,
      deltaW: 1,
      deltaH: 1,
      label: "Bottom Right Crop Handle"
    }],
        m = ["top", "right", "bottom", "left"],
        g = function g(t) {
      var n;
      i((n = l, {
        x: t.x + n.x,
        y: t.y + n.y,
        w: t.w,
        h: t.h
      }));
    };

    uk('<div id="' + c + '" class="' + a + 'croprect-container" role="grid" aria-dropeffect="execute">').appendTo(o), Ow.each(m, function (t) {
      uk("#" + c, o).append('<div id="' + c + "-" + t + '"class="' + a + 'croprect-block" style="display: none" data-mce-bogus="all">');
    }), Ow.each(d, function (t) {
      uk("#" + c, o).append('<div id="' + c + "-" + t.name + '" class="' + a + "croprect-handle " + a + "croprect-handle-" + t.name + '"style="display: none" data-mce-bogus="all" role="gridcell" tabindex="-1" aria-label="' + t.label + '" aria-grabbed="false" title="' + t.label + '">');
    }), t = Ow.map(d, function (n) {
      var e;
      return sk(c, {
        document: o.ownerDocument,
        handle: c + "-" + n.name,
        start: function start() {
          e = s;
        },
        drag: function drag(t) {
          u(n, e, t.deltaX, t.deltaY);
        }
      });
    }), n(s), uk(o).on("focusin focusout", function (t) {
      uk(t.target).attr("aria-grabbed", "focus" === t.type ? "true" : "false");
    }), uk(o).on("keydown", function (n) {
      var i;

      function t(t, n, e, o, r) {
        t.stopPropagation(), t.preventDefault(), u(i, e, o, r);
      }

      switch (Ow.each(d, function (t) {
        if (n.target.id === c + "-" + t.name) return i = t, !1;
      }), n.keyCode) {
        case ck.LEFT:
          t(n, 0, s, -10, 0);
          break;

        case ck.RIGHT:
          t(n, 0, s, 10, 0);
          break;

        case ck.UP:
          t(n, 0, s, 0, -10);
          break;

        case ck.DOWN:
          t(n, 0, s, 0, 10);
          break;

        case ck.ENTER:
        case ck.SPACEBAR:
          n.preventDefault(), r();
      }
    });
    var p = Ow.extend({
      toggleVisibility: function toggleVisibility(t) {
        var n = Ow.map(d, function (t) {
          return "#" + c + "-" + t.name;
        }).concat(Ow.map(m, function (t) {
          return "#" + c + "-" + t;
        })).join(",");
        t ? uk(n, o).show() : uk(n, o).hide();
      },
      setClampRect: function setClampRect(t) {
        l = t, n(s);
      },
      setRect: i,
      getInnerRect: function getInnerRect() {
        return f(l, s);
      },
      setInnerRect: g,
      setViewPortRect: function setViewPortRect(t) {
        e = t, n(s);
      },
      destroy: function destroy() {
        Ow.each(t, function (t) {
          t.destroy();
        }), t = [];
      }
    }, ak);
    return p;
  };

  function gk(t) {
    var e,
        o,
        n,
        r,
        i = wn(t),
        u = fc(),
        a = (o = -1, {
      data: e = [],
      add: function add(t) {
        var n = e.splice(++o);
        return e.push(t), {
          state: t,
          removed: n
        };
      },
      undo: function undo() {
        if (n()) return e[--o];
      },
      redo: function redo() {
        if (r()) return e[++o];
      },
      canUndo: n = function n() {
        return 0 < o;
      },
      canRedo: r = function r() {
        return -1 !== o && o < e.length - 1;
      }
    });

    function c(t) {
      i.set(t);
    }

    function s(t) {
      URL.revokeObjectURL(t.url);
    }

    function l(t) {
      var n = f(t);
      c(n);
      var e = a.add(n).removed;
      return Ow.each(e, s), n.url;
    }

    a.add(t);

    function f(t) {
      return {
        blob: t,
        url: URL.createObjectURL(t)
      };
    }

    function d() {
      u.on(s), u.clear();
    }

    return {
      getBlobState: function getBlobState() {
        return i.get();
      },
      setBlobState: c,
      addBlobState: l,
      getTempState: function getTempState() {
        return u.get().getOrThunk(i.get);
      },
      updateTempState: function updateTempState(t) {
        var n = f(t);
        return d(), u.set(n), n.url;
      },
      addTempState: function addTempState(t) {
        var n = f(t);
        return u.set(n), n.url;
      },
      applyTempState: function applyTempState(n) {
        return u.get().fold(ct, function (t) {
          l(t.blob), n();
        });
      },
      destroyTempState: d,
      undo: function undo() {
        var t = a.undo();
        return c(t), t.url;
      },
      redo: function redo() {
        var t = a.redo();
        return c(t), t.url;
      },
      getHistoryStates: function getHistoryStates() {
        return {
          undoEnabled: a.canUndo(),
          redoEnabled: a.canRedo()
        };
      }
    };
  }

  function pk(t, n) {
    function i(t) {
      var n = b.getHistoryStates();
      S.updateButtonUndoStates(t, n.undoEnabled, n.redoEnabled), Ne(t, rk.formActionEvent, {
        name: rk.saveState(),
        value: n.undoEnabled
      });
    }

    function u(t) {
      return t.toBlob();
    }

    function a(t) {
      Ne(t, rk.formActionEvent, {
        name: rk.disable(),
        value: {}
      });
    }

    function c(n, t, e, o, r) {
      a(n), Gw(t).then(e).then(u).then(o).then(function (t) {
        return x(n, t);
      }).then(function () {
        i(n), r(), y(n);
      })["catch"](function (t) {
        console.log(t), n.getSystem().isConnected() && y(n);
      });
    }

    function r(t, n, e) {
      c(t, b.getBlobState().blob, n, function (t) {
        return b.updateTempState(t);
      }, e);
    }

    function s(t) {
      var n = b.getBlobState().url;
      return b.destroyTempState(), i(t), n;
    }

    var e,
        o,
        l,
        f,
        d,
        m,
        g,
        p,
        h,
        v,
        b = gk(t.currentState),
        y = function y(t) {
      k.getApplyButton(t).each(function (t) {
        fd.enable(t);
      }), Ne(t, rk.formActionEvent, {
        name: rk.enable(),
        value: {}
      });
    },
        x = function x(t, n) {
      return a(t), w.updateSrc(t, n);
    },
        w = (f = t.currentState.url, d = Vm({
      dom: {
        tag: "div",
        classes: ["tox-image-tools__image-bg"],
        attributes: {
          role: "presentation"
        }
      }
    }), m = wn(1), g = fc(), p = wn({
      x: 0,
      y: 0,
      w: 1,
      h: 1
    }), h = wn({
      x: 0,
      y: 0,
      w: 1,
      h: 1
    }), {
      memContainer: v = Vm(sy.sketch({
        dom: {
          tag: "div",
          classes: ["tox-image-tools__image"]
        },
        components: [d.asSpec(), {
          dom: {
            tag: "img",
            attributes: {
              src: f
            }
          }
        }, {
          dom: {
            tag: "div"
          },
          behaviours: Za([lm("image-panel-crop-events", [$o(function (t) {
            v.getOpt(t).each(function (t) {
              var n = t.element.dom,
                  e = mk({
                x: 10,
                y: 10,
                w: 100,
                h: 100
              }, {
                x: 0,
                y: 0,
                w: 200,
                h: 200
              }, {
                x: 0,
                y: 0,
                w: 200,
                h: 200
              }, n, ct);
              e.toggleVisibility(!1), e.on("updateRect", function (t) {
                var n = t.rect,
                    e = m.get(),
                    o = {
                  x: Math.round(n.x / e),
                  y: Math.round(n.y / e),
                  w: Math.round(n.w / e),
                  h: Math.round(n.h / e)
                };
                p.set(o);
              }), g.set(e);
            });
          })])])
        }],
        containerBehaviours: Za([Mg.config({}), lm("image-panel-events", [$o(function (t) {
          O(t, f);
        })])])
      })),
      updateSrc: O,
      zoom: function zoom(t, n) {
        var e = m.get(),
            o = 0 < n ? Math.min(2, e + 0.1) : Math.max(0.1, e - 0.1);
        m.set(o), v.getOpt(t).each(function (t) {
          var n = t.components()[1].element;
          C(t, n);
        });
      },
      showCrop: function showCrop() {
        g.on(function (t) {
          t.toggleVisibility(!0);
        });
      },
      hideCrop: function hideCrop() {
        g.on(function (t) {
          t.toggleVisibility(!1);
        });
      },
      getRect: function getRect() {
        return p.get();
      },
      getMeasurements: function getMeasurements() {
        var t = h.get();
        return {
          width: t.w,
          height: t.h
        };
      }
    }),
        S = (o = Vm(lk("Undo", "undo", !0, function (t) {
      Ne(t, tk.undo(), {
        direction: 1
      });
    }, e = n)), l = Vm(lk("Redo", "redo", !0, function (t) {
      Ne(t, tk.redo(), {
        direction: 1
      });
    }, e)), {
      container: sy.sketch({
        dom: {
          tag: "div",
          classes: ["tox-image-tools__toolbar", "tox-image-tools__sidebar"]
        },
        components: [o.asSpec(), l.asSpec(), lk("Zoom in", "zoom-in", !1, function (t) {
          Ne(t, tk.zoom(), {
            direction: 1
          });
        }, e), lk("Zoom out", "zoom-out", !1, function (t) {
          Ne(t, tk.zoom(), {
            direction: -1
          });
        }, e)]
      }),
      updateButtonUndoStates: function updateButtonUndoStates(t, n, e) {
        o.getOpt(t).each(function (t) {
          fk(t, n);
        }), l.getOpt(t).each(function (t) {
          fk(t, e);
        });
      }
    }),
        k = _S(w, n);

    function C(t, s) {
      v.getOpt(t).each(function (t) {
        var e = m.get(),
            o = wi(t.element),
            r = vi(t.element),
            i = s.dom.naturalWidth * e,
            u = s.dom.naturalHeight * e,
            a = Math.max(0, o / 2 - i / 2),
            c = Math.max(0, r / 2 - u / 2),
            n = {
          left: a.toString() + "px",
          top: c.toString() + "px",
          width: i.toString() + "px",
          height: u.toString() + "px",
          position: "absolute"
        };
        ei(s, n), d.getOpt(t).each(function (t) {
          ei(t.element, n);
        }), g.on(function (t) {
          var n = p.get();
          t.setRect({
            x: n.x * e + a,
            y: n.y * e + c,
            w: n.w * e,
            h: n.h * e
          }), t.setClampRect({
            x: a,
            y: c,
            w: i,
            h: u
          }), t.setViewPortRect({
            x: 0,
            y: 0,
            w: o,
            h: r
          });
        });
      });
    }

    function O(t, n) {
      var e,
          i = de.fromTag("img");
      return Or(i, "src", n), e = i.dom, new Dp(function (t) {
        var n = function n() {
          e.removeEventListener("load", n), t(e);
        };

        e.complete ? t(e) : e.addEventListener("load", n);
      }).then(function () {
        t.getSystem().isConnected() && v.getOpt(t).map(function (t) {
          var n = hu({
            element: i
          });
          Mg.replaceAt(t, 1, ft.some(n));
          var e = h.get(),
              o = {
            x: 0,
            y: 0,
            w: i.dom.naturalWidth,
            h: i.dom.naturalHeight
          };
          h.set(o);
          var u,
              r = ik.inflate(o, -20, -20);
          p.set(r), e.w === o.w && e.h === o.h || (u = i, v.getOpt(t).each(function (t) {
            var n = wi(t.element),
                e = vi(t.element),
                o = u.dom.naturalWidth,
                r = u.dom.naturalHeight,
                i = Math.min(n / o, e / r);
            1 <= i ? m.set(1) : m.set(i);
          })), C(t, i);
        });
      });
    }

    return {
      dom: {
        tag: "div",
        attributes: {
          role: "presentation"
        }
      },
      components: [k.memContainer.asSpec(), w.memContainer.asSpec(), S.container],
      behaviours: Za([_f.config({
        store: {
          mode: "manual",
          getValue: function getValue() {
            return b.getBlobState();
          }
        }
      }), lm("image-tools-events", [Xe(tk.undo(), function (n, t) {
        var e = b.undo();
        x(n, e).then(function (t) {
          y(n), i(n);
        });
      }), Xe(tk.redo(), function (n, t) {
        var e = b.redo();
        x(n, e).then(function (t) {
          y(n), i(n);
        });
      }), Xe(tk.zoom(), function (t, n) {
        var e = n.event.direction;
        w.zoom(t, e);
      }), Xe(tk.back(), function (t, n) {
        var e,
            o = s(e = t);
        x(e, o).then(function (t) {
          y(e);
        }), (0, n.event.swap)(), w.hideCrop();
      }), Xe(tk.apply(), function (t, n) {
        b.applyTempState(function () {
          s(t), (0, n.event.swap)();
        });
      }), Xe(tk.transform(), function (t, n) {
        return r(t, n.event.transform, ct);
      }), Xe(tk.tempTransform(), function (t, n) {
        var e = n.event.transform;
        c(t, b.getTempState().blob, e, function (t) {
          return b.addTempState(t);
        }, ct);
      }), Xe(tk.transformApply(), function (t, n) {
        var e = t,
            o = n.event.transform,
            r = n.event.swap,
            i = b.getBlobState().blob;
        c(e, i, o, function (t) {
          var n = b.addBlobState(t);
          return s(e), n;
        }, r);
      }), Xe(tk.swap(), function (n, t) {
        S.updateButtonUndoStates(n, !1, !1);
        var e = t.event.transform,
            o = t.event.swap;
        e.fold(function () {
          o();
        }, function (t) {
          r(n, t, o);
        });
      })]), x0()])
    };
  }

  function hk(t) {
    return !Kn(t, "items");
  }

  function vk(t, n) {
    function e(t) {
      return {
        dom: {
          tag: "td",
          innerHtml: n.translate(t)
        }
      };
    }

    return {
      dom: {
        tag: "table",
        classes: ["tox-dialog__table"]
      },
      components: [{
        dom: {
          tag: "thead"
        },
        components: [{
          dom: {
            tag: "tr"
          },
          components: A(t.header, function (t) {
            return {
              dom: {
                tag: "th",
                innerHtml: n.translate(t)
              }
            };
          })
        }]
      }, {
        dom: {
          tag: "tbody"
        },
        components: A(t.cells, function (t) {
          return {
            dom: {
              tag: "tr"
            },
            components: A(t, e)
          };
        })
      }],
      behaviours: Za([gy.config({}), Rg.config({})])
    };
  }

  function bk(e, n) {
    var t = e.label.map(function (t) {
      return Qb(t, n);
    }),
        o = [fd.config({
      disabled: function disabled() {
        return e.disabled || n.isDisabled();
      }
    }), dv(), Bg.config({
      mode: "execution",
      useEnter: !0 !== e.multiline,
      useControlEnter: !0 === e.multiline,
      execute: function execute(t) {
        return ze(t, Sy), ft.some(!0);
      }
    }), lm("textfield-change", [Xe(ho(), function (t, n) {
      Ne(t, by, {
        name: e.name
      });
    }), Xe(_o(), function (t, n) {
      Ne(t, by, {
        name: e.name
      });
    })]), gy.config({})],
        r = e.validation.map(function (o) {
      return qy.config({
        getRoot: function getRoot(t) {
          return ar(t.element);
        },
        invalidClass: "tox-invalid",
        validator: {
          validate: function validate(t) {
            var n = _f.getValue(t),
                e = o.validator(n);

            return Uy(!0 === e ? mt.value(n) : mt.error(e));
          },
          validateOnLoad: o.validateOnLoad
        }
      });
    }).toArray(),
        i = e.placeholder.fold(tt({}), function (t) {
      return {
        placeholder: n.translate(t)
      };
    }),
        u = e.inputMode.fold(tt({}), function (t) {
      return {
        inputmode: t
      };
    }),
        a = _st(_st({}, i), u);

    return $b(t, dy.parts.field({
      tag: !0 === e.multiline ? "textarea" : "input",
      inputAttributes: a,
      inputClasses: [e.classname],
      inputBehaviours: Za(lt([o, r])),
      selectOnFocus: !1,
      factory: Ey
    }), (e.flex ? ["tox-form__group--stretched"] : []).concat(e.maximized ? ["tox-form-group--maximize"] : []), [fd.config({
      disabled: function disabled() {
        return e.disabled || n.isDisabled();
      },
      onDisabled: function onDisabled(t) {
        dy.getField(t).each(fd.disable);
      },
      onEnabled: function onEnabled(t) {
        dy.getField(t).each(fd.enable);
      }
    }), dv()]);
  }

  function yk(t) {
    var n = wn(null);
    return au({
      readState: function readState() {
        return {
          timer: null !== n.get() ? "set" : "unset"
        };
      },
      setTimer: function setTimer(t) {
        n.set(t);
      },
      cancel: function cancel() {
        var t = n.get();
        null !== t && t.cancel();
      }
    });
  }

  function xk(t, n, e) {
    var o = _f.getValue(e);

    _f.setValue(n, o), w1(n);
  }

  function wk(t, n) {
    var e = t.element,
        o = si(e),
        r = e.dom;
    "number" !== _r(e, "type") && n(r, o);
  }

  function Sk(t) {
    return {
      type: "menuitem",
      value: t.url,
      text: t.title,
      meta: {
        attach: t.attach
      },
      onAction: ct
    };
  }

  function kk(t, n) {
    return {
      type: "menuitem",
      value: n,
      text: t,
      meta: {
        attach: void 0
      },
      onAction: ct
    };
  }

  function Ck(t, n) {
    return e = t, A(F(n, function (t) {
      return t.type === e;
    }), Sk);
    var e;
  }

  function Ok(t, n) {
    var e = t.toLowerCase();
    return F(n, function (t) {
      return Cn((void 0 !== t.meta && void 0 !== t.meta.text ? t.meta : t).text.toLowerCase(), e) || Cn(t.value.toLowerCase(), e);
    });
  }

  function _k(u, a, c) {
    function r(t) {
      var n = _f.getValue(t);

      c.addToHistory(n.value, u.filetype);
    }

    var t,
        n,
        e,
        o,
        i = a.shared.providers,
        s = dy.parts.field({
      factory: O1,
      dismissOnBlur: !0,
      inputClasses: ["tox-textfield"],
      sandboxClasses: ["tox-dialog__popups"],
      inputAttributes: {
        "aria-errormessage": D1,
        type: "url"
      },
      minChars: 0,
      responseTime: 0,
      fetch: function fetch(t) {
        var e,
            o,
            n,
            r,
            i = fS((e = u.filetype, o = c, n = _f.getValue(t), r = void 0 !== n.meta.text ? n.meta.text : n.value, o.getLinkInformation().fold(function () {
          return [];
        }, function (t) {
          var n = Ok(r, A(o.getHistory(e), function (t) {
            return kk(t, t);
          }));
          return "file" === e ? R([n, Ok(r, Ck("header", t.targets)), Ok(r, lt([ft.from(t.anchorTop).map(function (t) {
            return kk("<top>", t);
          }).toArray(), Ck("anchor", t.targets), ft.from(t.anchorBottom).map(function (t) {
            return kk("<bottom>", t);
          }).toArray()]))], function (t, n) {
            return 0 === t.length || 0 === n.length ? t.concat(n) : t.concat(E1, n);
          }, []) : n;
        })), yh.BUBBLE_TO_SANDBOX, a, !1);
        return Uy(i);
      },
      getHotspot: function getHotspot(t) {
        return p.getOpt(t);
      },
      onSetValue: function onSetValue(t, n) {
        t.hasConfigured(qy) && qy.run(t).get(ct);
      },
      typeaheadBehaviours: Za(lt([c.getValidationHandler().map(function (e) {
        return qy.config({
          getRoot: function getRoot(t) {
            return ar(t.element);
          },
          invalidClass: "tox-control-wrap--status-invalid",
          notify: {
            onInvalid: function onInvalid(t, n) {
              f.getOpt(t).each(function (t) {
                Or(t.element, "title", i.translate(n));
              });
            }
          },
          validator: {
            validate: function validate(t) {
              var n = _f.getValue(t);

              return T1(function (o) {
                e({
                  type: u.filetype,
                  url: n.value
                }, function (t) {
                  var n, e;
                  "invalid" === t.status ? (n = mt.error(t.message), o(n)) : (e = mt.value(t.message), o(e));
                });
              });
            },
            validateOnLoad: !1
          }
        });
      }).toArray(), [fd.config({
        disabled: function disabled() {
          return u.disabled || i.isDisabled();
        }
      }), gy.config({}), lm("urlinput-events", lt(["file" === u.filetype ? [Xe(ho(), function (t) {
        Ne(t, by, {
          name: u.name
        });
      })] : [], [Xe(vo(), function (t) {
        Ne(t, by, {
          name: u.name
        }), r(t);
      }), Xe(_o(), function (t) {
        Ne(t, by, {
          name: u.name
        }), r(t);
      })]]))]])),
      eventOrder: ((t = {})[ho()] = ["streaming", "urlinput-events", "invalidating"], t),
      model: {
        getDisplayText: function getDisplayText(t) {
          return t.value;
        },
        selectsOver: !1,
        populateFromBrowse: !1
      },
      markers: {
        openClass: "tox-textfield--popup-open"
      },
      lazySink: a.shared.getSink,
      parts: {
        menu: Jp(0, 0, "normal")
      },
      onExecute: function onExecute(t, n, e) {
        Ne(n, Sy, {});
      },
      onItemExecute: function onItemExecute(t, n, e, o) {
        r(t), Ne(t, by, {
          name: u.name
        });
      }
    }),
        l = u.label.map(function (t) {
      return Qb(t, i);
    }),
        f = Vm((n = "invalid", e = ft.some(D1), Wm("warning", {
      tag: "div",
      classes: ["tox-icon", "tox-control-wrap__status-icon-" + n],
      attributes: _st({
        title: i.translate(o = void 0 === o ? n : o),
        "aria-live": "polite"
      }, e.fold(function () {
        return {};
      }, function (t) {
        return {
          id: t
        };
      }))
    }, i.icons))),
        d = Vm({
      dom: {
        tag: "div",
        classes: ["tox-control-wrap__status-icon-wrap"]
      },
      components: [f.asSpec()]
    }),
        m = c.getUrlPicker(u.filetype),
        g = Ar("browser.url.event"),
        p = Vm({
      dom: {
        tag: "div",
        classes: ["tox-control-wrap"]
      },
      components: [s, d.asSpec()],
      behaviours: Za([fd.config({
        disabled: function disabled() {
          return u.disabled || i.isDisabled();
        }
      })])
    }),
        h = Vm(bS({
      name: u.name,
      icon: ft.some("browse"),
      text: u.label.getOr(""),
      disabled: u.disabled,
      primary: !1,
      borderless: !0
    }, function (t) {
      return ze(t, g);
    }, i, [], ["tox-browse-url"]));
    return dy.sketch({
      dom: vy([]),
      components: l.toArray().concat([{
        dom: {
          tag: "div",
          classes: ["tox-form__controls-h-stack"]
        },
        components: lt([[p.asSpec()], m.map(function () {
          return h.asSpec();
        }).toArray()])
      }]),
      fieldBehaviours: Za([fd.config({
        disabled: function disabled() {
          return u.disabled || i.isDisabled();
        },
        onDisabled: function onDisabled(t) {
          dy.getField(t).each(fd.disable), h.getOpt(t).each(fd.disable);
        },
        onEnabled: function onEnabled(t) {
          dy.getField(t).each(fd.enable), h.getOpt(t).each(fd.enable);
        }
      }), dv(), lm("url-input-events", [Xe(g, function (o) {
        id.getCurrent(o).each(function (n) {
          var t = _f.getValue(n),
              e = _st({
            fieldname: u.name
          }, t);

          m.each(function (t) {
            t(e).get(function (t) {
              _f.setValue(n, t), Ne(o, by, {
                name: u.name
              });
            });
          });
        });
      })])])
    });
  }

  function Tk(r) {
    return function (n, e, o) {
      return kt(e, "name").fold(function () {
        return r(e, o);
      }, function (t) {
        return n.field(t, r(e, o));
      });
    };
  }

  function Ek(n, t, e) {
    var o = Jn(e, {
      shared: {
        interpreter: function interpreter(t) {
          return M1(n, t, o);
        }
      }
    });
    return M1(n, t, o);
  }

  function Dk(t, n, e) {
    function o() {
      return de.fromDom(t.getContentAreaContainer());
    }

    function r() {
      return p || !e();
    }

    var i,
        u,
        a,
        c,
        s,
        l,
        f,
        d,
        m,
        g,
        p = uv(t);
    return {
      inlineDialog: (f = o, d = n, m = r, g = {
        maxHeightFunction: Fc()
      }, function () {
        return m() ? {
          type: "node",
          root: gr(f()),
          node: ft.from(f()),
          bubble: yc(12, 12, F1),
          layouts: {
            onRtl: function onRtl() {
              return [Dm];
            },
            onLtr: function onLtr() {
              return [Em];
            }
          },
          overrides: g
        } : {
          type: "hotspot",
          hotspot: d(),
          bubble: yc(-12, 12, F1),
          layouts: {
            onRtl: function onRtl() {
              return [Ua];
            },
            onLtr: function onLtr() {
              return [Ga];
            }
          },
          overrides: g
        };
      }),
      banner: (c = o, s = n, l = r, function () {
        return l() ? {
          type: "node",
          root: gr(c()),
          node: ft.from(c()),
          layouts: {
            onRtl: function onRtl() {
              return [ip];
            },
            onLtr: function onLtr() {
              return [ip];
            }
          }
        } : {
          type: "hotspot",
          hotspot: s(),
          layouts: {
            onRtl: function onRtl() {
              return [Ka];
            },
            onLtr: function onLtr() {
              return [Ka];
            }
          }
        };
      }),
      cursor: (u = t, function () {
        return {
          type: "selection",
          root: a(),
          getSelection: function getSelection() {
            var t = u.selection.getRng();
            return ft.some(ls.range(de.fromDom(t.startContainer), t.startOffset, de.fromDom(t.endContainer), t.endOffset));
          }
        };
      }),
      node: (i = a = function a() {
        return de.fromDom(t.getBody());
      }, function (t) {
        return {
          type: "node",
          root: i(),
          node: t
        };
      })
    };
  }

  function Bk(i) {
    return ft.from(i.getParam("style_formats")).filter(c).map(function (t) {
      var n,
          e,
          o = (n = i, e = R1(t), n.formatter ? r(e.customFormats) : n.on("init", function () {
        r(e.customFormats);
      }), e.formats);

      function r(t) {
        dt(t, function (t) {
          n.formatter.has(t.name) || n.formatter.register(t.name, t.format);
        });
      }

      return i.getParam("style_formats_merge", !1, "boolean") ? I1.concat(o) : o;
    }).getOr(I1);
  }

  function Ak(t, n, e) {
    var o = {
      type: "formatter",
      isSelected: n(t.format),
      getStylePreview: e(t.format)
    };
    return Jn(t, o);
  }

  function Mk(c, t, s, l) {
    var f = function f(t) {
      return A(t, function (t) {
        var n,
            e,
            o,
            r,
            i,
            u = Xn(t);

        if (Ct(t, "items")) {
          var a = f(t.items);
          return Jn(Jn(t, {
            type: "submenu"
          }), {
            getStyleItems: tt(a)
          });
        }

        return Ct(t, "format") ? Ak(t, s, l) : 1 === u.length && et(u, "title") ? Jn(t, {
          type: "separator"
        }) : (r = {
          type: "formatter",
          format: o = "custom-" + (e = y((n = t).name) ? n.name : Ar(n.title)),
          isSelected: s(o),
          getStylePreview: l(o)
        }, i = Jn(n, r), c.formatter.register(e, i), i);
      });
    };

    return f(t);
  }

  function Fk(e) {
    return function (t) {
      if (f(n = t) && 1 === n.nodeType) {
        if (t.contentEditable === e) return !0;
        if (t.getAttribute("data-mce-contenteditable") === e) return !0;
      }

      var n;
      return !1;
    };
  }

  function Ik(t, n, e, o, r) {
    return {
      type: t,
      title: n,
      url: e,
      level: o,
      attach: r
    };
  }

  function Rk(t) {
    return t.innerText || t.textContent;
  }

  function Vk(t) {
    return t && "A" === t.nodeName && void 0 !== (t.id || t.name) && c1(t);
  }

  function Pk(t) {
    return t && /^(H[1-6])$/.test(t.nodeName);
  }

  function Hk(t) {
    return Pk(t) && c1(t);
  }

  function zk(t) {
    var n,
        e = t.id || Ar("h");
    return Ik("header", Rk(t), "#" + e, Pk(n = t) ? parseInt(n.nodeName.substr(1), 10) : 0, function () {
      t.id = e;
    });
  }

  function Nk(t) {
    var n = t.id || t.name;
    return Ik("anchor", Rk(t) || "#" + n, "#" + n, 0, ct);
  }

  function Lk(t) {
    return 0 < V1(t.title).length;
  }

  function jk(t) {
    return y(t) && /^https?/.test(t);
  }

  function Wk(t) {
    return x(t) && wt(t, function (t) {
      return !(c(n = t) && n.length <= 5 && N(n, jk));
      var n;
    }).isNone();
  }

  function Uk() {
    var t,
        n = sb.getItem(N1);
    if (null === n) return {};

    try {
      t = JSON.parse(n);
    } catch (t) {
      if (t instanceof SyntaxError) return console.log("Local storage " + N1 + " was not valid JSON", t), {};
      throw t;
    }

    return Wk(t) ? t : (console.log("Local storage " + N1 + " was not valid format", t), {});
  }

  function Gk(t) {
    return kt(Uk(), t).getOr([]);
  }

  function Xk(n, t) {
    var e, o;
    jk(n) && (o = F(kt(e = Uk(), t).getOr([]), function (t) {
      return t !== n;
    }), e[t] = [n].concat(o).slice(0, 5), function (t) {
      if (!Wk(t)) throw new Error("Bad format for history:\n" + JSON.stringify(t));
      sb.setItem(N1, JSON.stringify(t));
    }(e));
  }

  function Yk(t) {
    return !!t;
  }

  function qk(t) {
    return yt(Ow.makeMap(t, /[, ]/), Yk);
  }

  function Kk(t) {
    return ft.from(t.getParam("file_picker_callback")).filter(m);
  }

  function Jk(t) {
    return ft.from(t).filter(y).getOrUndefined();
  }

  function $k(l) {
    return {
      getHistory: Gk,
      addToHistory: Xk,
      getLinkInformation: function getLinkInformation() {
        return !1 === (t = l).getParam("typeahead_urls") ? ft.none() : ft.some({
          targets: z1(t.getBody()),
          anchorTop: Jk(t.getParam("anchor_top", "#top")),
          anchorBottom: Jk(t.getParam("anchor_bottom", "#bottom"))
        });
        var t;
      },
      getValidationHandler: function getValidationHandler() {
        return ft.from(void 0 === (n = (t = l).getParam("file_picker_validator_handler", void 0, "function")) ? t.getParam("filepicker_validator_handler", void 0, "function") : n);
        var t, n;
      },
      getUrlPicker: function getUrlPicker(t) {
        return n = c = l, e = s = t, r = ft.some((o = n).getParam("file_picker_types")).filter(Yk), i = ft.some(o.getParam("file_browser_callback_types")).filter(Yk), u = r.or(i).map(qk), a = Kk(o).fold(O, function (t) {
          return u.fold(_, function (t) {
            return 0 < Xn(t).length && t;
          });
        }), (w(a) ? a ? Kk(n) : ft.none() : a[e] ? Kk(n) : ft.none()).map(function (o) {
          return function (n) {
            return Wy(function (e) {
              var t = _st({
                filetype: s,
                fieldname: n.fieldname
              }, ft.from(n.meta).getOr({}));

              o.call(c, function (t, n) {
                if (!y(t)) throw new Error("Expected value to be string");
                if (void 0 !== n && !x(n)) throw new Error("Expected meta to be a object");
                e({
                  value: t,
                  meta: n
                });
              }, n.value, t);
            });
          };
        });
        var n, e, o, r, i, u, a, c, s;
      }
    };
  }

  function Qk(t, n, e) {
    var o,
        r,
        i,
        u,
        a,
        c,
        s,
        _l2,
        f,
        d,
        m,
        g,
        p,
        h = wn(!1),
        v = {
      isPositionedAtTop: function isPositionedAtTop() {
        return "top" === o.get();
      },
      getDockingMode: (o = wn(rv(n) ? "bottom" : "top")).get,
      setDockingMode: o.set
    },
        b = {
      shared: {
        providers: {
          icons: function icons() {
            return n.ui.registry.getAll().icons;
          },
          menuItems: function menuItems() {
            return n.ui.registry.getAll().menuItems;
          },
          translate: sp.translate,
          isDisabled: function isDisabled() {
            return n.mode.isReadOnly() || n.ui.isDisabled();
          },
          getSetting: n.getParam.bind(n)
        },
        interpreter: function interpreter(t) {
          return M1(A1, t, b);
        },
        anchors: Dk(n, e, v.isPositionedAtTop),
        header: v,
        getSink: function getSink() {
          return mt.value(t);
        }
      },
      urlinput: $k(n),
      styleselect: (f = wn([]), d = wn([]), m = wn([]), g = wn([]), p = wn(!(_l2 = function l(t) {
        var n = t.items;
        return void 0 !== n && 0 < n.length ? z(n, _l2) : [t.format];
      })), (s = n).on("PreInit", function (t) {
        var n = Bk(s),
            e = Mk(s, n, y, x);
        f.set(e), d.set(z(e, _l2));
      }), s.on("addStyleModifications", function (t) {
        var n = Mk(s, t.items, y, x);
        m.set(n), p.set(t.replace), g.set(z(n, _l2));
      }), {
        getData: function getData() {
          var t = p.get() ? [] : f.get(),
              n = m.get();
          return t.concat(n);
        },
        getFlattenedKeys: function getFlattenedKeys() {
          var t = p.get() ? [] : d.get(),
              n = g.get();
          return t.concat(n);
        }
      }),
      colorinput: {
        colorPicker: function colorPicker(t, n) {
          Db(c)(t, n);
        },
        hasCustomColors: function hasCustomColors() {
          return fb(a);
        },
        getColors: function getColors() {
          return db(u);
        },
        getColorCols: (i = u = a = c = n, function () {
          return gb(i);
        })
      },
      dialog: {
        isDraggableModal: (r = n, function () {
          return r.getParam("draggable_modal", !1, "boolean");
        })
      },
      isContextMenuOpen: function isContextMenuOpen() {
        return h.get();
      },
      setContextMenuState: function setContextMenuState(t) {
        return h.set(t);
      }
    };

    function y(t) {
      return function () {
        return s.formatter.match(t);
      };
    }

    function x(n) {
      return function () {
        var t = s.formatter.get(n);
        return void 0 !== t ? ft.some({
          tag: 0 < t.length && (t[0].inline || t[0].block) || "div",
          styles: s.dom.parseStyle(s.formatter.getCssText(n))
        }) : ft.none();
      };
    }

    return b;
  }

  function Zk(t) {
    return (Kr(ii(t, "position"), "fixed") ? ft.none() : cr(t)).orThunk(function () {
      var e = de.fromTag("span");
      return ar(t).bind(function (t) {
        Gi(t, e);
        var n = cr(e);
        return Xi(e), n;
      });
    });
  }

  function tC(t) {
    return Zk(t).map(xi).getOrThunk(function () {
      return Su(0, 0);
    });
  }

  function nC(t, n) {
    var e = t.element;
    Ur(e, n.transitionClass), Gr(e, n.fadeOutClass), Ur(e, n.fadeInClass), n.onShow(t);
  }

  function eC(t, n) {
    var e = t.element;
    Ur(e, n.transitionClass), Gr(e, n.fadeInClass), Ur(e, n.fadeOutClass), n.onHide(t);
  }

  function oC(t, n, e) {
    return N(t, function (t) {
      switch (t) {
        case "bottom":
          return n.bottom <= e.bottom;

        case "top":
          return n.y >= e.y;
      }
    });
  }

  function rC(n, t) {
    return t.getInitialPos().map(function (t) {
      return Bi(t.bounds.x, t.bounds.y, wi(n), vi(n));
    });
  }

  function iC(e, o, r) {
    return r.getInitialPos().bind(function (t) {
      switch (r.clearInitialPos(), t.position) {
        case "static":
          return ft.some($1["static"]());

        case "absolute":
          var n = Zk(e).map(Ai).getOrThunk(function () {
            return Ai(mu());
          });
          return ft.some($1.absolute(Ta("absolute", kt(t.style, "left").map(function (t) {
            return o.x - n.x;
          }), kt(t.style, "top").map(function (t) {
            return o.y - n.y;
          }), kt(t.style, "right").map(function (t) {
            return n.right - o.right;
          }), kt(t.style, "bottom").map(function (t) {
            return n.bottom - o.bottom;
          }))));

        default:
          return ft.none();
      }
    });
  }

  function uC(t, n, e) {
    var o,
        r,
        i,
        u = t.element;
    return Kr(ii(u, "position"), "fixed") ? (r = n, rC(o = u, i = e).filter(function (t) {
      return oC(i.getModes(), t, r);
    }).bind(function (t) {
      return iC(o, t, i);
    })) : function (t, n, e) {
      var r,
          o,
          i = Ai(t);
      if (oC(e.getModes(), i, n)) return ft.none();
      r = t, o = i, e.setInitialPos({
        style: function () {
          var t = {},
              n = r.dom;
          if (Qr(n)) for (var e = 0; e < n.style.length; e++) {
            var o = n.style.item(e);
            t[o] = n.style[o];
          }
          return t;
        }(),
        position: ri(r, "position") || "static",
        bounds: o
      });
      var u = Fi(),
          a = i.x - u.x,
          c = n.y - u.y,
          s = u.bottom - n.bottom,
          l = i.y <= n.y;
      return ft.some($1.fixed(Ta("fixed", ft.some(a), l ? ft.some(c) : ft.none(), ft.none(), l ? ft.none() : ft.some(s))));
    }(u, n, e);
  }

  function aC(n, t) {
    dt(["left", "right", "top", "bottom", "position"], function (t) {
      return ai(n.element, t);
    }), t.onUndocked(n);
  }

  function cC(t, n, e) {
    Ea(t.element, e), ("fixed" === e.position ? n.onDocked : n.onUndocked)(t);
  }

  function sC(o, t, r, i, u) {
    void 0 === u && (u = !1), t.contextual.each(function (e) {
      e.lazyContext(o).each(function (t) {
        var n = t.y < i.bottom && t.bottom > i.y;
        n !== r.isVisible() && (r.setVisible(n), u && !n ? (Yr(o.element, [e.fadeOutClass]), e.onHide(o)) : (n ? nC : eC)(o, e));
      });
    });
  }

  function lC(t, n, e) {
    var o, r, i, u, a, c;
    e.isDocked() && (r = n, i = e, c = (o = t).element, i.setDocked(!1), rC(a = o.element, u = i).bind(function (t) {
      return iC(a, t, u);
    }).each(function (t) {
      t.fold(function () {
        return aC(o, r);
      }, function (t) {
        return cC(o, r, t);
      }, ct);
    }), i.setVisible(!0), r.contextual.each(function (t) {
      qr(c, [t.fadeInClass, t.fadeOutClass, t.transitionClass]), t.onShow(o);
    }), Q1(o, r, i));
  }

  function fC(t, n) {
    return et(nO.getModes(t), n);
  }

  function dC(r) {
    var i = r.element;
    ar(i).each(function (t) {
      var n,
          e,
          o = "padding-" + nO.getModes(r)[0];
      nO.isDocked(r) ? (n = wi(t), ni(i, "width", n + "px"), ni(t, o, bi(e = i) + (parseInt(ri(e, "margin-top"), 10) || 0) + (parseInt(ri(e, "margin-bottom"), 10) || 0) + "px")) : (ai(i, "width"), ai(t, o));
    });
  }

  function mC(t, n) {
    n ? (Gr(t, oO.fadeOutClass), Yr(t, [oO.transitionClass, oO.fadeInClass])) : (Gr(t, oO.fadeInClass), Yr(t, [oO.fadeOutClass, oO.transitionClass]));
  }

  function gC(t, n) {
    var e = de.fromDom(t.getContainer());
    n ? (Ur(e, rO), Gr(e, iO)) : (Ur(e, iO), Gr(e, rO));
  }

  function pC(u, t) {
    function o(n) {
      r().each(function (t) {
        return n(t.element);
      });
    }

    function n(t) {
      u.inline || dC(t), gC(u, nO.isDocked(t)), t.getSystem().broadcastOn([vf()], {}), r().each(function (t) {
        return t.getSystem().broadcastOn([vf()], {});
      });
    }

    var e,
        i = fc(),
        r = t.getSink,
        a = u.inline ? [] : [oc.config({
      channels: ((e = {})[eO()] = {
        onReceive: dC
      }, e)
    })];
    return H([Rg.config({}), nO.config({
      contextual: _st({
        lazyContext: function lazyContext(t) {
          var n = bi(t.element),
              e = u.inline ? u.getContentAreaContainer() : u.getContainer(),
              o = Ai(de.fromDom(e)),
              r = o.height - n,
              i = o.y + (fC(t, "top") ? 0 : n);
          return ft.some(Bi(o.x, i, o.width, r));
        },
        onShow: function onShow() {
          o(function (t) {
            return mC(t, !0);
          });
        },
        onShown: function onShown(r) {
          o(function (t) {
            return qr(t, [oO.transitionClass, oO.fadeInClass]);
          }), i.get().each(function (t) {
            var n,
                e = r.element,
                o = or(n = t);
            Ca(o).filter(function (t) {
              return !Bn(n, t);
            }).filter(function (t) {
              return Bn(t, de.fromDom(o.dom.body)) || An(e, t);
            }).each(function () {
              return Sa(n);
            }), i.clear();
          });
        },
        onHide: function onHide(t) {
          var n = t.element,
              e = r;
          Oa(n).orThunk(function () {
            return e().toOptional().bind(function (t) {
              return Oa(t.element);
            });
          }).fold(i.clear, i.set), o(function (t) {
            return mC(t, !1);
          });
        },
        onHidden: function onHidden() {
          o(function (t) {
            return qr(t, [oO.transitionClass]);
          });
        }
      }, oO),
      lazyViewport: function lazyViewport(t) {
        var n = Fi(),
            e = u.getParam("toolbar_sticky_offset", 0, "number"),
            o = n.y + (fC(t, "top") ? e : 0),
            r = n.height - (fC(t, "bottom") ? e : 0);
        return Bi(n.x, o, n.width, r);
      },
      modes: [t.header.getDockingMode()],
      onDocked: n,
      onUndocked: n
    })], a);
  }

  function hC(t) {
    return Gt("menubutton", sO, t);
  }

  function vC(n, t) {
    return t.getAnimationRoot.fold(function () {
      return n.element;
    }, function (t) {
      return t(n);
    });
  }

  function bC(t) {
    return t.dimension.property;
  }

  function yC(t, n) {
    return t.dimension.getDimension(n);
  }

  function xC(t, n) {
    qr(vC(t, n), [n.shrinkingClass, n.growingClass]);
  }

  function wC(t, n) {
    Gr(t.element, n.openClass), Ur(t.element, n.closedClass), ni(t.element, bC(n), "0px"), ci(t.element);
  }

  function SC(t, n) {
    Gr(t.element, n.closedClass), Ur(t.element, n.openClass), ai(t.element, bC(n));
  }

  function kC(t, n, e, o) {
    e.setCollapsed(), ni(t.element, bC(n), yC(n, t.element)), ci(t.element), xC(t, n), wC(t, n), n.onStartShrink(t), n.onShrunk(t);
  }

  function CC(t, n, e) {
    var o = yC(n, t.element);
    ("0px" === o ? kC : function (t, n, e, o) {
      var r = o.getOrThunk(function () {
        return yC(n, t.element);
      });
      e.setCollapsed(), ni(t.element, bC(n), r), ci(t.element);
      var i = vC(t, n);
      Gr(i, n.growingClass), Ur(i, n.shrinkingClass), wC(t, n), n.onStartShrink(t);
    })(t, n, e, ft.some(o));
  }

  function OC(t, n, e) {
    var o = vC(t, n),
        r = Xr(o, n.shrinkingClass),
        i = yC(n, t.element);
    SC(t, n);
    var u = yC(n, t.element);
    (r ? function () {
      ni(t.element, bC(n), i), ci(t.element);
    } : function () {
      wC(t, n);
    })(), Gr(o, n.shrinkingClass), Ur(o, n.growingClass), SC(t, n), ni(t.element, bC(n), u), e.setExpanded(), n.onStartGrow(t);
  }

  function _C(t, n, e) {
    return !0 === Xr(vC(t, n), n.growingClass);
  }

  function TC(t, n, e) {
    return !0 === Xr(vC(t, n), n.shrinkingClass);
  }

  function EC(t) {
    return "<alloy.field." + t + ">";
  }

  function DC(t) {
    return {
      element: function element() {
        return t.element.dom;
      }
    };
  }

  function BC(t, e) {
    id.getCurrent(t).each(function (t) {
      return Mg.set(t, [(n = e, bO.sketch(function (t) {
        return {
          dom: {
            tag: "div",
            classes: ["tox-sidebar__pane-container"]
          },
          components: (e = t, r = A(Xn(o = n), function (t) {
            var n = o[t],
                e = Xt(Gt("sidebar", yO, n));
            return {
              name: t,
              getApi: DC,
              onSetup: e.onSetup,
              onShow: e.onShow,
              onHide: e.onHide
            };
          }), A(r, function (t) {
            var n = wn(ct);
            return e.slot(t.name, {
              dom: {
                tag: "div",
                classes: ["tox-sidebar__pane"]
              },
              behaviours: Xh([gv(t, n), pv(t, n), Xe(Uo(), function (n, t) {
                var e = t.event;
                V(r, function (t) {
                  return t.name === e.name;
                }).each(function (t) {
                  (e.visible ? t.onShow : t.onHide)(t.getApi(n));
                });
              })])
            });
          })),
          slotBehaviours: Xh([$o(function (t) {
            return bO.hideAllSlots(t);
          })])
        };
        var e, o, r;
      }))]);
      var n;
    });
  }

  function AC(t) {
    return id.getCurrent(t).bind(function (t) {
      return gO.isGrowing(t) || gO.hasGrown(t) ? id.getCurrent(t).bind(function (n) {
        return V(bO.getSlotNames(n), function (t) {
          return bO.isShowing(n, t);
        });
      }) : ft.none();
    });
  }

  function MC(t) {
    var n = de.fromHtml(t),
        e = sr(n),
        o = R(void 0 !== n.dom.attributes ? n.dom.attributes : [], function (t, n) {
      var e;
      return "class" === n.name ? t : _st(_st({}, t), ((e = {})[n.name] = n.value, e));
    }, {}),
        r = Array.prototype.slice.call(n.dom.classList, 0),
        i = 0 === e.length ? {} : {
      innerHtml: Sr(n)
    };
    return _st({
      tag: nr(n),
      classes: r,
      attributes: o
    }, i);
  }

  function FC(t) {
    return id.getCurrent(t).each(function (t) {
      return Sa(t.element);
    });
  }

  function IC(f, d, m) {
    function n(t) {
      var n;
      !g.get() || "focusin" === (n = t).type && (n.composed ? ot(n.composedPath()) : ft.from(n.target)).map(de.fromDom).filter(Ri).exists(function (t) {
        return Xr(t, "mce-pastebin");
      }) || (t.preventDefault(), FC(d()), f.editorManager.setActive(f));
    }

    var g = wn(!1),
        e = fc();

    function o(t) {
      var n, e, o, r, i, u, a, c, s, l;
      t !== g.get() && (g.set(t), n = f, e = d(), o = t, r = m.providers, c = e.element, s = o, l = "data-mce-" + (i = "tabindex"), ft.from(n.iframeElement).map(de.fromDom).each(function (n) {
        s ? (Tr(n, i).each(function (t) {
          return Or(n, l, t);
        }), Or(n, i, -1)) : (Dr(n, i), Tr(n, l).each(function (t) {
          Or(n, i, t), Dr(n, l);
        }));
      }), o ? (kO.block(e, (a = r, function (t, n) {
        return {
          dom: {
            tag: "div",
            attributes: {
              "aria-label": a.translate("Loading..."),
              tabindex: "0"
            },
            classes: ["tox-throbber__busy-spinner"]
          },
          components: [{
            dom: MC('<div class="tox-spinner"><div></div><div></div><div></div></div>')
          }]
        };
      })), ai(c, "display"), Dr(c, "aria-hidden"), n.hasFocus() && FC(e)) : (u = id.getCurrent(e).exists(function (t) {
        return ka(t.element);
      }), kO.unblock(e), ni(c, "display", "none"), Or(c, "aria-hidden", "true"), u && n.focus()), f.fire("AfterProgressState", {
        state: t
      }));
    }

    f.inline || f.on("PreInit", function () {
      f.dom.bind(f.getWin(), "focusin", n), f.on("BeforeExecCommand", function (t) {
        "mcefocus" === t.command.toLowerCase() && !0 !== t.value && n(t);
      });
    }), f.on("ProgressState", function (t) {
      var n;
      e.on(ap.clearTimeout), u(t.time) ? (n = ap.setEditorTimeout(f, function () {
        return o(t.state);
      }, t.time), e.set(n)) : (o(t.state), e.clear());
    });
  }

  function RC(t, n, e) {
    return {
      within: t,
      extra: n,
      withinWidth: e
    };
  }

  function VC(t, n, o) {
    var e,
        r = (e = function e(t, n) {
      var e = o(t);
      return ft.some({
        element: t,
        start: n,
        finish: n + e,
        width: e
      });
    }, R(t, function (n, t) {
      return e(t, n.len).fold(tt(n), function (t) {
        return {
          len: t.finish,
          list: n.list.concat([t])
        };
      });
    }, {
      len: 0,
      list: []
    }).list),
        i = F(r, function (t) {
      return t.finish <= n;
    }),
        u = I(i, function (t, n) {
      return t + n.width;
    }, 0);
    return {
      within: i,
      extra: r.slice(i.length),
      withinWidth: u
    };
  }

  function PC(t) {
    return A(t, function (t) {
      return t.element;
    });
  }

  function HC(t, n) {
    var e = A(n, function (t) {
      return yu(t);
    });
    q1.setGroups(t, e);
  }

  function zC(t, n, e) {
    var o,
        r,
        i,
        u,
        a,
        c,
        s,
        l,
        f,
        d,
        m,
        g,
        p,
        h,
        v,
        b,
        y,
        x,
        w,
        S,
        k = n.builtGroups.get();
    0 !== k.length && (o = fl(t, n, "primary"), r = Jy.getCoupled(t, "overflowGroup"), ni(o.element, "visibility", "hidden"), u = q(i = k.concat([r]), function (n) {
      return Oa(n.element).bind(function (t) {
        return n.getSystem().getByDom(t).toOptional();
      });
    }), e([]), HC(o, i), a = wi(o.element), 0 === (s = a, l = n.builtGroups.get(), d = r, y = (0 === (m = VC(l, s, f = function f(t) {
      return wi(t.element);
    })).extra.length ? ft.some(m) : ft.none()).getOrThunk(function () {
      return VC(l, s - f(d), f);
    }), x = y.within, w = y.extra, S = y.withinWidth, (c = 1 === w.length && w[0].width <= f(d) ? (b = S, RC(PC(x.concat(w)), [], b)) : 1 <= w.length ? (p = w, h = d, v = S, RC(PC(x).concat([h]), PC(p), v)) : (g = S, RC(PC(x), [], g))).extra.length) ? (Mg.remove(o, r), e([])) : (HC(o, c.within), e(c.extra)), ai(o.element, "visibility"), ci(o.element), u.each(Rg.focus));
  }

  function NC(t, n) {
    var e = Jy.getCoupled(t, "toolbarSandbox");
    pf.isOpen(e) ? pf.close(e) : pf.open(e, n.toolbar());
  }

  function LC(t, n, e, o) {
    var r = e.getBounds.map(function (t) {
      return t();
    }),
        i = e.lazySink(t).getOrDie();
    cf.positionWithinBounds(i, n, {
      anchor: {
        type: "hotspot",
        hotspot: t,
        layouts: o,
        overrides: {
          maxWidthFunction: TO()
        }
      }
    }, r);
  }

  function jC(t, n, e, o, r) {
    q1.setGroups(n, r), LC(t, n, e, o), Hg.on(t);
  }

  function WC(t) {
    return A(t, function (t) {
      return yu(t);
    });
  }

  function UC(t, e, o) {
    zC(t, o, function (n) {
      o.overflowGroups.set(n), e.getOpt(t).each(function (t) {
        BO.setGroups(t, WC(n));
      });
    });
  }

  function GC(n, e) {
    ll(n, e, "overflow-button").bind(function () {
      return ll(n, e, "overflow");
    }).each(function (t) {
      l1(n, e), gO.toggleGrow(t);
    });
  }

  function XC(t) {
    var n = t.title.fold(function () {
      return {};
    }, function (t) {
      return {
        attributes: {
          title: t
        }
      };
    });
    return {
      dom: _st({
        tag: "div",
        classes: ["tox-toolbar__group"]
      }, n),
      components: [FO.parts.items({})],
      items: t.items,
      markers: {
        itemSelector: "*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled])"
      },
      tgroupBehaviours: Za([gy.config({}), Rg.config({})])
    };
  }

  function YC(t) {
    return FO.sketch(XC(t));
  }

  function qC(e, t) {
    var n = $o(function (t) {
      var n = A(e.initGroups, YC);
      q1.setGroups(t, n);
    });
    return Za([Kv(e.providers.isDisabled), dv(), Bg.config({
      mode: t,
      onEscape: e.onEscape,
      selector: ".tox-toolbar__group"
    }), lm("toolbar-events", [n])]);
  }

  function KC(t) {
    var n = t.cyclicKeying ? "cyclic" : "acyclic";
    return {
      uid: t.uid,
      dom: {
        tag: "div",
        classes: ["tox-toolbar-overlord"]
      },
      parts: {
        "overflow-group": XC({
          title: ft.none(),
          items: []
        }),
        "overflow-button": pS({
          name: "more",
          icon: ft.some("more-drawer"),
          disabled: !1,
          tooltip: ft.some("More..."),
          primary: !1,
          borderless: !1
        }, ft.none(), t.providers)
      },
      splitToolbarBehaviours: qC(t, n)
    };
  }

  function JC(t) {
    var n = t.cyclicKeying ? "cyclic" : "acyclic";
    return q1.sketch({
      uid: t.uid,
      dom: {
        tag: "div",
        classes: ["tox-toolbar"].concat(t.type === ph.scrolling ? ["tox-toolbar--scrolling"] : [])
      },
      components: [q1.parts.groups({})],
      toolbarBehaviours: qC(t, n)
    });
  }

  function $C(t) {
    return "string" == typeof t ? t.split(" ") : t;
  }

  function QC(i, u) {
    var a = _st(_st({}, XO), u.menus),
        e = 0 < Xn(u.menus).length,
        t = F(void 0 === u.menubar || !0 === u.menubar ? $C("file edit view insert format tools table help") : $C(!1 === u.menubar ? "" : u.menubar), function (t) {
      var n = Kn(XO, t);
      return e ? n || kt(u.menus, t).exists(function (t) {
        return Kn(t, "items");
      }) : n;
    });

    return F(A(t, function (t) {
      var n = a[t],
          e = {
        title: n.title,
        items: $C(n.items)
      },
          o = u,
          r = i.getParam("removed_menuitems", "").split(/[ ,]/);
      return {
        text: e.title,
        getItems: function getItems() {
          return z(e.items, function (t) {
            var n = t.toLowerCase();
            return 0 === n.trim().length || T(r, function (t) {
              return t === n;
            }) ? [] : "separator" === n || "|" === n ? [{
              type: "separator"
            }] : o.menuItems[n] ? [o.menuItems[n]] : [];
          });
        }
      };
    }), function (t) {
      return 0 < t.getItems().length && T(t.getItems(), function (t) {
        return "separator" !== t.type;
      });
    });
  }

  function ZC(t) {
    function n() {
      t._skinLoaded = !0, t.fire("SkinLoaded");
    }

    return function () {
      t.initialized ? n() : t.on("init", n);
    };
  }

  function t1(e, o, r) {
    return new Dp(function (t, n) {
      r.load(o, t, n), e.on("remove", function () {
        return r.unload(o);
      });
    });
  }

  function n1(t, n) {
    var e,
        o,
        r,
        i,
        u,
        a,
        c,
        s,
        l,
        f = (r = (e = n).getParam("skin"), i = e.getParam("skin_url"), !1 !== r && (o = r || "oxide", i = i ? e.documentBaseURI.toAbsolute(i) : tv.baseURL + "/skins/ui/" + o), i);
    f && n.contentCSS.push(f + (t ? "/content.inline" : "/content") + ".min.css"), !1 === n.getParam("skin") == 0 && y(f) ? Dp.all([t1(n, f + "/skin.min.css", n.ui.styleSheetLoader), (c = n, s = f, l = de.fromDom(c.getElement()), Wi(l).isSome() ? t1(c, s + "/skin.shadowdom.min.css", Zh.DOM.styleSheetLoader) : Dp.resolve())]).then(ZC(n), (u = n, a = "Skin could not be loaded", function () {
      return u.fire("SkinLoadError", {
        message: a
      });
    })) : ZC(n)();
  }

  function e1(o, r) {
    return function (n) {
      function t() {
        n.setActive(o.formatter.match(r));
        var t = o.formatter.formatChanged(r, n.setActive);
        e.set(t);
      }

      var e = lc();
      return o.initialized ? t() : o.once("init", t), function () {
        o.off("init", t), e.clear();
      };
    };
  }

  function o1(o, r, i) {
    return function (t) {
      function n() {
        return i(t);
      }

      function e() {
        i(t), o.on(r, n);
      }

      return o.initialized ? e() : o.once("init", e), function () {
        o.off("init", e), o.off(r, n);
      };
    };
  }

  function r1(n) {
    return function (t) {
      return function () {
        n.undoManager.transact(function () {
          n.focus(), n.execCommand("mceToggleFormat", !1, t.format);
        });
      };
    };
  }

  function i1(t, n) {
    return function () {
      return t.execCommand(n);
    };
  }

  function u1(t, n, e) {
    var u,
        a,
        c,
        o = e.dataset,
        r = "basic" === o.type ? function () {
      return A(o.data, function (t) {
        return Ak(t, e.isSelectedFor, e.getPreviewFor);
      });
    } : o.getData;
    return {
      items: (u = n, a = e, c = function c(t, n, e) {
        var o = "formatter" === t.type && a.isInvalid(t);
        return 0 === n ? o ? [] : i(t, n, !1, e).toArray() : i(t, n, o, e).toArray();
      }, {
        validateItems: s,
        getFetch: function getFetch(e, o) {
          return function (t, n) {
            n(fS(s(o()), yh.CLOSE_ON_EXECUTE, e, !1));
          };
        }
      }),
      getStyleItems: r
    };

    function i(t, n, e, o) {
      var r = u.shared.providers.translate(t.title);
      if ("separator" === t.type) return ft.some({
        type: "separator",
        text: r
      });
      if ("submenu" !== t.type) return ft.some(_st({
        type: "togglemenuitem",
        text: r,
        icon: t.icon,
        active: t.isSelected(o),
        disabled: e,
        onAction: a.onAction(t)
      }, t.getStylePreview().fold(function () {
        return {};
      }, function (t) {
        return {
          meta: {
            style: t
          }
        };
      })));
      var i = z(t.getStyleItems(), function (t) {
        return c(t, n, o);
      });
      return 0 === n && i.length <= 0 ? ft.none() : ft.some({
        type: "nestedmenuitem",
        text: r,
        disabled: i.length <= 0,
        getSubmenuItems: function getSubmenuItems() {
          return z(t.getStyleItems(), function (t) {
            return c(t, n, o);
          });
        }
      });
    }

    function s(t) {
      var n = a.getCurrentValue(),
          e = a.shouldHide ? 0 : 1;
      return z(t, function (t) {
        return c(t, e, n);
      });
    }
  }

  function a1(t, n, e) {
    var o = u1(0, n, e),
        r = o.items,
        i = o.getStyleItems,
        u = o1(t, "NodeChange", function (t) {
      var n = t.getComponent();
      e.updateText(n);
    });
    return sS({
      text: e.icon.isSome() ? ft.none() : e.text,
      icon: e.icon,
      tooltip: ft.from(e.tooltip),
      role: ft.none(),
      fetch: r.getFetch(n, i),
      onSetup: u,
      getApi: function getApi(t) {
        return {
          getComponent: tt(t)
        };
      },
      columns: 1,
      presets: "normal",
      classes: e.icon.isSome() ? [] : ["bespoke"],
      dropdownBehaviours: []
    }, "tox-tbtn", n.shared);
  }

  function c1(t) {
    return function (t) {
      for (; t = t.parentNode;) {
        var n = t.contentEditable;
        if (n && "inherit" !== n) return P1(t);
      }

      return !1;
    }(t) && !H1(t);
  }

  function s1(r, t) {
    function n(t) {
      return gl(r);
    }

    function e(e, o) {
      return function (t, n) {
        return ll(t, r, n).map(function (t) {
          return e(t, n);
        }).getOr(o);
      };
    }

    function o(t, n) {
      return "true" !== _r(t.element, "aria-hidden");
    }

    var i,
        u = e(o, !1),
        a = e(function (t, n) {
      var e;
      o(t) && (ni(e = t.element, "display", "none"), Or(e, "aria-hidden", "true"), Ne(t, Uo(), {
        name: n,
        visible: !1
      }));
    }),
        c = (i = a, function (n, t) {
      dt(t, function (t) {
        return i(n, t);
      });
    }),
        s = e(function (t, n) {
      var e;
      o(t) || (ai(e = t.element, "display"), Dr(e, "aria-hidden"), Ne(t, Uo(), {
        name: n,
        visible: !0
      }));
    });
    return {
      uid: r.uid,
      dom: r.dom,
      components: t,
      behaviours: $s(r.slotBehaviours),
      apis: {
        getSlotNames: n,
        getSlot: function getSlot(t, n) {
          return ll(t, r, n);
        },
        isShowing: u,
        hideSlot: a,
        hideAllSlots: function hideAllSlots(t) {
          return c(t, n());
        },
        showSlot: s
      }
    };
  }

  function l1(t, n) {
    ll(t, n, "overflow").each(function (e) {
      zC(t, n, function (t) {
        var n = A(t, function (t) {
          return yu(t);
        });
        q1.setGroups(e, n);
      }), ll(t, n, "overflow-button").each(function (t) {
        gO.hasGrown(e) && Hg.on(t);
      }), gO.refresh(e);
    });
  }

  var f1,
      d1,
      m1,
      g1 = "data-value",
      p1 = function p1(n, e, t, o) {
    return A(t, function (t) {
      return hk(t) ? {
        type: "togglemenuitem",
        text: t.text,
        value: t.value,
        active: t.value === o,
        onAction: function onAction() {
          _f.setValue(n, t.value), Ne(n, by, {
            name: e
          }), Rg.focus(n);
        }
      } : {
        type: "nestedmenuitem",
        text: t.text,
        getSubmenuItems: function getSubmenuItems() {
          return p1(n, e, t.items, o);
        }
      };
    });
  },
      h1 = function h1(t, n) {
    return q(t, function (t) {
      return hk(t) ? $r(t.value === n, t) : h1(t.items, n);
    });
  },
      v1 = xl({
    name: "HtmlSelect",
    configFields: [Jt("options"), Js("selectBehaviours", [Rg, _f]), dn("selectClasses", []), dn("selectAttributes", {}), rn("data")],
    factory: function factory(e, t) {
      var n = A(e.options, function (t) {
        return {
          dom: {
            tag: "option",
            value: t.value,
            innerHtml: t.text
          }
        };
      }),
          o = e.data.map(function (t) {
        return Ae("initialValue", t);
      }).getOr({});
      return {
        uid: e.uid,
        dom: {
          tag: "select",
          classes: e.selectClasses,
          attributes: e.selectAttributes
        },
        components: n,
        behaviours: Qs(e.selectBehaviours, [Rg.config({}), _f.config({
          store: _st({
            mode: "manual",
            getValue: function getValue(t) {
              return si(t.element);
            },
            setValue: function setValue(t, n) {
              V(e.options, function (t) {
                return t.value === n;
              }).isSome() && li(t.element, n);
            }
          }, o)
        })])
      };
    }
  }),
      b1 = Object.freeze({
    __proto__: null,
    events: function events(t, n) {
      var e = t.stream.streams.setup(t, n);
      return Jo([Xe(t.event, e), Qo(function () {
        return n.cancel();
      })].concat(t.cancelEvent.map(function (t) {
        return [Xe(t, function () {
          return n.cancel();
        })];
      }).getOr([])));
    }
  }),
      y1 = Object.freeze({
    __proto__: null,
    throttle: yk,
    init: function init(t) {
      return t.stream.streams.state(t);
    }
  }),
      x1 = xa({
    fields: [$t("stream", qt("mode", {
      throttle: [Jt("delay"), dn("stopEvent", !0), Zu("streams", {
        setup: function setup(t, n) {
          var e = t.stream,
              o = gp(t.onStream, e.delay);
          return n.setTimer(o), function (t, n) {
            o.throttle(t, n), e.stopEvent && n.stop();
          };
        },
        state: yk
      })]
    })), dn("event", "input"), rn("cancelEvent"), $u("onStream")],
    name: "streaming",
    active: b1,
    state: y1
  }),
      w1 = function w1(t) {
    wk(t, function (t, n) {
      return t.setSelectionRange(n.length, n.length);
    });
  },
      S1 = tt("alloy.typeahead.itemexecute"),
      k1 = tt([rn("lazySink"), Jt("fetch"), dn("minChars", 5), dn("responseTime", 1e3), Ku("onOpen"), dn("getHotspot", ft.some), dn("getAnchorOverrides", tt({})), dn("layouts", ft.none()), dn("eventOrder", {}), xn("model", {}, [dn("getDisplayText", function (t) {
    return void 0 !== t.meta && void 0 !== t.meta.text ? t.meta.text : t.value;
  }), dn("selectsOver", !0), dn("populateFromBrowse", !0)]), Ku("onSetValue"), Ju("onExecute"), Ku("onItemExecute"), dn("inputClasses", []), dn("inputAttributes", {}), dn("inputStyles", {}), dn("matchWidth", !0), dn("useMinWidth", !1), dn("dismissOnBlur", !0), Yu(["openClass"]), rn("initialData"), Js("typeaheadBehaviours", [Rg, _f, x1, Bg, Hg, Jy]), fe("previewing", function () {
    return wn(!0);
  })].concat(Ty()).concat(ix())),
      C1 = tt([qf({
    schema: [Xu()],
    name: "menu",
    overrides: function overrides(o) {
      return {
        fakeFocus: !0,
        onHighlight: function onHighlight(n, e) {
          o.previewing.get() ? n.getSystem().getByUid(o.uid).each(function (t) {
            !function (t, n, o) {
              if (t.selectsOver) {
                var e = _f.getValue(n),
                    r = t.getDisplayText(e),
                    i = _f.getValue(o);

                return 0 === t.getDisplayText(i).indexOf(r) ? ft.some(function () {
                  var e;
                  xk(0, n, o), e = r.length, wk(n, function (t, n) {
                    return t.setSelectionRange(e, n.length);
                  });
                }) : ft.none();
              }

              return ft.none();
            }(o.model, t, e).fold(function () {
              return md.dehighlight(n, e);
            }, function (t) {
              return t();
            });
          }) : n.getSystem().getByUid(o.uid).each(function (t) {
            o.model.populateFromBrowse && xk(o.model, t, e);
          }), o.previewing.set(!1);
        },
        onExecute: function onExecute(t, n) {
          return t.getSystem().getByUid(o.uid).toOptional().map(function (t) {
            return Ne(t, S1(), {
              item: n
            }), !0;
          });
        },
        onHover: function onHover(t, n) {
          o.previewing.set(!1), t.getSystem().getByUid(o.uid).each(function (t) {
            o.model.populateFromBrowse && xk(o.model, t, n);
          });
        }
      };
    }
  })]),
      O1 = wl({
    name: "Typeahead",
    configFields: k1(),
    partFields: C1(),
    factory: function factory(r, t, n, i) {
      function e(t, n, e) {
        r.previewing.set(!1);
        var o = Jy.getCoupled(t, "sandbox");
        pf.isOpen(o) ? id.getCurrent(o).each(function (t) {
          md.getHighlighted(t).fold(function () {
            e(t);
          }, function () {
            We(o, t.element, "keydown", n);
          });
        }) : tx(r, u(t), t, o, i, function (t) {
          id.getCurrent(t).each(e);
        }, Py.HighlightFirst).get(ct);
      }

      function u(e) {
        return function (t) {
          return t.map(function (t) {
            var n = z(St(t.menus), function (t) {
              return F(t.items, function (t) {
                return "item" === t.type;
              });
            });
            return _f.getState(e).update(A(n, function (t) {
              return t.data;
            })), t;
          });
        };
      }

      var o = Zb(r),
          a = [Rg.config({}), _f.config({
        onSetValue: r.onSetValue,
        store: _st({
          mode: "dataset",
          getDataKey: function getDataKey(t) {
            return si(t.element);
          },
          getFallbackEntry: function getFallbackEntry(t) {
            return {
              value: t,
              meta: {}
            };
          },
          setValue: function setValue(t, n) {
            li(t.element, r.model.getDisplayText(n));
          }
        }, r.initialData.map(function (t) {
          return Ae("initialValue", t);
        }).getOr({}))
      }), x1.config({
        stream: {
          mode: "throttle",
          delay: r.responseTime,
          stopEvent: !1
        },
        onStream: function onStream(t, n) {
          var e,
              o = Jy.getCoupled(t, "sandbox");
          Rg.isFocused(t) && si(t.element).length >= r.minChars && (e = id.getCurrent(o).bind(function (t) {
            return md.getHighlighted(t).map(_f.getValue);
          }), r.previewing.set(!0), tx(r, u(t), t, o, i, function (t) {
            id.getCurrent(o).each(function (t) {
              e.fold(function () {
                r.model.selectsOver && md.highlightFirst(t);
              }, function (n) {
                md.highlightBy(t, function (t) {
                  return _f.getValue(t).value === n.value;
                }), md.getHighlighted(t).orThunk(function () {
                  return md.highlightFirst(t), ft.none();
                });
              });
            });
          }, Py.HighlightFirst).get(ct));
        },
        cancelEvent: Fo()
      }), Bg.config({
        mode: "special",
        onDown: function onDown(t, n) {
          return e(t, n, md.highlightFirst), ft.some(!0);
        },
        onEscape: function onEscape(t) {
          var n = Jy.getCoupled(t, "sandbox");
          return pf.isOpen(n) ? (pf.close(n), ft.some(!0)) : ft.none();
        },
        onUp: function onUp(t, n) {
          return e(t, n, md.highlightLast), ft.some(!0);
        },
        onEnter: function onEnter(n) {
          var t = Jy.getCoupled(n, "sandbox"),
              e = pf.isOpen(t);
          if (e && !r.previewing.get()) return id.getCurrent(t).bind(function (t) {
            return md.getHighlighted(t);
          }).map(function (t) {
            return Ne(n, S1(), {
              item: t
            }), !0;
          });

          var o = _f.getValue(n);

          return ze(n, Fo()), r.onExecute(t, n, o), e && pf.close(t), ft.some(!0);
        }
      }), Hg.config({
        toggleClass: r.markers.openClass,
        aria: {
          mode: "expanded"
        }
      }), Jy.config({
        others: {
          sandbox: function sandbox(t) {
            return ox(r, t, {
              onOpen: function onOpen() {
                return Hg.on(t);
              },
              onClose: function onClose() {
                return Hg.off(t);
              }
            });
          }
        }
      }), lm("typeaheadevents", [tr(function (t) {
        nx(r, u(t), t, i, ct, Py.HighlightFirst).get(ct);
      }), Xe(S1(), function (t, n) {
        var e = Jy.getCoupled(t, "sandbox");
        xk(r.model, t, n.event.item), ze(t, Fo()), r.onItemExecute(t, e, n.event.item, _f.getValue(t)), pf.close(e), w1(t);
      })].concat(r.dismissOnBlur ? [Xe(Oo(), function (t) {
        var n = Jy.getCoupled(t, "sandbox");
        Oa(n.element).isNone() && pf.close(n);
      })] : []))];
      return {
        uid: r.uid,
        dom: ty(Jn(r, {
          inputAttributes: {
            role: "combobox",
            "aria-autocomplete": "list",
            "aria-haspopup": "true"
          }
        })),
        behaviours: _st(_st({}, o), Qs(r.typeaheadBehaviours, a)),
        eventOrder: r.eventOrder
      };
    }
  }),
      _1 = function _1(i) {
    return _st(_st({}, i), {
      toCached: function toCached() {
        return _1(i.toCached());
      },
      bindFuture: function bindFuture(n) {
        return _1(i.bind(function (t) {
          return t.fold(function (t) {
            return Uy(mt.error(t));
          }, function (t) {
            return n(t);
          });
        }));
      },
      bindResult: function bindResult(n) {
        return _1(i.map(function (t) {
          return t.bind(n);
        }));
      },
      mapResult: function mapResult(n) {
        return _1(i.map(function (t) {
          return t.map(n);
        }));
      },
      mapError: function mapError(n) {
        return _1(i.map(function (t) {
          return t.mapError(n);
        }));
      },
      foldResult: function foldResult(n, e) {
        return i.map(function (t) {
          return t.fold(n, e);
        });
      },
      withTimeout: function withTimeout(t, r) {
        return _1(Wy(function (n) {
          var e = !1,
              o = setTimeout(function () {
            e = !0, n(mt.error(r()));
          }, t);
          i.get(function (t) {
            e || (clearTimeout(o), n(t));
          });
        }));
      }
    });
  },
      T1 = function T1(t) {
    return _1(Wy(t));
  },
      E1 = {
    type: "separator"
  },
      D1 = Ar("aria-invalid"),
      B1 = {
    bar: Tk(function (t, n) {
      return e = n.shared, {
        dom: {
          tag: "div",
          classes: ["tox-bar", "tox-form__controls-h-stack"]
        },
        components: A(t.items, e.interpreter)
      };
      var e;
    }),
    collection: Tk(function (t, n) {
      return u = t, a = n.shared.providers, c = u.label.map(function (t) {
        return Qb(t, a);
      }), s = e(function (t, n, e, o) {
        n.stop(), a.isDisabled() || Ne(t, wy, {
          name: u.name,
          value: o
        });
      }), l = [Xe(lo(), e(function (t, n, e) {
        Sa(e);
      })), Xe(bo(), s), Xe(Bo(), s), Xe(fo(), e(function (t, n, e) {
        Fu(t.element, "." + Eh).each(function (t) {
          Gr(t, Eh);
        }), Ur(e, Eh);
      })), Xe(mo(), e(function (t) {
        Fu(t.element, "." + Eh).each(function (t) {
          Gr(t, Eh);
        });
      })), tr(e(function (t, n, e, o) {
        Ne(t, wy, {
          name: u.name,
          value: o
        });
      }))], $b(c, dy.parts.field({
        dom: {
          tag: "div",
          classes: ["tox-collection"].concat(1 !== u.columns ? ["tox-collection--grid"] : ["tox-collection--list"])
        },
        components: [],
        factory: {
          sketch: h
        },
        behaviours: Za([fd.config({
          disabled: a.isDisabled,
          onDisabled: function onDisabled(t) {
            o(t, function (t) {
              Ur(t, "tox-collection__item--state-disabled"), Or(t, "aria-disabled", !0);
            });
          },
          onEnabled: function onEnabled(t) {
            o(t, function (t) {
              Gr(t, "tox-collection__item--state-disabled"), Dr(t, "aria-disabled");
            });
          }
        }), dv(), Mg.config({}), _f.config({
          store: {
            mode: "memory",
            initialValue: []
          },
          onSetValue: function onSetValue(o, t) {
            var n = o,
                e = A(t, function (t) {
              var n = sp.translate(t.text),
                  e = 1 === u.columns ? '<div class="tox-collection__item-label">' + n + "</div>" : "",
                  o = '<div class="tox-collection__item-icon">' + t.icon + "</div>",
                  r = {
                _: " ",
                " - ": " ",
                "-": " "
              },
                  i = n.replace(/\_| \- |\-/g, function (t) {
                return r[t];
              });
              return '<div class="tox-collection__item' + (a.isDisabled() ? " tox-collection__item--state-disabled" : "") + '" tabindex="-1" data-collection-item-value="' + py.encodeAllRaw(t.value) + '" title="' + i + '" aria-label="' + i + '">' + o + e + "</div>";
            }),
                r = A("auto" !== u.columns && 1 < u.columns ? B(e, u.columns) : [e], function (t) {
              return '<div class="tox-collection__group">' + t.join("") + "</div>";
            });
            kr(n.element, r.join("")), "auto" === u.columns && rh(o, 5, "tox-collection__item").each(function (t) {
              var n = t.numRows,
                  e = t.numColumns;
              Bg.setGridSize(o, n, e);
            }), ze(o, _y);
          }
        }), gy.config({}), Bg.config(1 === (i = u.columns) ? {
          mode: "menu",
          moveOnTab: !1,
          selector: ".tox-collection__item"
        } : "auto" === i ? {
          mode: "flatgrid",
          selector: ".tox-collection__item",
          initSize: {
            numColumns: 1,
            numRows: 1
          }
        } : {
          mode: "matrix",
          selectors: {
            row: ".tox-collection__group",
            cell: "." + wh
          }
        }), lm("collection-events", l)]),
        eventOrder: ((r = {})[Eo()] = ["disabling", "alloy.base.behaviour", "collection-events"], r)
      }), ["tox-form__group--collection"], []);

      function e(o) {
        return function (n, e) {
          Iu(e.event.target, "[data-collection-item-value]").each(function (t) {
            o(n, e, t, _r(t, "data-collection-item-value"));
          });
        };
      }

      function o(t, n) {
        return A(gs(t.element, ".tox-collection__item"), n);
      }

      var u, a, r, i, c, s, l;
    }),
    alertbanner: Tk(function (t, n) {
      return o = n.shared.providers, sy.sketch({
        dom: {
          tag: "div",
          attributes: {
            role: "alert"
          },
          classes: ["tox-notification", "tox-notification--in", "tox-notification--" + (e = t).level]
        },
        components: [{
          dom: {
            tag: "div",
            classes: ["tox-notification__icon"]
          },
          components: [cp.sketch({
            dom: {
              tag: "button",
              classes: ["tox-button", "tox-button--naked", "tox-button--icon"],
              innerHtml: Nm(e.icon, o.icons),
              attributes: {
                title: o.translate(e.iconTooltip)
              }
            },
            action: function action(t) {
              Ne(t, wy, {
                name: "alert-banner",
                value: e.url
              });
            },
            buttonBehaviours: Za([Lm()])
          })]
        }, {
          dom: {
            tag: "div",
            classes: ["tox-notification__body"],
            innerHtml: o.translate(e.text)
          }
        }]
      });
      var e, o;
    }),
    input: Tk(function (t, n) {
      return o = n.shared.providers, bk({
        name: (e = t).name,
        multiline: !1,
        label: e.label,
        inputMode: e.inputMode,
        placeholder: e.placeholder,
        flex: !1,
        disabled: e.disabled,
        classname: "tox-textfield",
        validation: ft.none(),
        maximized: e.maximized
      }, o);
      var e, o;
    }),
    textarea: Tk(function (t, n) {
      return o = n.shared.providers, bk({
        name: (e = t).name,
        multiline: !0,
        label: e.label,
        inputMode: ft.none(),
        placeholder: e.placeholder,
        flex: !0,
        disabled: e.disabled,
        classname: "tox-textarea",
        validation: ft.none(),
        maximized: e.maximized
      }, o);
      var e, o;
    }),
    label: Tk(function (t, n) {
      return r = {
        dom: {
          tag: "label",
          innerHtml: (o = n.shared).providers.translate((e = t).label),
          classes: ["tox-label"]
        }
      }, i = A(e.items, o.interpreter), {
        dom: {
          tag: "div",
          classes: ["tox-form__group"]
        },
        components: [r].concat(i),
        behaviours: Za([x0(), Mg.config({}), w0(ft.none()), Bg.config({
          mode: "acyclic"
        })])
      };
      var e, o, r, i;
    }),
    iframe: (f1 = function f1(t, n) {
      return e = t, o = n.shared.providers, u = Mw && e.sandboxed, a = _st(_st({}, e.label.map(function (t) {
        return {
          title: t
        };
      }).getOr({})), u ? {
        sandbox: "allow-scripts allow-same-origin"
      } : {}), r = u, i = wn(""), c = {
        getValue: function getValue(t) {
          return i.get();
        },
        setValue: function setValue(t, n) {
          var e;
          r ? Or(t.element, "srcdoc", n) : (Or(t.element, "src", "javascript:''"), (e = t.element.dom.contentWindow.document).open(), e.write(n), e.close()), i.set(n);
        }
      }, $b(e.label.map(function (t) {
        return Qb(t, o);
      }), dy.parts.field({
        factory: {
          sketch: function sketch(t) {
            return f0({
              uid: t.uid,
              dom: {
                tag: "iframe",
                attributes: a
              },
              behaviours: Za([gy.config({}), Rg.config({}), Ew(ft.none(), c.getValue, c.setValue)])
            });
          }
        }
      }), ["tox-form__group--stretched"], []);
      var e, o, r, i, u, a, c;
    }, function (t, n, e) {
      var o = Jn(n, {
        source: "dynamic"
      });
      return Tk(f1)(t, o, e);
    }),
    button: Tk(function (t, n) {
      return e = t, o = n.shared.providers, r = yS(e.name, "custom"), $b(ft.none(), dy.parts.field(_st({
        factory: cp
      }, vS(e, ft.some(r), o, [Dw(""), x0()]))), [], []);
      var e, o, r;
    }),
    checkbox: Tk(function (t, n) {
      return r = t, i = n.shared.providers, u = _f.config({
        store: {
          mode: "manual",
          getValue: function getValue(t) {
            return t.element.dom.checked;
          },
          setValue: function setValue(t, n) {
            t.element.dom.checked = n;
          }
        }
      }), a = dy.parts.field({
        factory: {
          sketch: h
        },
        dom: {
          tag: "input",
          classes: ["tox-checkbox__input"],
          attributes: {
            type: "checkbox"
          }
        },
        behaviours: Za([x0(), fd.config({
          disabled: function disabled() {
            return r.disabled || i.isDisabled();
          }
        }), gy.config({}), Rg.config({}), u, Bg.config({
          mode: "special",
          onEnter: e,
          onSpace: e,
          stopSpaceKeyup: !0
        }), lm("checkbox-events", [Xe(vo(), function (t, n) {
          Ne(t, by, {
            name: r.name
          });
        })])])
      }), c = dy.parts.label({
        dom: {
          tag: "span",
          classes: ["tox-checkbox__label"],
          innerHtml: i.translate(r.label)
        },
        behaviours: Za([A0.config({})])
      }), s = Vm({
        dom: {
          tag: "div",
          classes: ["tox-checkbox__icons"]
        },
        components: [o("checked"), o("unchecked")]
      }), dy.sketch({
        dom: {
          tag: "label",
          classes: ["tox-checkbox"]
        },
        components: [a, s.asSpec(), c],
        fieldBehaviours: Za([fd.config({
          disabled: function disabled() {
            return r.disabled || i.isDisabled();
          },
          disableClass: "tox-checkbox--disabled",
          onDisabled: function onDisabled(t) {
            dy.getField(t).each(fd.disable);
          },
          onEnabled: function onEnabled(t) {
            dy.getField(t).each(fd.enable);
          }
        }), dv()])
      });

      function e(t) {
        return t.element.dom.click(), ft.some(!0);
      }

      function o(t) {
        return Wm("checked" === t ? "selected" : "unselected", {
          tag: "span",
          classes: ["tox-icon", "tox-checkbox-icon__" + t]
        }, i.icons);
      }

      var r, i, u, a, c, s;
    }),
    colorinput: Tk(function (t, n) {
      return e = t, r = n.shared, i = n.colorinput, c = dy.parts.field({
        factory: Ey,
        inputClasses: ["tox-textfield"],
        onSetValue: function onSetValue(t) {
          return qy.run(t).get(ct);
        },
        inputBehaviours: Za([fd.config({
          disabled: r.providers.isDisabled
        }), dv(), gy.config({}), qy.config({
          invalidClass: "tox-textbox-field-invalid",
          getRoot: function getRoot(t) {
            return ar(t.element);
          },
          notify: {
            onValid: function onValid(t) {
              var n = _f.getValue(t);

              Ne(t, M0, {
                color: n
              });
            }
          },
          validator: {
            validateOnLoad: !1,
            validate: function validate(t) {
              var n = _f.getValue(t);

              if (0 === n.length) return Uy(mt.value(!0));
              var e = de.fromTag("span");
              ni(e, "background-color", n);
              var o = ii(e, "background-color").fold(function () {
                return mt.error("blah");
              }, function (t) {
                return mt.value(n);
              });
              return Uy(o);
            }
          }
        })]),
        selectOnFocus: !1
      }), s = e.label.map(function (t) {
        return Qb(t, r.providers);
      }), l = Vm((u = {
        dom: {
          tag: "span",
          attributes: {
            "aria-label": r.providers.translate("Color swatch")
          }
        },
        layouts: {
          onRtl: function onRtl() {
            return [Ga, Ua, Ka];
          },
          onLtr: function onLtr() {
            return [Ua, Ga, Ka];
          }
        },
        components: [],
        fetch: bb(i.getColors(), i.hasCustomColors()),
        columns: i.getColorCols(),
        presets: "color",
        onItemAction: function onItemAction(t, e) {
          l.getOpt(t).each(function (n) {
            "custom" === e ? i.colorPicker(function (t) {
              t.fold(function () {
                return ze(n, I0);
              }, function (t) {
                o(n, t), mb(t);
              });
            }, "#ffffff") : o(n, "remove" === e ? "" : e);
          });
        }
      }, B0.sketch({
        dom: u.dom,
        components: u.components,
        toggleClass: "mce-active",
        dropdownBehaviours: Za([qv((a = r).providers.isDisabled), dv(), A0.config({}), gy.config({})]),
        layouts: u.layouts,
        sandboxClasses: ["tox-dialog__popups"],
        lazySink: a.getSink,
        fetch: function fetch(n) {
          return Wy(function (t) {
            return u.fetch(t);
          }).map(function (t) {
            return ft.from(Lb(Jn(Sb(Ar("menu-value"), t, function (t) {
              u.onItemAction(n, t);
            }, u.columns, u.presets, yh.CLOSE_ON_EXECUTE, O, a.providers), {
              movement: kb(u.columns, u.presets)
            })));
          });
        },
        parts: {
          menu: Jp(0, 0, u.presets)
        }
      }))), dy.sketch({
        dom: {
          tag: "div",
          classes: ["tox-form__group"]
        },
        components: s.toArray().concat([{
          dom: {
            tag: "div",
            classes: ["tox-color-input"]
          },
          components: [c, l.asSpec()]
        }]),
        fieldBehaviours: Za([lm("form-field-events", [Xe(M0, function (t, n) {
          l.getOpt(t).each(function (t) {
            ni(t.element, "background-color", n.event.color);
          }), Ne(t, by, {
            name: e.name
          });
        }), Xe(F0, function (n, e) {
          dy.getField(n).each(function (t) {
            _f.setValue(t, e.event.value), id.getCurrent(n).each(Rg.focus);
          });
        }), Xe(I0, function (n, t) {
          dy.getField(n).each(function (t) {
            id.getCurrent(n).each(Rg.focus);
          });
        })])])
      });

      function o(t, n) {
        Ne(t, F0, {
          value: n
        });
      }

      var e, r, i, u, a, c, s, l;
    }),
    colorpicker: Tk(function (t) {
      var r = Vm(u0(a0, function (t) {
        return "tox-" + t;
      }).sketch({
        dom: {
          tag: "div",
          classes: ["tox-color-picker-container"],
          attributes: {
            role: "presentation"
          }
        },
        onValidHex: function onValidHex(t) {
          Ne(t, wy, {
            name: "hex-valid",
            value: !0
          });
        },
        onInvalidHex: function onInvalidHex(t) {
          Ne(t, wy, {
            name: "hex-valid",
            value: !1
          });
        }
      }));
      return {
        dom: {
          tag: "div"
        },
        components: [r.asSpec()],
        behaviours: Za([_f.config({
          store: {
            mode: "manual",
            getValue: function getValue(t) {
              var n = r.get(t);
              return id.getCurrent(n).bind(function (t) {
                return _f.getValue(t).hex;
              }).map(function (t) {
                return "#" + t;
              }).getOr("");
            },
            setValue: function setValue(t, n) {
              var e = /^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec(n),
                  o = r.get(t);
              id.getCurrent(o).fold(function () {
                console.log("Can not find form");
              }, function (t) {
                _f.setValue(t, {
                  hex: ft.from(e[1]).getOr("")
                }), hw.getField(t, "hex").each(function (t) {
                  ze(t, ho());
                });
              });
            }
          }
        }), x0()])
      };
    }),
    dropzone: Tk(function (t, n) {
      return s0(t, n.shared.providers);
    }),
    grid: Tk(function (t, n) {
      return e = n.shared, {
        dom: {
          tag: "div",
          classes: ["tox-form__grid", "tox-form__grid--" + t.columns + "col"]
        },
        components: A(t.items, e.interpreter)
      };
      var e;
    }),
    listbox: Tk(function (t, n) {
      return e = t, r = (o = n).shared.providers, i = ot(e.items).filter(hk), u = e.label.map(function (t) {
        return Qb(t, r);
      }), a = {
        dom: {
          tag: "div",
          classes: ["tox-listboxfield"]
        },
        components: [dy.parts.field({
          dom: {},
          factory: {
            sketch: function sketch(t) {
              return sS({
                uid: t.uid,
                text: i.map(function (t) {
                  return t.text;
                }),
                icon: ft.none(),
                tooltip: e.label,
                role: ft.none(),
                fetch: function fetch(t, n) {
                  n(fS(p1(t, e.name, e.items, _f.getValue(t)), yh.CLOSE_ON_EXECUTE, o, !1));
                },
                onSetup: tt(ct),
                getApi: tt({}),
                columns: 1,
                presets: "normal",
                classes: [],
                dropdownBehaviours: [gy.config({}), _f.config({
                  store: {
                    mode: "manual",
                    initialValue: i.map(function (t) {
                      return t.value;
                    }).getOr(""),
                    getValue: function getValue(t) {
                      return _r(t.element, g1);
                    },
                    setValue: function setValue(n, t) {
                      h1(e.items, t).each(function (t) {
                        Or(n.element, g1, t.value), Ne(n, YS, {
                          text: t.text
                        });
                      });
                    }
                  }
                })]
              }, "tox-listbox", o.shared);
            }
          }
        })]
      }, dy.sketch({
        dom: {
          tag: "div",
          classes: ["tox-form__group"]
        },
        components: lt([u.toArray(), [a]]),
        fieldBehaviours: Za([fd.config({
          disabled: tt(e.disabled),
          onDisabled: function onDisabled(t) {
            dy.getField(t).each(fd.disable);
          },
          onEnabled: function onEnabled(t) {
            dy.getField(t).each(fd.enable);
          }
        })])
      });
      var e, o, r, i, u, a;
    }),
    selectbox: Tk(function (t, n) {
      return e = t, o = n.shared.providers, r = A(e.items, function (t) {
        return {
          text: o.translate(t.text),
          value: t.value
        };
      }), i = e.label.map(function (t) {
        return Qb(t, o);
      }), u = {
        dom: {
          tag: "div",
          classes: ["tox-selectfield"]
        },
        components: lt([[dy.parts.field({
          dom: {},
          selectAttributes: {
            size: e.size
          },
          options: r,
          factory: v1,
          selectBehaviours: Za([fd.config({
            disabled: function disabled() {
              return e.disabled || o.isDisabled();
            }
          }), gy.config({}), lm("selectbox-change", [Xe(vo(), function (t, n) {
            Ne(t, by, {
              name: e.name
            });
          })])])
        })], (1 < e.size ? ft.none() : ft.some(Wm("chevron-down", {
          tag: "div",
          classes: ["tox-selectfield__icon-js"]
        }, o.icons))).toArray()])
      }, dy.sketch({
        dom: {
          tag: "div",
          classes: ["tox-form__group"]
        },
        components: lt([i.toArray(), [u]]),
        fieldBehaviours: Za([fd.config({
          disabled: function disabled() {
            return e.disabled || o.isDisabled();
          },
          onDisabled: function onDisabled(t) {
            dy.getField(t).each(fd.disable);
          },
          onEnabled: function onEnabled(t) {
            dy.getField(t).each(fd.enable);
          }
        }), dv()])
      });
      var e, o, r, i, u;
    }),
    sizeinput: Tk(function (t, n) {
      return OS(t, n.shared.providers);
    }),
    urlinput: Tk(function (t, n) {
      return _k(t, n, n.urlinput);
    }),
    customeditor: Tk(function (e) {
      var o = fc(),
          n = Vm({
        dom: {
          tag: e.tag
        }
      }),
          r = fc();
      return {
        dom: {
          tag: "div",
          classes: ["tox-custom-editor"]
        },
        behaviours: Za([lm("custom-editor-events", [$o(function (t) {
          n.getOpt(t).each(function (n) {
            (Kn(e, "init") ? e.init(n.element.dom) : Cw.load(e.scriptId, e.scriptUrl).then(function (t) {
              return t(n.element.dom, e.settings);
            })).then(function (n) {
              r.on(function (t) {
                n.setValue(t);
              }), r.clear(), o.set(n);
            });
          });
        })]), _f.config({
          store: {
            mode: "manual",
            getValue: function getValue() {
              return o.get().fold(function () {
                return r.get().getOr("");
              }, function (t) {
                return t.getValue();
              });
            },
            setValue: function setValue(t, n) {
              o.get().fold(function () {
                r.set(n);
              }, function (t) {
                return t.setValue(n);
              });
            }
          }
        }), x0()]),
        components: [n.asSpec()]
      };
    }),
    htmlpanel: Tk(function (t) {
      return "presentation" === t.presets ? sy.sketch({
        dom: {
          tag: "div",
          classes: ["tox-form__group"],
          innerHtml: t.html
        }
      }) : sy.sketch({
        dom: {
          tag: "div",
          classes: ["tox-form__group"],
          innerHtml: t.html,
          attributes: {
            role: "document"
          }
        },
        containerBehaviours: Za([gy.config({}), Rg.config({})])
      });
    }),
    imagetools: Tk(function (t, n) {
      return pk(t, n.shared.providers);
    }),
    table: Tk(function (t, n) {
      return vk(t, n.shared.providers);
    }),
    panel: Tk(function (t, n) {
      return {
        dom: {
          tag: "div",
          classes: t.classes
        },
        components: A(t.items, n.shared.interpreter)
      };
    })
  },
      A1 = {
    field: function field(t, n) {
      return n;
    }
  },
      M1 = function M1(n, e, o) {
    return kt(B1, e.type).fold(function () {
      return console.error('Unknown factory type "' + e.type + '", defaulting to container: ', e), e;
    }, function (t) {
      return t(n, e, o);
    });
  },
      F1 = {
    valignCentre: [],
    alignCentre: [],
    alignLeft: [],
    alignRight: [],
    right: [],
    left: [],
    bottom: [],
    top: []
  },
      I1 = [{
    title: "Headings",
    items: [{
      title: "Heading 1",
      format: "h1"
    }, {
      title: "Heading 2",
      format: "h2"
    }, {
      title: "Heading 3",
      format: "h3"
    }, {
      title: "Heading 4",
      format: "h4"
    }, {
      title: "Heading 5",
      format: "h5"
    }, {
      title: "Heading 6",
      format: "h6"
    }]
  }, {
    title: "Inline",
    items: [{
      title: "Bold",
      format: "bold"
    }, {
      title: "Italic",
      format: "italic"
    }, {
      title: "Underline",
      format: "underline"
    }, {
      title: "Strikethrough",
      format: "strikethrough"
    }, {
      title: "Superscript",
      format: "superscript"
    }, {
      title: "Subscript",
      format: "subscript"
    }, {
      title: "Code",
      format: "code"
    }]
  }, {
    title: "Blocks",
    items: [{
      title: "Paragraph",
      format: "p"
    }, {
      title: "Blockquote",
      format: "blockquote"
    }, {
      title: "Div",
      format: "div"
    }, {
      title: "Pre",
      format: "pre"
    }]
  }, {
    title: "Align",
    items: [{
      title: "Left",
      format: "alignleft"
    }, {
      title: "Center",
      format: "aligncenter"
    }, {
      title: "Right",
      format: "alignright"
    }, {
      title: "Justify",
      format: "alignjustify"
    }]
  }],
      R1 = function R1(t) {
    return R(t, function (t, n) {
      if (Kn(n, "items")) {
        var e = R1(n.items);
        return {
          customFormats: t.customFormats.concat(e.customFormats),
          formats: t.formats.concat([{
            title: n.title,
            items: e.formats
          }])
        };
      }

      if (Kn(n, "inline") || Kn(n, "block") || Kn(n, "selector")) {
        var o = "custom-" + (y(n.name) ? n.name : n.title.toLowerCase());
        return {
          customFormats: t.customFormats.concat([{
            name: o,
            format: n
          }]),
          formats: t.formats.concat([{
            title: n.title,
            format: o,
            icon: n.icon
          }])
        };
      }

      return _st(_st({}, t), {
        formats: t.formats.concat(n)
      });
    }, {
      customFormats: [],
      formats: []
    });
  },
      V1 = Ow.trim,
      P1 = Fk("true"),
      H1 = Fk("false"),
      z1 = function z1(t) {
    var n = A(gs(de.fromDom(t), "h1,h2,h3,h4,h5,h6,a:not([href])"), function (t) {
      return t.dom;
    });
    return F(A(F(n, Hk), zk).concat(A(F(n, Vk), Nk)), Lk);
  },
      N1 = "tinymce-url-history",
      L1 = td,
      j1 = Qf,
      W1 = tt([dn("shell", !1), Jt("makeItem"), dn("setupItem", ct), Tf("listBehaviours", [Mg])]),
      U1 = tt([Kf({
    name: "items",
    overrides: function overrides() {
      return {
        behaviours: Za([Mg.config({})])
      };
    }
  })]),
      G1 = wl({
    name: tt("CustomList")(),
    configFields: W1(),
    partFields: U1(),
    factory: function factory(s, t, n, e) {
      var o = s.shell ? {
        behaviours: [Mg.config({})],
        components: []
      } : {
        behaviours: [],
        components: t
      };
      return {
        uid: s.uid,
        dom: s.dom,
        components: o.components,
        behaviours: Qs(s.listBehaviours, o.behaviours),
        apis: {
          setItems: function setItems(a, c) {
            var t;
            t = a, (s.shell ? ft.some(t) : ll(t, s, "items")).fold(function () {
              throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"), new Error("Custom List was defined to not be a shell, but no item container was specified in components");
            }, function (n) {
              var t = Mg.contents(n),
                  e = c.length,
                  o = e - t.length,
                  r = 0 < o ? D(o, function () {
                return s.makeItem();
              }) : [],
                  i = t.slice(e);
              dt(i, function (t) {
                return Mg.remove(n, t);
              }), dt(r, function (t) {
                return Mg.append(n, t);
              });
              var u = Mg.contents(n);
              dt(u, function (t, n) {
                s.setupItem(a, t, c[n], n);
              });
            });
          }
        }
      };
    },
    apis: {
      setItems: function setItems(t, n, e) {
        t.setItems(n, e);
      }
    }
  }),
      X1 = tt([Jt("dom"), dn("shell", !0), Js("toolbarBehaviours", [Mg])]),
      Y1 = tt([Kf({
    name: "groups",
    overrides: function overrides() {
      return {
        behaviours: Za([Mg.config({})])
      };
    }
  })]),
      q1 = wl({
    name: "Toolbar",
    configFields: X1(),
    partFields: Y1(),
    factory: function factory(o, t, n, e) {
      var r = o.shell ? {
        behaviours: [Mg.config({})],
        components: []
      } : {
        behaviours: [],
        components: t
      };
      return {
        uid: o.uid,
        dom: o.dom,
        components: r.components,
        behaviours: Qs(o.toolbarBehaviours, r.behaviours),
        apis: {
          setGroups: function setGroups(t, n) {
            var e;
            e = t, (o.shell ? ft.some(e) : ll(e, o, "groups")).fold(function () {
              throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"), new Error("Toolbar was defined to not be a shell, but no groups container was specified in components");
            }, function (t) {
              Mg.set(t, n);
            });
          }
        },
        domModification: {
          attributes: {
            role: "group"
          }
        }
      };
    },
    apis: {
      setGroups: function setGroups(t, n, e) {
        t.setGroups(n, e);
      }
    }
  }),
      K1 = tt([]),
      J1 = Object.freeze({
    __proto__: null,
    setup: ct,
    isDocked: O,
    getBehaviours: K1
  }),
      $1 = Vn([{
    "static": []
  }, {
    absolute: ["positionCss"]
  }, {
    fixed: ["positionCss"]
  }]),
      Q1 = function Q1(t, n, e) {
    var o, r, i, u, a;
    t.getSystem().isConnected() && (i = e, u = (r = n).lazyViewport(o = t), (a = i.isDocked()) && sC(o, r, i, u), uC(o, u, i).each(function (t) {
      i.setDocked(!a), t.fold(function () {
        return aC(o, r);
      }, function (t) {
        return cC(o, r, t);
      }, function (t) {
        sC(o, r, i, u, !0), cC(o, r, t);
      });
    }));
  },
      Z1 = Object.freeze({
    __proto__: null,
    refresh: Q1,
    reset: lC,
    isDocked: function isDocked(t, n, e) {
      return e.isDocked();
    },
    getModes: function getModes(t, n, e) {
      return e.getModes();
    },
    setModes: function setModes(t, n, e, o) {
      return e.setModes(o);
    }
  }),
      tO = Object.freeze({
    __proto__: null,
    events: function events(o, r) {
      return Jo([Qe(xo(), function (n, e) {
        o.contextual.each(function (t) {
          Xr(n.element, t.transitionClass) && (qr(n.element, [t.transitionClass, t.fadeInClass]), (r.isVisible() ? t.onShown : t.onHidden)(n)), e.stop();
        });
      }), Xe(Po(), function (t, n) {
        Q1(t, o, r);
      }), Xe(Ho(), function (t, n) {
        lC(t, o, r);
      })]);
    }
  }),
      nO = xa({
    fields: [fn("contextual", [Qt("fadeInClass"), Qt("fadeOutClass"), Qt("transitionClass"), tn("lazyContext"), Ku("onShow"), Ku("onShown"), Ku("onHide"), Ku("onHidden")]), bn("lazyViewport", Fi), yn("modes", ["top", "bottom"], re), Ku("onDocked"), Ku("onUndocked")],
    name: "docking",
    active: tO,
    apis: Z1,
    state: Object.freeze({
      __proto__: null,
      init: function init(t) {
        var n = wn(!1),
            e = wn(!0),
            o = fc(),
            r = wn(t.modes);
        return au({
          isDocked: n.get,
          setDocked: n.set,
          getInitialPos: o.get,
          setInitialPos: o.set,
          clearInitialPos: o.clear,
          isVisible: e.get,
          setVisible: e.set,
          getModes: r.get,
          setModes: r.set,
          readState: function readState() {
            return "docked:  " + n.get() + ", visible: " + e.get() + ", modes: " + r.get().join(",");
          }
        });
      }
    })
  }),
      eO = tt(Ar("toolbar-height-change")),
      oO = {
    fadeInClass: "tox-editor-dock-fadein",
    fadeOutClass: "tox-editor-dock-fadeout",
    transitionClass: "tox-editor-dock-transition"
  },
      rO = "tox-tinymce--toolbar-sticky-on",
      iO = "tox-tinymce--toolbar-sticky-off",
      uO = Object.freeze({
    __proto__: null,
    setup: function setup(t, n, e) {
      t.inline || (n.header.isPositionedAtTop() || t.on("ResizeEditor", function () {
        e().each(nO.reset);
      }), t.on("ResizeWindow ResizeEditor", function () {
        e().each(dC);
      }), t.on("SkinLoaded", function () {
        e().each(function (t) {
          nO.isDocked(t) ? nO.reset(t) : nO.refresh(t);
        });
      }), t.on("FullscreenStateChanged", function () {
        e().each(nO.reset);
      })), t.on("AfterScrollIntoView", function (b) {
        e().each(function (t) {
          nO.refresh(t);
          var n,
              e,
              o,
              r,
              i,
              u,
              a,
              c,
              s,
              l,
              f,
              d,
              m,
              g,
              p,
              h,
              v = t.element;
          Id(v) && (n = b, r = (o = or(e = v)).dom.defaultView.innerHeight, i = Oi(o), a = Mi(u = de.fromDom(n.elm)), c = vi(u), l = (s = a.y) + c, f = xi(e), d = vi(e), g = (m = f.top) + d, p = Math.abs(m - i.top) < 2, h = Math.abs(g - (i.top + r)) < 2, p && s < g ? _i(i.left, s - d, o) : h && m < l && _i(i.left, s - r + c + d, o));
        });
      }), t.on("PostRender", function () {
        gC(t, !1);
      });
    },
    isDocked: function isDocked(t) {
      return t().map(nO.isDocked).getOr(!1);
    },
    getBehaviours: pC
  }),
      aO = te([Qt("type"), $t("items", Nt([ne([Qt("name"), on("items", re)]), re]))].concat(Rp)),
      cO = [cn("text"), cn("tooltip"), cn("icon"), tn("fetch"), bn("onSetup", function () {
    return ct;
  })],
      sO = te(H([Qt("type")], cO)),
      lO = te([Qt("type"), cn("tooltip"), cn("icon"), cn("text"), sn("select"), tn("fetch"), bn("onSetup", function () {
    return ct;
  }), hn("presets", "normal", ["normal", "color", "listpreview"]), dn("columns", 1), tn("onAction"), tn("onItemAction")]),
      fO = xl({
    factory: function factory(n, o) {
      var t = {
        focus: Bg.focusIn,
        setMenus: function setMenus(t, n) {
          var e = A(n, function (n) {
            return mS(hC({
              type: "menubutton",
              text: n.text,
              fetch: function fetch(t) {
                t(n.getItems());
              }
            }).mapError(function (t) {
              return se(t);
            }).getOrDie(), "tox-mbtn", o.backstage, ft.some("menuitem"));
          });
          Mg.set(t, e);
        }
      };
      return {
        uid: n.uid,
        dom: n.dom,
        components: [],
        behaviours: Za([Mg.config({}), lm("menubar-events", [$o(function (t) {
          n.onSetup(t);
        }), Xe(lo(), function (e, t) {
          Fu(e.element, ".tox-mbtn--active").each(function (n) {
            Iu(t.event.target, ".tox-mbtn").each(function (t) {
              Bn(n, t) || e.getSystem().getByDom(n).each(function (n) {
                e.getSystem().getByDom(t).each(function (t) {
                  B0.expand(t), B0.close(n), Rg.focus(t);
                });
              });
            });
          });
        }), Xe(Wo(), function (e, t) {
          t.event.prevFocus.bind(function (t) {
            return e.getSystem().getByDom(t).toOptional();
          }).each(function (n) {
            t.event.newFocus.bind(function (t) {
              return e.getSystem().getByDom(t).toOptional();
            }).each(function (t) {
              B0.isOpen(n) && (B0.expand(t), B0.close(n));
            });
          });
        })]), Bg.config({
          mode: "flow",
          selector: ".tox-mbtn",
          onEscape: function onEscape(t) {
            return n.onEscape(t), ft.some(!0);
          }
        }), gy.config({})]),
        apis: t,
        domModification: {
          attributes: {
            role: "menubar"
          }
        }
      };
    },
    name: "silver.Menubar",
    configFields: [Jt("dom"), Jt("uid"), Jt("onEscape"), Jt("backstage"), dn("onSetup", ct)],
    apis: {
      focus: function focus(t, n) {
        t.focus(n);
      },
      setMenus: function setMenus(t, n, e) {
        t.setMenus(n, e);
      }
    }
  }),
      dO = Object.freeze({
    __proto__: null,
    refresh: function refresh(t, n, e) {
      var o;
      e.isExpanded() && (ai(t.element, bC(n)), o = yC(n, t.element), ni(t.element, bC(n), o));
    },
    grow: function grow(t, n, e) {
      e.isExpanded() || OC(t, n, e);
    },
    shrink: function shrink(t, n, e) {
      e.isExpanded() && CC(t, n, e);
    },
    immediateShrink: function immediateShrink(t, n, e) {
      e.isExpanded() && kC(t, n, e);
    },
    hasGrown: function hasGrown(t, n, e) {
      return e.isExpanded();
    },
    hasShrunk: function hasShrunk(t, n, e) {
      return e.isCollapsed();
    },
    isGrowing: _C,
    isShrinking: TC,
    isTransitioning: function isTransitioning(t, n, e) {
      return _C(t, n) || TC(t, n);
    },
    toggleGrow: function toggleGrow(t, n, e) {
      (e.isExpanded() ? CC : OC)(t, n, e);
    },
    disableTransitions: xC
  }),
      mO = Object.freeze({
    __proto__: null,
    exhibit: function exhibit(t, n, e) {
      return Hr(n.expanded ? {
        classes: [n.openClass],
        styles: {}
      } : {
        classes: [n.closedClass],
        styles: Ae(n.dimension.property, "0px")
      });
    },
    events: function events(e, o) {
      return Jo([Qe(xo(), function (t, n) {
        n.event.raw.propertyName === e.dimension.property && (xC(t, e), o.isExpanded() && ai(t.element, e.dimension.property), (o.isExpanded() ? e.onGrown : e.onShrunk)(t));
      })]);
    }
  }),
      gO = xa({
    fields: [Jt("closedClass"), Jt("openClass"), Jt("shrinkingClass"), Jt("growingClass"), rn("getAnimationRoot"), Ku("onShrunk"), Ku("onStartShrink"), Ku("onGrown"), Ku("onStartGrow"), dn("expanded", !1), $t("dimension", qt("property", {
      width: [Zu("property", "width"), Zu("getDimension", function (t) {
        return wi(t) + "px";
      })],
      height: [Zu("property", "height"), Zu("getDimension", function (t) {
        return vi(t) + "px";
      })]
    }))],
    name: "sliding",
    active: mO,
    apis: dO,
    state: Object.freeze({
      __proto__: null,
      init: function init(t) {
        var n = wn(t.expanded);
        return au({
          isExpanded: function isExpanded() {
            return !0 === n.get();
          },
          isCollapsed: function isCollapsed() {
            return !1 === n.get();
          },
          setCollapsed: S(n.set, !1),
          setExpanded: S(n.set, !0),
          readState: function readState() {
            return "expanded: " + n.get();
          }
        });
      }
    })
  }),
      pO = "container",
      hO = [Js("slotBehaviours", [])],
      vO = yt({
    getSlotNames: function getSlotNames(t, n) {
      return t.getSlotNames(n);
    },
    getSlot: function getSlot(t, n, e) {
      return t.getSlot(n, e);
    },
    isShowing: function isShowing(t, n, e) {
      return t.isShowing(n, e);
    },
    hideSlot: function hideSlot(t, n, e) {
      return t.hideSlot(n, e);
    },
    hideAllSlots: function hideAllSlots(t, n) {
      return t.hideAllSlots(n);
    },
    showSlot: function showSlot(t, n, e) {
      return t.showSlot(n, e);
    }
  }, Vr),
      bO = _st(_st({}, vO), {
    sketch: function sketch(t) {
      var e,
          n = {
        slot: function slot(t, n) {
          return e.push(t), il(pO, EC(t), n);
        },
        record: tt(e = [])
      },
          o = t(n),
          r = A(n.record(), function (t) {
        return Yf({
          name: t,
          pname: EC(t)
        });
      });
      return yl(pO, hO, r, s1, o);
    }
  }),
      yO = te([cn("icon"), cn("tooltip"), bn("onShow", ct), bn("onHide", ct), bn("onSetup", function () {
    return ct;
  })]),
      xO = Ar("FixSizeEvent"),
      wO = Ar("AutoSizeEvent"),
      SO = Object.freeze({
    __proto__: null,
    block: function block(t, n, e, o) {
      Or(t.element, "aria-busy", !0);
      var r = n.getRoot(t).getOr(t),
          i = Za([Bg.config({
        mode: "special",
        onTab: function onTab() {
          return ft.some(!0);
        },
        onShiftTab: function onShiftTab() {
          return ft.some(!0);
        }
      }), Rg.config({})]),
          u = o(r, i),
          a = r.getSystem().build(u);
      Mg.append(r, yu(a)), a.hasConfigured(Bg) && n.focus && Bg.focusIn(a), e.isBlocked() || n.onBlock(t), e.blockWith(function () {
        return Mg.remove(r, a);
      });
    },
    unblock: function unblock(t, n, e) {
      Dr(t.element, "aria-busy"), e.isBlocked() && n.onUnblock(t), e.clear();
    }
  }),
      kO = xa({
    fields: [bn("getRoot", ft.none), vn("focus", !0), Ku("onBlock"), Ku("onUnblock")],
    name: "blocking",
    apis: SO,
    state: Object.freeze({
      __proto__: null,
      init: function init() {
        var n = sc(function (t) {
          return t.destroy();
        });
        return au({
          readState: n.isSet,
          blockWith: function blockWith(t) {
            n.set({
              destroy: t
            });
          },
          clear: n.clear,
          isBlocked: n.isSet
        });
      }
    })
  }),
      CO = tt([Js("splitToolbarBehaviours", [Jy]), fe("builtGroups", function () {
    return wn([]);
  })]),
      OO = tt([Yu(["overflowToggledClass"]), sn("getOverflowBounds"), Jt("lazySink"), fe("overflowGroups", function () {
    return wn([]);
  })].concat(CO())),
      _O = tt([Yf({
    factory: q1,
    schema: X1(),
    name: "primary"
  }), qf({
    schema: X1(),
    name: "overflow"
  }), qf({
    name: "overflow-button"
  }), qf({
    name: "overflow-group"
  })]),
      TO = tt(function (t, n) {
    var e = t,
        o = Math.floor(n);
    ni(e, "max-width", Cu.max(e, o, ["margin-left", "border-left-width", "padding-left", "padding-right", "border-right-width", "margin-right"]) + "px");
  }),
      EO = tt([Yu(["toggledClass"]), Jt("lazySink"), tn("fetch"), sn("getBounds"), fn("fireDismissalEventInstead", [dn("event", Lo())]), zc()]),
      DO = tt([qf({
    name: "button",
    overrides: function overrides(t) {
      return {
        dom: {
          attributes: {
            "aria-haspopup": "true"
          }
        },
        buttonBehaviours: Za([Hg.config({
          toggleClass: t.markers.toggledClass,
          aria: {
            mode: "expanded"
          },
          toggleOnExecute: !1
        })])
      };
    }
  }), qf({
    factory: q1,
    schema: X1(),
    name: "toolbar",
    overrides: function overrides(n) {
      return {
        toolbarBehaviours: Za([Bg.config({
          mode: "cyclic",
          onEscape: function onEscape(t) {
            return ll(t, n, "button").each(Rg.focus), ft.none();
          }
        })])
      };
    }
  })]),
      BO = wl({
    name: "FloatingToolbarButton",
    factory: function factory(u, t, a, n) {
      return _st(_st({}, cp.sketch(_st(_st({}, n.button()), {
        action: function action(t) {
          NC(t, n);
        },
        buttonBehaviours: Ef({
          dump: n.button().buttonBehaviours
        }, [Jy.config({
          others: {
            toolbarSandbox: function toolbarSandbox(t) {
              return o = t, e = a, r = u, {
                dom: {
                  tag: "div",
                  attributes: {
                    id: (i = Ru()).id
                  }
                },
                behaviours: Za([Bg.config({
                  mode: "special",
                  onEscape: function onEscape(t) {
                    return pf.close(t), ft.some(!0);
                  }
                }), pf.config({
                  onOpen: function onOpen(t, n) {
                    r.fetch().get(function (t) {
                      jC(o, n, r, e.layouts, t), i.link(o.element), Bg.focusIn(n);
                    });
                  },
                  onClose: function onClose() {
                    Hg.off(o), Rg.focus(o), i.unlink(o.element);
                  },
                  isPartOf: function isPartOf(t, n, e) {
                    return Hu(n, e) || Hu(o, e);
                  },
                  getAttachPoint: function getAttachPoint() {
                    return r.lazySink(o).getOrDie();
                  }
                }), oc.config({
                  channels: _st(_st({}, Ws(_st({
                    isExtraPart: O
                  }, r.fireDismissalEventInstead.map(function (t) {
                    return {
                      fireEventInstead: {
                        event: t.event
                      }
                    };
                  }).getOr({})))), Us({
                    doReposition: function doReposition() {
                      pf.getState(Jy.getCoupled(o, "toolbarSandbox")).each(function (t) {
                        LC(o, t, r, e.layouts);
                      });
                    }
                  }))
                })])
              };
              var o, e, r, i;
            }
          }
        })])
      }))), {
        apis: {
          setGroups: function setGroups(n, e) {
            pf.getState(Jy.getCoupled(n, "toolbarSandbox")).each(function (t) {
              jC(n, t, u, a.layouts, e);
            });
          },
          reposition: function reposition(n) {
            pf.getState(Jy.getCoupled(n, "toolbarSandbox")).each(function (t) {
              LC(n, t, u, a.layouts);
            });
          },
          toggle: function toggle(t) {
            NC(t, n);
          },
          getToolbar: function getToolbar(t) {
            return pf.getState(Jy.getCoupled(t, "toolbarSandbox"));
          },
          isOpen: function isOpen(t) {
            return pf.isOpen(Jy.getCoupled(t, "toolbarSandbox"));
          }
        }
      });
    },
    configFields: EO(),
    partFields: DO(),
    apis: {
      setGroups: function setGroups(t, n, e) {
        t.setGroups(n, e);
      },
      reposition: function reposition(t, n) {
        t.reposition(n);
      },
      toggle: function toggle(t, n) {
        t.toggle(n);
      },
      getToolbar: function getToolbar(t, n) {
        return t.getToolbar(n);
      },
      isOpen: function isOpen(t, n) {
        return t.isOpen(n);
      }
    }
  }),
      AO = tt([Jt("items"), Yu(["itemSelector"]), Js("tgroupBehaviours", [Bg])]),
      MO = tt([Jf({
    name: "items",
    unit: "item"
  })]),
      FO = wl({
    name: "ToolbarGroup",
    configFields: AO(),
    partFields: MO(),
    factory: function factory(t, n, e, o) {
      return {
        uid: t.uid,
        dom: t.dom,
        components: n,
        behaviours: Qs(t.tgroupBehaviours, [Bg.config({
          mode: "flow",
          selector: t.markers.itemSelector
        })]),
        domModification: {
          attributes: {
            role: "toolbar"
          }
        }
      };
    }
  }),
      IO = wl({
    name: "SplitFloatingToolbar",
    configFields: OO(),
    partFields: _O(),
    factory: function factory(e, t, n, o) {
      var r = Vm(BO.sketch({
        fetch: function fetch() {
          return Wy(function (t) {
            t(WC(e.overflowGroups.get()));
          });
        },
        layouts: {
          onLtr: function onLtr() {
            return [Ga, Ua];
          },
          onRtl: function onRtl() {
            return [Ua, Ga];
          },
          onBottomLtr: function onBottomLtr() {
            return [Ya, Xa];
          },
          onBottomRtl: function onBottomRtl() {
            return [Xa, Ya];
          }
        },
        getBounds: n.getOverflowBounds,
        lazySink: e.lazySink,
        fireDismissalEventInstead: {},
        markers: {
          toggledClass: e.markers.overflowToggledClass
        },
        parts: {
          button: o["overflow-button"](),
          toolbar: o.overflow()
        }
      }));
      return {
        uid: e.uid,
        dom: e.dom,
        components: t,
        behaviours: Qs(e.splitToolbarBehaviours, [Jy.config({
          others: {
            overflowGroup: function overflowGroup() {
              return FO.sketch(_st(_st({}, o["overflow-group"]()), {
                items: [r.asSpec()]
              }));
            }
          }
        })]),
        apis: {
          setGroups: function setGroups(t, n) {
            e.builtGroups.set(A(n, t.getSystem().build)), UC(t, r, e);
          },
          refresh: function refresh(t) {
            return UC(t, r, e);
          },
          toggle: function toggle(t) {
            r.getOpt(t).each(function (t) {
              BO.toggle(t);
            });
          },
          isOpen: function isOpen(t) {
            return r.getOpt(t).map(BO.isOpen).getOr(!1);
          },
          reposition: function reposition(t) {
            r.getOpt(t).each(function (t) {
              BO.reposition(t);
            });
          },
          getOverflow: function getOverflow(t) {
            return r.getOpt(t).bind(BO.getToolbar);
          }
        },
        domModification: {
          attributes: {
            role: "group"
          }
        }
      };
    },
    apis: {
      setGroups: function setGroups(t, n, e) {
        t.setGroups(n, e);
      },
      refresh: function refresh(t, n) {
        t.refresh(n);
      },
      reposition: function reposition(t, n) {
        t.reposition(n);
      },
      toggle: function toggle(t, n) {
        t.toggle(n);
      },
      isOpen: function isOpen(t, n) {
        return t.isOpen(n);
      },
      getOverflow: function getOverflow(t, n) {
        return t.getOverflow(n);
      }
    }
  }),
      RO = tt([Yu(["closedClass", "openClass", "shrinkingClass", "growingClass", "overflowToggledClass"]), Ku("onOpened"), Ku("onClosed")].concat(CO())),
      VO = tt([Yf({
    factory: q1,
    schema: X1(),
    name: "primary"
  }), Yf({
    factory: q1,
    schema: X1(),
    name: "overflow",
    overrides: function overrides(n) {
      return {
        toolbarBehaviours: Za([gO.config({
          dimension: {
            property: "height"
          },
          closedClass: n.markers.closedClass,
          openClass: n.markers.openClass,
          shrinkingClass: n.markers.shrinkingClass,
          growingClass: n.markers.growingClass,
          onShrunk: function onShrunk(t) {
            ll(t, n, "overflow-button").each(function (t) {
              Hg.off(t), Rg.focus(t);
            }), n.onClosed(t);
          },
          onGrown: function onGrown(t) {
            Bg.focusIn(t), n.onOpened(t);
          },
          onStartGrow: function onStartGrow(t) {
            ll(t, n, "overflow-button").each(Hg.on);
          }
        }), Bg.config({
          mode: "acyclic",
          onEscape: function onEscape(t) {
            return ll(t, n, "overflow-button").each(Rg.focus), ft.some(!0);
          }
        })])
      };
    }
  }), qf({
    name: "overflow-button",
    overrides: function overrides(t) {
      return {
        buttonBehaviours: Za([Hg.config({
          toggleClass: t.markers.overflowToggledClass,
          aria: {
            mode: "pressed"
          },
          toggleOnExecute: !1
        })])
      };
    }
  }), qf({
    name: "overflow-group"
  })]),
      PO = wl({
    name: "SplitSlidingToolbar",
    configFields: RO(),
    partFields: VO(),
    factory: function factory(o, t, n, e) {
      var r = "alloy.toolbar.toggle";
      return {
        uid: o.uid,
        dom: o.dom,
        components: t,
        behaviours: Qs(o.splitToolbarBehaviours, [Jy.config({
          others: {
            overflowGroup: function overflowGroup(n) {
              return FO.sketch(_st(_st({}, e["overflow-group"]()), {
                items: [cp.sketch(_st(_st({}, e["overflow-button"]()), {
                  action: function action(t) {
                    ze(n, r);
                  }
                }))]
              }));
            }
          }
        }), lm("toolbar-toggle-events", [Xe(r, function (t) {
          GC(t, o);
        })])]),
        apis: {
          setGroups: function setGroups(t, n) {
            var e = A(n, t.getSystem().build);
            o.builtGroups.set(e), l1(t, o);
          },
          refresh: function refresh(t) {
            return l1(t, o);
          },
          toggle: function toggle(t) {
            return GC(t, o);
          },
          isOpen: function isOpen(t) {
            return ll(t, o, "overflow").map(gO.hasGrown).getOr(!1);
          }
        },
        domModification: {
          attributes: {
            role: "group"
          }
        }
      };
    },
    apis: {
      setGroups: function setGroups(t, n, e) {
        t.setGroups(n, e);
      },
      refresh: function refresh(t, n) {
        t.refresh(n);
      },
      toggle: function toggle(t, n) {
        t.toggle(n);
      },
      isOpen: function isOpen(t, n) {
        return t.isOpen(n);
      }
    }
  }),
      HO = j1.optional({
    factory: fO,
    name: "menubar",
    schema: [Jt("backstage")]
  }),
      zO = j1.optional({
    factory: {
      sketch: function sketch(t) {
        return G1.sketch({
          uid: t.uid,
          dom: t.dom,
          listBehaviours: Za([Bg.config({
            mode: "acyclic",
            selector: ".tox-toolbar"
          })]),
          makeItem: function makeItem() {
            return JC({
              type: t.type,
              uid: Ar("multiple-toolbar-item"),
              cyclicKeying: !1,
              initGroups: [],
              providers: t.providers,
              onEscape: function onEscape() {
                return t.onEscape(), ft.some(!0);
              }
            });
          },
          setupItem: function setupItem(t, n, e, o) {
            q1.setGroups(n, e);
          },
          shell: !0
        });
      }
    },
    name: "multiple-toolbar",
    schema: [Jt("dom"), Jt("onEscape")]
  }),
      NO = j1.optional({
    factory: {
      sketch: function sketch(t) {
        return (t.type === ph.sliding ? function (t) {
          var n = PO.parts.primary({
            dom: {
              tag: "div",
              classes: ["tox-toolbar__primary"]
            }
          }),
              e = PO.parts.overflow({
            dom: {
              tag: "div",
              classes: ["tox-toolbar__overflow"]
            }
          }),
              o = KC(t);
          return PO.sketch(_st(_st({}, o), {
            components: [n, e],
            markers: {
              openClass: "tox-toolbar__overflow--open",
              closedClass: "tox-toolbar__overflow--closed",
              growingClass: "tox-toolbar__overflow--growing",
              shrinkingClass: "tox-toolbar__overflow--shrinking",
              overflowToggledClass: "tox-tbtn--enabled"
            },
            onOpened: function onOpened(t) {
              t.getSystem().broadcastOn([eO()], {
                type: "opened"
              });
            },
            onClosed: function onClosed(t) {
              t.getSystem().broadcastOn([eO()], {
                type: "closed"
              });
            }
          }));
        } : t.type === ph.floating ? function (i) {
          var t = KC(i),
              n = IO.parts.primary({
            dom: {
              tag: "div",
              classes: ["tox-toolbar__primary"]
            }
          });
          return IO.sketch(_st(_st({}, t), {
            lazySink: i.getSink,
            getOverflowBounds: function getOverflowBounds() {
              var t = i.moreDrawerData.lazyHeader().element,
                  n = Mi(t),
                  e = ir(t),
                  o = Mi(e),
                  r = Math.max(e.dom.scrollHeight, o.height);
              return Bi(n.x + 4, o.y, n.width - 8, r);
            },
            parts: _st(_st({}, t.parts), {
              overflow: {
                dom: {
                  tag: "div",
                  classes: ["tox-toolbar__overflow"],
                  attributes: i.attributes
                }
              }
            }),
            components: [n],
            markers: {
              overflowToggledClass: "tox-tbtn--enabled"
            }
          }));
        } : JC)({
          type: t.type,
          uid: t.uid,
          onEscape: function onEscape() {
            return t.onEscape(), ft.some(!0);
          },
          cyclicKeying: !1,
          initGroups: [],
          getSink: t.getSink,
          providers: t.providers,
          moreDrawerData: {
            lazyToolbar: t.lazyToolbar,
            lazyMoreButton: t.lazyMoreButton,
            lazyHeader: t.lazyHeader
          },
          attributes: t.attributes
        });
      }
    },
    name: "toolbar",
    schema: [Jt("dom"), Jt("onEscape"), Jt("getSink")]
  }),
      LO = j1.optional({
    factory: {
      sketch: function sketch(t) {
        var n = t.editor,
            e = t.sticky ? pC : K1;
        return {
          uid: t.uid,
          dom: t.dom,
          components: t.components,
          behaviours: Za(e(n, t.sharedBackstage))
        };
      }
    },
    name: "header",
    schema: [Jt("dom")]
  }),
      jO = j1.optional({
    name: "socket",
    schema: [Jt("dom")]
  }),
      WO = j1.optional({
    factory: {
      sketch: function sketch(t) {
        return {
          uid: t.uid,
          dom: {
            tag: "div",
            classes: ["tox-sidebar"],
            attributes: {
              role: "complementary"
            }
          },
          components: [{
            dom: {
              tag: "div",
              classes: ["tox-sidebar__slider"]
            },
            components: [],
            behaviours: Za([gy.config({}), Rg.config({}), gO.config({
              dimension: {
                property: "width"
              },
              closedClass: "tox-sidebar--sliding-closed",
              openClass: "tox-sidebar--sliding-open",
              shrinkingClass: "tox-sidebar--sliding-shrinking",
              growingClass: "tox-sidebar--sliding-growing",
              onShrunk: function onShrunk(t) {
                id.getCurrent(t).each(bO.hideAllSlots), ze(t, wO);
              },
              onGrown: function onGrown(t) {
                ze(t, wO);
              },
              onStartGrow: function onStartGrow(t) {
                Ne(t, xO, {
                  width: ii(t.element, "width").getOr("")
                });
              },
              onStartShrink: function onStartShrink(t) {
                Ne(t, xO, {
                  width: wi(t.element) + "px"
                });
              }
            }), Mg.config({}), id.config({
              find: function find(t) {
                var n = Mg.contents(t);
                return ot(n);
              }
            })])
          }],
          behaviours: Za([Sw(0), lm("sidebar-sliding-events", [Xe(xO, function (t, n) {
            ni(t.element, "width", n.event.width);
          }), Xe(wO, function (t, n) {
            ai(t.element, "width");
          })])])
        };
      }
    },
    name: "sidebar",
    schema: [Jt("dom")]
  }),
      UO = j1.optional({
    factory: {
      sketch: function sketch(t) {
        return {
          uid: t.uid,
          dom: {
            tag: "div",
            attributes: {
              "aria-hidden": "true"
            },
            classes: ["tox-throbber"],
            styles: {
              display: "none"
            }
          },
          behaviours: Za([Mg.config({}), kO.config({
            focus: !1
          }), id.config({
            find: function find(t) {
              return ot(t.components());
            }
          })]),
          components: []
        };
      }
    },
    name: "throbber",
    schema: [Jt("dom")]
  }),
      GO = wl({
    name: "OuterContainer",
    factory: function factory(e, t, n) {
      return {
        uid: e.uid,
        dom: e.dom,
        components: t,
        apis: {
          getSocket: function getSocket(t) {
            return L1.getPart(t, e, "socket");
          },
          setSidebar: function setSidebar(t, n) {
            L1.getPart(t, e, "sidebar").each(function (t) {
              return BC(t, n);
            });
          },
          toggleSidebar: function toggleSidebar(t, n) {
            L1.getPart(t, e, "sidebar").each(function (t) {
              var e = n;
              id.getCurrent(t).each(function (n) {
                id.getCurrent(n).each(function (t) {
                  gO.hasGrown(n) ? bO.isShowing(t, e) ? gO.shrink(n) : (bO.hideAllSlots(t), bO.showSlot(t, e)) : (bO.hideAllSlots(t), bO.showSlot(t, e), gO.grow(n));
                });
              });
            });
          },
          whichSidebar: function whichSidebar(t) {
            return L1.getPart(t, e, "sidebar").bind(AC).getOrNull();
          },
          getHeader: function getHeader(t) {
            return L1.getPart(t, e, "header");
          },
          getToolbar: function getToolbar(t) {
            return L1.getPart(t, e, "toolbar");
          },
          setToolbar: function setToolbar(t, n) {
            L1.getPart(t, e, "toolbar").each(function (t) {
              t.getApis().setGroups(t, n);
            });
          },
          setToolbars: function setToolbars(t, n) {
            L1.getPart(t, e, "multiple-toolbar").each(function (t) {
              G1.setItems(t, n);
            });
          },
          refreshToolbar: function refreshToolbar(t) {
            L1.getPart(t, e, "toolbar").each(function (t) {
              return t.getApis().refresh(t);
            });
          },
          toggleToolbarDrawer: function toggleToolbarDrawer(t) {
            L1.getPart(t, e, "toolbar").each(function (n) {
              var t = n.getApis().toggle;
              null != t ? ft.some(function (t) {
                return t(n);
              }(t)) : ft.none();
            });
          },
          isToolbarDrawerToggled: function isToolbarDrawerToggled(t) {
            return L1.getPart(t, e, "toolbar").bind(function (n) {
              return ft.from(n.getApis().isOpen).map(function (t) {
                return t(n);
              });
            }).getOr(!1);
          },
          getThrobber: function getThrobber(t) {
            return L1.getPart(t, e, "throbber");
          },
          focusToolbar: function focusToolbar(t) {
            L1.getPart(t, e, "toolbar").orThunk(function () {
              return L1.getPart(t, e, "multiple-toolbar");
            }).each(function (t) {
              Bg.focusIn(t);
            });
          },
          setMenubar: function setMenubar(t, n) {
            L1.getPart(t, e, "menubar").each(function (t) {
              fO.setMenus(t, n);
            });
          },
          focusMenubar: function focusMenubar(t) {
            L1.getPart(t, e, "menubar").each(function (t) {
              fO.focus(t);
            });
          }
        },
        behaviours: e.behaviours
      };
    },
    configFields: [Jt("dom"), Jt("behaviours")],
    partFields: [LO, HO, NO, zO, jO, WO, UO],
    apis: {
      getSocket: function getSocket(t, n) {
        return t.getSocket(n);
      },
      setSidebar: function setSidebar(t, n, e) {
        t.setSidebar(n, e);
      },
      toggleSidebar: function toggleSidebar(t, n, e) {
        t.toggleSidebar(n, e);
      },
      whichSidebar: function whichSidebar(t, n) {
        return t.whichSidebar(n);
      },
      getHeader: function getHeader(t, n) {
        return t.getHeader(n);
      },
      getToolbar: function getToolbar(t, n) {
        return t.getToolbar(n);
      },
      setToolbar: function setToolbar(t, n, e) {
        var o = A(e, YC);
        t.setToolbar(n, o);
      },
      setToolbars: function setToolbars(t, n, e) {
        var o = A(e, function (t) {
          return A(t, YC);
        });
        t.setToolbars(n, o);
      },
      refreshToolbar: function refreshToolbar(t, n) {
        return t.refreshToolbar(n);
      },
      toggleToolbarDrawer: function toggleToolbarDrawer(t, n) {
        t.toggleToolbarDrawer(n);
      },
      isToolbarDrawerToggled: function isToolbarDrawerToggled(t, n) {
        return t.isToolbarDrawerToggled(n);
      },
      getThrobber: function getThrobber(t, n) {
        return t.getThrobber(n);
      },
      setMenubar: function setMenubar(t, n, e) {
        t.setMenubar(n, e);
      },
      focusMenubar: function focusMenubar(t, n) {
        t.focusMenubar(n);
      },
      focusToolbar: function focusToolbar(t, n) {
        t.focusToolbar(n);
      }
    }
  }),
      XO = {
    file: {
      title: "File",
      items: "newdocument restoredraft | preview | export print | deleteallconversations"
    },
    edit: {
      title: "Edit",
      items: "undo redo | cut copy paste pastetext | selectall | searchreplace"
    },
    view: {
      title: "View",
      items: "code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"
    },
    insert: {
      title: "Insert",
      items: "image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime"
    },
    format: {
      title: "Format",
      items: "bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align lineheight | forecolor backcolor | language | removeformat"
    },
    tools: {
      title: "Tools",
      items: "spellchecker spellcheckerlanguage | a11ycheck code wordcount"
    },
    table: {
      title: "Table",
      items: "inserttable | cell row column | advtablesort | tableprops deletetable"
    },
    help: {
      title: "Help",
      items: "help"
    }
  },
      YO = S(n1, !1),
      qO = S(n1, !0);

  function KO(t, n, e, o) {
    var r;
    return {
      type: "basic",
      data: (r = t.getParam(n, e, "string"), A(o === d1.SemiColon ? r.replace(/;$/, "").split(";") : r.split(" "), function (t) {
        var n = t,
            e = t,
            o = t.split("=");
        return 1 < o.length && (n = o[0], e = o[1]), {
          title: n,
          format: e
        };
      }))
    };
  }

  function JO(e) {
    var t = {
      type: "basic",
      data: D_
    };
    return {
      tooltip: "Align",
      text: ft.none(),
      icon: ft.some("align-left"),
      isSelectedFor: function isSelectedFor(t) {
        return function () {
          return e.formatter.match(t);
        };
      },
      getCurrentValue: ft.none,
      getPreviewFor: function getPreviewFor(t) {
        return ft.none;
      },
      onAction: function onAction(n) {
        return function () {
          return V(D_, function (t) {
            return t.format === n.format;
          }).each(function (t) {
            return e.execCommand(t.command);
          });
        };
      },
      updateText: function updateText(t) {
        var n = V(D_, function (t) {
          return e.formatter.match(t.format);
        }).fold(tt("left"), function (t) {
          return t.title.toLowerCase();
        });
        Ne(t, qS, {
          icon: "align-" + n
        });
      },
      dataset: t,
      shouldHide: !1,
      isInvalid: function isInvalid(t) {
        return !e.formatter.canApply(t.format);
      }
    };
  }

  function $O(t) {
    return A(t.split(/\s*,\s*/), function (t) {
      return t.replace(/^['"]+|['"]+$/g, "");
    });
  }

  function QO(r) {
    function i() {
      function e(t) {
        return t ? $O(t)[0] : "";
      }

      var t = r.queryCommandValue("FontName"),
          n = a.data,
          o = t ? t.toLowerCase() : "";
      return {
        matchOpt: V(n, function (t) {
          var n = t.format;
          return n.toLowerCase() === o || e(n).toLowerCase() === e(o).toLowerCase();
        }).orThunk(function () {
          return $r(0 === (t = o).indexOf("-apple-system") && (n = $O(t.toLowerCase()), N(B_, function (t) {
            return -1 < n.indexOf(t.toLowerCase());
          })), {
            title: u,
            format: o
          });
          var t, n;
        }),
        font: t
      };
    }

    var u = "System Font",
        a = KO(r, "font_formats", "Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats", d1.SemiColon);
    return {
      tooltip: "Fonts",
      text: ft.some(u),
      icon: ft.none(),
      isSelectedFor: function isSelectedFor(n) {
        return function (t) {
          return t.exists(function (t) {
            return t.format === n;
          });
        };
      },
      getCurrentValue: function getCurrentValue() {
        return i().matchOpt;
      },
      getPreviewFor: function getPreviewFor(t) {
        return function () {
          return ft.some({
            tag: "div",
            styles: -1 === t.indexOf("dings") ? {
              "font-family": t
            } : {}
          });
        };
      },
      onAction: function onAction(t) {
        return function () {
          r.undoManager.transact(function () {
            r.focus(), r.execCommand("FontName", !1, t.format);
          });
        };
      },
      updateText: function updateText(t) {
        var n = i(),
            e = n.matchOpt,
            o = n.font,
            r = e.fold(tt(o), function (t) {
          return t.title;
        });
        Ne(t, YS, {
          text: r
        });
      },
      dataset: a,
      shouldHide: !1,
      isInvalid: O
    };
  }

  function ZO(e) {
    function i() {
      var a = ft.none(),
          c = o.data,
          s = e.queryCommandValue("FontSize");
      if (s) for (var t = function t(_t3) {
        var n,
            e,
            o,
            r,
            i = (e = _t3, /[0-9.]+px$/.test(n = s) ? (o = 72 * parseInt(n, 10) / 96, r = Math.pow(10, e || 0), Math.round(o * r) / r + "pt") : kt(M_, n).getOr(n)),
            u = kt(A_, i).getOr("");
        a = V(c, function (t) {
          return t.format === s || t.format === i || t.format === u;
        });
      }, n = 3; a.isNone() && 0 <= n; n--) {
        t(n);
      }
      return {
        matchOpt: a,
        size: s
      };
    }

    var t = tt(ft.none),
        o = KO(e, "fontsize_formats", "8pt 10pt 12pt 14pt 18pt 24pt 36pt", d1.Space);
    return {
      tooltip: "Font sizes",
      text: ft.some("12pt"),
      icon: ft.none(),
      isSelectedFor: function isSelectedFor(n) {
        return function (t) {
          return t.exists(function (t) {
            return t.format === n;
          });
        };
      },
      getPreviewFor: t,
      getCurrentValue: function getCurrentValue() {
        return i().matchOpt;
      },
      onAction: function onAction(t) {
        return function () {
          e.undoManager.transact(function () {
            e.focus(), e.execCommand("FontSize", !1, t.format);
          });
        };
      },
      updateText: function updateText(t) {
        var n = i(),
            e = n.matchOpt,
            o = n.size,
            r = e.fold(tt(o), function (t) {
          return t.title;
        });
        Ne(t, YS, {
          text: r
        });
      },
      dataset: o,
      shouldHide: !1,
      isInvalid: O
    };
  }

  function t_(t, n) {
    var e = n(),
        o = A(e, function (t) {
      return t.format;
    });
    return ft.from(t.formatter.closest(o)).bind(function (n) {
      return V(e, function (t) {
        return t.format === n;
      });
    }).orThunk(function () {
      return $r(t.formatter.match("p"), {
        title: "Paragraph",
        format: "p"
      });
    });
  }

  function n_(e) {
    var o = KO(e, "block_formats", "Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre", d1.SemiColon);
    return {
      tooltip: "Blocks",
      text: ft.some("Paragraph"),
      icon: ft.none(),
      isSelectedFor: function isSelectedFor(t) {
        return function () {
          return e.formatter.match(t);
        };
      },
      getCurrentValue: ft.none,
      getPreviewFor: function getPreviewFor(n) {
        return function () {
          var t = e.formatter.get(n);
          return ft.some({
            tag: 0 < t.length && (t[0].inline || t[0].block) || "div",
            styles: e.dom.parseStyle(e.formatter.getCssText(n))
          });
        };
      },
      onAction: r1(e),
      updateText: function updateText(t) {
        var n = t_(e, function () {
          return o.data;
        }).fold(tt("Paragraph"), function (t) {
          return t.title;
        });
        Ne(t, YS, {
          text: n
        });
      },
      dataset: o,
      shouldHide: !1,
      isInvalid: function isInvalid(t) {
        return !e.formatter.canApply(t.format);
      }
    };
  }

  function e_(r, t) {
    return {
      tooltip: "Formats",
      text: ft.some("Paragraph"),
      icon: ft.none(),
      isSelectedFor: function isSelectedFor(t) {
        return function () {
          return r.formatter.match(t);
        };
      },
      getCurrentValue: ft.none,
      getPreviewFor: function getPreviewFor(n) {
        return function () {
          var t = r.formatter.get(n);
          return void 0 !== t ? ft.some({
            tag: 0 < t.length && (t[0].inline || t[0].block) || "div",
            styles: r.dom.parseStyle(r.formatter.getCssText(n))
          }) : ft.none();
        };
      },
      onAction: r1(r),
      updateText: function updateText(t) {
        var e = function e(t) {
          var n = t.items;
          return void 0 !== n && 0 < n.length ? z(n, e) : [{
            title: t.title,
            format: t.format
          }];
        },
            n = z(Bk(r), e),
            o = t_(r, tt(n)).fold(tt("Paragraph"), function (t) {
          return t.title;
        });

        Ne(t, YS, {
          text: o
        });
      },
      shouldHide: r.getParam("style_formats_autohide", !1, "boolean"),
      isInvalid: function isInvalid(t) {
        return !r.formatter.canApply(t.format);
      },
      dataset: t
    };
  }

  function o_(n) {
    return {
      isDisabled: function isDisabled() {
        return fd.isDisabled(n);
      },
      setDisabled: function setDisabled(t) {
        return fd.set(n, t);
      }
    };
  }

  function r_(n) {
    return {
      setActive: function setActive(t) {
        Hg.set(n, t);
      },
      isActive: function isActive() {
        return Hg.isOn(n);
      },
      isDisabled: function isDisabled() {
        return fd.isDisabled(n);
      },
      setDisabled: function setDisabled(t) {
        return fd.set(n, t);
      }
    };
  }

  function i_(t, n) {
    return t.map(function (t) {
      return {
        "aria-label": n.translate(t),
        title: n.translate(t)
      };
    }).getOr({});
  }

  function u_(n, e, t, o, r, i) {
    var u;
    return {
      dom: {
        tag: "button",
        classes: ["tox-tbtn"].concat(e.isSome() ? ["tox-tbtn--select"] : []),
        attributes: i_(t, i)
      },
      components: $v([n.map(function (t) {
        return uS(t, i.icons);
      }), e.map(function (t) {
        return cS(t, "tox-tbtn", i);
      })]),
      eventOrder: ((u = {})[uo()] = ["focusing", "alloy.base.behaviour", "common-button-display-events"], u),
      buttonBehaviours: Za([Kv(i.isDisabled), dv(), lm("common-button-display-events", [Xe(uo(), function (t, n) {
        n.event.prevent(), ze(t, z_);
      })])].concat(o.map(function (t) {
        return R_.config({
          channel: t,
          initialData: {
            icon: n,
            text: e
          },
          renderComponents: function renderComponents(t, n) {
            return $v([t.icon.map(function (t) {
              return uS(t, i.icons);
            }), t.text.map(function (t) {
              return cS(t, "tox-tbtn", i);
            })]);
          }
        });
      }).toArray()).concat(r.getOr([])))
    };
  }

  function a_(t, n, e) {
    var o,
        r = wn(ct),
        i = u_(t.icon, t.text, t.tooltip, ft.none(), ft.none(), e);
    return cp.sketch({
      dom: i.dom,
      components: i.components,
      eventOrder: XS,
      buttonBehaviours: Za([lm("toolbar-button-events", [(o = {
        onAction: t.onAction,
        getApi: n.getApi
      }, tr(function (n, t) {
        mv(o, n)(function (t) {
          Ne(n, GS, {
            buttonApi: t
          }), o.onAction(t);
        });
      })), gv(n, r), pv(n, r)]), Kv(function () {
        return t.disabled || e.isDisabled();
      }), dv()].concat(n.toolbarButtonBehaviours))
    });
  }

  function c_(r, i) {
    return function (t, n, e) {
      var o = r(t).mapError(function (t) {
        return se(t);
      }).getOrDie();
      return i(o, n, e);
    };
  }

  function s_(e, t, o, r) {
    var n,
        i = t.outerContainer,
        u = o.toolbar,
        a = o.buttons;
    d(u, y) ? (n = u.map(function (t) {
      var n = {
        toolbar: t,
        buttons: a,
        allowToolbarGroups: o.allowToolbarGroups
      };
      return G_(e, n, {
        backstage: r
      }, ft.none());
    }), GO.setToolbars(i, n)) : GO.setToolbar(i, G_(e, o, {
      backstage: r
    }, ft.none()));
  }

  function l_(t) {
    return /^[0-9\.]+(|px)$/i.test("" + t) ? ft.some(parseInt("" + t, 10)) : ft.none();
  }

  function f_(t) {
    return u(t) ? t + "px" : t;
  }

  function d_(n, t, e) {
    var o = t.filter(function (t) {
      return n < t;
    }),
        r = e.filter(function (t) {
      return t < n;
    });
    return o.or(r).getOr(n);
  }

  function m_(t) {
    var n = ah(t),
        e = ch(t),
        o = lh(t);
    return l_(n).map(function (t) {
      return d_(t, e, o);
    });
  }

  function g_(u, a, t, n, c) {
    function s() {
      return x.get() && !u.removed;
    }

    function l(t) {
      return y ? t.fold(tt(0), function (t) {
        return 1 < t.components().length ? vi(t.components()[1].element) : 0;
      }) : 0;
    }

    function f() {
      r.broadcastOn([vf()], {});
    }

    function o(t) {
      var n, e, o, r, i;
      void 0 === t && (t = !1), s() && (m || (n = p.getOrThunk(function () {
        var t = l_(ri(mu(), "margin-left")).getOr(0);
        return wi(mu()) - xi(a).left + t;
      }), ni(c.get().element, "max-width", n + "px")), y && GO.refreshToolbar(d), m || (e = l(GO.getToolbar(d)), o = Ai(a), r = v() ? Math.max(o.y - vi(c.get().element) + e, 0) : o.bottom, ei(d.element, {
        position: "absolute",
        top: Math.round(r) + "px",
        left: Math.round(o.x) + "px"
      })), g && (i = c.get(), t ? nO.reset(i) : nO.refresh(i)), f());
    }

    function e(t) {
      var n, e;
      void 0 === t && (t = !0), !m && g && s() && (n = h.getDockingMode(), (e = function (t) {
        switch (ov(u)) {
          case vh.auto:
            var n = l(GO.getToolbar(d)),
                e = vi(t.element) - n,
                o = Ai(a);
            if (o.y > e) return "top";
            var r = ir(a),
                i = Math.max(r.dom.scrollHeight, vi(r));
            return o.bottom < i - e || Fi().bottom < o.bottom - e ? "bottom" : "top";

          case vh.bottom:
            return "bottom";

          default:
            return vh.top, "top";
        }
      }(c.get())) !== n && (function (t) {
        var n = c.get();
        nO.setModes(n, [t]), h.setDockingMode(t);
        var e = v() ? Sc.TopToBottom : Sc.BottomToTop;
        Or(n.element, Zc, e);
      }(e), t && o(!0)));
    }

    var r = t.uiMothership,
        d = t.outerContainer,
        i = Zh.DOM,
        m = uv(u),
        g = sv(u),
        p = lh(u).or(m_(u)),
        h = n.shared.header,
        v = h.isPositionedAtTop,
        b = ev(u),
        y = b === ph.sliding || b === ph.floating,
        x = wn(!1);
    return {
      isVisible: s,
      isPositionedAtTop: v,
      show: function show() {
        x.set(!0), ni(d.element, "display", "flex"), i.addClass(u.getBody(), "mce-edit-focus"), ai(r.element, "display"), e(!1), o();
      },
      hide: function hide() {
        x.set(!1), t.outerContainer && (ni(d.element, "display", "none"), i.removeClass(u.getBody(), "mce-edit-focus")), ni(r.element, "display", "none");
      },
      update: o,
      updateMode: e,
      repositionPopups: f
    };
  }

  function p_(t, n) {
    var e = Ai(t);
    return {
      pos: n ? e.y : e.bottom,
      bounds: e
    };
  }

  function h_(i, u) {
    return Xe(GS, function (t, n) {
      var e,
          o = i.get(t),
          r = (e = o, {
        hide: function hide() {
          return ze(e, Mo());
        },
        getValue: function getValue() {
          return _f.getValue(e);
        }
      });
      u.onAction(r, n.event.buttonApi);
    });
  }

  function v_(t, n, e) {
    return n.bottom - t.y >= (e = void 0 === e ? 0.01 : e) && t.bottom - n.y >= e;
  }

  function b_(t) {
    var n = function (t) {
      var n = t.getBoundingClientRect();

      if (n.height <= 0 && n.width <= 0) {
        var e = dr(de.fromDom(t.startContainer), t.startOffset).element;
        return (Vi(e) ? ar(e) : ft.some(e)).filter(Ri).map(function (t) {
          return t.dom.getBoundingClientRect();
        }).getOr(n);
      }

      return n;
    }(t.selection.getRng());

    if (t.inline) {
      var e = Oi();
      return Bi(e.left + n.left, e.top + n.top, n.width, n.height);
    }

    var o = Mi(de.fromDom(t.getBody()));
    return Bi(o.x + n.left, o.y + n.top, n.width, n.height);
  }

  function y_(t, n, e, o) {
    void 0 === o && (o = 0);
    var r,
        i,
        u,
        a,
        c = Ei(window),
        s = Ai(de.fromDom(t.getContentAreaContainer())),
        l = dh(t) || mh(t) || nv(t),
        f = (r = s, i = c, u = o, {
      x: a = Math.max(r.x + u, i.x),
      width: Math.min(r.right - u, i.right) - a
    }),
        d = f.x,
        m = f.width;
    if (t.inline && !l) return Bi(d, c.y, m, c.height);

    var g = function (t, n, e, o, r, i) {
      var u = de.fromDom(t.getContainer()),
          a = Ai(Fu(u, ".tox-editor-header").getOr(u)),
          c = a.y >= n.bottom,
          s = o && !c;
      if (t.inline && s) return {
        y: Math.max(a.bottom + i, e.y),
        bottom: e.bottom
      };
      if (t.inline && !s) return {
        y: e.y,
        bottom: Math.min(a.y - i, e.bottom)
      };
      var l = "line" === r ? Ai(u) : n;
      return s ? {
        y: Math.max(a.bottom + i, e.y),
        bottom: Math.min(l.bottom - i, e.bottom)
      } : {
        y: Math.max(l.y + i, e.y),
        bottom: Math.min(a.y - i, e.bottom)
      };
    }(t, s, c, n.header.isPositionedAtTop(), e, o),
        p = g.y;

    return Bi(d, p, m, g.bottom - p);
  }

  function x_(t) {
    return "node" === t;
  }

  function w_(t, r, n, i, e) {
    var u = b_(t),
        o = i.lastElement().exists(function (t) {
      return Bn(n, t);
    }),
        a = n,
        c = t.selection.getRng(),
        s = dr(de.fromDom(c.startContainer), c.startOffset);
    return c.startContainer === c.endContainer && c.startOffset === c.endOffset - 1 && Bn(s.element, a) ? o ? Fm : ip : o ? function (n, t) {
      var e = ii(n, "position");
      ni(n, "position", t);
      var o = v_(u, Ai(r)) && !i.isReposition() ? Rm : Fm;
      return e.each(function (t) {
        return ni(n, "position", t);
      }), o;
    }(r, i.getMode()) : ("fixed" === i.getMode() ? e.y + Oi().top : e.y) + (vi(r) + 12) <= u.y ? ip : up;
  }

  function S_(n, t) {
    var e = M(F(t, function (t) {
      return t.predicate(n.dom);
    }), function (t) {
      return "contexttoolbar" === t.type;
    });
    return {
      contextToolbars: e.pass,
      contextForms: e.fail
    };
  }

  function k_(e, t) {
    function o(t) {
      return Bn(t, r);
    }

    var n,
        r = de.fromDom(t.getBody()),
        i = de.fromDom(t.selection.getNode());
    return o(n = i) || An(r, n) ? function (t, n, e) {
      var o = S_(t, n);
      if (0 < o.contextForms.length) return ft.some({
        elem: t,
        toolbars: [o.contextForms[0]]
      });
      var r = S_(t, e);
      if (0 < r.contextForms.length) return ft.some({
        elem: t,
        toolbars: [r.contextForms[0]]
      });

      if (0 < o.contextToolbars.length || 0 < r.contextToolbars.length) {
        var i = function (t) {
          if (t.length <= 1) return t;

          function n(n) {
            return T(t, function (t) {
              return t.position === n;
            });
          }

          function e(n) {
            return F(t, function (t) {
              return t.position === n;
            });
          }

          var o = n("selection"),
              r = n("node");

          if (o || r) {
            if (r && o) {
              var i = e("node"),
                  u = A(e("selection"), function (t) {
                return _st(_st({}, t), {
                  position: "node"
                });
              });
              return i.concat(u);
            }

            return e(o ? "selection" : "node");
          }

          return e("line");
        }(o.contextToolbars.concat(r.contextToolbars));

        return ft.some({
          elem: t,
          toolbars: i
        });
      }

      return ft.none();
    }(i, e.inNodeScope, e.inEditorScope).orThunk(function () {
      return a = e, (t = o)(n = i) ? ft.none() : Ie(n, function (t) {
        if (Ri(t)) {
          var n = S_(t, a.inNodeScope),
              e = n.contextToolbars,
              o = n.contextForms,
              r = 0 < o.length ? o : (u = e).length <= 1 ? u : i("selection").orThunk(function () {
            return i("node");
          }).orThunk(function () {
            return i("line");
          }).map(function (t) {
            return t.position;
          }).fold(function () {
            return [];
          }, function (n) {
            return F(u, function (t) {
              return t.position === n;
            });
          });
          return 0 < r.length ? ft.some({
            elem: t,
            toolbars: r
          }) : ft.none();
        }

        function i(n) {
          return V(u, function (t) {
            return t.position === n;
          });
        }

        var u;
        return ft.none();
      }, t);
      var t, n, a;
    }) : ft.none();
  }

  function C_(a, c) {
    var s = {},
        l = [],
        f = [],
        d = {},
        m = {},
        t = Xn(a);
    return dt(t, function (t) {
      var n,
          e,
          o,
          r,
          i,
          u = a[t];
      "contextform" === u.type ? (o = t, i = Xt(Gt("ContextForm", Gp, r = u)), (s[o] = i).launch.map(function (t) {
        d["form:" + o] = _st(_st({}, r.launch), {
          type: "contextformtogglebutton" === t.type ? "togglebutton" : "button",
          onAction: function onAction() {
            c(i);
          }
        });
      }), ("editor" === i.scope ? f : l).push(i), m[o] = i) : "contexttoolbar" === u.type && (n = t, Gt("ContextToolbar", Xp, e = u).each(function (t) {
        ("editor" === e.scope ? f : l).push(t), m[n] = t;
      }));
    }), {
      forms: s,
      inNodeScope: l,
      inEditorScope: f,
      lookupTable: m,
      formNavigators: d
    };
  }

  function O_(d, t, m, u) {
    function a() {
      var t = y.get().getOr("node"),
          n = x_(t) ? 1 : 0;
      return y_(d, p, t, n);
    }

    function c() {
      return !(d.removed || h() && g.isContextMenuOpen());
    }

    function s() {
      if (c()) {
        var t = a(),
            n = Kr(y.get(), "node") ? (e = d, v.get().filter(du).map(Mi).getOrThunk(function () {
          return b_(e);
        })) : b_(d);
        return t.height <= 0 || !v_(n, t);
      }

      return 1;
      var e;
    }

    function n() {
      v.clear(), b.clear(), y.clear(), op.hide(x);
    }

    function e() {
      var t;
      op.isOpen(x) && (ai(t = x.element, "display"), s() ? ni(t, "display", "none") : (b.set(0), op.reposition(x)));
    }

    function l(t) {
      return {
        dom: {
          tag: "div",
          classes: ["tox-pop__dialog"]
        },
        components: [t],
        behaviours: Za([Bg.config({
          mode: "acyclic"
        }), lm("pop-dialog-wrap-events", [$o(function (t) {
          d.shortcuts.add("ctrl+F9", "focus statusbar", function () {
            return Bg.focusIn(t);
          });
        }), Qo(function (t) {
          d.shortcuts.remove("ctrl+F9");
        })])])
      };
    }

    function f(t, n) {
      var e,
          o,
          r,
          i,
          c,
          s,
          u,
          a = "node" === t ? p.anchors.node(n) : p.anchors.cursor(),
          l = (e = d, o = t, r = h(), i = {
        lastElement: v.get,
        isReposition: function isReposition() {
          return Kr(b.get(), 0);
        },
        getMode: function getMode() {
          return cf.getMode(m);
        }
      }, "line" === o ? {
        bubble: yc(12, 0, Q_),
        layouts: {
          onLtr: function onLtr() {
            return [la];
          },
          onRtl: function onRtl() {
            return [fa];
          }
        },
        overrides: Z_
      } : {
        bubble: yc(0, 12, Q_, 1 / 12),
        layouts: (c = e, s = i, u = o, r ? {
          onLtr: function onLtr(t) {
            return [Ka, Ua, Ga, Xa, Ya, qa].concat(f(t));
          },
          onRtl: function onRtl(t) {
            return [Ka, Ga, Ua, Ya, Xa, qa].concat(f(t));
          }
        } : {
          onLtr: function onLtr(t) {
            return [qa, Ka, Xa, Ua, Ya, Ga].concat(f(t));
          },
          onRtl: function onRtl(t) {
            return [qa, Ka, Ya, Ga, Xa, Ua].concat(f(t));
          }
        }),
        overrides: Z_
      });

      function f(t) {
        return x_(u) ? [(a = t, function (t, n, e, o, r) {
          var i = w_(c, o, a, s, r),
              u = _st(_st({}, t), {
            y: r.y,
            height: r.height
          });

          return _st(_st({}, i(u, n, e, o, r)), {
            alwaysFit: !0
          });
        })] : [];
        var a;
      }

      return Jn(a, l);
    }

    function o(t, n) {
      var e, o, r, i;
      k.cancel(), c() && (e = S(t), r = f(o = t[0].position, n), y.set(o), b.set(1), ai(i = x.element, "display"), Kr(fu(n, v.get(), Bn), !0) || (Gr(i, rT), cf.reset(m, x)), op.showWithinBounds(x, l(e), {
        anchor: r,
        transition: {
          classes: [rT],
          mode: "placement"
        }
      }, function () {
        return ft.some(a());
      }), n.fold(v.clear, v.set), s() && ni(i, "display", "none"));
    }

    var r,
        i,
        g = u.backstage,
        p = g.shared,
        h = Be().deviceType.isTouch,
        v = fc(),
        b = fc(),
        y = fc(),
        x = bu((r = {
      sink: m,
      onEscape: function onEscape() {
        return d.focus(), ft.some(!0);
      }
    }, i = wn([]), op.sketch({
      dom: {
        tag: "div",
        classes: ["tox-pop"]
      },
      fireDismissalEventInstead: {
        event: "doNotDismissYet"
      },
      onShow: function onShow(t) {
        i.set([]), op.getContent(t).each(function (t) {
          ai(t.element, "visibility");
        }), Gr(t.element, oT), ai(t.element, "width");
      },
      inlineBehaviours: Za([lm("context-toolbar-events", [Qe(xo(), function (t, n) {
        "width" === n.event.raw.propertyName && (Gr(t.element, oT), ai(t.element, "width"));
      }), Xe(eT, function (t, n) {
        var e = t.element;
        ai(e, "width");
        var o = wi(e);
        op.setContent(t, n.event.contents), Ur(e, oT);
        var r = wi(e);
        ni(e, "width", o + "px"), op.getContent(t).each(function (t) {
          n.event.focus.bind(function (t) {
            return Sa(t), Oa(e);
          }).orThunk(function () {
            return Bg.focusIn(t), Ca(ji(e));
          });
        }), ap.setTimeout(function () {
          ni(t.element, "width", r + "px");
        }, 0);
      }), Xe(tT, function (n, t) {
        op.getContent(n).each(function (t) {
          i.set(i.get().concat([{
            bar: t,
            focus: Ca(ji(n.element))
          }]));
        }), Ne(n, eT, {
          contents: t.event.forwardContents,
          focus: ft.none()
        });
      }), Xe(nT, function (n, t) {
        Y(i.get()).each(function (t) {
          i.set(i.get().slice(0, i.get().length - 1)), Ne(n, eT, {
            contents: yu(t.bar),
            focus: t.focus
          });
        });
      })]), Bg.config({
        mode: "special",
        onEscape: function onEscape(n) {
          return Y(i.get()).fold(function () {
            return r.onEscape();
          }, function (t) {
            return ze(n, nT), ft.some(!0);
          });
        }
      })]),
      lazySink: function lazySink() {
        return mt.value(r.sink);
      }
    }))),
        w = _t(function () {
      return C_(t, function (t) {
        var n = S([t]);
        Ne(x, tT, {
          forwardContents: l(n)
        });
      });
    }),
        S = function S(t) {
      var n = d.ui.registry.getAll().buttons,
          e = w(),
          o = _st(_st({}, n), e.formNavigators),
          r = ev(d) === ph.scrolling ? ph.scrolling : ph["default"],
          i = lt(A(t, function (t) {
        return "contexttoolbar" === t.type ? G_(d, {
          buttons: o,
          toolbar: t.items,
          allowToolbarGroups: !1
        }, u, ft.some(["form:"])) : (n = p.providers, $_(t, n));
        var n;
      }));

      return JC({
        type: r,
        uid: Ar("context-toolbar"),
        initGroups: i,
        onEscape: ft.none,
        cyclicKeying: !0,
        providers: p.providers
      });
    },
        k = gp(function () {
      d.hasFocus() && !d.removed && (Xr(x.element, rT) ? k.throttle() : k_(w(), d).fold(n, function (t) {
        o(t.toolbars, ft.some(t.elem));
      }));
    }, 17);

    d.on("init", function () {
      d.on("remove", n), d.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress", e), d.on("click keyup focus SetContent", k.throttle), d.on(J_, n), d.on("contexttoolbar-show", function (n) {
        kt(w().lookupTable, n.toolbarKey).each(function (t) {
          o([t], $r(n.target !== d, n.target)), op.getContent(x).each(Bg.focusIn);
        });
      }), d.on("focusout", function (t) {
        ap.setEditorTimeout(d, function () {
          Oa(m.element).isNone() && Oa(x.element).isNone() && n();
        }, 0);
      }), d.on("SwitchMode", function () {
        d.mode.isReadOnly() && n();
      }), d.on("AfterProgressState", function (t) {
        t.state ? n() : d.hasFocus() && k.throttle();
      }), d.on("NodeChange", function (t) {
        Oa(x.element).fold(k.throttle, ct);
      });
    });
  }

  (m1 = d1 = d1 || {})[m1.SemiColon = 0] = "SemiColon", m1[m1.Space = 1] = "Space";

  var __,
      T_,
      E_,
      D_ = [{
    title: "Left",
    icon: "align-left",
    format: "alignleft",
    command: "JustifyLeft"
  }, {
    title: "Center",
    icon: "align-center",
    format: "aligncenter",
    command: "JustifyCenter"
  }, {
    title: "Right",
    icon: "align-right",
    format: "alignright",
    command: "JustifyRight"
  }, {
    title: "Justify",
    icon: "align-justify",
    format: "alignjustify",
    command: "JustifyFull"
  }],
      B_ = ["-apple-system", "Segoe UI", "Roboto", "Helvetica Neue", "sans-serif"],
      A_ = {
    "8pt": "1",
    "10pt": "2",
    "12pt": "3",
    "14pt": "4",
    "18pt": "5",
    "24pt": "6",
    "36pt": "7"
  },
      M_ = {
    "xx-small": "7pt",
    "x-small": "8pt",
    small: "10pt",
    medium: "12pt",
    large: "14pt",
    "x-large": "18pt",
    "xx-large": "24pt"
  },
      F_ = Object.freeze({
    __proto__: null,
    events: function events(r, i) {
      function u(e, o) {
        r.updateState.each(function (t) {
          var n = t(e, o);
          i.set(n);
        }), r.renderComponents.each(function (t) {
          var n = A(t(o, i.get()), e.getSystem().build);
          Ms(e, n);
        });
      }

      return Jo([Xe(To(), function (t, n) {
        var e,
            o = n;
        o.universal || (e = r.channel, et(o.channels, e) && u(t, o.data));
      }), $o(function (n, t) {
        r.initialData.each(function (t) {
          u(n, t);
        });
      })]);
    }
  }),
      I_ = Object.freeze({
    __proto__: null,
    getState: function getState(t, n, e) {
      return e;
    }
  }),
      R_ = xa({
    fields: [Jt("channel"), rn("renderComponents"), rn("updateState"), rn("initialData")],
    name: "reflecting",
    active: F_,
    apis: I_,
    state: Object.freeze({
      __proto__: null,
      init: function init() {
        var t = wn(ft.none());
        return {
          readState: function readState() {
            return t.get().getOr("none");
          },
          get: t.get,
          set: t.set,
          clear: function clear() {
            return t.set(ft.none());
          }
        };
      }
    })
  }),
      V_ = tt([Jt("toggleClass"), Jt("fetch"), $u("onExecute"), dn("getHotspot", ft.some), dn("getAnchorOverrides", tt({})), zc(), $u("onItemExecute"), rn("lazySink"), Jt("dom"), Ku("onOpen"), Js("splitDropdownBehaviours", [Jy, Bg, Rg]), dn("matchWidth", !1), dn("useMinWidth", !1), dn("eventOrder", {}), rn("role")].concat(ix())),
      P_ = tt([Yf({
    factory: cp,
    schema: [Jt("dom")],
    name: "arrow",
    defaults: function defaults() {
      return {
        buttonBehaviours: Za([Rg.revoke()])
      };
    },
    overrides: function overrides(n) {
      return {
        dom: {
          tag: "span",
          attributes: {
            role: "presentation"
          }
        },
        action: function action(t) {
          t.getSystem().getByUid(n.uid).each(Le);
        },
        buttonBehaviours: Za([Hg.config({
          toggleOnExecute: !1,
          toggleClass: n.toggleClass
        })])
      };
    }
  }), Yf({
    factory: cp,
    schema: [Jt("dom")],
    name: "button",
    defaults: function defaults() {
      return {
        buttonBehaviours: Za([Rg.revoke()])
      };
    },
    overrides: function overrides(e) {
      return {
        dom: {
          tag: "span",
          attributes: {
            role: "presentation"
          }
        },
        action: function action(n) {
          n.getSystem().getByUid(e.uid).each(function (t) {
            e.onExecute(t, n);
          });
        }
      };
    }
  }), Kf({
    factory: {
      sketch: function sketch(t) {
        return {
          uid: t.uid,
          dom: {
            tag: "span",
            styles: {
              display: "none"
            },
            attributes: {
              "aria-hidden": "true"
            },
            innerHtml: t.text
          }
        };
      }
    },
    schema: [Jt("text")],
    name: "aria-descriptor"
  }), qf({
    schema: [Xu()],
    name: "menu",
    defaults: function defaults(o) {
      return {
        onExecute: function onExecute(n, e) {
          n.getSystem().getByUid(o.uid).each(function (t) {
            o.onItemExecute(t, n, e);
          });
        }
      };
    }
  }), Qy()]),
      H_ = wl({
    name: "SplitDropdown",
    configFields: V_(),
    partFields: P_(),
    factory: function factory(o, t, n, e) {
      function r(t) {
        id.getCurrent(t).each(function (t) {
          md.highlightFirst(t), Bg.focusIn(t);
        });
      }

      function i(t) {
        nx(o, h, t, e, r, Py.HighlightFirst).get(ct);
      }

      function u(t) {
        return Le(fl(t, o, "button")), ft.some(!0);
      }

      var a,
          c = _st(_st({}, Jo([$o(function (e, t) {
        ll(e, o, "aria-descriptor").each(function (t) {
          var n = Ar("aria");
          Or(t.element, "id", n), Or(e.element, "aria-describedby", n);
        });
      })])), ym(ft.some(i))),
          s = {
        repositionMenus: function repositionMenus(t) {
          Hg.isOn(t) && rx(t);
        }
      };

      return {
        uid: o.uid,
        dom: o.dom,
        components: t,
        apis: s,
        eventOrder: _st(_st({}, o.eventOrder), ((a = {})[Eo()] = ["disabling", "toggling", "alloy.base.behaviour"], a)),
        events: c,
        behaviours: Qs(o.splitDropdownBehaviours, [Jy.config({
          others: {
            sandbox: function sandbox(t) {
              var n = fl(t, o, "arrow");
              return ox(o, t, {
                onOpen: function onOpen() {
                  Hg.on(n), Hg.on(t);
                },
                onClose: function onClose() {
                  Hg.off(n), Hg.off(t);
                }
              });
            }
          }
        }), Bg.config({
          mode: "special",
          onSpace: u,
          onEnter: u,
          onDown: function onDown(t) {
            return i(t), ft.some(!0);
          }
        }), Rg.config({}), Hg.config({
          toggleOnExecute: !1,
          aria: {
            mode: "expanded"
          }
        })]),
        domModification: {
          attributes: {
            role: o.role.getOr("button"),
            "aria-haspopup": !0
          }
        }
      };
    },
    apis: {
      repositionMenus: function repositionMenus(t, n) {
        return t.repositionMenus(n);
      }
    }
  }),
      z_ = Ar("focus-button"),
      N_ = function N_(t, n, e) {
    return a_(t, {
      toolbarButtonBehaviours: [].concat(0 < e.length ? [lm("toolbarButtonWith", e)] : []),
      getApi: o_,
      onSetup: t.onSetup
    }, n);
  },
      L_ = function L_(t, n, e) {
    return Jn(a_(t, {
      toolbarButtonBehaviours: [Mg.config({}), Hg.config({
        toggleClass: "tox-tbtn--enabled",
        aria: {
          mode: "pressed"
        },
        toggleOnExecute: !1
      })].concat(0 < e.length ? [lm("toolbarToggleButtonWith", e)] : []),
      getApi: r_,
      onSetup: t.onSetup
    }, n));
  },
      j_ = [{
    name: "history",
    items: ["undo", "redo"]
  }, {
    name: "styles",
    items: ["styleselect"]
  }, {
    name: "formatting",
    items: ["bold", "italic"]
  }, {
    name: "alignment",
    items: ["alignleft", "aligncenter", "alignright", "alignjustify"]
  }, {
    name: "indentation",
    items: ["outdent", "indent"]
  }, {
    name: "permanent pen",
    items: ["permanentpen"]
  }, {
    name: "comments",
    items: ["addcomment"]
  }],
      W_ = {
    button: c_(Sp, function (t, n) {
      return e = n.backstage.shared.providers, N_(t, e, []);
      var e;
    }),
    togglebutton: c_(kp, function (t, n) {
      return e = n.backstage.shared.providers, L_(t, e, []);
      var e;
    }),
    menubutton: c_(hC, function (t, n) {
      return mS(t, "tox-tbtn", n.backstage, ft.none());
    }),
    splitbutton: c_(function (t) {
      return Gt("SplitButton", lO, t);
    }, function (t, n) {
      return o = t, r = n.backstage.shared, s = Ar("channel-update-split-dropdown-display"), l = wn(ct), f = {
        getApi: e,
        onSetup: o.onSetup
      }, H_.sketch({
        dom: {
          tag: "div",
          classes: ["tox-split-button"],
          attributes: _st({
            "aria-pressed": !1
          }, i_(o.tooltip, r.providers))
        },
        onExecute: function onExecute(t) {
          o.onAction(e(t));
        },
        onItemExecute: function onItemExecute(t, n, e) {},
        splitDropdownBehaviours: Za([Uv(r.providers.isDisabled), dv(), lm("split-dropdown-events", [Xe(z_, Rg.focus), gv(f, l), pv(f, l)]), A0.config({})]),
        eventOrder: ((i = {})[zo()] = ["alloy.base.behaviour", "split-dropdown-events"], i),
        toggleClass: "tox-tbtn--enabled",
        lazySink: r.getSink,
        fetch: (u = e, a = o, c = r.providers, function (n) {
          return Wy(function (t) {
            return a.fetch(t);
          }).map(function (t) {
            return ft.from(Lb(Jn(Sb(Ar("menu-value"), t, function (t) {
              a.onItemAction(u(n), t);
            }, a.columns, a.presets, yh.CLOSE_ON_EXECUTE, a.select.getOr(O), c), {
              movement: kb(a.columns, a.presets),
              menuBehaviours: Xh("auto" !== a.columns ? [] : [$o(function (o, t) {
                rh(o, 4, Yp(a.presets)).each(function (t) {
                  var n = t.numRows,
                      e = t.numColumns;
                  Bg.setGridSize(o, n, e);
                });
              })])
            })));
          });
        }),
        parts: {
          menu: Jp(0, o.columns, o.presets)
        },
        components: [H_.parts.button(u_(o.icon, o.text, ft.none(), ft.some(s), ft.some([Hg.config({
          toggleClass: "tox-tbtn--enabled",
          toggleOnExecute: !1
        })]), r.providers)), H_.parts.arrow({
          dom: {
            tag: "button",
            classes: ["tox-tbtn", "tox-split-button__chevron"],
            innerHtml: Nm("chevron-down", r.providers.icons)
          },
          buttonBehaviours: Za([Uv(r.providers.isDisabled), dv(), Lm()])
        }), H_.parts["aria-descriptor"]({
          text: r.providers.translate("To open the popup, press Shift+Enter")
        })]
      });

      function e(e) {
        return {
          isDisabled: function isDisabled() {
            return fd.isDisabled(e);
          },
          setDisabled: function setDisabled(t) {
            return fd.set(e, t);
          },
          setIconFill: function setIconFill(t, n) {
            Fu(e.element, 'svg path[id="' + t + '"], rect[id="' + t + '"]').each(function (t) {
              Or(t, "fill", n);
            });
          },
          setIconStroke: function setIconStroke(t, n) {
            Fu(e.element, 'svg path[id="' + t + '"], rect[id="' + t + '"]').each(function (t) {
              Or(t, "stroke", n);
            });
          },
          setActive: function setActive(n) {
            Or(e.element, "aria-pressed", n), Fu(e.element, "span").each(function (t) {
              e.getSystem().getByDom(t).each(function (t) {
                return Hg.set(t, n);
              });
            });
          },
          isActive: function isActive() {
            return Fu(e.element, "span").exists(function (t) {
              return e.getSystem().getByDom(t).exists(Hg.isOn);
            });
          }
        };
      }

      var o, r, i, u, a, c, s, l, f;
    }),
    grouptoolbarbutton: c_(function (t) {
      return Gt("GroupToolbarButton", aO, t);
    }, function (t, n, e) {
      var o,
          r,
          i,
          u,
          a,
          c,
          s = e.ui.registry.getAll().buttons,
          l = ((o = {})[Zc] = n.backstage.shared.header.isPositionedAtTop() ? Sc.TopToBottom : Sc.BottomToTop, o);
      if (ev(e) !== ph.floating) throw new Error("Toolbar groups are only supported when using floating toolbar mode");
      return i = n.backstage, u = function u(t) {
        return G_(e, {
          buttons: s,
          toolbar: t,
          allowToolbarGroups: !1
        }, n, ft.none());
      }, a = l, c = i.shared, BO.sketch({
        lazySink: c.getSink,
        fetch: function fetch() {
          return Wy(function (t) {
            t(A(u(r.items), YC));
          });
        },
        markers: {
          toggledClass: "tox-tbtn--enabled"
        },
        parts: {
          button: u_((r = t).icon, r.text, r.tooltip, ft.none(), ft.none(), c.providers),
          toolbar: {
            dom: {
              tag: "div",
              classes: ["tox-toolbar__overflow"],
              attributes: a
            }
          }
        }
      });
    }),
    styleSelectButton: function styleSelectButton(t, n) {
      return a1(t, e = n.backstage, e_(t, _st({
        type: "advanced"
      }, e.styleselect)));
      var e;
    },
    fontsizeSelectButton: function fontsizeSelectButton(t, n) {
      return a1(t, n.backstage, ZO(t));
    },
    fontSelectButton: function fontSelectButton(t, n) {
      return a1(t, n.backstage, QO(t));
    },
    formatButton: function formatButton(t, n) {
      return a1(t, n.backstage, n_(t));
    },
    alignMenuButton: function alignMenuButton(t, n) {
      return a1(t, n.backstage, JO(t));
    }
  },
      U_ = {
    styleselect: W_.styleSelectButton,
    fontsizeselect: W_.fontsizeSelectButton,
    fontselect: W_.fontSelectButton,
    formatselect: W_.formatButton,
    align: W_.alignMenuButton
  },
      G_ = function G_(o, c, s, l) {
    var e,
        t,
        n,
        r,
        i = (n = c.toolbar, r = c.buttons, !1 === n ? [] : void 0 === n || !0 === n ? (e = r, t = A(j_, function (t) {
      var n = F(t.items, function (t) {
        return Kn(e, t) || Kn(U_, t);
      });
      return {
        name: t.name,
        items: n
      };
    }), F(t, function (t) {
      return 0 < t.items.length;
    })) : y(n) ? A(n.split("|"), function (t) {
      return {
        items: t.trim().split(" ")
      };
    }) : d(n, function (t) {
      return Kn(t, "name") && Kn(t, "items");
    }) ? n : (console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"), []));
    return F(A(i, function (t) {
      var n = z(t.items, function (t) {
        return 0 === t.trim().length ? [] : (r = o, n = c.buttons, i = t, u = c.allowToolbarGroups, a = s, e = l, kt(n, i.toLowerCase()).orThunk(function () {
          return e.bind(function (t) {
            return q(t, function (t) {
              return kt(n, t + i.toLowerCase());
            });
          });
        }).fold(function () {
          return kt(U_, i.toLowerCase()).map(function (t) {
            return t(r, a);
          }).orThunk(function () {
            return ft.none();
          });
        }, function (t) {
          return "grouptoolbarbutton" !== t.type || u ? (e = a, o = r, kt(W_, (n = t).type).fold(function () {
            return console.error("skipping button defined by", n), ft.none();
          }, function (t) {
            return ft.some(t(n, e, o));
          })) : (console.warn("Ignoring the '" + i + "' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested."), ft.none());
          var n, e, o;
        }).toArray());
        var r, n, i, u, a, e;
      });
      return {
        title: ft.from(o.translate(t.name)),
        items: n
      };
    }), function (t) {
      return 0 < t.items.length;
    });
  },
      X_ = Be(),
      Y_ = X_.os.isiOS() && X_.os.version.major <= 12,
      q_ = Object.freeze({
    __proto__: null,
    render: function render(e, n, t, o, r) {
      var i = wn(0),
          u = n.outerContainer;
      YO(e);
      var a = de.fromDom(r.targetNode),
          c = gr(ji(a)),
          s = n.mothership;
      df(a, s, vr), Ps(c, n.uiMothership), e.on("PostRender", function () {
        s_(e, n, t, o), i.set(e.getWin().innerWidth), GO.setMenubar(u, QC(e, t)), GO.setSidebar(u, t.sidebar), function (e, t) {
          function n() {
            var t = c.get();
            t.left === u.innerWidth && t.top === u.innerHeight || (c.set(Su(u.innerWidth, u.innerHeight)), zv(e));
          }

          function o() {
            var t = e.getDoc().documentElement,
                n = s.get();
            n.left === t.offsetWidth && n.top === t.offsetHeight || (s.set(Su(t.offsetWidth, t.offsetHeight)), zv(e));
          }

          function r(t) {
            return e.fire("ScrollContent", t);
          }

          var i = e.dom,
              u = e.getWin(),
              a = e.getDoc().documentElement,
              c = wn(Su(u.innerWidth, u.innerHeight)),
              s = wn(Su(a.offsetWidth, a.offsetHeight));
          i.bind(u, "resize", n), i.bind(u, "scroll", r);
          var l = mc(de.fromDom(e.getBody()), "load", o),
              f = t.uiMothership.element;
          e.on("hide", function () {
            ni(f, "display", "none");
          }), e.on("show", function () {
            ai(f, "display");
          }), e.on("NodeChange", o), e.on("remove", function () {
            l.unbind(), i.unbind(u, "resize", n), i.unbind(u, "scroll", r), u = null;
          });
        }(e, n);
      });
      var l,
          f,
          d,
          m,
          g = GO.getSocket(u).getOrDie("Could not find expected socket element");
      Y_ && (ei(g.element, {
        overflow: "scroll",
        "-webkit-overflow-scrolling": "touch"
      }), f = function f() {
        e.fire("ScrollContent");
      }, d = null, m = function m() {
        for (var t = [], n = 0; n < arguments.length; n++) {
          t[n] = arguments[n];
        }

        b(d) && (d = setTimeout(function () {
          d = null, f.apply(null, t);
        }, 20));
      }, l = dc(g.element, "scroll", m), e.on("remove", l.unbind)), fv(e, n), e.addCommand("ToggleSidebar", function (t, n) {
        GO.toggleSidebar(u, n), e.fire("ToggleSidebar");
      }), e.addQueryValueHandler("ToggleSidebar", function () {
        return GO.whichSidebar(u);
      });
      var p = ev(e);
      p !== ph.sliding && p !== ph.floating || e.on("ResizeWindow ResizeEditor ResizeContent", function () {
        var t = e.getWin().innerWidth;
        t !== i.get() && (GO.refreshToolbar(n.outerContainer), i.set(t));
      });
      var h = {
        enable: function enable() {
          lv(n, !1);
        },
        disable: function disable() {
          lv(n, !0);
        },
        isDisabled: function isDisabled() {
          return fd.isDisabled(u);
        }
      };
      return {
        iframeContainer: g.element.dom,
        editorContainer: u.element.dom,
        api: h
      };
    }
  }),
      K_ = Object.freeze({
    __proto__: null,
    render: function render(n, e, o, r, t) {
      var i = e.mothership,
          u = e.uiMothership,
          a = e.outerContainer,
          c = wn(null),
          s = de.fromDom(t.targetNode),
          l = g_(n, s, e, r, c),
          f = n.getParam("toolbar_persist", !1, "boolean");

      function d() {
        var t;
        c.get() ? l.show() : (c.set(GO.getHeader(a).getOrDie()), Ps(t = av(n), i), Ps(t, u), s_(n, e, o, r), GO.setMenubar(a, QC(n, o)), l.show(), function (c, s, l, t) {
          function n(t) {
            var n = p_(s, l.isPositionedAtTop()),
                e = n.pos,
                o = n.bounds,
                r = f.get(),
                i = r.pos,
                u = r.bounds,
                a = o.height !== u.height || o.width !== u.width;
            f.set({
              pos: e,
              bounds: o
            }), a && zv(c, t), l.isVisible() && (i !== e ? l.update(!0) : a && (l.updateMode(), l.repositionPopups()));
          }

          var f = wn(p_(s, l.isPositionedAtTop()));
          t || (c.on("activate", l.show), c.on("deactivate", l.hide)), c.on("SkinLoaded ResizeWindow", function () {
            return l.update(!0);
          }), c.on("NodeChange keydown", function (t) {
            ap.requestAnimationFrame(function () {
              return n(t);
            });
          }), c.on("ScrollWindow", function () {
            return l.updateMode();
          });
          var e = lc();
          e.set(mc(de.fromDom(c.getBody()), "load", n)), c.on("remove", function () {
            e.clear();
          });
        }(n, s, l, f), n.nodeChanged());
      }

      function m() {
        return ap.setEditorTimeout(n, d, 0);
      }

      qO(n), n.on("show", d), n.on("hide", l.hide), f || (n.on("focus", m), n.on("blur", l.hide)), n.on("init", function () {
        (n.hasFocus() || f) && m();
      }), fv(n, e);
      var g = {
        show: function show() {
          l.show();
        },
        hide: function hide() {
          l.hide();
        },
        enable: function enable() {
          lv(e, !1);
        },
        disable: function disable() {
          lv(e, !0);
        },
        isDisabled: function isDisabled() {
          return fd.isDisabled(a);
        }
      };
      return {
        editorContainer: a.element.dom,
        api: g
      };
    }
  }),
      J_ = "contexttoolbar-hide",
      $_ = function $_(t, n) {
    var e,
        o,
        r,
        i,
        u = t.label.fold(function () {
      return {};
    }, function (t) {
      return {
        "aria-label": t
      };
    }),
        a = Vm(Ey.sketch({
      inputClasses: ["tox-toolbar-textfield", "tox-toolbar-nav-js"],
      data: t.initValue(),
      inputAttributes: u,
      selectOnFocus: !0,
      inputBehaviours: Za([Bg.config({
        mode: "special",
        onEnter: function onEnter(t) {
          return c.findPrimary(t).map(function (t) {
            return Le(t), !0;
          });
        },
        onLeft: function onLeft(t, n) {
          return n.cut(), ft.none();
        },
        onRight: function onRight(t, n) {
          return n.cut(), ft.none();
        }
      })])
    })),
        c = (e = a, o = t.commands, r = n, i = A(o, function (t) {
      return Vm(("contextformtogglebutton" === t.type ? function (t, n, e) {
        var o = n.original;
        o.primary;
        var r = s(o, ["primary"]),
            i = Xt(kp(_st(_st({}, r), {
          type: "togglebutton",
          onAction: ct
        })));
        return L_(i, e.backstage.shared.providers, [h_(t, n)]);
      } : function (t, n, e) {
        var o = n.original;
        o.primary;
        var r = s(o, ["primary"]),
            i = Xt(Sp(_st(_st({}, r), {
          type: "button",
          onAction: ct
        })));
        return N_(i, e.backstage.shared.providers, [h_(t, n)]);
      })(e, t, {
        backstage: {
          shared: {
            providers: r
          }
        }
      }));
    }), {
      asSpecs: function asSpecs() {
        return A(i, function (t) {
          return t.asSpec();
        });
      },
      findPrimary: function findPrimary(e) {
        return q(o, function (t, n) {
          return t.primary ? ft.from(i[n]).bind(function (t) {
            return t.getOpt(e);
          }).filter(k(fd.isDisabled)) : ft.none();
        });
      }
    });
    return [{
      title: ft.none(),
      items: [a.asSpec()]
    }, {
      title: ft.none(),
      items: c.asSpecs()
    }];
  },
      Q_ = {
    valignCentre: [],
    alignCentre: [],
    alignLeft: ["tox-pop--align-left"],
    alignRight: ["tox-pop--align-right"],
    right: ["tox-pop--right"],
    left: ["tox-pop--left"],
    bottom: ["tox-pop--bottom"],
    top: ["tox-pop--top"],
    inset: ["tox-pop--inset"]
  },
      Z_ = {
    maxHeightFunction: Fc(),
    maxWidthFunction: TO()
  },
      tT = Ar("forward-slide"),
      nT = Ar("backward-slide"),
      eT = Ar("change-slide-event"),
      oT = "tox-pop--resizing",
      rT = "tox-pop--transition",
      iT = {
    unsupportedLength: ["em", "ex", "cap", "ch", "ic", "rem", "lh", "rlh", "vw", "vh", "vi", "vb", "vmin", "vmax", "cm", "mm", "Q", "in", "pc", "pt", "px"],
    fixed: ["px", "pt"],
    relative: ["%"],
    empty: [""]
  },
      uT = (E_ = ["Infinity", (__ = "[0-9]+") + "\\." + aT(__) + aT(T_ = "[eE][+-]?[0-9]+"), "\\." + __ + aT(T_), __ + aT(T_)].join("|"), new RegExp("^([+-]?(?:" + E_ + "))(.*)$"));

  function aT(t) {
    return "(?:" + t + ")?";
  }

  function cT(u, a) {
    function n() {
      var t = a.getOptions(u),
          r = a.getCurrent(u).map(a.hash),
          i = fc();
      return A(t, function (o) {
        return {
          type: "togglemenuitem",
          text: a.display(o),
          onSetup: function onSetup(n) {
            function t(t) {
              t && (i.on(function (t) {
                return t.setActive(!1);
              }), i.set(n)), n.setActive(t);
            }

            t(Kr(r, a.hash(o)));
            var e = a.watcher(u, o, t);
            return function () {
              i.clear(), e();
            };
          },
          onAction: function onAction() {
            return a.setCurrent(u, o);
          }
        };
      });
    }

    u.ui.registry.addMenuButton(a.name, {
      tooltip: a.text,
      icon: a.icon,
      fetch: function fetch(t) {
        return t(n());
      },
      onSetup: a.onToolbarSetup
    }), u.ui.registry.addNestedMenuItem(a.name, {
      type: "nestedmenuitem",
      text: a.text,
      getSubmenuItems: n,
      onSetup: a.onMenuSetup
    });
  }

  function sT(t, n) {
    return function () {
      t.execCommand("mceToggleFormat", !1, n);
    };
  }

  function lT(t) {
    var n, e;
    !function (e) {
      Ow.each([{
        name: "bold",
        text: "Bold",
        icon: "bold"
      }, {
        name: "italic",
        text: "Italic",
        icon: "italic"
      }, {
        name: "underline",
        text: "Underline",
        icon: "underline"
      }, {
        name: "strikethrough",
        text: "Strikethrough",
        icon: "strike-through"
      }, {
        name: "subscript",
        text: "Subscript",
        icon: "subscript"
      }, {
        name: "superscript",
        text: "Superscript",
        icon: "superscript"
      }], function (t, n) {
        e.ui.registry.addToggleButton(t.name, {
          tooltip: t.text,
          icon: t.icon,
          onSetup: e1(e, t.name),
          onAction: sT(e, t.name)
        });
      });

      for (var t = 1; t <= 6; t++) {
        var n = "h" + t;
        e.ui.registry.addToggleButton(n, {
          text: n.toUpperCase(),
          tooltip: "Heading " + t,
          onSetup: e1(e, n),
          onAction: sT(e, n)
        });
      }
    }(t), n = t, Ow.each([{
      name: "cut",
      text: "Cut",
      action: "Cut",
      icon: "cut"
    }, {
      name: "copy",
      text: "Copy",
      action: "Copy",
      icon: "copy"
    }, {
      name: "paste",
      text: "Paste",
      action: "Paste",
      icon: "paste"
    }, {
      name: "help",
      text: "Help",
      action: "mceHelp",
      icon: "help"
    }, {
      name: "selectall",
      text: "Select all",
      action: "SelectAll",
      icon: "select-all"
    }, {
      name: "newdocument",
      text: "New document",
      action: "mceNewDocument",
      icon: "new-document"
    }, {
      name: "removeformat",
      text: "Clear formatting",
      action: "RemoveFormat",
      icon: "remove-formatting"
    }, {
      name: "remove",
      text: "Remove",
      action: "Delete",
      icon: "remove"
    }], function (t) {
      n.ui.registry.addButton(t.name, {
        tooltip: t.text,
        icon: t.icon,
        onAction: i1(n, t.action)
      });
    }), e = t, Ow.each([{
      name: "blockquote",
      text: "Blockquote",
      action: "mceBlockQuote",
      icon: "quote"
    }], function (t) {
      e.ui.registry.addToggleButton(t.name, {
        tooltip: t.text,
        icon: t.icon,
        onAction: i1(e, t.action),
        onSetup: e1(e, t.name)
      });
    });
  }

  function fT(n, e) {
    return o1(n, "Undo Redo AddUndo TypingUndo ClearUndos SwitchMode", function (t) {
      t.setDisabled(n.mode.isReadOnly() || !n.undoManager[e]());
    });
  }

  function dT(t) {
    var n;
    t.ui.registry.addButton("visualaid", {
      tooltip: "Visual aids",
      text: "Visual aids",
      onAction: i1(t, "mceToggleVisualAid")
    }), t.ui.registry.addToggleMenuItem("visualaid", {
      text: "Visual aids",
      onSetup: o1(n = t, "VisualAid", function (t) {
        t.setActive(n.hasVisual);
      }),
      onAction: i1(t, "mceToggleVisualAid")
    });
  }

  function mT(t, n) {
    var e,
        o,
        r,
        i,
        u,
        a,
        c,
        s,
        l,
        f,
        d,
        m,
        g,
        p,
        h,
        v,
        b,
        y,
        x,
        w,
        S,
        k,
        C,
        O,
        _,
        T = t;

    dt([{
      name: "alignleft",
      text: "Align left",
      cmd: "JustifyLeft",
      icon: "align-left"
    }, {
      name: "aligncenter",
      text: "Align center",
      cmd: "JustifyCenter",
      icon: "align-center"
    }, {
      name: "alignright",
      text: "Align right",
      cmd: "JustifyRight",
      icon: "align-right"
    }, {
      name: "alignjustify",
      text: "Justify",
      cmd: "JustifyFull",
      icon: "align-justify"
    }], function (t) {
      T.ui.registry.addToggleButton(t.name, {
        tooltip: t.text,
        icon: t.icon,
        onAction: i1(T, t.cmd),
        onSetup: e1(T, t.name)
      });
    }), T.ui.registry.addButton("alignnone", {
      tooltip: "No alignment",
      icon: "align-none",
      onAction: i1(T, "JustifyNone")
    }), lT(O = t), _ = O, Ow.each([{
      name: "bold",
      text: "Bold",
      action: "Bold",
      icon: "bold",
      shortcut: "Meta+B"
    }, {
      name: "italic",
      text: "Italic",
      action: "Italic",
      icon: "italic",
      shortcut: "Meta+I"
    }, {
      name: "underline",
      text: "Underline",
      action: "Underline",
      icon: "underline",
      shortcut: "Meta+U"
    }, {
      name: "strikethrough",
      text: "Strikethrough",
      action: "Strikethrough",
      icon: "strike-through",
      shortcut: ""
    }, {
      name: "subscript",
      text: "Subscript",
      action: "Subscript",
      icon: "subscript",
      shortcut: ""
    }, {
      name: "superscript",
      text: "Superscript",
      action: "Superscript",
      icon: "superscript",
      shortcut: ""
    }, {
      name: "removeformat",
      text: "Clear formatting",
      action: "RemoveFormat",
      icon: "remove-formatting",
      shortcut: ""
    }, {
      name: "newdocument",
      text: "New document",
      action: "mceNewDocument",
      icon: "new-document",
      shortcut: ""
    }, {
      name: "cut",
      text: "Cut",
      action: "Cut",
      icon: "cut",
      shortcut: "Meta+X"
    }, {
      name: "copy",
      text: "Copy",
      action: "Copy",
      icon: "copy",
      shortcut: "Meta+C"
    }, {
      name: "paste",
      text: "Paste",
      action: "Paste",
      icon: "paste",
      shortcut: "Meta+V"
    }, {
      name: "selectall",
      text: "Select all",
      action: "SelectAll",
      icon: "select-all",
      shortcut: "Meta+A"
    }], function (t) {
      _.ui.registry.addMenuItem(t.name, {
        text: t.text,
        icon: t.icon,
        shortcut: t.shortcut,
        onAction: i1(_, t.action)
      });
    }), _.ui.registry.addMenuItem("codeformat", {
      text: "Code",
      icon: "sourcecode",
      onAction: sT(_, "code")
    }), C = u1(0, d = l = n, JO(f = s = t)), f.ui.registry.addNestedMenuItem("align", {
      text: d.shared.providers.translate("Align"),
      getSubmenuItems: function getSubmenuItems() {
        return C.items.validateItems(C.getStyleItems());
      }
    }), p = u1(0, g = l, QO(m = s)), m.ui.registry.addNestedMenuItem("fontformats", {
      text: g.shared.providers.translate("Fonts"),
      getSubmenuItems: function getSubmenuItems() {
        return p.items.validateItems(p.getStyleItems());
      }
    }), h = s, b = _st({
      type: "advanced"
    }, (v = l).styleselect), y = u1(0, v, e_(h, b)), h.ui.registry.addNestedMenuItem("formats", {
      text: "Formats",
      getSubmenuItems: function getSubmenuItems() {
        return y.items.validateItems(y.getStyleItems());
      }
    }), w = u1(0, l, n_(x = s)), x.ui.registry.addNestedMenuItem("blockformats", {
      text: "Blocks",
      getSubmenuItems: function getSubmenuItems() {
        return w.items.validateItems(w.getStyleItems());
      }
    }), k = u1(0, l, ZO(S = s)), S.ui.registry.addNestedMenuItem("fontsizes", {
      text: "Font sizes",
      getSubmenuItems: function getSubmenuItems() {
        return k.items.validateItems(k.getStyleItems());
      }
    }), (a = u = t).ui.registry.addMenuItem("undo", {
      text: "Undo",
      icon: "undo",
      shortcut: "Meta+Z",
      onSetup: fT(a, "hasUndo"),
      onAction: i1(a, "undo")
    }), a.ui.registry.addMenuItem("redo", {
      text: "Redo",
      icon: "redo",
      shortcut: "Meta+Y",
      onSetup: fT(a, "hasRedo"),
      onAction: i1(a, "redo")
    }), (c = u).ui.registry.addButton("undo", {
      tooltip: "Undo",
      icon: "undo",
      disabled: !0,
      onSetup: fT(c, "hasUndo"),
      onAction: i1(c, "undo")
    }), c.ui.registry.addButton("redo", {
      tooltip: "Redo",
      icon: "redo",
      disabled: !0,
      onSetup: fT(c, "hasRedo"),
      onAction: i1(c, "redo")
    }), function (t) {
      var i;
      (i = t).addCommand("mceApplyTextcolor", function (t, n) {
        var e,
            o = t,
            r = n;
        (e = i).undoManager.transact(function () {
          e.focus(), e.formatter.apply(o, {
            value: r
          }), e.nodeChanged();
        });
      }), i.addCommand("mceRemoveTextcolor", function (t) {
        var n,
            e = t;
        (n = i).undoManager.transact(function () {
          n.focus(), n.formatter.remove(e, {
            value: null
          }, null, !0), n.nodeChanged();
        });
      });
      var n = wn(null),
          e = wn(null);
      xb(t, "forecolor", "forecolor", "Text color", n), xb(t, "backcolor", "hilitecolor", "Background color", e), wb(t, "forecolor", "forecolor", "Text color"), wb(t, "backcolor", "hilitecolor", "Background color");
    }(t), dT(t), (r = t).ui.registry.addButton("outdent", {
      tooltip: "Decrease indent",
      icon: "outdent",
      onSetup: o1(i = r, "NodeChange", function (t) {
        t.setDisabled(!i.queryCommandState("outdent"));
      }),
      onAction: i1(r, "outdent")
    }), r.ui.registry.addButton("indent", {
      tooltip: "Increase indent",
      icon: "indent",
      onAction: i1(r, "indent")
    }), cT(e = t, QT), o = e, ft.from(o.getParam("content_langs", void 0, "array")).map(function (t) {
      return {
        name: "language",
        text: "Language",
        icon: "language",
        getOptions: tt(t),
        hash: function hash(t) {
          return E(t.customCode) ? t.code : t.code + "/" + t.customCode;
        },
        display: function display(t) {
          return t.title;
        },
        watcher: function watcher(t, n, e) {
          return t.formatter.formatChanged("lang", e, !1, {
            value: n.code,
            customValue: n.customCode
          }).unbind;
        },
        getCurrent: function getCurrent(t) {
          return Re(de.fromDom(t.selection.getNode()), function (t) {
            return ft.some(t).filter(Ri).bind(function (n) {
              return Tr(n, "lang").map(function (t) {
                return {
                  code: t,
                  customCode: Tr(n, "data-mce-lang").getOrUndefined(),
                  title: ""
                };
              });
            });
          });
        },
        setCurrent: function setCurrent(t, n) {
          return t.execCommand("Lang", !1, n);
        },
        onToolbarSetup: function onToolbarSetup(t) {
          var n = lc();
          return t.setActive(o.formatter.match("lang", {}, void 0, !0)), n.set(o.formatter.formatChanged("lang", t.setActive, !0)), n.clear;
        }
      };
    }).each(function (t) {
      return cT(e, t);
    });
  }

  function gT(t, n) {
    return {
      type: "makeshift",
      x: t,
      y: n
    };
  }

  function pT(t) {
    return "longpress" === t.type || 0 === t.type.indexOf("touch");
  }

  function hT(t, n) {
    return "contextmenu" === n.type || "longpress" === n.type ? t.inline ? function (t) {
      if (pT(t)) {
        var n = t.touches[0];
        return gT(n.pageX, n.pageY);
      }

      return gT(t.pageX, t.pageY);
    }(n) : (e = t.getContentAreaContainer(), o = function (t) {
      if (pT(t)) {
        var n = t.touches[0];
        return gT(n.clientX, n.clientY);
      }

      return gT(t.clientX, t.clientY);
    }(n), r = Zh.DOM.getPos(e), i = r.x, u = r.y, gT(o.x + i, o.y + u)) : ZT(t);
    var e, o, r, i, u;
  }

  function vT(t, n, e) {
    switch (e) {
      case "node":
        return {
          type: "node",
          node: ft.some(de.fromDom((o = t).selection.getNode())),
          root: de.fromDom(o.getBody())
        };

      case "point":
        return hT(t, n);

      case "selection":
        return ZT(t);
    }

    var o;
  }

  function bT(f, d, m, g, p, h) {
    function t() {
      var n,
          e,
          t,
          o,
          r,
          i,
          u,
          a,
          c,
          s,
          l = m();
      t = l, o = g, r = p, u = !(y || v || b && x), c = vT(n = f, e = d, a = i = h), s = _st({
        bubble: yc(0, "point" === a ? 12 : 0, nE),
        layouts: tE,
        overrides: {
          maxWidthFunction: TO(),
          maxHeightFunction: Fc()
        }
      }, c), fS(t, yh.CLOSE_ON_EXECUTE, o, !0).map(function (t) {
        e.preventDefault(), op.showMenuWithinBounds(r, {
          anchor: s
        }, {
          menu: {
            markers: Kp("normal"),
            highlightImmediately: u
          },
          data: t,
          type: "horizontal"
        }, function () {
          return ft.some(y_(n, o.shared, "node" === i ? "node" : "selection"));
        }), n.fire(J_);
      });
    }

    var n,
        e = Be(),
        v = e.os.isiOS(),
        b = e.os.isOSX(),
        y = e.os.isAndroid(),
        x = e.deviceType.isTouch();
    (b || v) && "node" !== h ? (n = function n() {
      (function (t) {
        function n() {
          ap.setEditorTimeout(t, function () {
            t.selection.setRng(e);
          }, 10), i();
        }

        var e = t.selection.getRng();

        function o(t) {
          t.preventDefault(), t.stopImmediatePropagation();
        }

        function r() {
          return i();
        }

        t.once("touchend", n), t.on("mousedown", o, !0), t.once("longpresscancel", r);

        var i = function i() {
          t.off("touchend", n), t.off("longpresscancel", r), t.off("mousedown", o);
        };
      })(f), t();
    }, function (t, n) {
      var e = t.selection;

      if (!(e.isCollapsed() || n.touches.length < 1)) {
        var o = n.touches[0],
            r = e.getRng();
        return vs(t.getWin(), ls.domRange(r)).exists(function (t) {
          return t.left <= o.clientX && t.right >= o.clientX && t.top <= o.clientY && t.bottom >= o.clientY;
        });
      }
    }(f, d) ? n() : (f.once("selectionchange", n), f.once("touchend", function () {
      return f.off("selectionchange", n);
    }))) : t();
  }

  function yT(t) {
    return "string" == typeof t ? t.split(/[ ,]/) : t;
  }

  function xT(t) {
    return t.getParam("contextmenu_never_use_native", !1, "boolean");
  }

  function wT(t) {
    return y(t) ? "|" === t : "separator" === t.type;
  }

  function ST(t, n) {
    if (0 === n.length) return t;
    var e = Y(t).filter(function (t) {
      return !wT(t);
    }).fold(function () {
      return [];
    }, function (t) {
      return [eE];
    });
    return t.concat(e).concat(n).concat([eE]);
  }

  function kT(t, n) {
    return "longpress" !== n.type && (2 !== n.button || n.target === t.getBody() && "" === n.pointerType);
  }

  function CT(t, n) {
    return kT(t, n) ? t.selection.getStart(!0) : n.target;
  }

  function OT(s, t, n) {
    function e(t) {
      return op.hide(i);
    }

    function o(c) {
      var t;
      xT(s) && c.preventDefault(), c.ctrlKey && !xT(s) || !1 === s.getParam("contextmenu") || (t = function (t, n) {
        var e = t.getParam("contextmenu_avoid_overlap", "", "string"),
            o = kT(t, n) ? "selection" : "point";

        if (On(e)) {
          var r = CT(t, n);
          return jb(de.fromDom(r), e) ? "node" : o;
        }

        return o;
      }(s, c), (r() ? bT : function (t, n, e, o, r, i) {
        var u = e(),
            a = vT(t, n, i);
        fS(u, yh.CLOSE_ON_EXECUTE, o, !1).map(function (t) {
          n.preventDefault(), op.showMenuAt(r, {
            anchor: a
          }, {
            menu: {
              markers: Kp("normal")
            },
            data: t
          });
        });
      })(s, c, function () {
        var t,
            n,
            e,
            o = CT(s, c),
            r = s.ui.registry.getAll(),
            i = (e = (n = s).ui.registry.getAll().contextMenus, ft.from(n.getParam("contextmenu")).map(yT).getOrThunk(function () {
          return F(yT("link linkchecker image imagetools table spellchecker configurepermanentpen"), function (t) {
            return Kn(e, t);
          });
        })),
            u = r.contextMenus,
            a = o;
        return 0 < (t = R(i, function (o, t) {
          return kt(u, t.toLowerCase()).map(function (t) {
            var n = t.update(a);
            if (y(n)) return ST(o, n.split(" "));

            if (0 < n.length) {
              var e = A(n, oE);
              return ST(o, e);
            }

            return o;
          }).getOrThunk(function () {
            return o.concat([t]);
          });
        }, [])).length && wT(t[t.length - 1]) && t.pop(), t;
      }, n, i, t));
    }

    var r = Be().deviceType.isTouch,
        i = bu(op.sketch({
      dom: {
        tag: "div"
      },
      lazySink: t,
      onEscape: function onEscape() {
        return s.focus();
      },
      onShow: function onShow() {
        return n.setContextMenuState(!0);
      },
      onHide: function onHide() {
        return n.setContextMenuState(!1);
      },
      fireDismissalEventInstead: {},
      inlineBehaviours: Za([lm("dismissContextMenu", [Xe(Lo(), function (t, n) {
        pf.close(t), s.focus();
      })])])
    }));
    s.on("init", function () {
      var t = "ResizeEditor ScrollContent ScrollWindow longpresscancel" + (r() ? "" : " ResizeWindow");
      s.on(t, e), s.on("longpress contextmenu", o);
    });
  }

  function _T(n) {
    return function (t) {
      return t.translate(-n.left, -n.top);
    };
  }

  function TT(n) {
    return function (t) {
      return t.translate(n.left, n.top);
    };
  }

  function ET(e) {
    return function (t, n) {
      return R(e, function (t, n) {
        return n(t);
      }, Su(t, n));
    };
  }

  function DT(t, n, e) {
    return t.fold(ET([TT(e), _T(n)]), ET([_T(n)]), ET([]));
  }

  function BT(t, n, e) {
    return t.fold(ET([TT(e)]), ET([]), ET([TT(n)]));
  }

  function AT(t, n, e) {
    return t.fold(ET([]), ET([_T(e)]), ET([TT(n), _T(e)]));
  }

  function MT(t, n, e) {
    var o = t.fold(function (t, n) {
      return {
        position: ft.some("absolute"),
        left: ft.some(t + "px"),
        top: ft.some(n + "px")
      };
    }, function (t, n) {
      return {
        position: ft.some("absolute"),
        left: ft.some(t - e.left + "px"),
        top: ft.some(n - e.top + "px")
      };
    }, function (t, n) {
      return {
        position: ft.some("fixed"),
        left: ft.some(t + "px"),
        top: ft.some(n + "px")
      };
    });
    return _st({
      right: ft.none(),
      bottom: ft.none()
    }, o);
  }

  function FT(t, i, u, a) {
    function n(o, r) {
      return function (t, n) {
        var e = o(i, u, a);
        return r(t.getOr(e.left), n.getOr(e.top));
      };
    }

    return t.fold(n(AT, iE), n(BT, uE), n(DT, aE));
  }

  function IT(t, n) {
    var e = _r(t, n);

    return E(e) ? NaN : parseInt(e, 10);
  }

  function RT(t, n, e, o, r, i) {
    var u,
        a,
        c,
        s,
        l,
        f,
        d = (u = e, a = o, l = IT(s = t.element, (c = n).leftAttr), f = IT(s, c.topAttr), (isNaN(l) || isNaN(f) ? ft.none() : ft.some(Su(l, f))).fold(function () {
      return u;
    }, function (t) {
      return aE(t.left + a.left, t.top + a.top);
    })),
        m = (n.mustSnap ? cE : sE)(t, n, d, r, i),
        g = DT(d, r, i),
        p = n,
        h = g,
        v = t.element;
    return Or(v, p.leftAttr, h.left + "px"), Or(v, p.topAttr, h.top + "px"), m.fold(function () {
      return {
        coord: aE(g.left, g.top),
        extra: ft.none()
      };
    }, function (t) {
      return {
        coord: t.output,
        extra: t.extra
      };
    });
  }

  function VT(t, c, s, l) {
    return q(t, function (t) {
      var n,
          e,
          o = t.sensor,
          r = t.range.left,
          i = t.range.top,
          u = BT(c, n = s, e = l),
          a = BT(o, n, e);
      return Math.abs(u.left - a.left) <= r && Math.abs(u.top - a.top) <= i ? ft.some({
        output: FT(t.output, c, s, l),
        extra: t.extra
      }) : ft.none();
    });
  }

  function PT(t, n) {
    var e;
    t.getSystem().addToGui(n), ar((e = n).element).filter(Ri).each(function (n) {
      ii(n, "z-index").each(function (t) {
        Or(n, fE, t);
      }), ni(n, "z-index", ri(e.element, "z-index"));
    });
  }

  function HT(t) {
    ar(t.element).filter(Ri).each(function (n) {
      Tr(n, fE).fold(function () {
        return ai(n, "z-index");
      }, function (t) {
        return ni(n, "z-index", t);
      }), Dr(n, fE);
    }), t.getSystem().removeFromGui(t);
  }

  function zT(t, n, e) {
    return t.getSystem().build(sy.sketch({
      dom: {
        styles: {
          left: "0px",
          top: "0px",
          width: "100%",
          height: "100%",
          position: "fixed",
          "z-index": "1000000000000000"
        },
        classes: [n]
      },
      events: e
    }));
  }

  function NT(t, n) {
    return {
      bounds: t.getBounds(),
      height: bi(n.element),
      width: Si(n.element)
    };
  }

  function LT(B, A, t, n, e) {
    var o = t.update(n, e),
        M = t.getStartData().getOrThunk(function () {
      return NT(A, B);
    });
    o.each(function (t) {
      var n,
          e,
          o,
          r,
          i,
          u,
          a,
          c,
          s,
          l,
          f,
          d,
          m,
          g,
          p,
          h,
          v,
          b,
          y,
          x,
          w,
          S,
          k,
          C,
          O,
          _ = B,
          T = M,
          E = t,
          D = (n = A).getTarget(_.element);
      n.repositionTarget && (e = Oi(or(_.element)), o = tC(D), S = ii(w = D, "left"), k = ii(w, "top"), C = ii(w, "position"), O = function O(t, n, e) {
        return ("fixed" === e ? aE : iE)(parseInt(t, 10), parseInt(n, 10));
      }, r = (S.isSome() && k.isSome() && C.isSome() ? ft.some(O(S.getOrDie(), k.getOrDie(), C.getOrDie())) : ft.none()).getOrThunk(function () {
        var t = xi(w);
        return uE(t.left, t.top);
      }), i = _, u = n.snaps, a = r, c = e, s = o, l = E, f = T, m = u.fold(function () {
        var e,
            o,
            t = DT((e = l.left, o = l.top, a.fold(function (t, n) {
          return iE(t + e, n + o);
        }, function (t, n) {
          return uE(t + e, n + o);
        }, function (t, n) {
          return aE(t + e, n + o);
        })), c, s);
        return aE(t.left, t.top);
      }, function (n) {
        var t = RT(i, n, a, l, c, s);
        return t.extra.each(function (t) {
          n.onSensor(i, t);
        }), t.coord;
      }), g = c, p = s, h = (d = f).bounds, v = BT(m, g, p), b = oa(v.left, h.x, h.x + h.width - d.width), y = oa(v.top, h.y, h.y + h.height - d.height), x = uE(b, y), oi(D, MT(m.fold(function () {
        var t = AT(x, g, p);
        return iE(t.left, t.top);
      }, tt(x), function () {
        var t = DT(x, g, p);
        return aE(t.left, t.top);
      }), 0, o))), n.onDrag(_, D, E);
    });
  }

  function jT(o, t, n, e) {
    t.each(HT), n.snaps.each(function (t) {
      var n, e;
      n = t, Dr(e = o.element, n.leftAttr), Dr(e, n.topAttr);
    });
    var r = n.getTarget(o.element);
    e.reset(), n.onDrop(o, r);
  }

  function WT(t) {
    return function (n, e) {
      function o(t) {
        e.setStartData(NT(n, t));
      }

      return Jo(H([Xe(Po(), function (t) {
        e.getStartData().each(function () {
          return o(t);
        });
      })], t(n, e, o)));
    };
  }

  function UT(a, c, s) {
    return [Xe(uo(), function (n, t) {
      var e, o, r, i, u;
      0 === t.event.raw.button && (t.stop(), r = {
        drop: e = function e() {
          return jT(n, ft.some(i), a, c);
        },
        delayDrop: (o = Wb(e, 200)).schedule,
        forceDrop: e,
        move: function move(t) {
          o.cancel(), LT(n, a, c, gE, t);
        }
      }, i = zT(n, a.blockerClass, (u = r, Jo([Xe(uo(), u.forceDrop), Xe(so(), u.drop), Xe(ao(), function (t, n) {
        u.move(n.event);
      }), Xe(co(), u.delayDrop)]))), s(n), PT(n, i));
    })];
  }

  function GT(a, c, s) {
    function l(t) {
      jT(t, f.get(), a, c), f.clear();
    }

    var f = fc();
    return [Xe(eo(), function (n, t) {
      function e() {
        return l(n);
      }

      t.stop();
      var o,
          r,
          i,
          u = zT(n, a.blockerClass, (r = o = e, i = function i(t) {
        LT(n, a, c, hE, t);
      }, Jo([Xe(eo(), r), Xe(ro(), o), Xe(io(), o), Xe(oo(), function (t, n) {
        i(n.event);
      })])));
      f.set(u), s(n), PT(n, u);
    }), Xe(oo(), function (t, n) {
      n.stop(), LT(t, a, c, hE, n.event);
    }), Xe(ro(), function (t, n) {
      n.stop(), l(t);
    }), Xe(io(), l)];
  }

  function XT(t, r, i, u, n, e) {
    return t.fold(function () {
      return yE.snap({
        sensor: uE(i - 20, u - 20),
        range: Su(n, e),
        output: uE(ft.some(i), ft.some(u)),
        extra: {
          td: r
        }
      });
    }, function (t) {
      var n = i - 20,
          e = u - 20,
          o = t.element.dom.getBoundingClientRect();
      return yE.snap({
        sensor: uE(n, e),
        range: Su(40, 40),
        output: uE(ft.some(i - o.width / 2), ft.some(u - o.height / 2)),
        extra: {
          td: r
        }
      });
    });
  }

  function YT(t, i, u) {
    return {
      getSnapPoints: t,
      leftAttr: "data-drag-left",
      topAttr: "data-drag-top",
      onSensor: function onSensor(t, n) {
        var e = n.td,
            o = i.get(),
            r = e;
        o.exists(function (t) {
          return Bn(t, r);
        }) || (i.set(e), u(e));
      },
      mustSnap: !0
    };
  }

  function qT(t) {
    return Vm(cp.sketch({
      dom: {
        tag: "div",
        classes: ["tox-selector"]
      },
      buttonBehaviours: Za([yE.config({
        mode: "mouseOrTouch",
        blockerClass: "blocker",
        snaps: t
      }), A0.config({})]),
      eventOrder: {
        mousedown: ["dragging", "alloy.base.behaviour"],
        touchstart: ["dragging", "alloy.base.behaviour"]
      }
    }));
  }

  function KT(a, e) {
    function n(t) {
      var n = Mi(t);
      return XT(g.getOpt(e), t, n.x, n.y, n.width, n.height);
    }

    function o(t) {
      var n = Mi(t);
      return XT(p.getOpt(e), t, n.right, n.bottom, n.width, n.height);
    }

    function r(t, i, n, u) {
      var e = n(i);
      yE.snapTo(t, e), function (t) {
        var n = i.dom.getBoundingClientRect();
        ai(t.element, "display");
        var e = ur(de.fromDom(a.getBody())).dom.innerHeight,
            o = n[u] < 0,
            r = n[u] > e;
        (o || r) && ni(t.element, "display", "none");
      }(t);
    }

    function i(t) {
      return r(h, t, n, "top");
    }

    function u(t) {
      return r(v, t, o, "bottom");
    }

    var c = wn([]),
        s = wn([]),
        t = wn(!1),
        l = fc(),
        f = fc(),
        d = YT(function () {
      return A(c.get(), n);
    }, l, function (n) {
      f.get().each(function (t) {
        a.fire("TableSelectorChange", {
          start: n,
          finish: t
        });
      });
    }),
        m = YT(function () {
      return A(s.get(), o);
    }, f, function (n) {
      l.get().each(function (t) {
        a.fire("TableSelectorChange", {
          start: t,
          finish: n
        });
      });
    }),
        g = qT(d),
        p = qT(m),
        h = bu(g.asSpec()),
        v = bu(p.asSpec());
    Be().deviceType.isTouch() && (a.on("TableSelectionChange", function (n) {
      t.get() || (Fs(e, h), Fs(e, v), t.set(!0)), l.set(n.start), f.set(n.finish), n.otherCells.each(function (t) {
        c.set(t.upOrLeftCells), s.set(t.downOrRightCells), i(n.start), u(n.finish);
      });
    }), a.on("ResizeEditor ResizeWindow ScrollContent", function () {
      l.get().each(i), f.get().each(u);
    }), a.on("TableSelectionClear", function () {
      t.get() && (Rs(h), Rs(v), t.set(!1)), l.clear(), f.clear();
    }));
  }

  var JT,
      $T,
      QT = {
    name: "lineheight",
    text: "Line height",
    icon: "line-height",
    getOptions: function getOptions(t) {
      return t.getParam("lineheight_formats", "1 1.1 1.2 1.3 1.4 1.5 2", "string").split(" ");
    },
    hash: function hash(t) {
      return r = ["fixed", "relative", "empty"], ft.from(uT.exec(t)).bind(function (t) {
        var n = Number(t[1]),
            e = t[2],
            o = e;
        return T(r, function (t) {
          return T(iT[t], function (t) {
            return o === t;
          });
        }) ? ft.some({
          value: n,
          unit: e
        }) : ft.none();
      }).map(function (t) {
        return t.value + t.unit;
      }).getOr(t);
      var r;
    },
    display: h,
    watcher: function watcher(t, n, e) {
      return t.formatter.formatChanged("lineheight", e, !1, {
        value: n
      }).unbind;
    },
    getCurrent: function getCurrent(t) {
      return ft.from(t.queryCommandValue("LineHeight"));
    },
    setCurrent: function setCurrent(t, n) {
      return t.execCommand("LineHeight", !1, n);
    }
  },
      ZT = function ZT(t) {
    return {
      type: "selection",
      root: de.fromDom(t.selection.getNode())
    };
  },
      tE = {
    onLtr: function onLtr() {
      return [Ka, Ua, Ga, Xa, Ya, qa, ip, up, Dm, Tm, Em, _m];
    },
    onRtl: function onRtl() {
      return [Ka, Ga, Ua, Ya, Xa, qa, ip, up, Em, _m, Dm, Tm];
    }
  },
      nE = {
    valignCentre: [],
    alignCentre: [],
    alignLeft: ["tox-pop--align-left"],
    alignRight: ["tox-pop--align-right"],
    right: ["tox-pop--right"],
    left: ["tox-pop--left"],
    bottom: ["tox-pop--bottom"],
    top: ["tox-pop--top"]
  },
      eE = {
    type: "separator"
  },
      oE = function oE(n) {
    function t(t) {
      return {
        text: t.text,
        icon: t.icon,
        disabled: t.disabled,
        shortcut: t.shortcut
      };
    }

    var e;
    if (y(n)) return n;

    switch (n.type) {
      case "separator":
        return eE;

      case "submenu":
        return _st(_st({
          type: "nestedmenuitem"
        }, t(n)), {
          getSubmenuItems: function getSubmenuItems() {
            var t = n.getSubmenuItems();
            return y(t) ? t : A(t, oE);
          }
        });

      default:
        return _st(_st({
          type: "menuitem"
        }, t(n)), {
          onAction: (e = n.onAction, function () {
            return e();
          })
        });
    }
  },
      rE = Vn([{
    offset: ["x", "y"]
  }, {
    absolute: ["x", "y"]
  }, {
    fixed: ["x", "y"]
  }]),
      iE = rE.offset,
      uE = rE.absolute,
      aE = rE.fixed,
      cE = function cE(t, n, l, f, d) {
    var e = n.getSnapPoints(t);
    return VT(e, l, f, d).orThunk(function () {
      return R(e, function (n, e) {
        var t,
            o,
            r,
            i,
            u,
            a,
            c,
            s = (t = e.sensor, e.range.left, e.range.top, i = BT(l, o = f, r = d), u = BT(t, o, r), a = Math.abs(i.left - u.left), c = Math.abs(i.top - u.top), Su(a, c));
        return n.deltas.fold(function () {
          return {
            deltas: ft.some(s),
            snap: ft.some(e)
          };
        }, function (t) {
          return (s.left + s.top) / 2 <= (t.left + t.top) / 2 ? {
            deltas: ft.some(s),
            snap: ft.some(e)
          } : n;
        });
      }, {
        deltas: ft.none(),
        snap: ft.none()
      }).snap.map(function (t) {
        return {
          output: FT(t.output, l, f, d),
          extra: t.extra
        };
      });
    });
  },
      sE = function sE(t, n, e, o, r) {
    return VT(n.getSnapPoints(t), e, o, r);
  },
      lE = Object.freeze({
    __proto__: null,
    snapTo: function snapTo(t, n, e, o) {
      var r,
          i,
          u,
          a = n.getTarget(t.element);
      n.repositionTarget && (r = Oi(or(t.element)), i = tC(a), oi(a, MT({
        coord: FT((u = o).output, u.output, r, i),
        extra: u.extra
      }.coord, 0, i)));
    }
  }),
      fE = "data-initial-z-index",
      dE = fn("snaps", [Jt("getSnapPoints"), Ku("onSensor"), Jt("leftAttr"), Jt("topAttr"), dn("lazyViewport", Fi), dn("mustSnap", !1)]),
      mE = [dn("useFixed", O), Jt("blockerClass"), dn("getTarget", h), dn("onDrag", ct), dn("repositionTarget", !0), dn("onDrop", ct), bn("getBounds", Fi), dE],
      gE = Object.freeze({
    __proto__: null,
    getData: function getData(t) {
      return ft.from(Su(t.x, t.y));
    },
    getDelta: function getDelta(t, n) {
      return Su(n.left - t.left, n.top - t.top);
    }
  }),
      pE = H(H([], mE), [Zu("dragger", {
    handlers: WT(UT)
  })]),
      hE = Object.freeze({
    __proto__: null,
    getData: function getData(t) {
      var n,
          e = t.raw.touches;
      return 1 === e.length ? (n = e[0], ft.some(Su(n.clientX, n.clientY))) : ft.none();
    },
    getDelta: function getDelta(t, n) {
      return Su(n.left - t.left, n.top - t.top);
    }
  }),
      vE = H(H([], mE), [Zu("dragger", {
    handlers: WT(GT)
  })]),
      bE = H(H([], mE), [Zu("dragger", {
    handlers: WT(function (t, n, e) {
      return H(H([], UT(t, n, e)), GT(t, n, e));
    })
  })]),
      yE = wa({
    branchKey: "mode",
    branches: Object.freeze({
      __proto__: null,
      mouse: pE,
      touch: vE,
      mouseOrTouch: bE
    }),
    name: "dragging",
    active: {
      events: function events(t, n) {
        return t.dragger.handlers(t, n);
      }
    },
    extra: {
      snap: function snap(t) {
        return {
          sensor: t.sensor,
          range: t.range,
          output: t.output,
          extra: ft.from(t.extra)
        };
      }
    },
    state: Object.freeze({
      __proto__: null,
      init: function init() {
        var i = ft.none(),
            n = ft.none(),
            t = tt({});
        return au({
          readState: t,
          reset: function reset() {
            i = ft.none(), n = ft.none();
          },
          update: function update(r, t) {
            return r.getData(t).bind(function (t) {
              return n = r, e = t, o = i.map(function (t) {
                return n.getDelta(t, e);
              }), i = ft.some(e), o;
              var n, e, o;
            });
          },
          getStartData: function getStartData() {
            return n;
          },
          setStartData: function setStartData(t) {
            n = ft.some(t);
          }
        });
      }
    }),
    apis: lE
  });

  function xE(t, n, e) {
    var o,
        r,
        i,
        u,
        a,
        c,
        s = de.fromDom(t.getContainer());
    bt((o = t, r = n, i = e, u = vi(s), a = wi(s), (c = {}).height = d_(u + r.top, sh(o), fh(o)), i === JT.Both && (c.width = d_(a + r.left, ch(o), lh(o))), c), function (t, n) {
      return ni(s, n, f_(t)), 0;
    }), t.fire("ResizeEditor");
  }

  function wE(t, n, e, o) {
    return xE(t, Su(20 * e, 20 * o), n), ft.some(!0);
  }

  function SE(t, n) {
    var e, o, r, i, u, a, c, s, l, f, d, m, g, p, h, v;
    return {
      dom: {
        tag: "div",
        classes: ["tox-statusbar"]
      },
      components: (v = [], t.getParam("elementpath", !0, "boolean") && v.push((g = t, h = n, (p = {}).delimiter || (p.delimiter = "\xbb"), {
        dom: {
          tag: "div",
          classes: ["tox-statusbar__path"],
          attributes: {
            role: "navigation"
          }
        },
        behaviours: Za([Bg.config({
          mode: "flow",
          selector: "div[role=button]"
        }), fd.config({
          disabled: h.isDisabled
        }), dv(), gy.config({}), Mg.config({}), lm("elementPathEvents", [$o(function (r, t) {
          g.shortcuts.add("alt+F11", "focus statusbar elementpath", function () {
            return Bg.focusIn(r);
          }), g.on("NodeChange", function (t) {
            var n,
                o,
                e = function (t) {
              for (var n = [], e = t.length; 0 < e--;) {
                var o = t[e];

                if (1 === o.nodeType && !function (t) {
                  if (1 === t.nodeType) {
                    if ("BR" === t.nodeName || t.getAttribute("data-mce-bogus")) return 1;
                    if ("bookmark" === t.getAttribute("data-mce-type")) return 1;
                  }
                }(o)) {
                  var r = g.fire("ResolveName", {
                    name: o.nodeName.toLowerCase(),
                    target: o
                  });
                  if (r.isDefaultPrevented() || n.push({
                    name: r.name,
                    element: o
                  }), r.isPropagationStopped()) break;
                }
              }

              return n;
            }(t.parents);

            0 < e.length ? Mg.set(r, (n = A(e || [], function (n, t) {
              return cp.sketch({
                dom: {
                  tag: "div",
                  classes: ["tox-statusbar__path-item"],
                  attributes: {
                    role: "button",
                    "data-index": t,
                    "tab-index": -1,
                    "aria-level": t + 1
                  },
                  innerHtml: n.name
                },
                action: function action(t) {
                  g.focus(), g.selection.select(n.element), g.nodeChanged();
                },
                buttonBehaviours: Za([qv(h.isDisabled), dv()])
              });
            }), o = {
              dom: {
                tag: "div",
                classes: ["tox-statusbar__path-divider"],
                attributes: {
                  "aria-hidden": !0
                },
                innerHtml: " " + p.delimiter + " "
              }
            }, R(n.slice(1), function (t, n) {
              var e = t;
              return e.push(o), e.push(n), e;
            }, [n[0]]))) : Mg.set(r, []);
          });
        })])]),
        components: []
      })), t.hasPlugin("wordcount") && v.push((f = t, d = n, cp.sketch({
        dom: {
          tag: "button",
          classes: ["tox-statusbar__wordcount"]
        },
        components: [],
        buttonBehaviours: Za([qv(d.isDisabled), dv(), gy.config({}), Mg.config({}), _f.config({
          store: {
            mode: "memory",
            initialValue: {
              mode: "words",
              count: {
                words: 0,
                characters: 0
              }
            }
          }
        }), lm("wordcount-events", [tr(function (t) {
          var n = _f.getValue(t),
              e = "words" === n.mode ? "characters" : "words";

          _f.setValue(t, {
            mode: e,
            count: n.count
          }), b(t, n.count, e);
        }), $o(function (e) {
          f.on("wordCountUpdate", function (t) {
            var n = _f.getValue(e).mode;

            _f.setValue(e, {
              mode: n,
              count: t.wordCount
            }), b(e, t.wordCount, n);
          });
        })])]),
        eventOrder: ((m = {})[Eo()] = ["disabling", "alloy.base.behaviour", "wordcount-events"], m)
      }))), t.getParam("branding", !0, "boolean") && v.push({
        dom: {
          tag: "span",
          classes: ["tox-statusbar__branding"],
          innerHtml: '<a href="https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce&amp;utm_content=v5" rel="noopener" target="_blank" tabindex="-1" aria-label="' + (l = sp.translate(["Powered by {0}", "Tiny"])) + '">' + l + "</a>"
        }
      }), e = 0 < v.length ? [{
        dom: {
          tag: "div",
          classes: ["tox-statusbar__text-container"]
        },
        components: v
      }] : [], i = n, a = !(u = r = t).hasPlugin("autoresize"), o = (s = !1 === (c = u.getParam("resize", a)) ? JT.None : "both" === c ? JT.Both : JT.Vertical) === JT.None ? ft.none() : ft.some(Wm("resize-handle", {
        tag: "div",
        classes: ["tox-statusbar__resize-handle"],
        attributes: {
          title: i.translate("Resize")
        },
        behaviours: [yE.config({
          mode: "mouse",
          repositionTarget: !1,
          onDrag: function onDrag(t, n, e) {
            return xE(r, e, s);
          },
          blockerClass: "tox-blocker"
        }), Bg.config({
          mode: "special",
          onLeft: function onLeft() {
            return wE(r, s, -1, 0);
          },
          onRight: function onRight() {
            return wE(r, s, 1, 0);
          },
          onUp: function onUp() {
            return wE(r, s, 0, -1);
          },
          onDown: function onDown() {
            return wE(r, s, 0, 1);
          }
        }), gy.config({}), Rg.config({})]
      }, i.icons)), e.concat(o.toArray()))
    };

    function b(t, n, e) {
      return Mg.set(t, [pi(d.translate(["{0} " + e, n[e]]))]);
    }
  }

  function kE(d) {
    function m() {
      return i.bind(GO.getHeader);
    }

    function g() {
      return mt.value(y);
    }

    function p() {
      return i.bind(function (t) {
        return GO.getThrobber(t);
      }).getOrDie("Could not find throbber element");
    }

    var t,
        n,
        e,
        o,
        r = d.inline,
        h = r ? K_ : q_,
        v = sv(d) ? uO : J1,
        i = ft.none(),
        u = Be(),
        a = u.browser.isIE() ? ["tox-platform-ie"] : [],
        c = u.deviceType.isTouch() ? ["tox-platform-touch"] : [],
        s = rv(d),
        l = av(d),
        f = sp.isRtl() ? {
      attributes: {
        dir: "rtl"
      }
    } : {},
        b = {
      attributes: ((t = {})[Zc] = s ? Sc.BottomToTop : Sc.TopToBottom, t)
    },
        y = bu((n = Bn(mu(), l) && "grid" === ri(l, "display"), e = {
      dom: _st({
        tag: "div",
        classes: ["tox", "tox-silver-sink", "tox-tinymce-aux"].concat(a).concat(c)
      }, f),
      behaviours: Za([cf.config({
        useFixed: function useFixed() {
          return v.isDocked(m);
        }
      })])
    }, o = {
      dom: {
        styles: {
          width: document.body.clientWidth + "px"
        }
      },
      events: Jo([Xe(Ho(), function () {
        ni(K.element, "width", document.body.clientWidth + "px");
      })])
    }, Jn(e, n ? o : {}))),
        x = Vm({
      dom: {
        tag: "div",
        classes: ["tox-anchorbar"]
      }
    }),
        w = Qk(y, d, function () {
      return i.bind(function (t) {
        return x.getOpt(t);
      }).getOrDie("Could not find a anchor bar element");
    }),
        S = GO.parts.menubar({
      dom: {
        tag: "div",
        classes: ["tox-menubar"]
      },
      backstage: w,
      onEscape: function onEscape() {
        d.focus();
      }
    }),
        k = ev(d),
        C = GO.parts.toolbar(_st({
      dom: {
        tag: "div",
        classes: ["tox-toolbar"]
      },
      getSink: g,
      providers: w.shared.providers,
      onEscape: function onEscape() {
        d.focus();
      },
      type: k,
      lazyToolbar: function lazyToolbar() {
        return i.bind(function (t) {
          return GO.getToolbar(t);
        }).getOrDie("Could not find more toolbar element");
      },
      lazyHeader: function lazyHeader() {
        return m().getOrDie("Could not find header element");
      }
    }, b)),
        O = GO.parts["multiple-toolbar"]({
      dom: {
        tag: "div",
        classes: ["tox-toolbar-overlord"]
      },
      providers: w.shared.providers,
      onEscape: function onEscape() {
        d.focus();
      },
      type: k
    }),
        _ = GO.parts.socket({
      dom: {
        tag: "div",
        classes: ["tox-edit-area"]
      }
    }),
        T = GO.parts.sidebar({
      dom: {
        tag: "div",
        classes: ["tox-sidebar"]
      }
    }),
        E = GO.parts.throbber({
      dom: {
        tag: "div",
        classes: ["tox-throbber"]
      },
      backstage: w
    }),
        D = d.getParam("statusbar", !0, "boolean") && !r ? ft.some(SE(d, w.shared.providers)) : ft.none(),
        B = {
      dom: {
        tag: "div",
        classes: ["tox-sidebar-wrap"]
      },
      components: [_, T]
    },
        A = nv(d),
        M = mh(d),
        F = dh(d),
        I = GO.parts.header({
      dom: _st({
        tag: "div",
        classes: ["tox-editor-header"]
      }, b),
      components: lt([F ? [S] : [], A ? [O] : M ? [C] : [], uv(d) ? [] : [x.asSpec()]]),
      sticky: sv(d),
      editor: d,
      sharedBackstage: w.shared
    }),
        R = lt([s ? [] : [I], r ? [] : [B], s ? [I] : []]),
        V = lt([[{
      dom: {
        tag: "div",
        classes: ["tox-editor-container"]
      },
      components: R
    }], r ? [] : D.toArray(), [E]]),
        P = cv(d),
        H = _st(_st({
      role: "application"
    }, sp.isRtl() ? {
      dir: "rtl"
    } : {}), P ? {
      "aria-hidden": "true"
    } : {}),
        z = bu(GO.sketch({
      dom: {
        tag: "div",
        classes: ["tox", "tox-tinymce"].concat(r ? ["tox-tinymce-inline"] : []).concat(s ? ["tox-tinymce--toolbar-bottom"] : []).concat(c).concat(a),
        styles: _st({
          visibility: "hidden"
        }, P ? {
          opacity: "0",
          border: "0"
        } : {}),
        attributes: H
      },
      components: V,
      behaviours: Za([dv(), fd.config({
        disableClass: "tox-tinymce--disabled"
      }), Bg.config({
        mode: "cyclic",
        selector: ".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"
      })])
    })),
        i = ft.some(z);

    d.shortcuts.add("alt+F9", "focus menubar", function () {
      GO.focusMenubar(z);
    }), d.shortcuts.add("alt+F10", "focus toolbar", function () {
      GO.focusToolbar(z);
    }), d.addCommand("ToggleToolbarDrawer", function () {
      GO.toggleToolbarDrawer(z);
    }), d.addQueryStateHandler("ToggleToolbarDrawer", function () {
      return GO.isToolbarDrawerToggled(z);
    });
    var N,
        L,
        j,
        W,
        U,
        G,
        X,
        Y,
        q = Jb(z),
        K = Jb(y);

    function J() {
      var t,
          n,
          e,
          o,
          r,
          i,
          u = f_((o = uh(e = n = d), r = sh(e), i = fh(e), l_(o).map(function (t) {
        return d_(t, r, i);
      }).getOr(uh(n)))),
          a = f_(m_(t = d).getOr(ah(t)));
      return d.inline || (ui("div", "width", a) && ni(z.element, "width", a), ui("div", "height", u) ? ni(z.element, "height", u) : ni(z.element, "height", "200px")), u;
    }

    return N = d, L = q, j = K, W = dc(de.fromDom(document), "touchstart", Z), U = dc(de.fromDom(document), "touchmove", function (t) {
      return $(Ro(), t);
    }), G = dc(de.fromDom(document), "touchend", function (t) {
      return $(Vo(), t);
    }), X = dc(de.fromDom(document), "mousedown", Z), Y = dc(de.fromDom(document), "mouseup", function (t) {
      0 === t.raw.button && Q(bf(), {
        target: t.target
      });
    }), N.on("PostRender", function () {
      N.on("click", tt), N.on("tap", tt), N.on("mouseup", nt), N.on("mousedown", et), N.on("ScrollWindow", ot), N.on("ResizeWindow", rt), N.on("ResizeEditor", it), N.on("AfterProgressState", ut), N.on("DismissPopups", at);
    }), N.on("remove", function () {
      N.off("click", tt), N.off("tap", tt), N.off("mouseup", nt), N.off("mousedown", et), N.off("ScrollWindow", ot), N.off("ResizeWindow", rt), N.off("ResizeEditor", it), N.off("AfterProgressState", ut), N.off("DismissPopups", at), X.unbind(), W.unbind(), U.unbind(), G.unbind(), Y.unbind();
    }), N.on("detach", function () {
      Hs(L), Hs(j), L.destroy(), j.destroy();
    }), {
      mothership: q,
      uiMothership: K,
      backstage: w,
      renderUI: function renderUI() {
        var o, r;
        v.setup(d, w.shared, m), mT(d, w), OT(d, g, w), r = (o = d).ui.registry.getAll().sidebars, dt(Xn(r), function (n) {
          function e() {
            return Kr(ft.from(o.queryCommandValue("ToggleSidebar")), n);
          }

          var t = r[n];
          o.ui.registry.addToggleButton(n, {
            icon: t.icon,
            tooltip: t.tooltip,
            onAction: function onAction(t) {
              o.execCommand("ToggleSidebar", !1, n), t.setActive(e());
            },
            onSetup: function onSetup(t) {
              function n() {
                return t.setActive(e());
              }

              return o.on("ToggleSidebar", n), function () {
                o.off("ToggleSidebar", n);
              };
            }
          });
        }), IC(d, p, w.shared), yt(d.getParam("toolbar_groups", {}, "object"), function (t, n) {
          d.ui.registry.addGroupToolbarButton(n, t);
        });
        var t,
            n = d.ui.registry.getAll(),
            e = n.buttons,
            i = n.menuItems,
            u = n.contextToolbars,
            a = n.sidebars,
            c = gh(d),
            s = {
          menuItems: i,
          menus: (t = d.getParam("menu")) ? yt(t, function (t) {
            return _st(_st({}, t), {
              items: t.items
            });
          }) : {},
          menubar: d.getParam("menubar"),
          toolbar: c.getOrThunk(function () {
            return d.getParam("toolbar", !0);
          }),
          allowToolbarGroups: k === ph.floating,
          buttons: e,
          sidebar: a
        };
        O_(d, u, y, {
          backstage: w
        }), KT(d, y);
        var l = d.getElement(),
            f = J();
        return h.render(d, {
          mothership: q,
          uiMothership: K,
          outerContainer: z
        }, s, w, {
          targetNode: l,
          height: f
        });
      },
      getUi: function getUi() {
        return {
          channels: {
            broadcastAll: K.broadcast,
            broadcastOn: K.broadcastOn,
            register: ct
          }
        };
      }
    };

    function $(n, e) {
      dt([L, j], function (t) {
        t.broadcastEvent(n, e);
      });
    }

    function Q(n, e) {
      dt([L, j], function (t) {
        t.broadcastOn([n], e);
      });
    }

    function Z(t) {
      return Q(hf(), {
        target: t.target
      });
    }

    function tt(t) {
      return Q(hf(), {
        target: de.fromDom(t.target)
      });
    }

    function nt(t) {
      0 === t.button && Q(bf(), {
        target: de.fromDom(t.target)
      });
    }

    function et() {
      dt(N.editorManager.get(), function (t) {
        N !== t && t.fire("DismissPopups", {
          relatedTarget: N
        });
      });
    }

    function ot(t) {
      return $(Po(), Dc(t));
    }

    function rt(t) {
      Q(vf(), {}), $(Ho(), Dc(t));
    }

    function it() {
      return Q(vf(), {});
    }

    function ut(t) {
      t.state && Q(hf(), {
        target: de.fromDom(N.getContainer())
      });
    }

    function at(t) {
      Q(hf(), {
        target: de.fromDom(t.relatedTarget.getContainer())
      });
    }
  }

  function CE(n) {
    return le("items", "items", Tt(), zt(Wt(function (t) {
      return Gt("Checking item of " + n, mB, t).fold(function (t) {
        return mt.error(se(t));
      }, function (t) {
        return mt.value(t);
      });
    })));
  }

  function OE(t) {
    return y(t.type) && y(t.name);
  }

  function _E(t) {
    return {
      internalDialog: Xt(Gt("dialog", wB, t)),
      dataValidator: (n = z(F(CB(t), OE), function (n) {
        return ft.from(OB[n.type]).fold(function () {
          return [];
        }, function (t) {
          return [$t(n.name, t)];
        });
      }), te(n)),
      initialData: t.initialData
    };
    var n;
  }

  function TE(t) {
    var e = [],
        o = {};
    return bt(t, function (t, n) {
      t.fold(function () {
        e.push(n);
      }, function (t) {
        o[n] = t;
      });
    }), 0 < e.length ? mt.error(e) : mt.value(o);
  }

  function EE(t, n) {
    ni(t, "height", n + "px"), Be().browser.isIE() ? ai(t, "flex-basis") : ni(t, "flex-basis", n + "px");
  }

  function DE(t, d, n) {
    Mu(t, '[role="dialog"]').each(function (f) {
      Fu(f, '[role="tablist"]').each(function (l) {
        n.get().map(function (t) {
          return ni(d, "height", "0"), ni(d, "flex-basis", "0"), Math.min(t, (e = d, o = l, r = ir(n = f).dom, i = "fixed" === ri(Mu(n, ".tox-dialog-wrap").getOr(n), "position") ? Math.max(r.clientHeight, window.innerHeight) : Math.max(r.offsetHeight, r.scrollHeight), u = vi(e), a = e.dom.offsetLeft >= o.dom.offsetLeft + wi(o) ? Math.max(vi(o), u) : u, c = parseInt(ri(n, "margin-top"), 10) || 0, s = parseInt(ri(n, "margin-bottom"), 10) || 0, i - (vi(n) + c + s - a)));
          var n, e, o, r, i, u, a, c, s;
        }).each(function (t) {
          EE(d, t);
        });
      });
    });
  }

  function BE(t) {
    return Fu(t, '[role="tabpanel"]');
  }

  function AE(t, e) {
    function o(t) {
      var n = TE(_f.getValue(t)).getOr({}),
          e = i.get(),
          o = Jn(e, n);
      i.set(o);
    }

    function r(t) {
      var n = i.get();

      _f.setValue(t, n);
    }

    var u,
        a,
        i = wn({}),
        c = wn(null),
        n = A(t.tabs, function (t) {
      return {
        value: t.name,
        dom: {
          tag: "div",
          classes: ["tox-dialog__body-nav-item"],
          innerHtml: e.shared.providers.translate(t.title)
        },
        view: function view() {
          return [hw.sketch(function (n) {
            return {
              dom: {
                tag: "div",
                classes: ["tox-form"]
              },
              components: A(t.items, function (t) {
                return Ek(n, t, e);
              }),
              formBehaviours: Za([Bg.config({
                mode: "acyclic",
                useTabstopAt: k(g0)
              }), lm("TabView.form.events", [$o(r), Qo(o)]), oc.config({
                channels: Me([{
                  key: RB,
                  value: {
                    onReceive: o
                  }
                }, {
                  key: VB,
                  value: {
                    onReceive: r
                  }
                }])
              })])
            };
          })];
        }
      };
    }),
        s = (u = n, a = fc(), {
      extraEvents: [$o(function (t) {
        var o = t.element;
        BE(o).each(function (e) {
          var n;
          ni(e, "visibility", "hidden"), t.getSystem().getByDom(e).toOptional().each(function (t) {
            var o,
                r,
                i,
                n = (r = e, i = t, A(o = u, function (t, n) {
              Mg.set(i, o[n].view());
              var e = r.dom.getBoundingClientRect();
              return Mg.set(i, []), e.height;
            }));
            ot(G(n, function (t, n) {
              return n < t ? -1 : t < n ? 1 : 0;
            })).fold(a.clear, a.set);
          }), DE(o, e, a), ai(e, "visibility"), n = t, ot(u).each(function (t) {
            return IB.showTab(n, t.value);
          }), ap.requestAnimationFrame(function () {
            DE(o, e, a);
          });
        });
      }), Xe(Ho(), function (t) {
        var n = t.element;
        BE(n).each(function (t) {
          DE(n, t, a);
        });
      }), Xe(_y, function (t, n) {
        var r = t.element;
        BE(r).each(function (n) {
          var t = Ca(ji(n));
          ni(n, "visibility", "hidden");
          var e = ii(n, "height").map(function (t) {
            return parseInt(t, 10);
          });
          ai(n, "height"), ai(n, "flex-basis");
          var o = n.dom.getBoundingClientRect().height;
          e.forall(function (t) {
            return t < o;
          }) ? (a.set(o), DE(r, n, a)) : e.each(function (t) {
            EE(n, t);
          }), ai(n, "visibility"), t.each(Sa);
        });
      })],
      selectFirst: !1
    });
    return IB.sketch({
      dom: {
        tag: "div",
        classes: ["tox-dialog__body"]
      },
      onChangeTab: function onChangeTab(t, n, e) {
        var o = _f.getValue(n);

        Ne(t, Oy, {
          name: o,
          oldName: c.get()
        }), c.set(o);
      },
      tabs: n,
      components: [IB.parts.tabbar({
        dom: {
          tag: "div",
          classes: ["tox-dialog__body-nav"]
        },
        components: [BB.parts.tabs({})],
        markers: {
          tabClass: "tox-tab",
          selectedClass: "tox-dialog__body-nav-item--active"
        },
        tabbarBehaviours: Za([gy.config({})])
      }), IB.parts.tabview({
        dom: {
          tag: "div",
          classes: ["tox-dialog__body-content"]
        }
      })],
      selectFirst: s.selectFirst,
      tabSectionBehaviours: Za([lm("tabpanel", s.extraEvents), Bg.config({
        mode: "acyclic"
      }), id.config({
        find: function find(t) {
          return ot(IB.getViewItems(t));
        }
      }), _f.config({
        store: {
          mode: "manual",
          getValue: function getValue(t) {
            return t.getSystem().broadcastOn([RB], {}), i.get();
          },
          setValue: function setValue(t, n) {
            i.set(n), t.getSystem().broadcastOn([VB], {});
          }
        }
      })])
    });
  }

  function ME(t, n, r, e) {
    return {
      dom: {
        tag: "div",
        classes: ["tox-dialog__content-js"],
        attributes: _st(_st({}, n.map(function (t) {
          return {
            id: t
          };
        }).getOr({})), e ? {
          "aria-live": "polite"
        } : {})
      },
      components: [],
      behaviours: Za([Sw(0), R_.config({
        channel: zB,
        updateState: function updateState(t, n) {
          return ft.some({
            isTabPanel: function isTabPanel() {
              return "tabpanel" === n.body.type;
            }
          });
        },
        renderComponents: function renderComponents(t) {
          return "tabpanel" !== t.body.type ? [(e = t.body, o = r, {
            dom: {
              tag: "div",
              classes: ["tox-dialog__body"]
            },
            components: [{
              dom: {
                tag: "div",
                classes: ["tox-dialog__body-content"]
              },
              components: [(n = Vm(hw.sketch(function (n) {
                return {
                  dom: {
                    tag: "div",
                    classes: ["tox-form"].concat(e.classes)
                  },
                  components: A(e.items, function (t) {
                    return Ek(n, t, o);
                  })
                };
              }))).asSpec()]
            }],
            behaviours: Za([Bg.config({
              mode: "acyclic",
              useTabstopAt: k(g0)
            }), ww(n), Tw(n, {
              postprocess: function postprocess(t) {
                return TE(t).fold(function (t) {
                  return console.error(t), {};
                }, h);
              }
            })])
          })] : [AE(t.body, r)];
          var e, o, n;
        },
        initialData: t
      })])
    };
  }

  function FE(t, n) {
    return {
      dom: {
        tag: "div",
        styles: {
          display: "none"
        },
        classes: ["tox-dialog__header"]
      },
      components: [t, n]
    };
  }

  function IE(t, n) {
    return cD.parts.close(cp.sketch({
      dom: {
        tag: "button",
        classes: ["tox-button", "tox-button--icon", "tox-button--naked"],
        attributes: {
          type: "button",
          "aria-label": n.translate("Close")
        }
      },
      action: t,
      buttonBehaviours: Za([gy.config({})])
    }));
  }

  function RE() {
    return cD.parts.title({
      dom: {
        tag: "div",
        classes: ["tox-dialog__title"],
        innerHtml: "",
        styles: {
          display: "none"
        }
      }
    });
  }

  function VE(t, n) {
    return cD.parts.body({
      dom: {
        tag: "div",
        classes: ["tox-dialog__body"]
      },
      components: [{
        dom: {
          tag: "div",
          classes: ["tox-dialog__body-content"]
        },
        components: [{
          dom: MC("<p>" + n.translate(t) + "</p>")
        }]
      }]
    });
  }

  function PE(t) {
    return cD.parts.footer({
      dom: {
        tag: "div",
        classes: ["tox-dialog__footer"]
      },
      components: t
    });
  }

  function HE(t, n) {
    return [sy.sketch({
      dom: {
        tag: "div",
        classes: ["tox-dialog__footer-start"]
      },
      components: t
    }), sy.sketch({
      dom: {
        tag: "div",
        classes: ["tox-dialog__footer-end"]
      },
      components: n
    })];
  }

  function zE(n) {
    var t,
        e = "tox-dialog",
        o = e + "-wrap",
        r = o + "__backdrop",
        i = e + "__disable-scroll";
    return cD.sketch({
      lazySink: n.lazySink,
      onEscape: function onEscape(t) {
        return n.onEscape(t), ft.some(!0);
      },
      useTabstopAt: function useTabstopAt(t) {
        return !g0(t);
      },
      dom: {
        tag: "div",
        classes: [e].concat(n.extraClasses),
        styles: _st({
          position: "relative"
        }, n.extraStyles)
      },
      components: H([n.header, n.body], n.footer.toArray()),
      parts: {
        blocker: {
          dom: MC('<div class="' + o + '"></div>'),
          components: [{
            dom: {
              tag: "div",
              classes: jB ? [r, r + "--opaque"] : [r]
            }
          }]
        }
      },
      dragBlockClass: o,
      modalBehaviours: Za(H([Rg.config({}), lm("dialog-events", n.dialogEvents.concat([Qe(fo(), function (t, n) {
        Bg.focusIn(t);
      })])), lm("scroll-lock", [$o(function () {
        Ur(mu(), i);
      }), Qo(function () {
        Gr(mu(), i);
      })])], n.extraBehaviours)),
      eventOrder: _st(((t = {})[Eo()] = ["dialog-events"], t[zo()] = ["scroll-lock", "dialog-events", "alloy.base.behaviour"], t[No()] = ["alloy.base.behaviour", "dialog-events", "scroll-lock"], t), n.eventOrder)
    });
  }

  function NE(t) {
    return cp.sketch({
      dom: {
        tag: "button",
        classes: ["tox-button", "tox-button--icon", "tox-button--naked"],
        attributes: {
          type: "button",
          "aria-label": t.translate("Close"),
          title: t.translate("Close")
        }
      },
      components: [Wm("close", {
        tag: "div",
        classes: ["tox-icon"]
      }, t.icons)],
      action: function action(t) {
        ze(t, xy);
      }
    });
  }

  function LE(t, n, e) {
    function o(t) {
      return [pi(e.translate(t.title))];
    }

    return {
      dom: {
        tag: "div",
        classes: ["tox-dialog__title"],
        attributes: _st({}, n.map(function (t) {
          return {
            id: t
          };
        }).getOr({}))
      },
      components: o(t),
      behaviours: Za([R_.config({
        channel: HB,
        renderComponents: o
      })])
    };
  }

  function jE() {
    return {
      dom: MC('<div class="tox-dialog__draghandle"></div>')
    };
  }

  function WE(t, n) {
    return e = {
      title: n.shared.providers.translate(t),
      draggable: n.dialog.isDraggableModal()
    }, o = n.shared.providers, r = cD.parts.title(LE(e, ft.none(), o)), i = cD.parts.draghandle(jE()), u = cD.parts.close(NE(o)), a = [r].concat(e.draggable ? [i] : []).concat([u]), sy.sketch({
      dom: MC('<div class="tox-dialog__header"></div>'),
      components: a
    });
    var e, o, r, i, u, a;
  }

  function UE(t, n, e) {
    return {
      dom: {
        tag: "div",
        classes: ["tox-dialog__busy-spinner"],
        attributes: {
          "aria-label": e.translate(t)
        },
        styles: {
          left: "0px",
          right: "0px",
          bottom: "0px",
          top: "0px",
          position: "absolute"
        }
      },
      behaviours: n,
      components: [{
        dom: MC('<div class="tox-spinner"><div></div><div></div><div></div></div>')
      }]
    };
  }

  function GE(t, o, n) {
    return {
      onClose: function onClose() {
        return n.closeWindow();
      },
      onBlock: function onBlock(e) {
        cD.setBusy(t(), function (t, n) {
          return UE(e.message, n, o);
        });
      },
      onUnblock: function onUnblock() {
        cD.setIdle(t());
      }
    };
  }

  function XE(t, n, e, o) {
    var r;
    return bu(zE(_st(_st({}, t), {
      lazySink: o.shared.getSink,
      extraBehaviours: H([R_.config({
        channel: PB,
        updateState: function updateState(t, n) {
          return ft.some(n);
        },
        initialData: n
      }), Dw({})], t.extraBehaviours),
      onEscape: function onEscape(t) {
        ze(t, xy);
      },
      dialogEvents: e,
      eventOrder: ((r = {})[To()] = [R_.name(), oc.name()], r[zo()] = ["scroll-lock", R_.name(), "messages", "dialog-events", "alloy.base.behaviour"], r[No()] = ["alloy.base.behaviour", "dialog-events", "messages", R_.name(), "scroll-lock"], r)
    })));
  }

  function YE(t) {
    return A(t, function (t) {
      return "menu" === t.type ? (e = A((n = t).items, function (t) {
        var n = wn(!1);
        return _st(_st({}, t), {
          storage: n
        });
      }), _st(_st({}, n), {
        items: e
      })) : t;
      var n, e;
    });
  }

  function qE(t) {
    return R(t, function (t, n) {
      return "menu" !== n.type ? t : R(n.items, function (t, n) {
        return t[n.name] = n.storage, t;
      }, t);
    }, {});
  }

  function KE(t, e) {
    return [Je(fo(), m0), t(yy, function (t, n) {
      e.onClose(), n.onClose();
    }), t(xy, function (t, n, e, o) {
      n.onCancel(t), ze(o, yy);
    }), Xe(Cy, function (t, n) {
      return e.onUnblock();
    }), Xe(ky, function (t, n) {
      return e.onBlock(n.event);
    })];
  }

  function JE(t, n) {
    function e(t, n) {
      return sy.sketch({
        dom: {
          tag: "div",
          classes: ["tox-dialog__footer-" + t]
        },
        components: A(n, function (t) {
          return t.memento.asSpec();
        })
      });
    }

    var o = M(n.map(function (t) {
      return t.footerButtons;
    }).getOr([]), function (t) {
      return "start" === t.align;
    });
    return [e("start", o.pass), e("end", o.fail)];
  }

  function $E(t, e) {
    return {
      dom: MC('<div class="tox-dialog__footer"></div>'),
      components: [],
      behaviours: Za([R_.config({
        channel: NB,
        initialData: t,
        updateState: function updateState(t, n) {
          var r = A(n.buttons, function (t) {
            var n = Vm(xS(t, t.type, e));
            return {
              name: t.name,
              align: t.align,
              memento: n
            };
          });
          return ft.some({
            lookupByName: function lookupByName(t, n) {
              return e = t, o = n, V(r, function (t) {
                return t.name === o;
              }).bind(function (t) {
                return t.memento.getOpt(e);
              });
              var e, o;
            },
            footerButtons: r
          });
        },
        renderComponents: JE
      })])
    };
  }

  function QE(t, n) {
    return cD.parts.footer($E(t, n));
  }

  function ZE(n, e) {
    if (n.getRoot().getSystem().isConnected()) {
      var o = id.getCurrent(n.getFormWrapper()).getOr(n.getFormWrapper());
      return hw.getField(o, e).fold(function () {
        var t = n.getFooter();
        return R_.getState(t).get().bind(function (t) {
          return t.lookupByName(o, e);
        });
      }, function (t) {
        return ft.some(t);
      });
    }

    return ft.none();
  }

  function tD(c, o, s) {
    function t(t) {
      var n = c.getRoot();
      n.getSystem().isConnected() && t(n);
    }

    var l = {
      getData: function getData() {
        var t = c.getRoot(),
            n = t.getSystem().isConnected() ? c.getFormWrapper() : t,
            e = _f.getValue(n),
            o = yt(s, function (t) {
          return t.get();
        });

        return _st(_st({}, e), o);
      },
      setData: function setData(a) {
        t(function (t) {
          var n,
              e,
              o = l.getData(),
              r = _st(_st({}, o), a),
              i = (n = r, e = c.getRoot(), R_.getState(e).get().map(function (t) {
            return Xt(Gt("data", t.dataValidator, n));
          }).getOr(n)),
              u = c.getFormWrapper();

          _f.setValue(u, i), bt(s, function (t, n) {
            Kn(r, n) && t.set(r[n]);
          });
        });
      },
      disable: function disable(t) {
        ZE(c, t).each(fd.disable);
      },
      enable: function enable(t) {
        ZE(c, t).each(fd.enable);
      },
      focus: function focus(t) {
        ZE(c, t).each(Rg.focus);
      },
      block: function block(n) {
        if (!y(n)) throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");
        t(function (t) {
          Ne(t, ky, {
            message: n
          });
        });
      },
      unblock: function unblock() {
        t(function (t) {
          ze(t, Cy);
        });
      },
      showTab: function showTab(e) {
        t(function (t) {
          var n = c.getBody();
          R_.getState(n).get().exists(function (t) {
            return t.isTabPanel();
          }) && id.getCurrent(n).each(function (t) {
            IB.showTab(t, e);
          });
        });
      },
      redial: function redial(e) {
        t(function (t) {
          var n = o(e);
          t.getSystem().broadcastOn([PB], n), t.getSystem().broadcastOn([HB], n.internalDialog), t.getSystem().broadcastOn([zB], n.internalDialog), t.getSystem().broadcastOn([NB], n.internalDialog), l.setData(n.initialData);
        });
      },
      close: function close() {
        t(function (t) {
          ze(t, yy);
        });
      }
    };
    return l;
  }

  function nD(t) {
    return x(t) && -1 !== YB.indexOf(t.mceAction);
  }

  function eD(o, t, r, n) {
    var e,
        i,
        u,
        a = WE(o.title, n),
        c = (i = {
      dom: {
        tag: "div",
        classes: ["tox-dialog__content-js"]
      },
      components: [{
        dom: {
          tag: "div",
          classes: ["tox-dialog__body-iframe"]
        },
        components: [f0({
          dom: {
            tag: "iframe",
            attributes: {
              src: o.url
            }
          },
          behaviours: Za([gy.config({}), Rg.config({})])
        })]
      }],
      behaviours: Za([Bg.config({
        mode: "acyclic",
        useTabstopAt: k(g0)
      })])
    }, cD.parts.body(i)),
        s = o.buttons.bind(function (t) {
      return 0 === t.length ? ft.none() : ft.some(QE({
        buttons: t
      }, n));
    }),
        l = WB(function () {
      return v;
    }, GE(function () {
      return h;
    }, n.shared.providers, t)),
        f = _st(_st({}, o.height.fold(function () {
      return {};
    }, function (t) {
      return {
        height: t + "px",
        "max-height": t + "px"
      };
    })), o.width.fold(function () {
      return {};
    }, function (t) {
      return {
        width: t + "px",
        "max-width": t + "px"
      };
    })),
        d = o.width.isNone() && o.height.isNone() ? ["tox-dialog--width-lg"] : [],
        m = new XB(o.url, {
      base_uri: new XB(window.location.href)
    }),
        g = m.protocol + "://" + m.host + (m.port ? ":" + m.port : ""),
        p = lc(),
        h = XE({
      header: a,
      body: c,
      footer: s,
      extraClasses: d,
      extraBehaviours: [lm("messages", [$o(function () {
        var t = dc(de.fromDom(window), "message", function (t) {
          var n, e;
          m.isSameOrigin(new XB(t.raw.origin)) && (nD(n = t.raw.data) ? function (t, n, e) {
            switch (e.mceAction) {
              case "insertContent":
                t.insertContent(e.content);
                break;

              case "setContent":
                t.setContent(e.content);
                break;

              case "execCommand":
                var o = !!w(e.ui) && e.ui;
                t.execCommand(e.cmd, o, e.value);
                break;

              case "close":
                n.close();
                break;

              case "block":
                n.block(e.message);
                break;

              case "unblock":
                n.unblock();
            }
          }(r, v, n) : !nD(e = n) && x(e) && Kn(e, "mceAction") && o.onMessage(v, n));
        });
        p.set(t);
      }), Qo(p.clear)]), oc.config({
        channels: ((e = {})[LB] = {
          onReceive: function onReceive(t, n) {
            Fu(t.element, "iframe").each(function (t) {
              t.dom.contentWindow.postMessage(n, g);
            });
          }
        }, e)
      })],
      extraStyles: f
    }, o, l, n),
        v = {
      block: function block(n) {
        if (!y(n)) throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");
        b(function (t) {
          Ne(t, ky, {
            message: n
          });
        });
      },
      unblock: function unblock() {
        b(function (t) {
          ze(t, Cy);
        });
      },
      close: function close() {
        b(function (t) {
          ze(t, yy);
        });
      },
      sendMessage: function sendMessage(n) {
        b(function (t) {
          t.getSystem().broadcastOn([LB], n);
        });
      }
    };

    function b(t) {
      u.getSystem().isConnected() && t(u);
    }

    return {
      dialog: u = h,
      instanceApi: v
    };
  }

  function oD(t) {
    function o(t, y) {
      return _B.open(function (t, n, e) {
        var o,
            r,
            i,
            u,
            a,
            c,
            s,
            l,
            f,
            d,
            m,
            g,
            p,
            h,
            v = n,
            b = (r = {
          redial: _B.redial,
          closeWindow: function closeWindow() {
            cD.hide(b.dialog), y(b.instanceApi);
          }
        }, i = R, c = WE((o = {
          dataValidator: e,
          initialData: v,
          internalDialog: t
        }).internalDialog.title, i), u = i, a = ME({
          body: o.internalDialog.body
        }, ft.none(), u, !1), s = cD.parts.body(a), l = YE(o.internalDialog.buttons), f = qE(l), d = QE({
          buttons: l
        }, i), m = UB(function () {
          return h;
        }, GE(function () {
          return p;
        }, i.shared.providers, r), i.shared.getSink), g = function () {
          switch (o.internalDialog.size) {
            case "large":
              return ["tox-dialog--width-lg"];

            case "medium":
              return ["tox-dialog--width-md"];

            default:
              return [];
          }
        }(), p = XE({
          header: c,
          body: s,
          footer: ft.some(d),
          extraClasses: g,
          extraBehaviours: [],
          extraStyles: {}
        }, o, m, i), h = tD({
          getRoot: tt(p),
          getBody: function getBody() {
            return cD.getBody(p);
          },
          getFooter: function getFooter() {
            return cD.getFooter(p);
          },
          getFormWrapper: function getFormWrapper() {
            var t = cD.getBody(p);
            return id.getCurrent(t).getOr(t);
          }
        }, r.redial, f), {
          dialog: p,
          instanceApi: h
        });
        return cD.show(b.dialog), b.instanceApi.setData(v), b.instanceApi;
      }, t);
    }

    function r(t, M, F, I) {
      return _B.open(function (t, n, e) {
        function o() {
          return E.on(function (t) {
            op.reposition(t), nO.refresh(t);
          });
        }

        var r,
            i,
            u,
            a,
            c,
            s,
            l,
            f,
            d,
            m,
            g,
            p,
            h,
            v,
            b,
            y,
            x,
            w,
            S,
            k,
            C,
            O,
            _,
            T = Xt(Gt("data", e, n)),
            E = fc(),
            D = R.shared.header.isPositionedAtTop(),
            B = (i = {
          dataValidator: e,
          initialData: T,
          internalDialog: t
        }, u = {
          redial: _B.redial,
          closeWindow: function closeWindow() {
            E.on(op.hide), V.off("ResizeEditor", o), E.clear(), F(B.instanceApi);
          }
        }, a = R, c = I, v = Ar("dialog-label"), b = Ar("dialog-content"), y = Vm((f = {
          title: i.internalDialog.title,
          draggable: !0
        }, d = v, m = a.shared.providers, sy.sketch({
          dom: MC('<div class="tox-dialog__header"></div>'),
          components: [LE(f, ft.some(d), m), jE(), NE(m)],
          containerBehaviours: Za([yE.config({
            mode: "mouse",
            blockerClass: "blocker",
            getTarget: function getTarget(t) {
              return Iu(t, '[role="dialog"]').getOrDie();
            },
            snaps: {
              getSnapPoints: function getSnapPoints() {
                return [];
              },
              leftAttr: "data-drag-left",
              topAttr: "data-drag-top"
            }
          })])
        }))), x = Vm((g = {
          body: i.internalDialog.body
        }, p = a, h = c, ME(g, ft.some(b), p, h))), w = YE(i.internalDialog.buttons), S = qE(w), k = Vm(GB({
          buttons: w
        }, a)), C = UB(function () {
          return _;
        }, {
          onBlock: function onBlock(e) {
            kO.block(O, function (t, n) {
              return UE(e.message, n, a.shared.providers);
            });
          },
          onUnblock: function onUnblock() {
            kO.unblock(O);
          },
          onClose: function onClose() {
            return u.closeWindow();
          }
        }, a.shared.getSink), O = bu({
          dom: {
            tag: "div",
            classes: ["tox-dialog", "tox-dialog-inline"],
            attributes: ((s = {
              role: "dialog"
            })["aria-labelledby"] = v, s["aria-describedby"] = b, s)
          },
          eventOrder: ((l = {})[To()] = [R_.name(), oc.name()], l[Eo()] = ["execute-on-form"], l[zo()] = ["reflecting", "execute-on-form"], l),
          behaviours: Za([Bg.config({
            mode: "cyclic",
            onEscape: function onEscape(t) {
              return ze(t, yy), ft.some(!0);
            },
            useTabstopAt: function useTabstopAt(t) {
              return !g0(t) && ("button" !== nr(t) || "disabled" !== _r(t, "disabled"));
            }
          }), R_.config({
            channel: PB,
            updateState: function updateState(t, n) {
              return ft.some(n);
            },
            initialData: i
          }), Rg.config({}), lm("execute-on-form", C.concat([Qe(fo(), function (t, n) {
            Bg.focusIn(t);
          })])), kO.config({
            getRoot: function getRoot() {
              return ft.some(O);
            }
          }), Mg.config({}), Dw({})]),
          components: [y.asSpec(), x.asSpec(), k.asSpec()]
        }), _ = tD({
          getRoot: tt(O),
          getFooter: function getFooter() {
            return k.get(O);
          },
          getBody: function getBody() {
            return x.get(O);
          },
          getFormWrapper: function getFormWrapper() {
            var t = x.get(O);
            return id.getCurrent(t).getOr(t);
          }
        }, u.redial, S), {
          dialog: O,
          instanceApi: _
        }),
            A = bu(op.sketch(_st(_st({
          lazySink: R.shared.getSink,
          dom: {
            tag: "div",
            classes: []
          },
          fireDismissalEventInstead: {}
        }, D ? {} : {
          fireRepositionEventInstead: {}
        }), {
          inlineBehaviours: Za(H([lm("window-manager-inline-events", [Xe(Lo(), function (t, n) {
            ze(B.dialog, xy);
          })])], (r = V, P && D ? [] : [nO.config({
            contextual: {
              lazyContext: function lazyContext() {
                return ft.some(Ai(de.fromDom(r.getContentAreaContainer())));
              },
              fadeInClass: "tox-dialog-dock-fadein",
              fadeOutClass: "tox-dialog-dock-fadeout",
              transitionClass: "tox-dialog-dock-transition"
            },
            modes: ["top"]
          })]))),
          isExtraPart: function isExtraPart(t, n) {
            return jb(e = n, ".tox-alert-dialog") || jb(e, ".tox-confirm-dialog");
            var e;
          }
        })));

        return E.set(A), op.showWithin(A, yu(B.dialog), {
          anchor: M
        }, ft.some(mu())), P && D || (nO.refresh(A), V.on("ResizeEditor", o)), B.instanceApi.setData(T), Bg.focusIn(B.dialog), B.instanceApi;
      }, t);
    }

    var c,
        s,
        l,
        f,
        R = t.backstage,
        V = t.editor,
        P = sv(V),
        e = (s = (c = t).backstage.shared, {
      open: function open(t, n) {
        function e() {
          cD.hide(u), n();
        }

        var o = Vm(xS({
          name: "close-alert",
          text: "OK",
          primary: !0,
          align: "end",
          disabled: !1,
          icon: ft.none()
        }, "cancel", c.backstage)),
            r = RE(),
            i = IE(e, s.providers),
            u = bu(zE({
          lazySink: function lazySink() {
            return s.getSink();
          },
          header: FE(r, i),
          body: VE(t, s.providers),
          footer: ft.some(PE(HE([], [o.asSpec()]))),
          onEscape: e,
          extraClasses: ["tox-alert-dialog"],
          extraBehaviours: [],
          extraStyles: {},
          dialogEvents: [Xe(xy, e)],
          eventOrder: {}
        }));
        cD.show(u);
        var a = o.get(u);
        Rg.focus(a);
      }
    }),
        i = (f = (l = t).backstage.shared, {
      open: function open(t, n) {
        function e(t) {
          cD.hide(a), n(t);
        }

        var o = Vm(xS({
          name: "yes",
          text: "Yes",
          primary: !0,
          align: "end",
          disabled: !1,
          icon: ft.none()
        }, "submit", l.backstage)),
            r = xS({
          name: "no",
          text: "No",
          primary: !1,
          align: "end",
          disabled: !1,
          icon: ft.none()
        }, "cancel", l.backstage),
            i = RE(),
            u = IE(function () {
          return e(!1);
        }, f.providers),
            a = bu(zE({
          lazySink: function lazySink() {
            return f.getSink();
          },
          header: FE(i, u),
          body: VE(t, f.providers),
          footer: ft.some(PE(HE([], [r, o.asSpec()]))),
          onEscape: function onEscape() {
            return e(!1);
          },
          extraClasses: ["tox-confirm-dialog"],
          extraBehaviours: [],
          extraStyles: {},
          dialogEvents: [Xe(xy, function () {
            return e(!1);
          }), Xe(Sy, function () {
            return e(!0);
          })],
          eventOrder: {}
        }));
        cD.show(a);
        var c = o.get(a);
        Rg.focus(c);
      }
    });
    return {
      open: function open(t, n, e) {
        return void 0 !== n && "toolbar" === n.inline ? r(t, R.shared.anchors.inlineDialog(), e, n.ariaAttrs) : void 0 !== n && "cursor" === n.inline ? r(t, R.shared.anchors.cursor(), e, n.ariaAttrs) : o(t, e);
      },
      openUrl: function openUrl(t, n) {
        return e = n, _B.openUrl(function (t) {
          var n = eD(t, {
            closeWindow: function closeWindow() {
              cD.hide(n.dialog), e(n.instanceApi);
            }
          }, V, R);
          return cD.show(n.dialog), n.instanceApi;
        }, t);
        var e;
      },
      alert: function alert(t, n) {
        e.open(t, function () {
          n();
        });
      },
      close: function close(t) {
        t.close();
      },
      confirm: function confirm(t, n) {
        i.open(t, function (t) {
          n(t);
        });
      }
    };
  }

  ($T = JT = JT || {})[$T.None = 0] = "None", $T[$T.Both = 1] = "Both", $T[$T.Vertical = 2] = "Vertical";

  var rD,
      iD = tt([Jt("lazySink"), rn("dragBlockClass"), bn("getBounds", Fi), dn("useTabstopAt", _), dn("eventOrder", {}), Js("modalBehaviours", [Bg]), Ju("onExecute"), Qu("onEscape")]),
      uD = {
    sketch: h
  },
      aD = tt([Kf({
    name: "draghandle",
    overrides: function overrides(t, n) {
      return {
        behaviours: Za([yE.config({
          mode: "mouse",
          getTarget: function getTarget(t) {
            return Mu(t, '[role="dialog"]').getOr(t);
          },
          blockerClass: t.dragBlockClass.getOrDie(new Error("The drag blocker class was not specified for a dialog with a drag handle: \n" + JSON.stringify(n, null, 2)).message),
          getBounds: t.getDragBounds
        })])
      };
    }
  }), Yf({
    schema: [Jt("dom")],
    name: "title"
  }), Yf({
    factory: uD,
    schema: [Jt("dom")],
    name: "close"
  }), Yf({
    factory: uD,
    schema: [Jt("dom")],
    name: "body"
  }), Kf({
    factory: uD,
    schema: [Jt("dom")],
    name: "footer"
  }), qf({
    factory: {
      sketch: function sketch(t, n) {
        return _st(_st({}, t), {
          dom: n.dom,
          components: n.components
        });
      }
    },
    schema: [dn("dom", {
      tag: "div",
      styles: {
        position: "fixed",
        left: "0px",
        top: "0px",
        right: "0px",
        bottom: "0px"
      }
    }), dn("components", [])],
    name: "blocker"
  })]),
      cD = wl({
    name: "ModalDialog",
    configFields: iD(),
    partFields: aD(),
    factory: function factory(a, t, n, r) {
      var e,
          i = fc(),
          o = Ar("modal-events"),
          u = _st(_st({}, a.eventOrder), ((e = {})[zo()] = [o].concat(a.eventOrder["alloy.system.attached"] || []), e));

      return {
        uid: a.uid,
        dom: a.dom,
        components: t,
        apis: {
          show: function show(t) {
            i.set(t);
            var n = a.lazySink(t).getOrDie(),
                e = r.blocker(),
                o = n.getSystem().build(_st(_st({}, e), {
              components: e.components.concat([yu(t)]),
              behaviours: Za([Rg.config({}), lm("dialog-blocker-events", [Qe(fo(), function () {
                Bg.focusIn(t);
              })])])
            }));
            Fs(n, o), Bg.focusIn(t);
          },
          hide: function hide(n) {
            i.clear(), ar(n.element).each(function (t) {
              n.getSystem().getByDom(t).each(function (t) {
                Rs(t);
              });
            });
          },
          getBody: function getBody(t) {
            return fl(t, a, "body");
          },
          getFooter: function getFooter(t) {
            return fl(t, a, "footer");
          },
          setIdle: function setIdle(t) {
            kO.unblock(t);
          },
          setBusy: function setBusy(t, n) {
            kO.block(t, n);
          }
        },
        eventOrder: u,
        domModification: {
          attributes: {
            role: "dialog",
            "aria-modal": "true"
          }
        },
        behaviours: Qs(a.modalBehaviours, [Mg.config({}), Bg.config({
          mode: "cyclic",
          onEnter: a.onExecute,
          onEscape: a.onEscape,
          useTabstopAt: a.useTabstopAt
        }), kO.config({
          getRoot: i.get
        }), lm(o, [$o(function (t) {
          var n,
              e,
              o,
              r = t.element,
              i = fl(t, a, "title").element,
              u = Tr(r, "id").fold(function () {
            var t = Ar("dialog-label");
            return Or(i, "id", t), t;
          }, h);
          Or(r, "aria-labelledby", u), n = t.element, e = fl(t, a, "body").element, o = ft.from(_r(n, "id")).fold(function () {
            var t = Ar("dialog-describe");
            return Or(e, "id", t), t;
          }, h), Or(n, "aria-describedby", o);
        })])])
      };
    },
    apis: {
      show: function show(t, n) {
        t.show(n);
      },
      hide: function hide(t, n) {
        t.hide(n);
      },
      getBody: function getBody(t, n) {
        return t.getBody(n);
      },
      getFooter: function getFooter(t, n) {
        return t.getFooter(n);
      },
      setBusy: function setBusy(t, n, e) {
        t.setBusy(n, e);
      },
      setIdle: function setIdle(t, n) {
        t.setIdle(n);
      }
    }
  }),
      sD = te([Qt("type"), Qt("name")].concat(Hh)),
      lD = ie,
      fD = [le("name", "name", Et(function () {
    return Ar("button-name");
  }), re), cn("icon"), hn("align", "end", ["start", "end"]), vn("primary", !1), vn("disabled", !1)],
      dD = H(H([], fD), [Qt("text")]),
      mD = H([Zt("type", ["submit", "cancel", "custom"])], dD),
      gD = qt("type", {
    submit: mD,
    cancel: mD,
    custom: mD,
    menu: H([Zt("type", ["menu"]), cn("text"), cn("tooltip"), cn("icon"), on("items", sD)], fD)
  }),
      pD = [Qt("type"), Qt("text"), Zt("level", ["info", "warn", "error", "success"]), Qt("icon"), dn("url", "")],
      hD = te(pD),
      vD = [Qt("type"), Qt("text"), vn("disabled", !1), vn("primary", !1), le("name", "name", Et(function () {
    return Ar("button-name");
  }), re), cn("icon"), vn("borderless", !1)],
      bD = te(vD),
      yD = [Qt("type"), Qt("name"), Qt("label"), vn("disabled", !1)],
      xD = te(yD),
      wD = ie,
      SD = [Qt("type"), Qt("name")],
      kD = SD.concat([cn("label")]),
      CD = kD.concat([dn("columns", "auto")]),
      OD = te(CD),
      _D = ne([Qt("value"), Qt("text"), Qt("icon")]),
      TD = te(kD),
      ED = re,
      DD = te(kD),
      BD = re,
      AD = SD.concat([pn("tag", "textarea"), Qt("scriptId"), Qt("scriptUrl"), mn("settings", void 0, ce)]),
      MD = SD.concat([pn("tag", "textarea"), tn("init")]),
      FD = Wt(function (t) {
    return Gt("customeditor.old", Ht(MD), t).orThunk(function () {
      return Gt("customeditor.new", Ht(AD), t);
    });
  }),
      ID = re,
      RD = te(kD),
      VD = zt(Zn),
      PD = [Qt("type"), Qt("html"), hn("presets", "presentation", ["presentation", "document"])],
      HD = te(PD),
      zD = kD.concat([vn("sandboxed", !0)]),
      ND = te(zD),
      LD = re,
      jD = kD.concat([$t("currentState", te([Jt("blob"), Qt("url")]))]),
      WD = te(jD),
      UD = kD.concat([cn("inputMode"), cn("placeholder"), vn("maximized", !1), vn("disabled", !1)]),
      GD = te(UD),
      XD = re,
      YD = [Qt("text"), Qt("value")],
      qD = [Qt("text"), on("items", (rD = _t(function () {
    return KD;
  }), {
    extract: function extract(t, n) {
      return rD().extract(t, n);
    },
    toString: function toString() {
      return rD().toString();
    }
  }))],
      KD = Nt([te(YD), te(qD)]),
      JD = kD.concat([on("items", KD), vn("disabled", !1)]),
      $D = te(JD),
      QD = re,
      ZD = kD.concat([en("items", [Qt("text"), Qt("value")]), gn("size", 1), vn("disabled", !1)]),
      tB = te(ZD),
      nB = re,
      eB = kD.concat([vn("constrain", !0), vn("disabled", !1)]),
      oB = te(eB),
      rB = te([Qt("width"), Qt("height")]),
      iB = [Qt("type"), on("header", re), on("cells", zt(re))],
      uB = te(iB),
      aB = kD.concat([cn("placeholder"), vn("maximized", !1), vn("disabled", !1)]),
      cB = te(aB),
      sB = re,
      lB = kD.concat([hn("filetype", "file", ["image", "media", "file"]), dn("disabled", !1)]),
      fB = te(lB),
      dB = te([Qt("value"), dn("meta", {})]),
      mB = Pt(function () {
    return jt("type", {
      alertbanner: hD,
      bar: te((e = CE("bar"), [Qt("type"), e])),
      button: bD,
      checkbox: xD,
      colorinput: TD,
      colorpicker: DD,
      dropzone: RD,
      grid: te((t = CE("grid"), [Qt("type"), $t("columns", oe), t])),
      iframe: ND,
      input: GD,
      listbox: $D,
      selectbox: tB,
      sizeinput: oB,
      textarea: cB,
      urlinput: fB,
      customeditor: FD,
      htmlpanel: HD,
      imagetools: WD,
      collection: OD,
      label: te((n = CE("label"), [Qt("type"), Qt("label"), n])),
      table: uB,
      panel: pB
    });
    var t, n, e;
  }),
      gB = [Qt("type"), dn("classes", []), on("items", mB)],
      pB = te(gB),
      hB = [le("name", "name", Et(function () {
    return Ar("tab-name");
  }), re), Qt("title"), on("items", mB)],
      vB = [Qt("type"), en("tabs", hB)],
      bB = te(vB),
      yB = dD,
      xB = gD,
      wB = te([Qt("title"), $t("body", jt("type", {
    panel: pB,
    tabpanel: bB
  })), pn("size", "normal"), on("buttons", xB), dn("initialData", {}), bn("onAction", ct), bn("onChange", ct), bn("onSubmit", ct), bn("onClose", ct), bn("onCancel", ct), dn("onTabChange", ct)]),
      SB = te(H([Zt("type", ["cancel", "custom"])], yB)),
      kB = te([Qt("title"), Qt("url"), an("height"), an("width"), ln("buttons", SB), bn("onAction", ct), bn("onCancel", ct), bn("onClose", ct), bn("onMessage", ct)]),
      CB = function CB(t) {
    return x(t) ? [t].concat(z(St(t), CB)) : c(t) ? z(t, CB) : [];
  },
      OB = {
    checkbox: wD,
    colorinput: ED,
    colorpicker: BD,
    dropzone: VD,
    input: XD,
    iframe: LD,
    sizeinput: rB,
    selectbox: nB,
    listbox: QD,
    size: rB,
    textarea: sB,
    urlinput: dB,
    customeditor: ID,
    collection: _D,
    togglemenuitem: lD
  },
      _B = {
    open: function open(t, n) {
      var e = _E(n);

      return t(e.internalDialog, e.initialData, e.dataValidator);
    },
    openUrl: function openUrl(t, n) {
      return t(Xt(Gt("dialog", kB, n)));
    },
    redial: _E
  },
      TB = xl({
    name: "TabButton",
    configFields: [dn("uid", void 0), Jt("value"), le("dom", "dom", At(function () {
      return {
        attributes: {
          role: "tab",
          id: Ar("aria"),
          "aria-selected": "false"
        }
      };
    }), ee()), rn("action"), dn("domModification", {}), Js("tabButtonBehaviours", [Rg, Bg, _f]), Jt("view")],
    factory: function factory(t, n) {
      return {
        uid: t.uid,
        dom: t.dom,
        components: t.components,
        events: ym(t.action),
        behaviours: Qs(t.tabButtonBehaviours, [Rg.config({}), Bg.config({
          mode: "execution",
          useSpace: !0,
          useEnter: !0
        }), _f.config({
          store: {
            mode: "memory",
            initialValue: t.value
          }
        })]),
        domModification: t.domModification
      };
    }
  }),
      EB = tt([Jt("tabs"), Jt("dom"), dn("clickToDismiss", !1), Js("tabbarBehaviours", [md, Bg]), Yu(["tabClass", "selectedClass"])]),
      DB = tt([Jf({
    factory: TB,
    name: "tabs",
    unit: "tab",
    overrides: function overrides(o) {
      return {
        action: function action(t) {
          var n = t.getSystem().getByUid(o.uid).getOrDie(),
              e = md.isHighlighted(n, t);
          (e && o.clickToDismiss ? function (t, n) {
            md.dehighlight(t, n), Ne(t, Xo(), {
              tabbar: t,
              button: n
            });
          } : e ? ct : function (t, n) {
            md.highlight(t, n), Ne(t, Go(), {
              tabbar: t,
              button: n
            });
          })(n, t);
        },
        domModification: {
          classes: [o.markers.tabClass]
        }
      };
    }
  })]),
      BB = wl({
    name: "Tabbar",
    configFields: EB(),
    partFields: DB(),
    factory: function factory(t, n, e, o) {
      return {
        uid: t.uid,
        dom: t.dom,
        components: n,
        "debug.sketcher": "Tabbar",
        domModification: {
          attributes: {
            role: "tablist"
          }
        },
        behaviours: Qs(t.tabbarBehaviours, [md.config({
          highlightClass: t.markers.selectedClass,
          itemClass: t.markers.tabClass,
          onHighlight: function onHighlight(t, n) {
            Or(n.element, "aria-selected", "true");
          },
          onDehighlight: function onDehighlight(t, n) {
            Or(n.element, "aria-selected", "false");
          }
        }), Bg.config({
          mode: "flow",
          getInitial: function getInitial(t) {
            return md.getHighlighted(t).map(function (t) {
              return t.element;
            });
          },
          selector: "." + t.markers.tabClass,
          executeOnMove: !0
        })])
      };
    }
  }),
      AB = xl({
    name: "Tabview",
    configFields: [Js("tabviewBehaviours", [Mg])],
    factory: function factory(t, n) {
      return {
        uid: t.uid,
        dom: t.dom,
        behaviours: Qs(t.tabviewBehaviours, [Mg.config({})]),
        domModification: {
          attributes: {
            role: "tabpanel"
          }
        }
      };
    }
  }),
      MB = tt([dn("selectFirst", !0), Ku("onChangeTab"), Ku("onDismissTab"), dn("tabs", []), Js("tabSectionBehaviours", [])]),
      FB = tt([Yf({
    factory: BB,
    schema: [Jt("dom"), nn("markers", [Jt("tabClass"), Jt("selectedClass")])],
    name: "tabbar",
    defaults: function defaults(t) {
      return {
        tabs: t.tabs
      };
    }
  }), Yf({
    factory: AB,
    name: "tabview"
  })]),
      IB = wl({
    name: "TabSection",
    configFields: MB(),
    partFields: FB(),
    factory: function factory(i, t, n, e) {
      function o(t, n) {
        ll(t, i, "tabbar").each(function (t) {
          n(t).each(Le);
        });
      }

      return {
        uid: i.uid,
        dom: i.dom,
        components: t,
        behaviours: $s(i.tabSectionBehaviours),
        events: Jo(lt([i.selectFirst ? [$o(function (t, n) {
          o(t, md.getFirst);
        })] : [], [Xe(Go(), function (t, n) {
          var o = n.event.button,
              r = _f.getValue(o);

          ll(o, i, "tabview").each(function (e) {
            V(i.tabs, function (t) {
              return t.value === r;
            }).each(function (t) {
              var n = t.view();
              Tr(o.element, "id").each(function (t) {
                Or(e.element, "aria-labelledby", t);
              }), Mg.set(e, n), i.onChangeTab(e, o, n);
            });
          });
        }), Xe(Xo(), function (t, n) {
          var e = n.event.button;
          i.onDismissTab(t, e);
        })]])),
        apis: {
          getViewItems: function getViewItems(t) {
            return ll(t, i, "tabview").map(function (t) {
              return Mg.contents(t);
            }).getOr([]);
          },
          showTab: function showTab(t, e) {
            o(t, function (n) {
              return V(md.getCandidates(n), function (t) {
                return _f.getValue(t) === e;
              }).filter(function (t) {
                return !md.isHighlighted(n, t);
              });
            });
          }
        }
      };
    },
    apis: {
      getViewItems: function getViewItems(t, n) {
        return t.getViewItems(n);
      },
      showTab: function showTab(t, n, e) {
        t.showTab(n, e);
      }
    }
  }),
      RB = "send-data-to-section",
      VB = "send-data-to-view",
      PB = Ar("update-dialog"),
      HB = Ar("update-title"),
      zB = Ar("update-body"),
      NB = Ar("update-footer"),
      LB = Ar("body-send-message"),
      jB = Qv.deviceType.isTouch(),
      WB = function WB(u, t) {
    function n(t, i) {
      return Xe(t, function (e, o) {
        var n, r;
        n = e, r = function r(t, n) {
          i(u(), t, o.event, e);
        }, R_.getState(n).get().each(function (t) {
          r(t, n);
        });
      });
    }

    return H(H([], KE(n, t)), [n(wy, function (t, n, e) {
      n.onAction(t, {
        name: e.name
      });
    })]);
  },
      UB = function UB(u, t, c) {
    function n(t, i) {
      return Xe(t, function (e, o) {
        var n, r;
        n = e, r = function r(t, n) {
          i(u(), t, o.event, e);
        }, R_.getState(n).get().each(function (t) {
          r(t.internalDialog, n);
        });
      });
    }

    return H(H([], KE(n, t)), [n(Sy, function (t, n) {
      return n.onSubmit(t);
    }), n(by, function (t, n, e) {
      n.onChange(t, {
        name: e.name
      });
    }), n(wy, function (t, n, e, o) {
      function r() {
        return Bg.focusIn(o);
      }

      function i(t) {
        return Er(t, "disabled") || Tr(t, "aria-disabled").exists(function (t) {
          return "true" === t;
        });
      }

      var u = ji(o.element),
          a = Ca(u);
      n.onAction(t, {
        name: e.name,
        value: e.value
      }), Ca(u).fold(r, function (n) {
        i(n) || a.exists(function (t) {
          return An(n, t) && i(t);
        }) ? r() : c().toOptional().filter(function (t) {
          return !An(t.element, n);
        }).each(r);
      });
    }), n(Oy, function (t, n, e) {
      n.onTabChange(t, {
        newTabName: e.name,
        oldTabName: e.oldName
      });
    }), Qo(function (t) {
      var n = u();

      _f.setValue(t, n.getData());
    })]);
  },
      GB = $E,
      XB = tinymce.util.Tools.resolve("tinymce.util.URI"),
      YB = ["insertContent", "setContent", "execCommand", "close", "block", "unblock"];

  o.add("silver", function (t) {
    var n = kE(t),
        e = n.uiMothership,
        o = n.backstage,
        r = n.renderUI,
        i = n.getUi;
    return ny(t, o.shared), {
      renderUI: r,
      getWindowManagerImpl: tt(oD({
        editor: t,
        backstage: o
      })),
      getNotificationManagerImpl: function getNotificationManagerImpl() {
        return u = e, a = {
          backstage: o
        }.backstage.shared, {
          open: function open(t, n) {
            function e() {
              n(), op.hide(i);
            }

            var o = !t.closeButton && t.timeout && (0 < t.timeout || t.timeout < 0),
                r = bu(mp.sketch({
              text: t.text,
              level: et(["success", "error", "warning", "warn", "info"], t.type) ? t.type : void 0,
              progress: !0 === t.progressBar,
              icon: ft.from(t.icon),
              closeButton: !o,
              onAction: e,
              iconProvider: a.providers.icons,
              translationProvider: a.providers.translate
            })),
                i = bu(op.sketch(_st({
              dom: {
                tag: "div",
                classes: ["tox-notifications-container"]
              },
              lazySink: a.getSink,
              fireDismissalEventInstead: {}
            }, a.header.isPositionedAtTop() ? {} : {
              fireRepositionEventInstead: {}
            })));
            return u.add(i), 0 < t.timeout && ap.setTimeout(function () {
              e();
            }, t.timeout), {
              close: e,
              moveTo: function moveTo(t, n) {
                op.showAt(i, yu(r), {
                  anchor: {
                    type: "makeshift",
                    x: t,
                    y: n
                  }
                });
              },
              moveRel: function moveRel(t, n) {
                var e, o;
                "banner" !== n ? (e = function () {
                  switch (n) {
                    case "bc-bc":
                      return up;

                    case "tc-tc":
                      return ip;

                    case "tc-bc":
                      return qa;

                    default:
                      return Ka;
                  }
                }(), o = {
                  type: "node",
                  root: mu(),
                  node: ft.some(de.fromDom(t)),
                  layouts: {
                    onRtl: function onRtl() {
                      return [e];
                    },
                    onLtr: function onLtr() {
                      return [e];
                    }
                  }
                }, op.showAt(i, yu(r), {
                  anchor: o
                })) : op.showAt(i, yu(r), {
                  anchor: a.anchors.banner()
                });
              },
              text: function text(t) {
                mp.updateText(r, t);
              },
              settings: t,
              getEl: function getEl() {
                return r.element.dom;
              },
              progressBar: {
                value: function value(t) {
                  mp.updateProgress(r, t);
                }
              }
            };
          },
          close: function close(t) {
            t.close();
          },
          reposition: function reposition(t) {
            var e;
            dt(t, function (t) {
              return t.moveTo(0, 0);
            }), 0 < (e = t).length && (ot(e).each(function (t) {
              return t.moveRel(null, "banner");
            }), dt(e, function (t, n) {
              0 < n && t.moveRel(e[n - 1].getEl(), "bc-tc");
            }));
          },
          getArgs: function getArgs(t) {
            return t.settings;
          }
        };
        var u, a;
      },
      ui: i()
    };
  });
}();

/***/ }),

/***/ "./packages/roniejisa/scripts/assets/plugins/tinymce/tinymce.min.js":
/*!**************************************************************************!*\
  !*** ./packages/roniejisa/scripts/assets/plugins/tinymce/tinymce.min.js ***!
  \**************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/* module decorator */ module = __webpack_require__.nmd(module);
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

/**
 * Copyright (c) Tiny Technologies, Inc. All rights reserved.
 * Licensed under the LGPL or a commercial license.
 * For LGPL see License.txt in the project root for license information.
 * For commercial licenses see https://www.tiny.cloud/
 *
 * Version: 5.9.2 (2021-09-08)
 */
!function () {
  "use strict";

  function r(e) {
    if (null === e) return "null";
    if (void 0 === e) return "undefined";

    var t = _typeof(e);

    return "object" == t && (Array.prototype.isPrototypeOf(e) || e.constructor && "Array" === e.constructor.name) ? "array" : "object" == t && (String.prototype.isPrototypeOf(e) || e.constructor && "String" === e.constructor.name) ? "string" : t;
  }

  function f(o) {
    return m(function (e, t) {
      if (e.length !== t.length) return !1;

      for (var n = e.length, r = 0; r < n; r++) {
        if (!o.eq(e[r], t[r])) return !1;
      }

      return !0;
    });
  }

  function d(l) {
    return m(function (e, t) {
      var n,
          r,
          o,
          i = Object.keys(e),
          a = Object.keys(t);
      if (r = f(g), o = function o(e) {
        return t = n, Array.prototype.slice.call(e).sort(t);
        var t;
      }, !m(function (e, t) {
        return r.eq(o(e), o(t));
      }).eq(i, a)) return !1;

      for (var u = i.length, s = 0; s < u; s++) {
        var c = i[s];
        if (!l.eq(e[c], t[c])) return !1;
      }

      return !0;
    });
  }

  function e(r) {
    return function (e) {
      return n = _typeof(t = e), (null === t ? "null" : "object" == n && (Array.prototype.isPrototypeOf(t) || t.constructor && "Array" === t.constructor.name) ? "array" : "object" == n && (String.prototype.isPrototypeOf(t) || t.constructor && "String" === t.constructor.name) ? "string" : n) === r;
      var t, n;
    };
  }

  function t(t) {
    return function (e) {
      return _typeof(e) === t;
    };
  }

  function n(t) {
    return function (e) {
      return t === e;
    };
  }

  function re(e) {
    return null == e;
  }

  function V(e) {
    return !re(e);
  }

  function oe() {}

  function i(n, r) {
    return function () {
      for (var e = [], t = 0; t < arguments.length; t++) {
        e[t] = arguments[t];
      }

      return n(r.apply(null, e));
    };
  }

  function a(t, n) {
    return function (e) {
      return t(n(e));
    };
  }

  function J(e) {
    return function () {
      return e;
    };
  }

  function u(e) {
    return e;
  }

  function o(e, t) {
    return e === t;
  }

  var m = function m(e) {
    return {
      eq: e
    };
  },
      g = m(function (e, t) {
    return e === t;
  }),
      p = m(function (e, t) {
    if (e === t) return !0;
    var n = r(e);
    return n === r(t) && (-1 !== ["undefined", "boolean", "number", "string", "function", "xml", "null"].indexOf(n) ? e === t : "array" === n ? f(p).eq(e, t) : "object" === n && d(p).eq(e, t));
  }),
      K = e("string"),
      h = e("object"),
      S = e("array"),
      l = n(null),
      v = t("boolean"),
      b = n(void 0),
      y = t("function"),
      E = t("number");

  function A(r) {
    for (var o = [], e = 1; e < arguments.length; e++) {
      o[e - 1] = arguments[e];
    }

    return function () {
      for (var e = [], t = 0; t < arguments.length; t++) {
        e[t] = arguments[t];
      }

      var n = o.concat(e);
      return r.apply(null, n);
    };
  }

  function s(t) {
    return function (e) {
      return !t(e);
    };
  }

  function C(e) {
    return e();
  }

  function w(e) {
    e();
  }

  function c() {
    return N;
  }

  var T = J(!1),
      x = J(!0),
      N = {
    fold: function fold(e, t) {
      return e();
    },
    isSome: T,
    isNone: x,
    getOr: u,
    getOrThunk: k,
    getOrDie: function getOrDie(e) {
      throw new Error(e || "error: getOrDie called on none.");
    },
    getOrNull: J(null),
    getOrUndefined: J(void 0),
    or: u,
    orThunk: k,
    map: c,
    each: oe,
    bind: c,
    exists: T,
    forall: x,
    filter: function filter() {
      return N;
    },
    toArray: function toArray() {
      return [];
    },
    toString: J("none()")
  };

  function k(e) {
    return e();
  }

  function _(e, t) {
    return be.call(e, t);
  }

  function ie(e, t) {
    return -1 < _(e, t);
  }

  function F(e, t) {
    for (var n = 0, r = e.length; n < r; n++) {
      if (t(e[n], n)) return !0;
    }

    return !1;
  }

  function R(e, t) {
    for (var n = e.length, r = new Array(n), o = 0; o < n; o++) {
      var i = e[o];
      r[o] = t(i, o);
    }

    return r;
  }

  function X(e, t) {
    for (var n = 0, r = e.length; n < r; n++) {
      t(e[n], n);
    }
  }

  function D(e, t) {
    for (var n = e.length - 1; 0 <= n; n--) {
      t(e[n], n);
    }
  }

  function O(e, t) {
    for (var n = [], r = [], o = 0, i = e.length; o < i; o++) {
      var a = e[o];
      (t(a, o) ? n : r).push(a);
    }

    return {
      pass: n,
      fail: r
    };
  }

  function U(e, t) {
    for (var n = [], r = 0, o = e.length; r < o; r++) {
      var i = e[r];
      t(i, r) && n.push(i);
    }

    return n;
  }

  function B(e, n, r) {
    return D(e, function (e, t) {
      r = n(r, e, t);
    }), r;
  }

  function P(e, n, r) {
    return X(e, function (e, t) {
      r = n(r, e, t);
    }), r;
  }

  function L(e, t, n) {
    for (var r = 0, o = e.length; r < o; r++) {
      var i = e[r];
      if (t(i, r)) return he.some(i);
      if (n(i, r)) break;
    }

    return he.none();
  }

  function I(e, t) {
    return L(e, t, T);
  }

  function M(e, t) {
    for (var n = 0, r = e.length; n < r; n++) {
      if (t(e[n], n)) return he.some(n);
    }

    return he.none();
  }

  function z(e, t) {
    return function (e) {
      for (var t = [], n = 0, r = e.length; n < r; ++n) {
        if (!S(e[n])) throw new Error("Arr.flatten item " + n + " was not an array, input: " + e);
        ye.apply(t, e[n]);
      }

      return t;
    }(R(e, t));
  }

  function j(e, t) {
    for (var n = 0, r = e.length; n < r; ++n) {
      if (!0 !== t(e[n], n)) return !1;
    }

    return !0;
  }

  function H(e) {
    var t = ve.call(e, 0);
    return t.reverse(), t;
  }

  function q(e, t) {
    return U(e, function (e) {
      return !ie(t, e);
    });
  }

  function $(e, t) {
    return 0 <= t && t < e.length ? he.some(e[t]) : he.none();
  }

  function W(e) {
    return $(e, 0);
  }

  function Y(e) {
    return $(e, e.length - 1);
  }

  function G(e, t) {
    for (var n = 0; n < e.length; n++) {
      var r = t(e[n], n);
      if (r.isSome()) return r;
    }

    return he.none();
  }

  function Q(e, t) {
    for (var n = we(e), r = 0, o = n.length; r < o; r++) {
      var i = n[r];
      t(e[i], i);
    }
  }

  function Z(e, n) {
    return Se(e, function (e, t) {
      return {
        k: t,
        v: n(e, t)
      };
    });
  }

  function ee(n) {
    return function (e, t) {
      n[t] = e;
    };
  }

  function te(e, n, r, o) {
    return Q(e, function (e, t) {
      (n(e, t) ? r : o)(e, t);
    }), 1;
  }

  function ne(e, t) {
    var n = {};
    return te(e, t, ee(n), oe), n;
  }

  function ae(e, t) {
    return Ee(e, t) ? he.from(e[t]) : he.none();
  }

  function ue(e, t) {
    return Ee(e, t) && void 0 !== e[t] && null !== e[t];
  }

  function se(e, t, n) {
    var r, o;
    if (!e) return !1;

    if (n = n || e, void 0 !== e.length) {
      for (r = 0, o = e.length; r < o; r++) {
        if (!1 === t.call(n, e[r], r, e)) return !1;
      }
    } else for (r in e) {
      if (Ee(e, r) && !1 === t.call(n, e[r], r, e)) return !1;
    }

    return !0;
  }

  function ce(n, r) {
    var o = [];
    return se(n, function (e, t) {
      o.push(r(e, t, n));
    }), o;
  }

  function le(n, r) {
    var o = [];
    return se(n, function (e, t) {
      r && !r(e, t, n) || o.push(e);
    }), o;
  }

  function fe(e, t) {
    if (e) for (var n = 0, r = e.length; n < r; n++) {
      if (e[n] === t) return n;
    }
    return -1;
  }

  function de(e, t, n, r) {
    for (var o = b(n) ? e[0] : n, i = 0; i < e.length; i++) {
      o = t.call(r, o, e[i], i);
    }

    return o;
  }

  function me(e, t, n) {
    for (var r = 0, o = e.length; r < o; r++) {
      if (t.call(n, e[r], r, e)) return r;
    }

    return -1;
  }

  function ge(e) {
    return e[e.length - 1];
  }

  var pe = function pe(n) {
    function e() {
      return o;
    }

    function t(e) {
      return e(n);
    }

    var r = J(n),
        o = {
      fold: function fold(e, t) {
        return t(n);
      },
      isSome: x,
      isNone: T,
      getOr: r,
      getOrThunk: r,
      getOrDie: r,
      getOrNull: r,
      getOrUndefined: r,
      or: e,
      orThunk: e,
      map: function map(e) {
        return pe(e(n));
      },
      each: function each(e) {
        e(n);
      },
      bind: t,
      exists: t,
      forall: t,
      filter: function filter(e) {
        return e(n) ? o : N;
      },
      toArray: function toArray() {
        return [n];
      },
      toString: function toString() {
        return "some(" + n + ")";
      }
    };
    return o;
  },
      he = {
    some: pe,
    none: c,
    from: function from(e) {
      return null == e ? N : pe(e);
    }
  },
      ve = Array.prototype.slice,
      be = Array.prototype.indexOf,
      ye = Array.prototype.push,
      Ce = y(Array.from) ? Array.from : function (e) {
    return ve.call(e);
  },
      we = Object.keys,
      xe = Object.hasOwnProperty,
      Se = function Se(e, r) {
    var o = {};
    return Q(e, function (e, t) {
      var n = r(e, t);
      o[n.k] = n.v;
    }), o;
  },
      Ee = function Ee(e, t) {
    return xe.call(e, t);
  },
      Ne = Array.isArray,
      _ke = function ke() {
    return (_ke = Object.assign || function (e) {
      for (var t, n = 1, r = arguments.length; n < r; n++) {
        for (var o in t = arguments[n]) {
          Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
        }
      }

      return e;
    }).apply(this, arguments);
  };

  function _e(e, t, n) {
    if (n || 2 === arguments.length) for (var r, o = 0, i = t.length; o < i; o++) {
      !r && o in t || ((r = r || Array.prototype.slice.call(t, 0, o))[o] = t[o]);
    }
    return e.concat(r || Array.prototype.slice.call(t));
  }

  function Ae(n) {
    var r,
        o = !1;
    return function () {
      for (var e = [], t = 0; t < arguments.length; t++) {
        e[t] = arguments[t];
      }

      return o || (o = !0, r = n.apply(null, e)), r;
    };
  }

  function Te(e, t) {
    var n = String(t).toLowerCase();
    return I(e, function (e) {
      return e.search(n);
    });
  }

  function Re(e, t) {
    return -1 !== e.indexOf(t);
  }

  function De(t) {
    return function (e) {
      return e.replace(t, "");
    };
  }

  function Oe(e) {
    return 0 < e.length;
  }

  function Be(e) {
    return !Oe(e);
  }

  function Pe(t) {
    return function (e) {
      return Re(e, t);
    };
  }

  function Le(e) {
    return window.matchMedia(e).matches;
  }

  function Ie(e) {
    return null == e ? "" : ("" + e).replace(wt, "");
  }

  function Me(e, t) {
    return t ? !("array" !== t || !Ne(e)) || _typeof(e) === t : void 0 !== e;
  }

  function Fe(e, t) {
    for (var n = [], r = function r(e) {
      return n.push(e), t(e);
    }, o = t(e); (o = o.bind(r)).isSome();) {
      ;
    }

    return n;
  }

  function Ue(e, t) {
    var n = e.dom;
    if (1 !== n.nodeType) return !1;
    var r = n;
    if (void 0 !== r.matches) return r.matches(t);
    if (void 0 !== r.msMatchesSelector) return r.msMatchesSelector(t);
    if (void 0 !== r.webkitMatchesSelector) return r.webkitMatchesSelector(t);
    if (void 0 !== r.mozMatchesSelector) return r.mozMatchesSelector(t);
    throw new Error("Browser lacks native selectors");
  }

  function ze(e) {
    return 1 !== e.nodeType && 9 !== e.nodeType && 11 !== e.nodeType || 0 === e.childElementCount;
  }

  function je(e, t) {
    return e.dom === t.dom;
  }

  function He(e, t) {
    return ft().browser.isIE() ? (n = e.dom, r = t.dom, o = Node.DOCUMENT_POSITION_CONTAINED_BY, 0 != (n.compareDocumentPosition(r) & o)) : (i = e.dom) !== (a = t.dom) && i.contains(a);
    var n, r, o, i, a;
  }

  function Ve() {
    return Ke(0, 0);
  }

  function qe(e) {
    function t(e) {
      return function () {
        return n === e;
      };
    }

    var n = e.current,
        r = e.version;
    return {
      current: n,
      version: r,
      isEdge: t("Edge"),
      isChrome: t("Chrome"),
      isIE: t("IE"),
      isOpera: t("Opera"),
      isFirefox: t(tt),
      isSafari: t("Safari")
    };
  }

  function $e(e) {
    function t(e) {
      return function () {
        return n === e;
      };
    }

    var n = e.current,
        r = e.version;
    return {
      current: n,
      version: r,
      isWindows: t(ot),
      isiOS: t("iOS"),
      isAndroid: t(it),
      isOSX: t("OSX"),
      isLinux: t("Linux"),
      isSolaris: t(at),
      isFreeBSD: t(ut),
      isChromeOS: t(st)
    };
  }

  function We(e) {
    if (null == e) throw new Error("Node cannot be null or undefined");
    return {
      dom: e
    };
  }

  var Ke = function Ke(e, t) {
    return {
      major: e,
      minor: t
    };
  },
      Xe = {
    nu: Ke,
    detect: function detect(e, t) {
      var n,
          r,
          o = String(t).toLowerCase();
      return 0 === e.length ? Ve() : (r = function (e, t) {
        for (var n = 0; n < e.length; n++) {
          var r = e[n];
          if (r.test(t)) return r;
        }
      }(e, n = o)) ? Ke(i(1), i(2)) : {
        major: 0,
        minor: 0
      };

      function i(e) {
        return Number(n.replace(r, "$" + e));
      }
    },
    unknown: Ve
  },
      Ye = function Ye(e, t) {
    return "" === (n = t) || e.length >= n.length && e.substr(0, 0 + n.length) === n;
    var n;
  },
      Ge = De(/^\s+|\s+$/g),
      Je = De(/^\s+/g),
      Qe = De(/\s+$/g),
      Ze = /.*?version\/\ ?([0-9]+)\.([0-9]+).*/,
      et = {
    browsers: J([{
      name: "Edge",
      versionRegexes: [/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],
      search: function search(e) {
        return Re(e, "edge/") && Re(e, "chrome") && Re(e, "safari") && Re(e, "applewebkit");
      }
    }, {
      name: "Chrome",
      brand: "Chromium",
      versionRegexes: [/.*?chrome\/([0-9]+)\.([0-9]+).*/, Ze],
      search: function search(e) {
        return Re(e, "chrome") && !Re(e, "chromeframe");
      }
    }, {
      name: "IE",
      versionRegexes: [/.*?msie\ ?([0-9]+)\.([0-9]+).*/, /.*?rv:([0-9]+)\.([0-9]+).*/],
      search: function search(e) {
        return Re(e, "msie") || Re(e, "trident");
      }
    }, {
      name: "Opera",
      versionRegexes: [Ze, /.*?opera\/([0-9]+)\.([0-9]+).*/],
      search: Pe("opera")
    }, {
      name: "Firefox",
      versionRegexes: [/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],
      search: Pe("firefox")
    }, {
      name: "Safari",
      versionRegexes: [Ze, /.*?cpu os ([0-9]+)_([0-9]+).*/],
      search: function search(e) {
        return (Re(e, "safari") || Re(e, "mobile/")) && Re(e, "applewebkit");
      }
    }]),
    oses: J([{
      name: "Windows",
      search: Pe("win"),
      versionRegexes: [/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]
    }, {
      name: "iOS",
      search: function search(e) {
        return Re(e, "iphone") || Re(e, "ipad");
      },
      versionRegexes: [/.*?version\/\ ?([0-9]+)\.([0-9]+).*/, /.*cpu os ([0-9]+)_([0-9]+).*/, /.*cpu iphone os ([0-9]+)_([0-9]+).*/]
    }, {
      name: "Android",
      search: Pe("android"),
      versionRegexes: [/.*?android\ ?([0-9]+)\.([0-9]+).*/]
    }, {
      name: "OSX",
      search: Pe("mac os x"),
      versionRegexes: [/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]
    }, {
      name: "Linux",
      search: Pe("linux"),
      versionRegexes: []
    }, {
      name: "Solaris",
      search: Pe("sunos"),
      versionRegexes: []
    }, {
      name: "FreeBSD",
      search: Pe("freebsd"),
      versionRegexes: []
    }, {
      name: "ChromeOS",
      search: Pe("cros"),
      versionRegexes: [/.*?chrome\/([0-9]+)\.([0-9]+).*/]
    }])
  },
      tt = "Firefox",
      nt = function nt() {
    return qe({
      current: void 0,
      version: Xe.unknown()
    });
  },
      rt = qe,
      ot = (J("Edge"), J("Chrome"), J("IE"), J("Opera"), J(tt), J("Safari"), "Windows"),
      it = "Android",
      at = "Solaris",
      ut = "FreeBSD",
      st = "ChromeOS",
      ct = function ct() {
    return $e({
      current: void 0,
      version: Xe.unknown()
    });
  },
      lt = $e,
      ft = (J(ot), J("iOS"), J(it), J("Linux"), J("OSX"), J(at), J(ut), J(st), Ae(function () {
    return e = navigator.userAgent, t = he.from(navigator.userAgentData), n = Le, p = et.browsers(), h = et.oses(), v = t.bind(function (e) {
      return r = p, G(e.brands, function (t) {
        var n = t.brand.toLowerCase();
        return I(r, function (e) {
          var t;
          return n === (null === (t = e.brand) || void 0 === t ? void 0 : t.toLowerCase());
        }).map(function (e) {
          return {
            current: e.name,
            version: Xe.nu(parseInt(t.version, 10), 0)
          };
        });
      });
      var r;
    }).orThunk(function () {
      return Te(p, n = e).map(function (e) {
        var t = Xe.detect(e.versionRegexes, n);
        return {
          current: e.name,
          version: t
        };
      });
      var n;
    }).fold(nt, rt), b = Te(h, r = e).map(function (e) {
      var t = Xe.detect(e.versionRegexes, r);
      return {
        current: e.name,
        version: t
      };
    }).fold(ct, lt), {
      browser: v,
      os: b,
      deviceType: (i = v, a = e, u = n, s = (o = b).isiOS() && !0 === /ipad/i.test(a), c = o.isiOS() && !s, f = (l = o.isiOS() || o.isAndroid()) || u("(pointer:coarse)"), d = s || !c && l && u("(min-device-width:768px)"), m = c || l && !d, g = i.isSafari() && o.isiOS() && !1 === /safari/i.test(a), {
        isiPad: J(s),
        isiPhone: J(c),
        isTablet: J(d),
        isPhone: J(m),
        isTouch: J(f),
        isAndroid: o.isAndroid,
        isiOS: o.isiOS,
        isWebView: J(g),
        isDesktop: J(!m && !d && !g)
      })
    };
    var e, t, n, r, o, i, a, u, s, c, l, f, d, m, g, p, h, v, b;
  })),
      dt = navigator.userAgent,
      mt = ft(),
      gt = mt.browser,
      pt = mt.os,
      ht = mt.deviceType,
      vt = /WebKit/.test(dt) && !gt.isEdge(),
      bt = "FormData" in window && "FileReader" in window && "URL" in window && !!URL.createObjectURL,
      yt = -1 !== dt.indexOf("Windows Phone"),
      Ct = {
    opera: gt.isOpera(),
    webkit: vt,
    ie: !(!gt.isIE() && !gt.isEdge()) && gt.version.major,
    gecko: gt.isFirefox(),
    mac: pt.isOSX() || pt.isiOS(),
    iOS: ht.isiPad() || ht.isiPhone(),
    android: pt.isAndroid(),
    contentEditable: !0,
    transparentSrc: "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
    caretAfter: !0,
    range: window.getSelection && "Range" in window,
    documentMode: gt.isIE() ? document.documentMode || 7 : 10,
    fileApi: bt,
    ceFalse: !0,
    cacheSuffix: null,
    container: null,
    experimentalShadowDom: !1,
    canHaveCSP: !gt.isIE(),
    desktop: ht.isDesktop(),
    windowsPhone: yt,
    browser: {
      current: gt.current,
      version: gt.version,
      isChrome: gt.isChrome,
      isEdge: gt.isEdge,
      isFirefox: gt.isFirefox,
      isIE: gt.isIE,
      isOpera: gt.isOpera,
      isSafari: gt.isSafari
    },
    os: {
      current: pt.current,
      version: pt.version,
      isAndroid: pt.isAndroid,
      isChromeOS: pt.isChromeOS,
      isFreeBSD: pt.isFreeBSD,
      isiOS: pt.isiOS,
      isLinux: pt.isLinux,
      isOSX: pt.isOSX,
      isSolaris: pt.isSolaris,
      isWindows: pt.isWindows
    },
    deviceType: {
      isDesktop: ht.isDesktop,
      isiPad: ht.isiPad,
      isiPhone: ht.isiPhone,
      isPhone: ht.isPhone,
      isTablet: ht.isTablet,
      isTouch: ht.isTouch,
      isWebView: ht.isWebView
    }
  },
      wt = /^\s*|\s*$/g,
      xt = function xt(e, n, r, o) {
    o = o || this, e && se(e = r ? e[r] : e, function (e, t) {
      return !1 !== n.call(o, e, t, r) && void xt(e, n, r, o);
    });
  },
      St = {
    trim: Ie,
    isArray: Ne,
    is: Me,
    toArray: function toArray(e) {
      if (Ne(e)) return e;

      for (var t = [], n = 0, r = e.length; n < r; n++) {
        t[n] = e[n];
      }

      return t;
    },
    makeMap: function makeMap(e, t, n) {
      var r;

      for (t = t || ",", n = n || {}, r = (e = "string" == typeof (e = e || []) ? e.split(t) : e).length; r--;) {
        n[e[r]] = {};
      }

      return n;
    },
    each: se,
    map: ce,
    grep: le,
    inArray: fe,
    hasOwn: Ee,
    extend: function extend(e) {
      for (var t = [], n = 1; n < arguments.length; n++) {
        t[n - 1] = arguments[n];
      }

      for (var r = 0; r < t.length; r++) {
        var o,
            i,
            a = t[r];

        for (o in a) {
          !Ee(a, o) || void 0 !== (i = a[o]) && (e[o] = i);
        }
      }

      return e;
    },
    create: function create(e, t, n) {
      var r,
          o,
          i,
          a = this,
          u = 0,
          s = (e = /^((static) )?([\w.]+)(:([\w.]+))?/.exec(e))[3].match(/(^|\.)(\w+)$/i)[2],
          c = a.createNS(e[3].replace(/\.\w+$/, ""), n);

      if (!c[s]) {
        if ("static" === e[2]) return c[s] = t, void (this.onCreate && this.onCreate(e[2], e[3], c[s]));
        t[s] || (t[s] = function () {}, u = 1), c[s] = t[s], a.extend(c[s].prototype, t), e[5] && (r = a.resolve(e[5]).prototype, o = e[5].match(/\.(\w+)$/i)[1], i = c[s], c[s] = u ? function () {
          return r[o].apply(this, arguments);
        } : function () {
          return this.parent = r[o], i.apply(this, arguments);
        }, c[s].prototype[s] = c[s], a.each(r, function (e, t) {
          c[s].prototype[t] = r[t];
        }), a.each(t, function (e, t) {
          r[t] ? c[s].prototype[t] = function () {
            return this.parent = r[t], e.apply(this, arguments);
          } : t !== s && (c[s].prototype[t] = e);
        })), a.each(t["static"], function (e, t) {
          c[s][t] = e;
        });
      }
    },
    walk: xt,
    createNS: function createNS(e, t) {
      var n, r;

      for (t = t || window, e = e.split("."), n = 0; n < e.length; n++) {
        t[r = e[n]] || (t[r] = {}), t = t[r];
      }

      return t;
    },
    resolve: function resolve(e, t) {
      var n, r;

      for (t = t || window, n = 0, r = (e = e.split(".")).length; n < r && (t = t[e[n]]); n++) {
        ;
      }

      return t;
    },
    explode: function explode(e, t) {
      return !e || Me(e, "array") ? e : ce(e.split(t || ","), Ie);
    },
    _addCacheSuffix: function _addCacheSuffix(e) {
      var t = Ct.cacheSuffix;
      return t && (e += (-1 === e.indexOf("?") ? "?" : "&") + t), e;
    }
  },
      Et = {
    fromHtml: function fromHtml(e, t) {
      var n = (t || document).createElement("div");
      if (n.innerHTML = e, !n.hasChildNodes() || 1 < n.childNodes.length) throw console.error("HTML does not have a single root node", e), new Error("HTML must have a single root node");
      return We(n.childNodes[0]);
    },
    fromTag: function fromTag(e, t) {
      var n = (t || document).createElement(e);
      return We(n);
    },
    fromText: function fromText(e, t) {
      var n = (t || document).createTextNode(e);
      return We(n);
    },
    fromDom: We,
    fromPoint: function fromPoint(e, t, n) {
      return he.from(e.dom.elementFromPoint(t, n)).map(We);
    }
  };

  function Nt(e) {
    return e.dom.nodeName.toLowerCase();
  }

  function kt(e) {
    return e.dom.nodeType;
  }

  function _t(t) {
    return function (e) {
      return kt(e) === t;
    };
  }

  function At(e) {
    return Et.fromDom(e.dom.ownerDocument);
  }

  function Tt(e) {
    return Rn(e) ? e : At(e);
  }

  function Rt(e) {
    return Et.fromDom(Tt(e).dom.defaultView);
  }

  function Dt(e) {
    return he.from(e.dom.parentNode).map(Et.fromDom);
  }

  function Ot(e) {
    return he.from(e.dom.previousSibling).map(Et.fromDom);
  }

  function Bt(e) {
    return he.from(e.dom.nextSibling).map(Et.fromDom);
  }

  function Pt(e) {
    return H(Fe(e, Ot));
  }

  function Lt(e) {
    return Fe(e, Bt);
  }

  function It(e, t) {
    var n = e.dom.childNodes;
    return he.from(n[t]).map(Et.fromDom);
  }

  function Mt(e) {
    return It(e, 0);
  }

  function Ft(e) {
    return It(e, e.dom.childNodes.length - 1);
  }

  function Ut(e) {
    return e.dom.childNodes.length;
  }

  function zt(e) {
    return Dn(e) && V(e.dom.host);
  }

  function jt(t) {
    return zt(t) ? t : function () {
      var e = Tt(t).dom.head;
      if (null == e) throw new Error("Head is not available yet");
      return Et.fromDom(e);
    }();
  }

  function Ht(e) {
    return Et.fromDom(e.dom.host);
  }

  function Vt(t, n) {
    Dt(t).each(function (e) {
      e.dom.insertBefore(n.dom, t.dom);
    });
  }

  function qt(e, t) {
    Bt(e).fold(function () {
      Dt(e).each(function (e) {
        In(e, t);
      });
    }, function (e) {
      Vt(e, t);
    });
  }

  function $t(t, n) {
    Mt(t).fold(function () {
      In(t, n);
    }, function (e) {
      t.dom.insertBefore(n.dom, e.dom);
    });
  }

  function Wt(t, e) {
    X(e, function (e) {
      In(t, e);
    });
  }

  function Kt(e) {
    e.dom.textContent = "", X(On(e), function (e) {
      Mn(e);
    });
  }

  function Xt(e) {
    var t,
        n = On(e);
    0 < n.length && (t = e, X(n, function (e) {
      Vt(t, e);
    })), Mn(e);
  }

  function Yt(e, t) {
    return void 0 !== e ? e : void 0 !== t ? t : 0;
  }

  function Gt(e) {
    var t = void 0 !== e ? e.dom : document,
        n = t.body.scrollLeft || t.documentElement.scrollLeft,
        r = t.body.scrollTop || t.documentElement.scrollTop;
    return zn(n, r);
  }

  function Jt(e, t, n) {
    var r = (void 0 !== n ? n.dom : document).defaultView;
    r && r.scrollTo(e, t);
  }

  function Qt(e, t) {
    ft().browser.isSafari() && y(e.dom.scrollIntoViewIfNeeded) ? e.dom.scrollIntoViewIfNeeded(!1) : e.dom.scrollIntoView(t);
  }

  function Zt(e, t, n, r) {
    return {
      x: e,
      y: t,
      width: n,
      height: r,
      right: e + n,
      bottom: t + r
    };
  }

  function en(e) {
    var r = void 0 === e ? window : e,
        t = r.document,
        o = Gt(Et.fromDom(t)),
        n = void 0 === r ? window : r;
    return he.from(n.visualViewport).fold(function () {
      var e = r.document.documentElement,
          t = e.clientWidth,
          n = e.clientHeight;
      return Zt(o.left, o.top, t, n);
    }, function (e) {
      return Zt(Math.max(e.pageLeft, o.left), Math.max(e.pageTop, o.top), e.width, e.height);
    });
  }

  function tn(t) {
    return function (e) {
      return !!e && e.nodeType === t;
    };
  }

  function nn(e) {
    return e && !Object.getPrototypeOf(e);
  }

  function rn(e) {
    var n = e.map(function (e) {
      return e.toLowerCase();
    });
    return function (e) {
      if (e && e.nodeName) {
        var t = e.nodeName.toLowerCase();
        return ie(n, t);
      }

      return !1;
    };
  }

  function on(r, e) {
    var o = e.toLowerCase().split(" ");
    return function (e) {
      if (Hn(e)) for (var t = 0; t < o.length; t++) {
        var n = e.ownerDocument.defaultView.getComputedStyle(e, null);
        if ((n ? n.getPropertyValue(r) : null) === o[t]) return !0;
      }
      return !1;
    };
  }

  function an(t) {
    return function (e) {
      return Hn(e) && e.hasAttribute(t);
    };
  }

  function un(e) {
    return Hn(e) && e.hasAttribute("data-mce-bogus");
  }

  function sn(e) {
    return Hn(e) && "TABLE" === e.tagName;
  }

  function cn(t) {
    return function (e) {
      if (Hn(e)) {
        if (e.contentEditable === t) return !0;
        if (e.getAttribute("data-mce-contenteditable") === t) return !0;
      }

      return !1;
    };
  }

  function ln(e, t, n) {
    return void 0 === n && (n = o), e.exists(function (e) {
      return n(e, t);
    });
  }

  function fn(e, t, n) {
    return e.isSome() && t.isSome() ? he.some(n(e.getOrDie(), t.getOrDie())) : he.none();
  }

  function dn(e) {
    return void 0 !== e.style && y(e.style.getPropertyValue);
  }

  function mn(e, t, n) {
    if (!(K(n) || v(n) || E(n))) throw console.error("Invalid call to Attribute.set. Key ", t, ":: Value ", n, ":: Element ", e), new Error("Attribute value was not simple");
    e.setAttribute(t, n + "");
  }

  function gn(e, t, n) {
    mn(e.dom, t, n);
  }

  function pn(e, t) {
    var n = e.dom;
    Q(t, function (e, t) {
      mn(n, t, e);
    });
  }

  function hn(e, t) {
    var n = e.dom.getAttribute(t);
    return null === n ? void 0 : n;
  }

  function vn(e, t) {
    return he.from(hn(e, t));
  }

  function bn(e, t) {
    e.dom.removeAttribute(t);
  }

  function yn(e, t) {
    var n = e.dom;
    Q(t, function (e, t) {
      !function (e, t, n) {
        if (!K(n)) throw console.error("Invalid call to CSS.set. Property ", t, ":: Value ", n, ":: Element ", e), new Error("CSS value must be a string: " + n);
        dn(e) && e.style.setProperty(t, n);
      }(n, t, e);
    });
  }

  function Cn(e, t) {
    var n = e.dom,
        r = window.getComputedStyle(n).getPropertyValue(t);
    return "" !== r || Fn(e) ? r : er(n, t);
  }

  function wn(e, t) {
    var n = e.dom,
        r = er(n, t);
    return he.from(r).filter(function (e) {
      return 0 < e.length;
    });
  }

  function xn(e) {
    var t = {},
        n = e.dom;
    if (dn(n)) for (var r = 0; r < n.style.length; r++) {
      var o = n.style.item(r);
      t[o] = n.style[o];
    }
    return t;
  }

  function Sn(e) {
    return I(e, An);
  }

  function En(e, t) {
    return e.children && ie(e.children, t);
  }

  "undefined" != typeof window || Function("return this;")();

  var Nn,
      kn,
      _n,
      An = _t(1),
      Tn = _t(3),
      Rn = _t(9),
      Dn = _t(11),
      On = function On(e) {
    return R(e.dom.childNodes, Et.fromDom);
  },
      Bn = y(Element.prototype.attachShadow) && y(Node.prototype.getRootNode),
      Pn = J(Bn),
      Ln = Bn ? function (e) {
    return Et.fromDom(e.dom.getRootNode());
  } : Tt,
      In = function In(e, t) {
    e.dom.appendChild(t.dom);
  },
      Mn = function Mn(e) {
    var t = e.dom;
    null !== t.parentNode && t.parentNode.removeChild(t);
  },
      Fn = function Fn(e) {
    var t = Tn(e) ? e.dom.parentNode : e.dom;
    if (null == t || null === t.ownerDocument) return !1;
    var n = t.ownerDocument,
        r = Et.fromDom(t),
        o = Ln(r);
    return (zt(o) ? he.some(o) : he.none()).fold(function () {
      return n.body.contains(t);
    }, a(Fn, Ht));
  },
      Un = function Un(n, r) {
    return {
      left: n,
      top: r,
      translate: function translate(e, t) {
        return Un(n + e, r + t);
      }
    };
  },
      zn = Un,
      jn = function jn(e) {
    var t,
        n = e.dom,
        r = n.ownerDocument.body;
    return r === n ? zn(r.offsetLeft, r.offsetTop) : Fn(e) ? (t = n.getBoundingClientRect(), zn(t.left, t.top)) : zn(0, 0);
  },
      Hn = tn(1),
      Vn = rn(["textarea", "input"]),
      qn = tn(3),
      $n = tn(8),
      Wn = tn(9),
      Kn = tn(11),
      Xn = rn(["br"]),
      Yn = rn(["img"]),
      Gn = cn("true"),
      Jn = cn("false"),
      Qn = rn(["td", "th"]),
      Zn = rn(["video", "audio", "object", "embed"]),
      er = function er(e, t) {
    return dn(e) ? e.style.getPropertyValue(t) : "";
  },
      tr = ft().browser,
      nr = {},
      rr = {
    exports: nr
  };

  function or(e) {
    setTimeout(function () {
      throw e;
    }, 0);
  }

  Nn = nr, kn = rr, _n = void 0, function (e) {
    "object" == _typeof(Nn) && void 0 !== kn ? kn.exports = e() : ("undefined" != typeof window ? window : "undefined" != typeof __webpack_require__.g ? __webpack_require__.g : "undefined" != typeof self ? self : this).EphoxContactWrapper = e();
  }(function () {
    return function i(a, u, s) {
      function c(t, e) {
        if (!u[t]) {
          if (!a[t]) {
            var n = "function" == typeof _n;
            if (!e && n) return n(t, !0);
            if (l) return l(t, !0);
            var r = new Error("Cannot find module '" + t + "'");
            throw r.code = "MODULE_NOT_FOUND", r;
          }

          var o = u[t] = {
            exports: {}
          };
          a[t][0].call(o.exports, function (e) {
            return c(a[t][1][e] || e);
          }, o, o.exports, i, a, u, s);
        }

        return u[t].exports;
      }

      for (var l = "function" == typeof _n, e = 0; e < s.length; e++) {
        c(s[e]);
      }

      return c;
    }({
      1: [function (e, t, n) {
        var r,
            o,
            i = t.exports = {};

        function a() {
          throw new Error("setTimeout has not been defined");
        }

        function u() {
          throw new Error("clearTimeout has not been defined");
        }

        function s(t) {
          if (r === setTimeout) return setTimeout(t, 0);
          if ((r === a || !r) && setTimeout) return r = setTimeout, setTimeout(t, 0);

          try {
            return r(t, 0);
          } catch (e) {
            try {
              return r.call(null, t, 0);
            } catch (e) {
              return r.call(this, t, 0);
            }
          }
        }

        !function () {
          try {
            r = "function" == typeof setTimeout ? setTimeout : a;
          } catch (e) {
            r = a;
          }

          try {
            o = "function" == typeof clearTimeout ? clearTimeout : u;
          } catch (e) {
            o = u;
          }
        }();
        var c,
            l = [],
            f = !1,
            d = -1;

        function m() {
          f && c && (f = !1, c.length ? l = c.concat(l) : d = -1, l.length && g());
        }

        function g() {
          if (!f) {
            var e = s(m);
            f = !0;

            for (var t = l.length; t;) {
              for (c = l, l = []; ++d < t;) {
                c && c[d].run();
              }

              d = -1, t = l.length;
            }

            c = null, f = !1, function (t) {
              if (o === clearTimeout) return clearTimeout(t);
              if ((o === u || !o) && clearTimeout) return o = clearTimeout, clearTimeout(t);

              try {
                o(t);
              } catch (e) {
                try {
                  return o.call(null, t);
                } catch (e) {
                  return o.call(this, t);
                }
              }
            }(e);
          }
        }

        function p(e, t) {
          this.fun = e, this.array = t;
        }

        function h() {}

        i.nextTick = function (e) {
          var t = new Array(arguments.length - 1);
          if (1 < arguments.length) for (var n = 1; n < arguments.length; n++) {
            t[n - 1] = arguments[n];
          }
          l.push(new p(e, t)), 1 !== l.length || f || s(g);
        }, p.prototype.run = function () {
          this.fun.apply(null, this.array);
        }, i.title = "browser", i.browser = !0, i.env = {}, i.argv = [], i.version = "", i.versions = {}, i.on = h, i.addListener = h, i.once = h, i.off = h, i.removeListener = h, i.removeAllListeners = h, i.emit = h, i.prependListener = h, i.prependOnceListener = h, i.listeners = function (e) {
          return [];
        }, i.binding = function (e) {
          throw new Error("process.binding is not supported");
        }, i.cwd = function () {
          return "/";
        }, i.chdir = function (e) {
          throw new Error("process.chdir is not supported");
        }, i.umask = function () {
          return 0;
        };
      }, {}],
      2: [function (e, f, t) {
        !function (t) {
          function r() {}

          function i(e) {
            if ("object" != _typeof(this)) throw new TypeError("Promises must be constructed via new");
            if ("function" != typeof e) throw new TypeError("not a function");
            this._state = 0, this._handled = !1, this._value = void 0, this._deferreds = [], l(e, this);
          }

          function o(n, r) {
            for (; 3 === n._state;) {
              n = n._value;
            }

            0 !== n._state ? (n._handled = !0, i._immediateFn(function () {
              var e,
                  t = 1 === n._state ? r.onFulfilled : r.onRejected;

              if (null !== t) {
                try {
                  e = t(n._value);
                } catch (e) {
                  return void u(r.promise, e);
                }

                a(r.promise, e);
              } else (1 === n._state ? a : u)(r.promise, n._value);
            })) : n._deferreds.push(r);
          }

          function a(t, e) {
            try {
              if (e === t) throw new TypeError("A promise cannot be resolved with itself.");

              if (e && ("object" == _typeof(e) || "function" == typeof e)) {
                var n = e.then;
                if (e instanceof i) return t._state = 3, t._value = e, void s(t);
                if ("function" == typeof n) return void l((r = n, o = e, function () {
                  r.apply(o, arguments);
                }), t);
              }

              t._state = 1, t._value = e, s(t);
            } catch (e) {
              u(t, e);
            }

            var r, o;
          }

          function u(e, t) {
            e._state = 2, e._value = t, s(e);
          }

          function s(e) {
            2 === e._state && 0 === e._deferreds.length && i._immediateFn(function () {
              e._handled || i._unhandledRejectionFn(e._value);
            });

            for (var t = 0, n = e._deferreds.length; t < n; t++) {
              o(e, e._deferreds[t]);
            }

            e._deferreds = null;
          }

          function c(e, t, n) {
            this.onFulfilled = "function" == typeof e ? e : null, this.onRejected = "function" == typeof t ? t : null, this.promise = n;
          }

          function l(e, t) {
            var n = !1;

            try {
              e(function (e) {
                n || (n = !0, a(t, e));
              }, function (e) {
                n || (n = !0, u(t, e));
              });
            } catch (e) {
              if (n) return;
              n = !0, u(t, e);
            }
          }

          var n = setTimeout;
          i.prototype["catch"] = function (e) {
            return this.then(null, e);
          }, i.prototype.then = function (e, t) {
            var n = new this.constructor(r);
            return o(this, new c(e, t, n)), n;
          }, i.all = function (e) {
            var u = Array.prototype.slice.call(e);
            return new i(function (o, i) {
              if (0 === u.length) return o([]);

              for (var a = u.length, e = 0; e < u.length; e++) {
                !function t(n, e) {
                  try {
                    if (e && ("object" == _typeof(e) || "function" == typeof e)) {
                      var r = e.then;
                      if ("function" == typeof r) return r.call(e, function (e) {
                        t(n, e);
                      }, i), 0;
                    }

                    u[n] = e, 0 == --a && o(u);
                  } catch (e) {
                    i(e);
                  }
                }(e, u[e]);
              }
            });
          }, i.resolve = function (t) {
            return t && "object" == _typeof(t) && t.constructor === i ? t : new i(function (e) {
              e(t);
            });
          }, i.reject = function (n) {
            return new i(function (e, t) {
              t(n);
            });
          }, i.race = function (o) {
            return new i(function (e, t) {
              for (var n = 0, r = o.length; n < r; n++) {
                o[n].then(e, t);
              }
            });
          }, i._immediateFn = "function" == typeof t ? function (e) {
            t(e);
          } : function (e) {
            n(e, 0);
          }, i._unhandledRejectionFn = function (e) {
            "undefined" != typeof console && console && console.warn("Possible Unhandled Promise Rejection:", e);
          }, i._setImmediateFn = function (e) {
            i._immediateFn = e;
          }, i._setUnhandledRejectionFn = function (e) {
            i._unhandledRejectionFn = e;
          }, void 0 !== f && f.exports ? f.exports = i : this.Promise || (this.Promise = i);
        }.call(this, e("timers").setImmediate);
      }, {
        timers: 3
      }],
      3: [function (s, e, c) {
        !function (e, t) {
          var r = s("process/browser.js").nextTick,
              n = Function.prototype.apply,
              o = Array.prototype.slice,
              i = {},
              a = 0;

          function u(e, t) {
            this._id = e, this._clearFn = t;
          }

          c.setTimeout = function () {
            return new u(n.call(setTimeout, window, arguments), clearTimeout);
          }, c.setInterval = function () {
            return new u(n.call(setInterval, window, arguments), clearInterval);
          }, c.clearTimeout = c.clearInterval = function (e) {
            e.close();
          }, u.prototype.unref = u.prototype.ref = function () {}, u.prototype.close = function () {
            this._clearFn.call(window, this._id);
          }, c.enroll = function (e, t) {
            clearTimeout(e._idleTimeoutId), e._idleTimeout = t;
          }, c.unenroll = function (e) {
            clearTimeout(e._idleTimeoutId), e._idleTimeout = -1;
          }, c._unrefActive = c.active = function (e) {
            clearTimeout(e._idleTimeoutId);
            var t = e._idleTimeout;
            0 <= t && (e._idleTimeoutId = setTimeout(function () {
              e._onTimeout && e._onTimeout();
            }, t));
          }, c.setImmediate = "function" == typeof e ? e : function (e) {
            var t = a++,
                n = !(arguments.length < 2) && o.call(arguments, 1);
            return i[t] = !0, r(function () {
              i[t] && (n ? e.apply(null, n) : e.call(null), c.clearImmediate(t));
            }), t;
          }, c.clearImmediate = "function" == typeof t ? t : function (e) {
            delete i[e];
          };
        }.call(this, s("timers").setImmediate, s("timers").clearImmediate);
      }, {
        "process/browser.js": 1,
        timers: 3
      }],
      4: [function (e, t, n) {
        var r = e("promise-polyfill"),
            o = "undefined" != typeof window ? window : Function("return this;")();
        t.exports = {
          boltExport: o.Promise || r
        };
      }, {
        "promise-polyfill": 2
      }]
    }, {}, [4])(4);
  });

  function ir(e) {
    return lr(function () {
      return new ur(e);
    });
  }

  function ar(a) {
    if (!S(a)) throw new Error("cases must be an array");
    if (0 === a.length) throw new Error("there must be at least one case");
    var u = [],
        n = {};
    return X(a, function (e, r) {
      var t = we(e);
      if (1 !== t.length) throw new Error("one and only one name per case");
      var o = t[0],
          i = e[o];
      if (void 0 !== n[o]) throw new Error("duplicate key detected:" + o);
      if ("cata" === o) throw new Error("cannot have a case named cata (sorry)");
      if (!S(i)) throw new Error("case arguments must be an array");
      u.push(o), n[o] = function () {
        for (var n = [], e = 0; e < arguments.length; e++) {
          n[e] = arguments[e];
        }

        var t = n.length;
        if (t !== i.length) throw new Error("Wrong number of arguments to case " + o + ". Expected " + i.length + " (" + i + "), got " + t);
        return {
          fold: function fold() {
            for (var e = [], t = 0; t < arguments.length; t++) {
              e[t] = arguments[t];
            }

            if (e.length !== a.length) throw new Error("Wrong number of arguments to fold. Expected " + a.length + ", got " + e.length);
            return e[r].apply(null, n);
          },
          match: function match(e) {
            var t = we(e);
            if (u.length !== t.length) throw new Error("Wrong number of arguments to match. Expected: " + u.join(",") + "\nActual: " + t.join(","));
            if (!j(u, function (e) {
              return ie(t, e);
            })) throw new Error("Not all branches were specified when using match. Specified: " + t.join(", ") + "\nRequired: " + u.join(", "));
            return e[o].apply(null, n);
          },
          log: function log(e) {
            console.log(e, {
              constructors: u,
              constructor: o,
              params: n
            });
          }
        };
      };
    }), n;
  }

  var ur = rr.exports.boltExport,
      sr = function sr(e) {
    function r(e) {
      o() ? i(e) : t.push(e);
    }

    var n = he.none(),
        t = [],
        o = function o() {
      return n.isSome();
    },
        i = function i(t) {
      n.each(function (e) {
        setTimeout(function () {
          t(e);
        }, 0);
      });
    };

    return e(function (e) {
      o() || (n = he.some(e), X(t, i), t = []);
    }), {
      get: r,
      map: function map(n) {
        return sr(function (t) {
          r(function (e) {
            t(n(e));
          });
        });
      },
      isReady: o
    };
  },
      cr = {
    nu: sr,
    pure: function pure(t) {
      return sr(function (e) {
        e(t);
      });
    }
  },
      lr = function lr(n) {
    function e(e) {
      n().then(e, or);
    }

    return {
      map: function map(e) {
        return lr(function () {
          return n().then(e);
        });
      },
      bind: function bind(t) {
        return lr(function () {
          return n().then(function (e) {
            return t(e).toPromise();
          });
        });
      },
      anonBind: function anonBind(e) {
        return lr(function () {
          return n().then(function () {
            return e.toPromise();
          });
        });
      },
      toLazy: function toLazy() {
        return cr.nu(e);
      },
      toCached: function toCached() {
        var e = null;
        return lr(function () {
          return e = null === e ? n() : e;
        });
      },
      toPromise: n,
      get: e
    };
  },
      fr = function fr(n) {
    return {
      isValue: x,
      isError: T,
      getOr: J(n),
      getOrThunk: J(n),
      getOrDie: J(n),
      or: function or(e) {
        return fr(n);
      },
      orThunk: function orThunk(e) {
        return fr(n);
      },
      fold: function fold(e, t) {
        return t(n);
      },
      map: function map(e) {
        return fr(e(n));
      },
      mapError: function mapError(e) {
        return fr(n);
      },
      each: function each(e) {
        e(n);
      },
      bind: function bind(e) {
        return e(n);
      },
      exists: function exists(e) {
        return e(n);
      },
      forall: function forall(e) {
        return e(n);
      },
      toOptional: function toOptional() {
        return he.some(n);
      }
    };
  },
      dr = function dr(n) {
    return {
      isValue: T,
      isError: x,
      getOr: u,
      getOrThunk: function getOrThunk(e) {
        return e();
      },
      getOrDie: function getOrDie() {
        return e = String(n), function () {
          throw new Error(e);
        }();
        var e;
      },
      or: u,
      orThunk: function orThunk(e) {
        return e();
      },
      fold: function fold(e, t) {
        return e(n);
      },
      map: function map(e) {
        return dr(n);
      },
      mapError: function mapError(e) {
        return dr(e(n));
      },
      each: oe,
      bind: function bind(e) {
        return dr(n);
      },
      exists: T,
      forall: x,
      toOptional: he.none
    };
  },
      mr = {
    value: fr,
    error: dr,
    fromOption: function fromOption(e, t) {
      return e.fold(function () {
        return dr(t);
      }, fr);
    }
  };

  function gr(e) {
    return e.fold(u, u);
  }

  function pr(e, t, n, r, o) {
    return e(n, r) ? he.some(n) : y(o) && o(n) ? he.none() : t(n, r, o);
  }

  function hr(e, t, n) {
    for (var r = e.dom, o = y(n) ? n : T; r.parentNode;) {
      var r = r.parentNode,
          i = Et.fromDom(r);
      if (t(i)) return he.some(i);
      if (o(i)) break;
    }

    return he.none();
  }

  function vr(e, t, n) {
    return pr(function (e, t) {
      return t(e);
    }, hr, e, t, n);
  }

  function br(e, t, n) {
    return hr(e, function (e) {
      return Ue(e, t);
    }, n);
  }

  function yr(e, t) {
    return n = t, ze(r = void 0 === e ? document : e.dom) ? he.none() : he.from(r.querySelector(n)).map(Et.fromDom);
    var n, r;
  }

  function Cr(e, t, n) {
    return pr(Ue, br, e, t, n);
  }

  ar([{
    bothErrors: ["error1", "error2"]
  }, {
    firstError: ["error1", "value2"]
  }, {
    secondError: ["value1", "error2"]
  }, {
    bothValues: ["value1", "value2"]
  }]);

  var wr,
      xr,
      Sr,
      Er,
      Nr,
      kr = function kr(e, t) {
    return I(e.dom.childNodes, function (e) {
      return t(Et.fromDom(e));
    }).map(Et.fromDom);
  },
      _r = window.Promise || (wr = function wr(n, r) {
    return function () {
      for (var e = [], t = 0; t < arguments.length; t++) {
        e[t] = arguments[t];
      }

      n.apply(r, e);
    };
  }, xr = Array.isArray || function (e) {
    return "[object Array]" === Object.prototype.toString.call(e);
  }, Sr = Ar.immediateFn || "function" == typeof setImmediate && setImmediate || function (e) {
    return setTimeout(e, 1);
  }, Er = function Er(e, t, n) {
    var r = !1;

    try {
      e(function (e) {
        r || (r = !0, t(e));
      }, function (e) {
        r || (r = !0, n(e));
      });
    } catch (e) {
      if (r) return;
      r = !0, n(e);
    }
  }, Ar.prototype["catch"] = function (e) {
    return this.then(null, e);
  }, Ar.prototype.then = function (n, r) {
    var o = this;
    return new Ar(function (e, t) {
      Tr.call(o, new Br(n, r, e, t));
    });
  }, Ar.all = function () {
    for (var e = [], t = 0; t < arguments.length; t++) {
      e[t] = arguments[t];
    }

    var u = Array.prototype.slice.call(1 === e.length && xr(e[0]) ? e[0] : e);
    return new Ar(function (r, o) {
      if (0 === u.length) return r([]);

      for (var i = u.length, a = function a(t, e) {
        try {
          if (e && ("object" == _typeof(e) || "function" == typeof e)) {
            var n = e.then;
            if ("function" == typeof n) return void n.call(e, function (e) {
              a(t, e);
            }, o);
          }

          u[t] = e, 0 == --i && r(u);
        } catch (e) {
          o(e);
        }
      }, e = 0; e < u.length; e++) {
        a(e, u[e]);
      }
    });
  }, Ar.resolve = function (t) {
    return t && "object" == _typeof(t) && t.constructor === Ar ? t : new Ar(function (e) {
      e(t);
    });
  }, Ar.reject = function (n) {
    return new Ar(function (e, t) {
      t(n);
    });
  }, Ar.race = function (o) {
    return new Ar(function (e, t) {
      for (var n = 0, r = o.length; n < r; n++) {
        o[n].then(e, t);
      }
    });
  }, Ar);

  function Ar(e) {
    if ("object" != _typeof(this)) throw new TypeError("Promises must be constructed via new");
    if ("function" != typeof e) throw new TypeError("not a function");
    this._state = null, this._value = null, this._deferreds = [], Er(e, wr(Rr, this), wr(Dr, this));
  }

  function Tr(n) {
    var r = this;
    null !== this._state ? Sr(function () {
      var e,
          t = r._state ? n.onFulfilled : n.onRejected;

      if (null !== t) {
        try {
          e = t(r._value);
        } catch (e) {
          return void n.reject(e);
        }

        n.resolve(e);
      } else (r._state ? n.resolve : n.reject)(r._value);
    }) : this._deferreds.push(n);
  }

  function Rr(e) {
    try {
      if (e === this) throw new TypeError("A promise cannot be resolved with itself.");

      if (e && ("object" == _typeof(e) || "function" == typeof e)) {
        var t = e.then;
        if ("function" == typeof t) return void Er(wr(t, e), wr(Rr, this), wr(Dr, this));
      }

      this._state = !0, this._value = e, Or.call(this);
    } catch (e) {
      Dr.call(this, e);
    }
  }

  function Dr(e) {
    this._state = !1, this._value = e, Or.call(this);
  }

  function Or() {
    for (var e = 0, t = this._deferreds.length; e < t; e++) {
      Tr.call(this, this._deferreds[e]);
    }

    this._deferreds = null;
  }

  function Br(e, t, n, r) {
    this.onFulfilled = "function" == typeof e ? e : null, this.onRejected = "function" == typeof t ? t : null, this.resolve = n, this.reject = r;
  }

  function Pr(e, t) {
    return "number" != typeof t && (t = 0), setTimeout(e, t);
  }

  function Lr(e, t) {
    return "number" != typeof t && (t = 1), setInterval(e, t);
  }

  function Ir(n, r) {
    function e() {
      for (var e = [], t = 0; t < arguments.length; t++) {
        e[t] = arguments[t];
      }

      clearTimeout(o), o = Pr(function () {
        n.apply(this, e);
      }, r);
    }

    var o;
    return e.stop = function () {
      clearTimeout(o);
    }, e;
  }

  function Mr(m, g) {
    function n(e, t, n) {
      var r,
          o = St._addCacheSuffix(e),
          i = ae(h, o).getOrThunk(function () {
        return {
          id: "mce-u" + p++,
          passed: [],
          failed: [],
          count: 0
        };
      });

      function a(e, t) {
        for (var n = e.length; n--;) {
          e[n]();
        }

        i.status = t, i.passed = [], i.failed = [], r && (r.onload = null, r.onerror = null, r = null);
      }

      function u() {
        return a(i.passed, 2), 0;
      }

      function s() {
        return a(i.failed, 3);
      }

      (h[o] = i).count++;

      var c,
          l,
          f,
          d = function d() {
        var e = d;
        !function () {
          for (var e = m.styleSheets, t = e.length; t--;) {
            var n = e[t].ownerNode;
            if (n && n.id === r.id) return u(), 1;
          }
        }() && (Date.now() - l < y ? Ur.setTimeout(e) : s());
      };

      t && i.passed.push(t), n && i.failed.push(n), 1 !== i.status && (2 !== i.status ? 3 !== i.status ? (i.status = 1, pn(c = Et.fromTag("link", b.dom), {
        rel: "stylesheet",
        type: "text/css",
        id: i.id
      }), l = Date.now(), g.contentCssCors && gn(c, "crossOrigin", "anonymous"), g.referrerPolicy && gn(c, "referrerpolicy", g.referrerPolicy), (r = c.dom).onload = d, r.onerror = s, f = c, In(jt(v), f), gn(c, "href", o)) : s() : u());
    }

    function o(t) {
      return ir(function (e) {
        n(t, i(e, J(mr.value(t))), i(e, J(mr.error(t))));
      });
    }

    function t(e) {
      var n = St._addCacheSuffix(e);

      ae(h, n).each(function (e) {
        var t;
        0 == --e.count && (delete h[n], t = e.id, yr(jt(v), "#" + t).each(Mn));
      });
    }

    void 0 === g && (g = {});
    var p = 0,
        h = {},
        v = Et.fromDom(m),
        b = Tt(v),
        y = g.maxLoadTime || 5e3;
    return {
      load: n,
      loadAll: function loadAll(e, n, r) {
        var a,
            t = R(e, o);
        a = t, ir(function (r) {
          var o = [],
              i = 0;
          0 === a.length ? r([]) : X(a, function (e, t) {
            var n;
            e.get((n = t, function (e) {
              o[n] = e, ++i >= a.length && r(o);
            }));
          });
        }).get(function (e) {
          var t = O(e, function (e) {
            return e.isValue();
          });
          0 < t.fail.length ? r(t.fail.map(gr)) : n(t.pass.map(gr));
        });
      },
      unload: t,
      unloadAll: function unloadAll(e) {
        X(e, function (e) {
          t(e);
        });
      },
      _setReferrerPolicy: function _setReferrerPolicy(e) {
        g.referrerPolicy = e;
      }
    };
  }

  var Fr,
      Ur = {
    requestAnimationFrame: function requestAnimationFrame(e, t) {
      Nr ? Nr.then(e) : Nr = new _r(function (e) {
        (function (e, t) {
          for (var n = window.requestAnimationFrame, r = ["ms", "moz", "webkit"], o = 0; o < r.length && !n; o++) {
            n = window[r[o] + "RequestAnimationFrame"];
          }

          (n = n || function (e) {
            window.setTimeout(e, 0);
          })(e, t);
        })(e, t = t || document.body);
      }).then(e);
    },
    setTimeout: Pr,
    setInterval: Lr,
    setEditorTimeout: function setEditorTimeout(e, t, n) {
      return Pr(function () {
        e.removed || t();
      }, n);
    },
    setEditorInterval: function setEditorInterval(e, t, n) {
      var r = Lr(function () {
        e.removed ? clearInterval(r) : t();
      }, n);
      return r;
    },
    debounce: Ir,
    throttle: Ir,
    clearInterval: function (_clearInterval) {
      function clearInterval(_x) {
        return _clearInterval.apply(this, arguments);
      }

      clearInterval.toString = function () {
        return _clearInterval.toString();
      };

      return clearInterval;
    }(function (e) {
      return clearInterval(e);
    }),
    clearTimeout: function (_clearTimeout) {
      function clearTimeout(_x2) {
        return _clearTimeout.apply(this, arguments);
      }

      clearTimeout.toString = function () {
        return _clearTimeout.toString();
      };

      return clearTimeout;
    }(function (e) {
      return clearTimeout(e);
    })
  },
      zr = (Fr = new WeakMap(), {
    forElement: function forElement(e, t) {
      var n = Ln(e).dom;
      return he.from(Fr.get(n)).getOrThunk(function () {
        var e = Mr(n, t);
        return Fr.set(n, e), e;
      });
    }
  }),
      jr = (Hr.prototype.current = function () {
    return this.node;
  }, Hr.prototype.next = function (e) {
    return this.node = this.findSibling(this.node, "firstChild", "nextSibling", e), this.node;
  }, Hr.prototype.prev = function (e) {
    return this.node = this.findSibling(this.node, "lastChild", "previousSibling", e), this.node;
  }, Hr.prototype.prev2 = function (e) {
    return this.node = this.findPreviousNode(this.node, "lastChild", "previousSibling", e), this.node;
  }, Hr.prototype.findSibling = function (e, t, n, r) {
    var o, i;

    if (e) {
      if (!r && e[t]) return e[t];

      if (e !== this.rootNode) {
        if (o = e[n]) return o;

        for (i = e.parentNode; i && i !== this.rootNode; i = i.parentNode) {
          if (o = i[n]) return o;
        }
      }
    }
  }, Hr.prototype.findPreviousNode = function (e, t, n, r) {
    var o, i, a;

    if (e && (o = e[n], !this.rootNode || o !== this.rootNode)) {
      if (o) {
        if (!r) for (a = o[t]; a; a = a[t]) {
          if (!a[t]) return a;
        }
        return o;
      }

      return (i = e.parentNode) && i !== this.rootNode ? i : void 0;
    }
  }, Hr);

  function Hr(e, t) {
    this.node = e, this.rootNode = t, this.current = this.current.bind(this), this.next = this.next.bind(this), this.prev = this.prev.bind(this), this.prev2 = this.prev2.bind(this);
  }

  function Vr(t) {
    var n;
    return function (e) {
      return n = n || function (e, t) {
        for (var n = {}, r = 0, o = e.length; r < o; r++) {
          var i = e[r];
          n[String(i)] = t(i, r);
        }

        return n;
      }(t, x), Ee(n, Nt(e));
    };
  }

  function qr(e) {
    return An(e) && !So(e);
  }

  function $r(e) {
    return An(e) && "br" === Nt(e);
  }

  function Wr(e) {
    return Io(e) && (e = e.parentNode), Lo(e) && e.hasAttribute("data-mce-caret");
  }

  function Kr(e) {
    return Io(e) && Bo(e.data);
  }

  function Xr(e) {
    return Wr(e) || Kr(e);
  }

  function Yr(e) {
    return e.firstChild !== e.lastChild || !Xn(e.firstChild);
  }

  function Gr(e) {
    var t = e.container();
    return !!qn(t) && (t.data.charAt(e.offset()) === Oo || e.isAtStart() && Kr(t.previousSibling));
  }

  function Jr(e) {
    var t = e.container();
    return !!qn(t) && (t.data.charAt(e.offset() - 1) === Oo || e.isAtEnd() && Kr(t.nextSibling));
  }

  function Qr(e) {
    return e && e.hasAttribute("data-mce-caret") ? (un(n = (t = e.getElementsByTagName("br"))[t.length - 1]) && n.parentNode.removeChild(n), e.removeAttribute("data-mce-caret"), e.removeAttribute("data-mce-bogus"), e.removeAttribute("style"), e.removeAttribute("_moz_abspos"), e) : null;
    var t, n;
  }

  function Zr(e) {
    return Wr(e.startContainer);
  }

  function eo(e) {
    return !Wo(e) && (Ho(e) ? !Vo(e.parentNode) : qo(e) || jo(e) || $o(e) || Ko(e));
  }

  function to(e, t) {
    return eo(e) && function (e, t) {
      for (e = e.parentNode; e && e !== t; e = e.parentNode) {
        if (Ko(e)) return !1;
        if (Uo(e)) return !0;
      }

      return !0;
    }(e, t);
  }

  function no(e) {
    return Xo.test(e);
  }

  function ro(e, t) {
    return eo(e) && !1 === (a = t, qn(i = e) && no(i.data) && !1 === (n = i, r = Et.fromDom(a), br(Et.fromDom(n), "pre,code", A(je, r)).isSome())) || Hn(o = e) && "A" === o.nodeName && !o.hasAttribute("href") && (o.hasAttribute("name") || o.hasAttribute("id")) || Yo(e);
    var n, r, o, i, a;
  }

  function oo(e, t) {
    return function (e, t) {
      var n = 0;
      if (ro(e, e)) return !1;
      var r = e.firstChild;
      if (!r) return !0;
      var o = new jr(r, e);

      do {
        if (t) {
          if (Jo(r)) {
            r = o.next(!0);
            continue;
          }

          if (Go(r)) {
            r = o.next();
            continue;
          }
        }

        if (Xn(r)) n++, r = o.next();else {
          if (ro(r, e)) return !1;
          r = o.next();
        }
      } while (r);

      return n <= 1;
    }(e.dom, t = void 0 === t || t);
  }

  function io(e, t) {
    return V(e) && (ro(e, t) || qr(Et.fromDom(e)));
  }

  function ao(e) {
    return "span" === e.nodeName.toLowerCase() && "bookmark" === e.getAttribute("data-mce-type");
  }

  function uo(e, t) {
    var n,
        r,
        o,
        i = {};

    if (e) {
      for (e = e.split(","), t = t || 10, n = 0; n < e.length; n += 2) {
        r = String.fromCharCode(parseInt(e[n], t)), ii[r] || (o = "&" + e[n + 1] + ";", i[r] = o, i[o] = r);
      }

      return i;
    }
  }

  function so(e, t) {
    return e.replace(t ? ei : ti, function (e) {
      return ii[e] || e;
    });
  }

  function co(e, t) {
    return e.replace(t ? ei : ti, function (e) {
      return 1 < e.length ? "&#" + (1024 * (e.charCodeAt(0) - 55296) + (e.charCodeAt(1) - 56320) + 65536) + ";" : ii[e] || "&#" + e.charCodeAt(0) + ";";
    });
  }

  function lo(e, t, n) {
    return n = n || ui, e.replace(t ? ei : ti, function (e) {
      return ii[e] || n[e] || e;
    });
  }

  function fo(e, t) {
    return (e = St.trim(e)) ? e.split(t || " ") : [];
  }

  function mo(e, n) {
    var r;
    return e && (r = {}, di(e = "string" == typeof e ? {
      "*": e
    } : e, function (e, t) {
      r[t] = r[t.toUpperCase()] = ("map" === n ? fi : gi)(e, /[, ]/);
    })), r;
  }

  function go(i) {
    function e(e, t, n) {
      var r = i[e];
      return r ? r = fi(r, /[, ]/, fi(r.toUpperCase(), /[, ]/)) : (r = ci[e]) || (r = fi(t, " ", fi(t.toUpperCase(), " ")), r = mi(r, n), ci[e] = r), r;
    }

    var t,
        s,
        n,
        r,
        o,
        a,
        u,
        c,
        S = {},
        l = {},
        E = [],
        f = {},
        d = {},
        m = (t = (i = i || {}).schema, c = {}, ci[t] || (s = "id accesskey class dir lang style tabindex title role", n = "address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul", r = "a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment", "html4" !== t && (s += " contenteditable contextmenu draggable dropzone hidden spellcheck translate", n += " article aside details dialog figure main header footer hgroup section nav", r += " audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"), "html5-strict" !== t && (s += " xml:lang", r = [r, u = "acronym applet basefont big font strike tt"].join(" "), di(fo(u), function (e) {
      g(e, "", r);
    }), n = [n, a = "center dir isindex noframes"].join(" "), o = [n, r].join(" "), di(fo(a), function (e) {
      g(e, "", o);
    })), o = o || [n, r].join(" "), g("html", "manifest", "head body"), g("head", "", "base command link meta noscript script style title"), g("title hr noscript br"), g("base", "href target"), g("link", "href rel media hreflang type sizes hreflang"), g("meta", "name http-equiv content charset"), g("style", "media type scoped"), g("script", "src async defer type charset"), g("body", "onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload", o), g("address dt dd div caption", "", o), g("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn", "", r), g("blockquote", "cite", o), g("ol", "reversed start type", "li"), g("ul", "", "li"), g("li", "value", o), g("dl", "", "dt dd"), g("a", "href target rel media hreflang type", r), g("q", "cite", r), g("ins del", "cite datetime", o), g("img", "src sizes srcset alt usemap ismap width height"), g("iframe", "src name width height", o), g("embed", "src type width height"), g("object", "data type typemustmatch name usemap form width height", [o, "param"].join(" ")), g("param", "name value"), g("map", "name", [o, "area"].join(" ")), g("area", "alt coords shape href target rel media hreflang type"), g("table", "border", "caption colgroup thead tfoot tbody tr" + ("html4" === t ? " col" : "")), g("colgroup", "span", "col"), g("col", "span"), g("tbody thead tfoot", "", "tr"), g("tr", "", "td th"), g("td", "colspan rowspan headers", o), g("th", "colspan rowspan headers scope abbr", o), g("form", "accept-charset action autocomplete enctype method name novalidate target", o), g("fieldset", "disabled form name", [o, "legend"].join(" ")), g("label", "form for", r), g("input", "accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"), g("button", "disabled form formaction formenctype formmethod formnovalidate formtarget name type value", "html4" === t ? o : r), g("select", "disabled form multiple name required size", "option optgroup"), g("optgroup", "disabled label", "option"), g("option", "disabled label selected value"), g("textarea", "cols dirname disabled form maxlength name readonly required rows wrap"), g("menu", "type label", [o, "li"].join(" ")), g("noscript", "", o), "html4" !== t && (g("wbr"), g("ruby", "", [r, "rt rp"].join(" ")), g("figcaption", "", o), g("mark rt rp summary bdi", "", r), g("canvas", "width height", o), g("video", "src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered", [o, "track source"].join(" ")), g("audio", "src crossorigin preload autoplay mediagroup loop muted controls buffered volume", [o, "track source"].join(" ")), g("picture", "", "img source"), g("source", "src srcset type media sizes"), g("track", "kind src srclang label default"), g("datalist", "", [r, "option"].join(" ")), g("article section nav aside main header footer", "", o), g("hgroup", "", "h1 h2 h3 h4 h5 h6"), g("figure", "", [o, "figcaption"].join(" ")), g("time", "datetime", r), g("dialog", "open", o), g("command", "type label icon disabled checked radiogroup command"), g("output", "for form name", r), g("progress", "value max", r), g("meter", "value min max low high optimum", r), g("details", "open", [o, "summary"].join(" ")), g("keygen", "autofocus challenge disabled form keytype name")), "html5-strict" !== t && (p("script", "language xml:space"), p("style", "xml:space"), p("object", "declare classid code codebase codetype archive standby align border hspace vspace"), p("embed", "align name hspace vspace"), p("param", "valuetype type"), p("a", "charset name rev shape coords"), p("br", "clear"), p("applet", "codebase archive code object alt name width height align hspace vspace"), p("img", "name longdesc align border hspace vspace"), p("iframe", "longdesc frameborder marginwidth marginheight scrolling align"), p("font basefont", "size color face"), p("input", "usemap align"), p("select"), p("textarea"), p("h1 h2 h3 h4 h5 h6 div p legend caption", "align"), p("ul", "type compact"), p("li", "type"), p("ol dl menu dir", "compact"), p("pre", "width xml:space"), p("hr", "align noshade size width"), p("isindex", "prompt"), p("table", "summary width frame rules cellspacing cellpadding align bgcolor"), p("col", "width align char charoff valign"), p("colgroup", "width align char charoff valign"), p("thead", "align char charoff valign"), p("tr", "align char charoff valign bgcolor"), p("th", "axis align char charoff valign nowrap bgcolor width height"), p("form", "accept"), p("td", "abbr axis scope align char charoff valign nowrap bgcolor width height"), p("tfoot", "align char charoff valign"), p("tbody", "align char charoff valign"), p("area", "nohref"), p("body", "background bgcolor text link vlink alink")), "html4" !== t && (p("input button select textarea", "autofocus"), p("input textarea", "placeholder"), p("a", "download"), p("link script img", "crossorigin"), p("img", "loading"), p("iframe", "sandbox seamless allowfullscreen loading")), di(fo("a form meter progress dfn"), function (e) {
      c[e] && delete c[e].children[e];
    }), delete c.caption.children.table, delete c.script, ci[t] = c));

    function g(e, t, n) {
      function r(e, t) {
        for (var n = {}, r = 0, o = e.length; r < o; r++) {
          n[e[r]] = t || {};
        }

        return n;
      }

      var o, i;
      t = t || "", "string" == typeof (n = n || []) && (n = fo(n));

      for (var a = fo(e), u = a.length; u--;) {
        i = {
          attributes: r(o = fo([s, t].join(" "))),
          attributesOrder: o,
          children: r(n, li)
        }, c[a[u]] = i;
      }
    }

    function p(e, t) {
      for (var n, r, o, i = fo(e), a = i.length, u = fo(t); a--;) {
        for (n = c[i[a]], r = 0, o = u.length; r < o; r++) {
          n.attributes[u[r]] = {}, n.attributesOrder.push(u[r]);
        }
      }
    }

    !1 === i.verify_html && (i.valid_elements = "*[*]");

    var h = mo(i.valid_styles),
        v = mo(i.invalid_styles, "map"),
        b = mo(i.valid_classes, "map"),
        y = e("whitespace_elements", "pre script noscript style textarea video audio iframe object code"),
        C = e("self_closing_elements", "colgroup dd dt li option p td tfoot th thead tr"),
        w = e("short_ended_elements", "area base basefont br col frame hr img input isindex link meta param embed source wbr track"),
        x = e("boolean_attributes", "checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),
        N = "td th iframe video audio object script code",
        k = e("non_empty_elements", N + " pre", w),
        _ = e("move_caret_before_on_enter_elements", N + " table", w),
        A = e("text_block_elements", "h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),
        T = e("block_elements", "hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary", A),
        R = e("text_inline_elements", "span strong b em i font strike u var cite dfn code mark q sup sub samp");

    function D(e) {
      return new RegExp("^" + e.replace(/([?+*])/g, ".$1") + "$");
    }

    function O(e) {
      var t,
          n,
          r,
          o,
          i,
          a,
          u,
          s,
          c,
          l,
          f,
          d,
          m,
          g,
          p,
          h,
          v,
          b,
          y = /^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,
          C = /^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,
          w = /[*?+]/;

      if (e) {
        var x = fo(e, ",");

        for (S["@"] && (h = S["@"].attributes, v = S["@"].attributesOrder), t = 0, n = x.length; t < n; t++) {
          if (i = y.exec(x[t])) {
            if (g = i[1], c = i[2], p = i[3], s = i[5], a = {
              attributes: d = {},
              attributesOrder: m = []
            }, "#" === g && (a.paddEmpty = !0), "-" === g && (a.removeEmpty = !0), "!" === i[4] && (a.removeEmptyAttrs = !0), h && (Q(h, function (e, t) {
              d[t] = e;
            }), m.push.apply(m, v)), s) for (r = 0, o = (s = fo(s, "|")).length; r < o; r++) {
              (i = C.exec(s[r])) && (u = {}, f = i[1], l = i[2].replace(/[\\:]:/g, ":"), g = i[3], b = i[4], "!" === f && (a.attributesRequired = a.attributesRequired || [], a.attributesRequired.push(l), u.required = !0), "-" !== f ? (g && ("=" === g && (a.attributesDefault = a.attributesDefault || [], a.attributesDefault.push({
                name: l,
                value: b
              }), u.defaultValue = b), ":" === g && (a.attributesForced = a.attributesForced || [], a.attributesForced.push({
                name: l,
                value: b
              }), u.forcedValue = b), "<" === g && (u.validValues = fi(b, "?"))), w.test(l) ? (a.attributePatterns = a.attributePatterns || [], u.pattern = D(l), a.attributePatterns.push(u)) : (d[l] || m.push(l), d[l] = u)) : (delete d[l], m.splice(pi(m, l), 1)));
            }
            h || "@" !== c || (h = d, v = m), p && (a.outputName = c, S[p] = a), w.test(c) ? (a.pattern = D(c), E.push(a)) : S[c] = a;
          }
        }
      }
    }

    function B(e) {
      S = {}, E = [], O(e), di(m, function (e, t) {
        l[t] = e.children;
      });
    }

    function P(e) {
      var a = /^(~)?(.+)$/;
      e && (ci.text_block_elements = ci.block_elements = null, di(fo(e, ","), function (e) {
        var t,
            n = a.exec(e),
            r = "~" === n[1],
            o = r ? "span" : "div",
            i = n[2];
        l[i] = l[o], f[i] = o, r || (T[i.toUpperCase()] = {}, T[i] = {}), S[i] || (t = S[o], delete (t = mi({}, t)).removeEmptyAttrs, delete t.removeEmpty, S[i] = t), di(l, function (e, t) {
          e[o] && (l[t] = e = mi({}, l[t]), e[i] = e[o]);
        });
      }));
    }

    function L(e) {
      var o = /^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;
      ci[i.schema] = null, e && di(fo(e, ","), function (e) {
        var t,
            n,
            r = o.exec(e);
        r && (n = r[1], t = n ? l[r[2]] : l[r[2]] = {
          "#comment": {}
        }, t = l[r[2]], di(fo(r[3], "|"), function (e) {
          "-" === n ? delete t[e] : t[e] = {};
        }));
      });
    }

    function I(e) {
      var t,
          n = S[e];
      if (n) return n;

      for (t = E.length; t--;) {
        if ((n = E[t]).pattern.test(e)) return n;
      }
    }

    di((i.special || "script noscript iframe noframes noembed title style textarea xmp").split(" "), function (e) {
      d[e] = new RegExp("</" + e + "[^>]*>", "gi");
    }), i.valid_elements ? B(i.valid_elements) : (di(m, function (e, t) {
      S[t] = {
        attributes: e.attributes,
        attributesOrder: e.attributesOrder
      }, l[t] = e.children;
    }), "html5" !== i.schema && di(fo("strong/b em/i"), function (e) {
      var t = fo(e, "/");
      S[t[1]].outputName = t[0];
    }), di(fo("ol ul sub sup blockquote span font a table tbody strong em b i"), function (e) {
      S[e] && (S[e].removeEmpty = !0);
    }), di(fo("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"), function (e) {
      S[e].paddEmpty = !0;
    }), di(fo("span"), function (e) {
      S[e].removeEmptyAttrs = !0;
    })), P(i.custom_elements), L(i.valid_children), O(i.extended_valid_elements), L("+ol[ul|ol],+ul[ul|ol]"), di({
      dd: "dl",
      dt: "dl",
      li: "ul ol",
      td: "tr",
      th: "tr",
      tr: "tbody thead tfoot",
      tbody: "table",
      thead: "table",
      tfoot: "table",
      legend: "fieldset",
      area: "map",
      param: "video audio object"
    }, function (e, t) {
      S[t] && (S[t].parentsRequired = fo(e));
    }), i.invalid_elements && di(gi(i.invalid_elements), function (e) {
      S[e] && delete S[e];
    }), I("span") || O("span[!data-mce-type|*]");
    var M = J(h),
        F = J(v),
        U = J(b),
        z = J(x),
        j = J(T),
        H = J(A),
        V = J(R),
        q = J(w),
        $ = J(C),
        W = J(k),
        K = J(_),
        X = J(y),
        Y = J(d),
        G = J(f);
    return {
      children: l,
      elements: S,
      getValidStyles: M,
      getValidClasses: U,
      getBlockElements: j,
      getInvalidStyles: F,
      getShortEndedElements: q,
      getTextBlockElements: H,
      getTextInlineElements: V,
      getBoolAttrs: z,
      getElementRule: I,
      getSelfClosingElements: $,
      getNonEmptyElements: W,
      getMoveCaretBeforeOnEnterElements: K,
      getWhiteSpaceElements: X,
      getSpecialElements: Y,
      isValidChild: function isValidChild(e, t) {
        var n = l[e.toLowerCase()];
        return !(!n || !n[t.toLowerCase()]);
      },
      isValid: function isValid(e, t) {
        var n,
            r,
            o = I(e);

        if (o) {
          if (!t) return !0;
          if (o.attributes[t]) return !0;
          if (n = o.attributePatterns) for (r = n.length; r--;) {
            if (n[r].pattern.test(e)) return !0;
          }
        }

        return !1;
      },
      getCustomElements: G,
      addValidElements: O,
      setValidElements: B,
      addCustomElements: P,
      addValidChildren: L
    };
  }

  function po(e, t, n, r) {
    function o(e) {
      return 1 < (e = parseInt(e, 10).toString(16)).length ? e : "0" + e;
    }

    return "#" + o(t) + o(n) + o(r);
  }

  function ho(b, e) {
    var u,
        o,
        y = this,
        C = /rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,
        w = /(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,
        x = /\s*([^:]+):\s*([^;]+);?/g,
        S = /\s+$/,
        E = {},
        N = Ro;
    b = b || {}, e && (u = e.getValidStyles(), o = e.getInvalidStyles());

    for (var t = ("\\\" \\' \\; \\: ; : " + N).split(" "), k = 0; k < t.length; k++) {
      E[t[k]] = N + k, E[N + k] = t[k];
    }

    return {
      toHex: function toHex(e) {
        return e.replace(C, po);
      },
      parse: function parse(e) {
        function t(e, t, n) {
          var r = p[e + "-top" + t];

          if (r) {
            var o = p[e + "-right" + t];

            if (o) {
              var i = p[e + "-bottom" + t];

              if (i) {
                var a = p[e + "-left" + t];

                if (a) {
                  var u = [r, o, i, a];

                  for (k = u.length - 1; k-- && u[k] === u[k + 1];) {
                    ;
                  }

                  -1 < k && n || (p[e + t] = -1 === k ? u[0] : u.join(" "), delete p[e + "-top" + t], delete p[e + "-right" + t], delete p[e + "-bottom" + t], delete p[e + "-left" + t]);
                }
              }
            }
          }
        }

        function n(e) {
          var t,
              n = p[e];

          if (n) {
            for (t = (n = n.split(" ")).length; t--;) {
              if (n[t] !== n[0]) return;
            }

            return p[e] = n[0], 1;
          }
        }

        function r(e) {
          return f = !0, E[e];
        }

        function u(e, t) {
          return f && (e = e.replace(/\uFEFF[0-9]/g, function (e) {
            return E[e];
          })), t ? e : e.replace(/\\([\'\";:])/g, "$1");
        }

        function o(e) {
          return String.fromCharCode(parseInt(e.slice(1), 16));
        }

        function i(e) {
          return e.replace(/\\[0-9a-f]+/gi, o);
        }

        function a(e, t, n, r, o, i) {
          if (o = o || i) return "'" + (o = u(o)).replace(/\'/g, "\\'") + "'";

          if (t = u(t || n || r), !b.allow_script_urls) {
            var a = t.replace(/[\s\r\n]+/g, "");
            if (/(java|vb)script:/i.test(a)) return "";
            if (!b.allow_svg_data_urls && /^data:image\/svg/i.test(a)) return "";
          }

          return "url('" + (t = h ? h.call(v, t, "style") : t).replace(/\'/g, "\\'") + "')";
        }

        var s,
            c,
            l,
            f,
            d,
            m,
            g,
            p = {},
            h = b.url_converter,
            v = b.url_converter_scope || y;

        if (e) {
          for (e = (e = e.replace(/[\u0000-\u001F]/g, "")).replace(/\\[\"\';:\uFEFF]/g, r).replace(/\"[^\"]+\"|\'[^\']+\'/g, function (e) {
            return e.replace(/[;:]/g, r);
          }); s = x.exec(e);) {
            x.lastIndex = s.index + s[0].length, c = s[1].replace(S, "").toLowerCase(), l = s[2].replace(S, ""), c && l && (c = i(c), l = i(l), -1 === c.indexOf(N) && -1 === c.indexOf('"') && (b.allow_script_urls || "behavior" !== c && !/expression\s*\(|\/\*|\*\//.test(l)) && ("font-weight" === c && "700" === l ? l = "bold" : "color" !== c && "background-color" !== c || (l = l.toLowerCase()), l = (l = l.replace(C, po)).replace(w, a), p[c] = f ? u(l, !0) : l));
          }

          t("border", "", !0), t("border", "-width"), t("border", "-color"), t("border", "-style"), t("padding", ""), t("margin", ""), m = "border-style", g = "border-color", n(d = "border-width") && n(m) && n(g) && (p.border = p[d] + " " + p[m] + " " + p[g], delete p[d], delete p[m], delete p[g]), "medium none" === p.border && delete p.border, "none" === p["border-image"] && delete p["border-image"];
        }

        return p;
      },
      serialize: function serialize(i, r) {
        function e(e) {
          var t,
              n = u[e];
          if (n) for (var r = 0, o = n.length; r < o; r++) {
            e = n[r], (t = i[e]) && (a += (0 < a.length ? " " : "") + e + ": " + t + ";");
          }
        }

        var a = "";
        return r && u ? (e("*"), e(r)) : Q(i, function (e, t) {
          var n;
          !e || o && ((n = o["*"]) && n[t] || (n = o[r]) && n[t]) || (a += (0 < a.length ? " " : "") + t + ": " + e + ";");
        }), a;
      }
    };
  }

  function vo(e) {
    return e instanceof Event || y(e.initEvent);
  }

  function bo(e, t, n, r) {
    var o,
        i,
        a = function (e) {
      var t,
          n = null != r ? r : {};

      for (t in e) {
        Ee(hi, t) || (n[t] = e[t]);
      }

      return V(n.composedPath) && (n.composedPath = function () {
        return e.composedPath();
      }), n;
    }(t);

    return a.type = e, re(a.target) && (a.target = null !== (o = a.srcElement) && void 0 !== o ? o : n), (re((i = t).preventDefault) || vo(i)) && (a.preventDefault = function () {
      a.defaultPrevented = !0, a.isDefaultPrevented = x, y(t.preventDefault) ? t.preventDefault() : vo(t) && (t.returnValue = !1);
    }, a.stopPropagation = function () {
      a.cancelBubble = !0, a.isPropagationStopped = x, y(t.stopPropagation) ? t.stopPropagation() : vo(t) && (t.cancelBubble = !0);
    }, a.stopImmediatePropagation = function () {
      a.isImmediatePropagationStopped = x, a.stopPropagation();
    }, a.isDefaultPrevented !== x && a.isDefaultPrevented !== T && (a.isDefaultPrevented = !0 === a.defaultPrevented ? x : T, a.isPropagationStopped = !0 === a.cancelBubble ? x : T, a.isImmediatePropagationStopped = T)), a;
  }

  function yo(e, t, n, r) {
    e.addEventListener ? e.addEventListener(t, n, r || !1) : e.attachEvent && e.attachEvent("on" + t, n);
  }

  function Co(e, t, n, r) {
    e.removeEventListener ? e.removeEventListener(t, n, r || !1) : e.detachEvent && e.detachEvent("on" + t, n);
  }

  function wo(e, t) {
    var n,
        r,
        o,
        i,
        a = bo(e.type, e, document, t);
    return V(i = e) && vi.test(i.type) && b(e.pageX) && !b(e.clientX) && (r = (n = a.target.ownerDocument || document).documentElement, o = n.body, a.pageX = e.clientX + (r && r.scrollLeft || o && o.scrollLeft || 0) - (r && r.clientLeft || o && o.clientLeft || 0), a.pageY = e.clientY + (r && r.scrollTop || o && o.scrollTop || 0) - (r && r.clientTop || o && o.clientTop || 0)), b(a.metaKey) && (a.metaKey = !1), a;
  }

  var xo = Vr(["h1", "h2", "h3", "h4", "h5", "h6"]),
      So = Vr(["article", "aside", "details", "div", "dt", "figcaption", "footer", "form", "fieldset", "header", "hgroup", "html", "main", "nav", "section", "summary", "body", "p", "dl", "multicol", "dd", "figure", "address", "center", "blockquote", "h1", "h2", "h3", "h4", "h5", "h6", "listing", "xmp", "pre", "plaintext", "menu", "dir", "ul", "ol", "li", "hr", "table", "tbody", "thead", "tfoot", "th", "tr", "td", "caption"]),
      Eo = Vr(["h1", "h2", "h3", "h4", "h5", "h6", "p", "div", "address", "pre", "form", "blockquote", "center", "dir", "fieldset", "header", "footer", "article", "section", "hgroup", "aside", "nav", "figure"]),
      No = Vr(["ul", "ol", "dl"]),
      ko = Vr(["li", "dd", "dt"]),
      _o = Vr(["thead", "tbody", "tfoot"]),
      Ao = Vr(["td", "th"]),
      To = Vr(["pre", "script", "textarea", "style"]),
      Ro = "\uFEFF",
      Do = "\xa0",
      Oo = Ro,
      Bo = function Bo(e) {
    return e === Ro;
  },
      Po = function Po(e) {
    return e.replace(/\uFEFF/g, "");
  },
      Lo = Hn,
      Io = qn,
      Mo = function Mo(e) {
    return Io(e) && e.data[0] === Oo;
  },
      Fo = function Fo(e) {
    return Io(e) && e.data[e.data.length - 1] === Oo;
  },
      Uo = Gn,
      zo = Jn,
      jo = Xn,
      Ho = qn,
      Vo = rn(["script", "style", "textarea"]),
      qo = rn(["img", "input", "textarea", "hr", "iframe", "video", "audio", "object", "embed"]),
      $o = rn(["table"]),
      Wo = Xr,
      Ko = function Ko(e) {
    return !1 === (Hn(t = e) && "true" === t.getAttribute("unselectable")) && zo(e);
    var t;
  },
      Xo = /^[ \t\r\n]*$/,
      Yo = an("data-mce-bookmark"),
      Go = an("data-mce-bogus"),
      Jo = function Jo(e) {
    return Hn(e) && "all" === e.getAttribute("data-mce-bogus");
  },
      Qo = function Qo(e, t, n) {
    var r = n || t;
    if (Hn(t) && ao(t)) return t;

    for (var o, i, a, u, s, c, l, f, d, m, g, p = t.childNodes, h = p.length - 1; 0 <= h; h--) {
      Qo(e, p[h], r);
    }

    return !Hn(t) || 1 === (o = t.childNodes).length && ao(o[0]) && t.parentNode.insertBefore(o[0], t), Kn(a = t) || Wn(a) || ro(t, r) || Hn(i = t) && 0 < i.childNodes.length || (s = r, qn(u = t) && 0 < u.data.length && (f = new jr(c = u, l = s).prev(!1), d = new jr(c, l).next(!1), m = b(f) || io(f, l), g = b(d) || io(d, l), m && g)) || e.remove(t), t;
  },
      Zo = St.makeMap,
      ei = /[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,
      ti = /[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,
      ni = /[<>&\"\']/g,
      ri = /&#([a-z0-9]+);?|&([a-z0-9]+);/gi,
      oi = {
    128: "\u20AC",
    130: "\u201A",
    131: "\u0192",
    132: "\u201E",
    133: "\u2026",
    134: "\u2020",
    135: "\u2021",
    136: "\u02C6",
    137: "\u2030",
    138: "\u0160",
    139: "\u2039",
    140: "\u0152",
    142: "\u017D",
    145: "\u2018",
    146: "\u2019",
    147: "\u201C",
    148: "\u201D",
    149: "\u2022",
    150: "\u2013",
    151: "\u2014",
    152: "\u02DC",
    153: "\u2122",
    154: "\u0161",
    155: "\u203A",
    156: "\u0153",
    158: "\u017E",
    159: "\u0178"
  },
      ii = {
    '"': "&quot;",
    "'": "&#39;",
    "<": "&lt;",
    ">": "&gt;",
    "&": "&amp;",
    "`": "&#96;"
  },
      ai = {
    "&lt;": "<",
    "&gt;": ">",
    "&amp;": "&",
    "&quot;": '"',
    "&apos;": "'"
  },
      ui = uo("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro", 32),
      si = {
    encodeRaw: so,
    encodeAllRaw: function encodeAllRaw(e) {
      return ("" + e).replace(ni, function (e) {
        return ii[e] || e;
      });
    },
    encodeNumeric: co,
    encodeNamed: lo,
    getEncodeFunc: function getEncodeFunc(e, t) {
      var n = uo(t) || ui,
          r = Zo(e.replace(/\+/g, ","));
      return r.named && r.numeric ? function (e, t) {
        return e.replace(t ? ei : ti, function (e) {
          return void 0 !== ii[e] ? ii[e] : void 0 !== n[e] ? n[e] : 1 < e.length ? "&#" + (1024 * (e.charCodeAt(0) - 55296) + (e.charCodeAt(1) - 56320) + 65536) + ";" : "&#" + e.charCodeAt(0) + ";";
        });
      } : r.named ? t ? function (e, t) {
        return lo(e, t, n);
      } : lo : r.numeric ? co : so;
    },
    decode: function decode(e) {
      return e.replace(ri, function (e, t) {
        return t ? 65535 < (t = "x" === t.charAt(0).toLowerCase() ? parseInt(t.substr(1), 16) : parseInt(t, 10)) ? (t -= 65536, String.fromCharCode(55296 + (t >> 10), 56320 + (1023 & t))) : oi[t] || String.fromCharCode(t) : ai[e] || ui[e] || (n = e, (r = Et.fromTag("div").dom).innerHTML = n, r.textContent || r.innerText || n);
        var n, r;
      });
    }
  },
      ci = {},
      li = {},
      fi = St.makeMap,
      di = St.each,
      mi = St.extend,
      gi = St.explode,
      pi = St.inArray,
      hi = {
    keyLocation: !0,
    layerX: !0,
    layerY: !0,
    returnValue: !0,
    webkitMovementX: !0,
    webkitMovementY: !0,
    keyIdentifier: !0,
    mozPressure: !0
  },
      vi = /^(?:mouse|contextmenu)|click/,
      bi = (yi.prototype.bind = function (e, t, n, r) {
    function o(e) {
      f.executeHandlers(wo(e || d.event), i);
    }

    var i,
        a,
        u,
        s,
        c,
        l,
        f = this,
        d = window;

    if (e && 3 !== e.nodeType && 8 !== e.nodeType) {
      e[f.expando] ? i = e[f.expando] : (i = f.count++, e[f.expando] = i, f.events[i] = {}), r = r || e;

      for (var m = t.split(" "), g = m.length; g--;) {
        c = o, s = l = !1, "DOMContentLoaded" === (u = m[g]) && (u = "ready"), f.domLoaded && "ready" === u && "complete" === e.readyState ? n.call(r, wo({
          type: u
        })) : (f.hasMouseEnterLeave || (s = f.mouseEnterLeave[u]) && (c = function c(e) {
          var t = e.currentTarget,
              n = e.relatedTarget;
          if (n && t.contains) n = t.contains(n);else for (; n && n !== t;) {
            n = n.parentNode;
          }
          n || ((e = wo(e || d.event)).type = "mouseout" === e.type ? "mouseleave" : "mouseenter", e.target = t, f.executeHandlers(e, i));
        }), f.hasFocusIn || "focusin" !== u && "focusout" !== u || (l = !0, s = "focusin" === u ? "focus" : "blur", c = function c(e) {
          (e = wo(e || d.event)).type = "focus" === e.type ? "focusin" : "focusout", f.executeHandlers(e, i);
        }), (a = f.events[i][u]) ? "ready" === u && f.domLoaded ? n(wo({
          type: u
        })) : a.push({
          func: n,
          scope: r
        }) : (f.events[i][u] = a = [{
          func: n,
          scope: r
        }], a.fakeName = s, a.capture = l, a.nativeHandler = c, "ready" === u ? function (e, t, n) {
          var _r2,
              o = e.document,
              i = {
            type: "ready"
          };

          n.domLoaded ? t(i) : (_r2 = function r() {
            Co(e, "DOMContentLoaded", _r2), Co(e, "load", _r2), n.domLoaded || (n.domLoaded = !0, t(i)), e = null;
          }, "complete" === o.readyState || "interactive" === o.readyState && o.body ? _r2() : yo(e, "DOMContentLoaded", _r2), n.domLoaded || yo(e, "load", _r2));
        }(e, c, f) : yo(e, s || u, c, l)));
      }

      return e = a = null, n;
    }
  }, yi.prototype.unbind = function (n, e, t) {
    var r, o, i;
    if (!n || 3 === n.nodeType || 8 === n.nodeType) return this;
    var a = n[this.expando];

    if (a) {
      if (i = this.events[a], e) {
        for (var u, s, c, l, f = e.split(" "), d = f.length; d--;) {
          if (l = i[o = f[d]]) {
            if (t) for (r = l.length; r--;) {
              l[r].func === t && (u = l.nativeHandler, s = l.fakeName, c = l.capture, (l = l.slice(0, r).concat(l.slice(r + 1))).nativeHandler = u, l.fakeName = s, l.capture = c, i[o] = l);
            }
            t && 0 !== l.length || (delete i[o], Co(n, l.fakeName || o, l.nativeHandler, l.capture));
          }
        }
      } else Q(i, function (e, t) {
        Co(n, e.fakeName || t, e.nativeHandler, e.capture);
      }), i = {};

      for (o in i) {
        if (Ee(i, o)) return this;
      }

      delete this.events[a];

      try {
        delete n[this.expando];
      } catch (e) {
        n[this.expando] = null;
      }
    }

    return this;
  }, yi.prototype.fire = function (e, t, n) {
    var r;
    if (!e || 3 === e.nodeType || 8 === e.nodeType) return this;

    for (var o = wo({
      type: t,
      target: e
    }, n); (r = e[this.expando]) && this.executeHandlers(o, r), (e = e.parentNode || e.ownerDocument || e.defaultView || e.parentWindow) && !o.isPropagationStopped();) {
      ;
    }

    return this;
  }, yi.prototype.clean = function (e) {
    var t, n;
    if (!e || 3 === e.nodeType || 8 === e.nodeType) return this;
    if (e[this.expando] && this.unbind(e), (e = e.getElementsByTagName ? e : e.document) && e.getElementsByTagName) for (this.unbind(e), t = (n = e.getElementsByTagName("*")).length; t--;) {
      (e = n[t])[this.expando] && this.unbind(e);
    }
    return this;
  }, yi.prototype.destroy = function () {
    this.events = {};
  }, yi.prototype.cancel = function (e) {
    return e && (e.preventDefault(), e.stopImmediatePropagation()), !1;
  }, yi.prototype.executeHandlers = function (e, t) {
    var n = this.events[t],
        r = n && n[e.type];
    if (r) for (var o = 0, i = r.length; o < i; o++) {
      var a = r[o];
      if (a && !1 === a.func.call(a.scope, e) && e.preventDefault(), e.isImmediatePropagationStopped()) return;
    }
  }, yi.Event = new yi(), yi);

  function yi() {
    this.domLoaded = !1, this.events = {}, this.count = 1, this.expando = "mce-data-" + (+new Date()).toString(32), this.hasMouseEnterLeave = "onmouseenter" in document.documentElement, this.hasFocusIn = "onfocusin" in document.documentElement, this.count = 1;
  }

  function Ci(e, t, n) {
    var r = "0x" + t - 65536;
    return r != r || n ? t : r < 0 ? String.fromCharCode(65536 + r) : String.fromCharCode(r >> 10 | 55296, 1023 & r | 56320);
  }

  var wi,
      xi,
      Si,
      Ei,
      Ni,
      ki,
      _i,
      Ai,
      Ti,
      Ri,
      Di,
      Oi,
      Bi,
      Pi,
      Li,
      Ii,
      Mi,
      Fi = "sizzle" + -new Date(),
      Ui = window.document,
      zi = 0,
      ji = 0,
      Hi = ya(),
      Vi = ya(),
      qi = ya(),
      $i = function $i(e, t) {
    return e === t && (Ri = !0), 0;
  },
      Wi = "undefined",
      Ki = {}.hasOwnProperty,
      Xi = [],
      Yi = Xi.pop,
      Gi = Xi.push,
      Ji = Xi.push,
      Qi = Xi.slice,
      Zi = Xi.indexOf || function (e) {
    for (var t = 0, n = this.length; t < n; t++) {
      if (this[t] === e) return t;
    }

    return -1;
  },
      ea = "[\\x20\\t\\r\\n\\f]",
      ta = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",
      na = "\\[" + ea + "*(" + ta + ")(?:" + ea + "*([*^$|!~]?=)" + ea + "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + ta + "))|)" + ea + "*\\]",
      ra = ":(" + ta + ")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|" + na + ")*)|.*)\\)|)",
      oa = new RegExp("^" + ea + "+|((?:^|[^\\\\])(?:\\\\.)*)" + ea + "+$", "g"),
      ia = new RegExp("^" + ea + "*," + ea + "*"),
      aa = new RegExp("^" + ea + "*([>+~]|" + ea + ")" + ea + "*"),
      ua = new RegExp("=" + ea + "*([^\\]'\"]*?)" + ea + "*\\]", "g"),
      sa = new RegExp(ra),
      ca = new RegExp("^" + ta + "$"),
      la = {
    ID: new RegExp("^#(" + ta + ")"),
    CLASS: new RegExp("^\\.(" + ta + ")"),
    TAG: new RegExp("^(" + ta + "|[*])"),
    ATTR: new RegExp("^" + na),
    PSEUDO: new RegExp("^" + ra),
    CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + ea + "*(even|odd|(([+-]|)(\\d*)n|)" + ea + "*(?:([+-]|)" + ea + "*(\\d+)|))" + ea + "*\\)|)", "i"),
    bool: new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$", "i"),
    needsContext: new RegExp("^" + ea + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + ea + "*((?:-\\d)?\\d*)" + ea + "*\\)|)(?=[^-]|$)", "i")
  },
      fa = /^(?:input|select|textarea|button)$/i,
      da = /^h\d$/i,
      ma = /^[^{]+\{\s*\[native \w/,
      ga = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,
      pa = /[+~]/,
      ha = /'|\\/g,
      va = new RegExp("\\\\([\\da-f]{1,6}" + ea + "?|(" + ea + ")|.)", "ig");

  try {
    Ji.apply(Xi = Qi.call(Ui.childNodes), Ui.childNodes), Xi[Ui.childNodes.length].nodeType;
  } catch (e) {
    Ji = {
      apply: Xi.length ? function (e, t) {
        Gi.apply(e, Qi.call(t));
      } : function (e, t) {
        for (var n = e.length, r = 0; e[n++] = t[r++];) {
          ;
        }

        e.length = n - 1;
      }
    };
  }

  var ba = function ba(e, t, n, r) {
    var o, i, a, u, s, c, l, f, d, m;
    if ((t ? t.ownerDocument || t : Ui) !== Oi && Di(t), n = n || [], !e || "string" != typeof e) return n;
    if (1 !== (u = (t = t || Oi).nodeType) && 9 !== u) return [];

    if (Pi && !r) {
      if (o = ga.exec(e)) if (a = o[1]) {
        if (9 === u) {
          if (!(i = t.getElementById(a)) || !i.parentNode) return n;
          if (i.id === a) return n.push(i), n;
        } else if (t.ownerDocument && (i = t.ownerDocument.getElementById(a)) && Mi(t, i) && i.id === a) return n.push(i), n;
      } else {
        if (o[2]) return Ji.apply(n, t.getElementsByTagName(e)), n;
        if ((a = o[3]) && wi.getElementsByClassName) return Ji.apply(n, t.getElementsByClassName(a)), n;
      }

      if (wi.qsa && (!Li || !Li.test(e))) {
        if (f = l = Fi, d = t, m = 9 === u && e, 1 === u && "object" !== t.nodeName.toLowerCase()) {
          for (c = Ni(e), (l = t.getAttribute("id")) ? f = l.replace(ha, "\\$&") : t.setAttribute("id", f), f = "[id='" + f + "'] ", s = c.length; s--;) {
            c[s] = f + Na(c[s]);
          }

          d = pa.test(e) && Sa(t.parentNode) || t, m = c.join(",");
        }

        if (m) try {
          return Ji.apply(n, d.querySelectorAll(m)), n;
        } catch (e) {} finally {
          l || t.removeAttribute("id");
        }
      }
    }

    return _i(e.replace(oa, "$1"), t, n, r);
  };

  function ya() {
    var n = [];

    function r(e, t) {
      return n.push(e + " ") > xi.cacheLength && delete r[n.shift()], r[e + " "] = t;
    }

    return r;
  }

  function Ca(e) {
    return e[Fi] = !0, e;
  }

  function wa(e, t) {
    var n = t && e,
        r = n && 1 === e.nodeType && 1 === t.nodeType && (~t.sourceIndex || 1 << 31) - (~e.sourceIndex || 1 << 31);
    if (r) return r;
    if (n) for (; n = n.nextSibling;) {
      if (n === t) return -1;
    }
    return e ? 1 : -1;
  }

  function xa(a) {
    return Ca(function (i) {
      return i = +i, Ca(function (e, t) {
        for (var n, r = a([], e.length, i), o = r.length; o--;) {
          e[n = r[o]] && (e[n] = !(t[n] = e[n]));
        }
      });
    });
  }

  function Sa(e) {
    return e && _typeof(e.getElementsByTagName) != Wi && e;
  }

  function Ea() {}

  function Na(e) {
    for (var t = 0, n = e.length, r = ""; t < n; t++) {
      r += e[t].value;
    }

    return r;
  }

  function ka(a, e, t) {
    var u = e.dir,
        s = t && "parentNode" === u,
        c = ji++;
    return e.first ? function (e, t, n) {
      for (; e = e[u];) {
        if (1 === e.nodeType || s) return a(e, t, n);
      }
    } : function (e, t, n) {
      var r,
          o,
          i = [zi, c];

      if (n) {
        for (; e = e[u];) {
          if ((1 === e.nodeType || s) && a(e, t, n)) return !0;
        }
      } else for (; e = e[u];) {
        if (1 === e.nodeType || s) {
          if ((r = (o = e[Fi] || (e[Fi] = {}))[u]) && r[0] === zi && r[1] === c) return i[2] = r[2];
          if ((o[u] = i)[2] = a(e, t, n)) return !0;
        }
      }
    };
  }

  function _a(o) {
    return 1 < o.length ? function (e, t, n) {
      for (var r = o.length; r--;) {
        if (!o[r](e, t, n)) return !1;
      }

      return !0;
    } : o[0];
  }

  function Aa(e, t, n, r, o) {
    for (var i, a = [], u = 0, s = e.length, c = null != t; u < s; u++) {
      (i = e[u]) && (n && !n(i, r, o) || (a.push(i), c && t.push(u)));
    }

    return a;
  }

  function Ta(e) {
    return void 0 !== e;
  }

  function Ra(e) {
    return "string" == typeof e;
  }

  function Da(e, t) {
    var n,
        r = (t = t || Fa).createElement("div"),
        o = t.createDocumentFragment();

    for (r.innerHTML = e; n = r.firstChild;) {
      o.appendChild(n);
    }

    return o;
  }

  function Oa(e, t) {
    return e && t && -1 !== (" " + e.className + " ").indexOf(" " + t + " ");
  }

  function Ba(e, t, n) {
    var r, o;
    return t = ou(t)[0], e.each(function () {
      n && r === this.parentNode || (r = this.parentNode, o = t.cloneNode(!1), this.parentNode.insertBefore(o, this)), o.appendChild(this);
    }), e;
  }

  function Pa(e, t) {
    return new ou.fn.init(e, t);
  }

  function La(e) {
    return null == e ? "" : ("" + e).replace(Ja, "");
  }

  function Ia(e, t) {
    var n, r, o, i;
    if (e) if (void 0 === (n = e.length)) {
      for (r in e) {
        if (e.hasOwnProperty(r) && (i = e[r], !1 === t.call(i, r, i))) break;
      }
    } else for (o = 0; o < n && (i = e[o], !1 !== t.call(i, o, i)); o++) {
      ;
    }
    return e;
  }

  function Ma(e, n) {
    var r = [];
    return Ia(e, function (e, t) {
      n(t, e) && r.push(t);
    }), r;
  }

  wi = ba.support = {}, Ei = ba.isXML = function (e) {
    var t = e && (e.ownerDocument || e).documentElement;
    return !!t && "HTML" !== t.nodeName;
  }, Di = ba.setDocument = function (e) {
    var t,
        s = e ? e.ownerDocument || e : Ui,
        n = s.defaultView;
    return s !== Oi && 9 === s.nodeType && s.documentElement ? (Bi = (Oi = s).documentElement, Pi = !Ei(s), n && n !== function (e) {
      try {
        return e.top;
      } catch (e) {}

      return null;
    }(n) && (n.addEventListener ? n.addEventListener("unload", function () {
      Di();
    }, !1) : n.attachEvent && n.attachEvent("onunload", function () {
      Di();
    })), wi.attributes = !0, wi.getElementsByTagName = !0, wi.getElementsByClassName = ma.test(s.getElementsByClassName), wi.getById = !0, xi.find.ID = function (e, t) {
      if (_typeof(t.getElementById) != Wi && Pi) {
        var n = t.getElementById(e);
        return n && n.parentNode ? [n] : [];
      }
    }, xi.filter.ID = function (e) {
      var t = e.replace(va, Ci);
      return function (e) {
        return e.getAttribute("id") === t;
      };
    }, xi.find.TAG = wi.getElementsByTagName ? function (e, t) {
      if (_typeof(t.getElementsByTagName) != Wi) return t.getElementsByTagName(e);
    } : function (e, t) {
      var n,
          r = [],
          o = 0,
          i = t.getElementsByTagName(e);
      if ("*" !== e) return i;

      for (; n = i[o++];) {
        1 === n.nodeType && r.push(n);
      }

      return r;
    }, xi.find.CLASS = wi.getElementsByClassName && function (e, t) {
      if (Pi) return t.getElementsByClassName(e);
    }, Ii = [], Li = [], wi.disconnectedMatch = !0, Li = Li.length && new RegExp(Li.join("|")), Ii = Ii.length && new RegExp(Ii.join("|")), t = ma.test(Bi.compareDocumentPosition), Mi = t || ma.test(Bi.contains) ? function (e, t) {
      var n = 9 === e.nodeType ? e.documentElement : e,
          r = t && t.parentNode;
      return e === r || !(!r || 1 !== r.nodeType || !(n.contains ? n.contains(r) : e.compareDocumentPosition && 16 & e.compareDocumentPosition(r)));
    } : function (e, t) {
      if (t) for (; t = t.parentNode;) {
        if (t === e) return !0;
      }
      return !1;
    }, $i = t ? function (e, t) {
      return e === t ? (Ri = !0, 0) : (n = !e.compareDocumentPosition - !t.compareDocumentPosition) || (1 & (n = (e.ownerDocument || e) === (t.ownerDocument || t) ? e.compareDocumentPosition(t) : 1) || !wi.sortDetached && t.compareDocumentPosition(e) === n ? e === s || e.ownerDocument === Ui && Mi(Ui, e) ? -1 : t === s || t.ownerDocument === Ui && Mi(Ui, t) ? 1 : Ti ? Zi.call(Ti, e) - Zi.call(Ti, t) : 0 : 4 & n ? -1 : 1);
      var n;
    } : function (e, t) {
      if (e === t) return Ri = !0, 0;
      var n,
          r = 0,
          o = e.parentNode,
          i = t.parentNode,
          a = [e],
          u = [t];
      if (!o || !i) return e === s ? -1 : t === s ? 1 : o ? -1 : i ? 1 : Ti ? Zi.call(Ti, e) - Zi.call(Ti, t) : 0;
      if (o === i) return wa(e, t);

      for (n = e; n = n.parentNode;) {
        a.unshift(n);
      }

      for (n = t; n = n.parentNode;) {
        u.unshift(n);
      }

      for (; a[r] === u[r];) {
        r++;
      }

      return r ? wa(a[r], u[r]) : a[r] === Ui ? -1 : u[r] === Ui ? 1 : 0;
    }, s) : Oi;
  }, ba.matches = function (e, t) {
    return ba(e, null, null, t);
  }, ba.matchesSelector = function (e, t) {
    if ((e.ownerDocument || e) !== Oi && Di(e), t = t.replace(ua, "='$1']"), wi.matchesSelector && Pi && (!Ii || !Ii.test(t)) && (!Li || !Li.test(t))) try {
      var n = (void 0).call(e, t);
      if (n || wi.disconnectedMatch || e.document && 11 !== e.document.nodeType) return n;
    } catch (e) {}
    return 0 < ba(t, Oi, null, [e]).length;
  }, ba.contains = function (e, t) {
    return (e.ownerDocument || e) !== Oi && Di(e), Mi(e, t);
  }, ba.attr = function (e, t) {
    (e.ownerDocument || e) !== Oi && Di(e);
    var n = xi.attrHandle[t.toLowerCase()],
        r = n && Ki.call(xi.attrHandle, t.toLowerCase()) ? n(e, t, !Pi) : void 0;
    return void 0 !== r ? r : wi.attributes || !Pi ? e.getAttribute(t) : (r = e.getAttributeNode(t)) && r.specified ? r.value : null;
  }, ba.error = function (e) {
    throw new Error("Syntax error, unrecognized expression: " + e);
  }, ba.uniqueSort = function (e) {
    var t,
        n = [],
        r = 0,
        o = 0;

    if (Ri = !wi.detectDuplicates, Ti = !wi.sortStable && e.slice(0), e.sort($i), Ri) {
      for (; t = e[o++];) {
        t === e[o] && (r = n.push(o));
      }

      for (; r--;) {
        e.splice(n[r], 1);
      }
    }

    return Ti = null, e;
  }, Si = ba.getText = function (e) {
    var t,
        n = "",
        r = 0,
        o = e.nodeType;

    if (o) {
      if (1 === o || 9 === o || 11 === o) {
        if ("string" == typeof e.textContent) return e.textContent;

        for (e = e.firstChild; e; e = e.nextSibling) {
          n += Si(e);
        }
      } else if (3 === o || 4 === o) return e.nodeValue;
    } else for (; t = e[r++];) {
      n += Si(t);
    }

    return n;
  }, (xi = ba.selectors = {
    cacheLength: 50,
    createPseudo: Ca,
    match: la,
    attrHandle: {},
    find: {},
    relative: {
      ">": {
        dir: "parentNode",
        first: !0
      },
      " ": {
        dir: "parentNode"
      },
      "+": {
        dir: "previousSibling",
        first: !0
      },
      "~": {
        dir: "previousSibling"
      }
    },
    preFilter: {
      ATTR: function ATTR(e) {
        return e[1] = e[1].replace(va, Ci), e[3] = (e[3] || e[4] || e[5] || "").replace(va, Ci), "~=" === e[2] && (e[3] = " " + e[3] + " "), e.slice(0, 4);
      },
      CHILD: function CHILD(e) {
        return e[1] = e[1].toLowerCase(), "nth" === e[1].slice(0, 3) ? (e[3] || ba.error(e[0]), e[4] = +(e[4] ? e[5] + (e[6] || 1) : 2 * ("even" === e[3] || "odd" === e[3])), e[5] = +(e[7] + e[8] || "odd" === e[3])) : e[3] && ba.error(e[0]), e;
      },
      PSEUDO: function PSEUDO(e) {
        var t,
            n = !e[6] && e[2];
        return la.CHILD.test(e[0]) ? null : (e[3] ? e[2] = e[4] || e[5] || "" : n && sa.test(n) && (t = Ni(n, !0)) && (t = n.indexOf(")", n.length - t) - n.length) && (e[0] = e[0].slice(0, t), e[2] = n.slice(0, t)), e.slice(0, 3));
      }
    },
    filter: {
      TAG: function TAG(e) {
        var t = e.replace(va, Ci).toLowerCase();
        return "*" === e ? function () {
          return !0;
        } : function (e) {
          return e.nodeName && e.nodeName.toLowerCase() === t;
        };
      },
      CLASS: function CLASS(e) {
        var t = Hi[e + " "];
        return t || (t = new RegExp("(^|" + ea + ")" + e + "(" + ea + "|$)")) && Hi(e, function (e) {
          return t.test("string" == typeof e.className && e.className || _typeof(e.getAttribute) != Wi && e.getAttribute("class") || "");
        });
      },
      ATTR: function ATTR(n, r, o) {
        return function (e) {
          var t = ba.attr(e, n);
          return null == t ? "!=" === r : !r || (t += "", "=" === r ? t === o : "!=" === r ? t !== o : "^=" === r ? o && 0 === t.indexOf(o) : "*=" === r ? o && -1 < t.indexOf(o) : "$=" === r ? o && t.slice(-o.length) === o : "~=" === r ? -1 < (" " + t + " ").indexOf(o) : "|=" === r && (t === o || t.slice(0, o.length + 1) === o + "-"));
        };
      },
      CHILD: function CHILD(m, e, t, g, p) {
        var h = "nth" !== m.slice(0, 3),
            v = "last" !== m.slice(-4),
            b = "of-type" === e;
        return 1 === g && 0 === p ? function (e) {
          return !!e.parentNode;
        } : function (e, t, n) {
          var r,
              o,
              i,
              a,
              u,
              s,
              c = h != v ? "nextSibling" : "previousSibling",
              l = e.parentNode,
              f = b && e.nodeName.toLowerCase(),
              d = !n && !b;

          if (l) {
            if (h) {
              for (; c;) {
                for (i = e; i = i[c];) {
                  if (b ? i.nodeName.toLowerCase() === f : 1 === i.nodeType) return !1;
                }

                s = c = "only" === m && !s && "nextSibling";
              }

              return !0;
            }

            if (s = [v ? l.firstChild : l.lastChild], v && d) {
              for (u = (r = (o = l[Fi] || (l[Fi] = {}))[m] || [])[0] === zi && r[1], a = r[0] === zi && r[2], i = u && l.childNodes[u]; i = ++u && i && i[c] || (a = u = 0) || s.pop();) {
                if (1 === i.nodeType && ++a && i === e) {
                  o[m] = [zi, u, a];
                  break;
                }
              }
            } else if (d && (r = (e[Fi] || (e[Fi] = {}))[m]) && r[0] === zi) a = r[1];else for (; (i = ++u && i && i[c] || (a = u = 0) || s.pop()) && ((b ? i.nodeName.toLowerCase() !== f : 1 !== i.nodeType) || !++a || (d && ((i[Fi] || (i[Fi] = {}))[m] = [zi, a]), i !== e));) {
              ;
            }

            return (a -= p) === g || a % g == 0 && 0 <= a / g;
          }
        };
      },
      PSEUDO: function PSEUDO(e, i) {
        var t,
            a = xi.pseudos[e] || xi.setFilters[e.toLowerCase()] || ba.error("unsupported pseudo: " + e);
        return a[Fi] ? a(i) : 1 < a.length ? (t = [e, e, "", i], xi.setFilters.hasOwnProperty(e.toLowerCase()) ? Ca(function (e, t) {
          for (var n, r = a(e, i), o = r.length; o--;) {
            e[n = Zi.call(e, r[o])] = !(t[n] = r[o]);
          }
        }) : function (e) {
          return a(e, 0, t);
        }) : a;
      }
    },
    pseudos: {
      not: Ca(function (e) {
        var r = [],
            o = [],
            u = ki(e.replace(oa, "$1"));
        return u[Fi] ? Ca(function (e, t, n, r) {
          for (var o, i = u(e, null, r, []), a = e.length; a--;) {
            (o = i[a]) && (e[a] = !(t[a] = o));
          }
        }) : function (e, t, n) {
          return r[0] = e, u(r, null, n, o), r[0] = null, !o.pop();
        };
      }),
      has: Ca(function (t) {
        return function (e) {
          return 0 < ba(t, e).length;
        };
      }),
      contains: Ca(function (t) {
        return t = t.replace(va, Ci), function (e) {
          return -1 < (e.textContent || e.innerText || Si(e)).indexOf(t);
        };
      }),
      lang: Ca(function (n) {
        return ca.test(n || "") || ba.error("unsupported lang: " + n), n = n.replace(va, Ci).toLowerCase(), function (e) {
          var t;

          do {
            if (t = Pi ? e.lang : e.getAttribute("xml:lang") || e.getAttribute("lang")) return (t = t.toLowerCase()) === n || 0 === t.indexOf(n + "-");
          } while ((e = e.parentNode) && 1 === e.nodeType);

          return !1;
        };
      }),
      target: function target(e) {
        var t = window.location && window.location.hash;
        return t && t.slice(1) === e.id;
      },
      root: function root(e) {
        return e === Bi;
      },
      focus: function focus(e) {
        return e === Oi.activeElement && (!Oi.hasFocus || Oi.hasFocus()) && !!(e.type || e.href || ~e.tabIndex);
      },
      enabled: function enabled(e) {
        return !1 === e.disabled;
      },
      disabled: function disabled(e) {
        return !0 === e.disabled;
      },
      checked: function checked(e) {
        var t = e.nodeName.toLowerCase();
        return "input" === t && !!e.checked || "option" === t && !!e.selected;
      },
      selected: function selected(e) {
        return e.parentNode && e.parentNode.selectedIndex, !0 === e.selected;
      },
      empty: function empty(e) {
        for (e = e.firstChild; e; e = e.nextSibling) {
          if (e.nodeType < 6) return !1;
        }

        return !0;
      },
      parent: function parent(e) {
        return !xi.pseudos.empty(e);
      },
      header: function header(e) {
        return da.test(e.nodeName);
      },
      input: function input(e) {
        return fa.test(e.nodeName);
      },
      button: function button(e) {
        var t = e.nodeName.toLowerCase();
        return "input" === t && "button" === e.type || "button" === t;
      },
      text: function text(e) {
        var t;
        return "input" === e.nodeName.toLowerCase() && "text" === e.type && (null == (t = e.getAttribute("type")) || "text" === t.toLowerCase());
      },
      first: xa(function () {
        return [0];
      }),
      last: xa(function (e, t) {
        return [t - 1];
      }),
      eq: xa(function (e, t, n) {
        return [n < 0 ? n + t : n];
      }),
      even: xa(function (e, t) {
        for (var n = 0; n < t; n += 2) {
          e.push(n);
        }

        return e;
      }),
      odd: xa(function (e, t) {
        for (var n = 1; n < t; n += 2) {
          e.push(n);
        }

        return e;
      }),
      lt: xa(function (e, t, n) {
        for (var r = n < 0 ? n + t : n; 0 <= --r;) {
          e.push(r);
        }

        return e;
      }),
      gt: xa(function (e, t, n) {
        for (var r = n < 0 ? n + t : n; ++r < t;) {
          e.push(r);
        }

        return e;
      })
    }
  }).pseudos.nth = xi.pseudos.eq, X(["radio", "checkbox", "file", "password", "image"], function (e) {
    var t;
    xi.pseudos[e] = (t = e, function (e) {
      return "input" === e.nodeName.toLowerCase() && e.type === t;
    });
  }), X(["submit", "reset"], function (e) {
    var n;
    xi.pseudos[e] = (n = e, function (e) {
      var t = e.nodeName.toLowerCase();
      return ("input" === t || "button" === t) && e.type === n;
    });
  }), Ea.prototype = xi.filters = xi.pseudos, xi.setFilters = new Ea(), Ni = ba.tokenize = function (e, t) {
    var n,
        r,
        o,
        i,
        a,
        u,
        s,
        c = Vi[e + " "];
    if (c) return t ? 0 : c.slice(0);

    for (a = e, u = [], s = xi.preFilter; a;) {
      for (i in n && !(r = ia.exec(a)) || (r && (a = a.slice(r[0].length) || a), u.push(o = [])), n = !1, (r = aa.exec(a)) && (n = r.shift(), o.push({
        value: n,
        type: r[0].replace(oa, " ")
      }), a = a.slice(n.length)), xi.filter) {
        xi.filter.hasOwnProperty(i) && (!(r = la[i].exec(a)) || s[i] && !(r = s[i](r)) || (n = r.shift(), o.push({
          value: n,
          type: i,
          matches: r
        }), a = a.slice(n.length)));
      }

      if (!n) break;
    }

    return t ? a.length : a ? ba.error(e) : Vi(e, u).slice(0);
  }, ki = ba.compile = function (e, t) {
    var n,
        h,
        v,
        b,
        y,
        r = [],
        o = [],
        i = qi[e + " "];

    if (!i) {
      for (n = (t = t || Ni(e)).length; n--;) {
        ((i = function e(t) {
          for (var o, n, r, i = t.length, a = xi.relative[t[0].type], u = a || xi.relative[" "], s = a ? 1 : 0, c = ka(function (e) {
            return e === o;
          }, u, !0), l = ka(function (e) {
            return -1 < Zi.call(o, e);
          }, u, !0), f = [function (e, t, n) {
            var r = !a && (n || t !== Ai) || ((o = t).nodeType ? c : l)(e, t, n);
            return o = null, r;
          }]; s < i; s++) {
            if (n = xi.relative[t[s].type]) f = [ka(_a(f), n)];else {
              if ((n = xi.filter[t[s].type].apply(null, t[s].matches))[Fi]) {
                for (r = ++s; r < i && !xi.relative[t[r].type]; r++) {
                  ;
                }

                return function e(m, g, p, h, v, t) {
                  return h && !h[Fi] && (h = e(h)), v && !v[Fi] && (v = e(v, t)), Ca(function (e, t, n, r) {
                    var o,
                        i,
                        a,
                        u = [],
                        s = [],
                        c = t.length,
                        l = e || function (e, t, n) {
                      for (var r = 0, o = t.length; r < o; r++) {
                        ba(e, t[r], n);
                      }

                      return n;
                    }(g || "*", n.nodeType ? [n] : n, []),
                        f = !m || !e && g ? l : Aa(l, u, m, n, r),
                        d = p ? v || (e ? m : c || h) ? [] : t : f;

                    if (p && p(f, d, n, r), h) for (o = Aa(d, s), h(o, [], n, r), i = o.length; i--;) {
                      (a = o[i]) && (d[s[i]] = !(f[s[i]] = a));
                    }

                    if (e) {
                      if (v || m) {
                        if (v) {
                          for (o = [], i = d.length; i--;) {
                            (a = d[i]) && o.push(f[i] = a);
                          }

                          v(null, d = [], o, r);
                        }

                        for (i = d.length; i--;) {
                          (a = d[i]) && -1 < (o = v ? Zi.call(e, a) : u[i]) && (e[o] = !(t[o] = a));
                        }
                      }
                    } else d = Aa(d === t ? d.splice(c, d.length) : d), v ? v(null, t, d, r) : Ji.apply(t, d);
                  });
                }(1 < s && _a(f), 1 < s && Na(t.slice(0, s - 1).concat({
                  value: " " === t[s - 2].type ? "*" : ""
                })).replace(oa, "$1"), n, s < r && e(t.slice(s, r)), r < i && e(t = t.slice(r)), r < i && Na(t));
              }

              f.push(n);
            }
          }

          return _a(f);
        }(t[n]))[Fi] ? r : o).push(i);
      }

      (i = qi(e, (h = o, b = 0 < (v = r).length, y = 0 < h.length, b ? Ca(a) : a))).selector = e;
    }

    function a(e, t, n, r, o) {
      var i,
          a,
          u,
          s = 0,
          c = "0",
          l = e && [],
          f = [],
          d = Ai,
          m = e || y && xi.find.TAG("*", o),
          g = zi += null == d ? 1 : Math.random() || .1,
          p = m.length;

      for (o && (Ai = t !== Oi && t); c !== p && null != (i = m[c]); c++) {
        if (y && i) {
          for (a = 0; u = h[a++];) {
            if (u(i, t, n)) {
              r.push(i);
              break;
            }
          }

          o && (zi = g);
        }

        b && ((i = !u && i) && s--, e && l.push(i));
      }

      if (s += c, b && c !== s) {
        for (a = 0; u = v[a++];) {
          u(l, f, t, n);
        }

        if (e) {
          if (0 < s) for (; c--;) {
            l[c] || f[c] || (f[c] = Yi.call(r));
          }
          f = Aa(f);
        }

        Ji.apply(r, f), o && !e && 0 < f.length && 1 < s + v.length && ba.uniqueSort(r);
      }

      return o && (zi = g, Ai = d), l;
    }

    return i;
  }, _i = ba.select = function (e, t, n, r) {
    var o,
        i,
        a,
        u,
        s,
        c = "function" == typeof e && e,
        l = !r && Ni(e = c.selector || e);

    if (n = n || [], 1 === l.length) {
      if (2 < (i = l[0] = l[0].slice(0)).length && "ID" === (a = i[0]).type && wi.getById && 9 === t.nodeType && Pi && xi.relative[i[1].type]) {
        if (!(t = (xi.find.ID(a.matches[0].replace(va, Ci), t) || [])[0])) return n;
        c && (t = t.parentNode), e = e.slice(i.shift().value.length);
      }

      for (o = la.needsContext.test(e) ? 0 : i.length; o-- && (a = i[o], !xi.relative[u = a.type]);) {
        if ((s = xi.find[u]) && (r = s(a.matches[0].replace(va, Ci), pa.test(i[0].type) && Sa(t.parentNode) || t))) {
          if (i.splice(o, 1), !(e = r.length && Na(i))) return Ji.apply(n, r), n;
          break;
        }
      }
    }

    return (c || ki(e, l))(r, t, !Pi, n, pa.test(e) && Sa(t.parentNode) || t), n;
  }, wi.sortStable = Fi.split("").sort($i).join("") === Fi, wi.detectDuplicates = !!Ri, Di(), wi.sortDetached = !0;

  var Fa = document,
      Ua = Array.prototype.push,
      za = Array.prototype.slice,
      ja = /^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,
      Ha = bi.Event,
      Va = St.makeMap("children,contents,next,prev"),
      qa = function qa(e, t, n, r) {
    var o;
    if (Ra(t)) t = Da(t, Qa(e[0]));else if (t.length && !t.nodeType) {
      if (t = ou.makeArray(t), r) for (o = t.length - 1; 0 <= o; o--) {
        qa(e, t[o], n, r);
      } else for (o = 0; o < t.length; o++) {
        qa(e, t[o], n, r);
      }
      return e;
    }
    if (t.nodeType) for (o = e.length; o--;) {
      n.call(e[o], t);
    }
    return e;
  },
      $a = St.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom", " "),
      Wa = St.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected", " "),
      Ka = {
    "for": "htmlFor",
    "class": "className",
    readonly: "readOnly"
  },
      Xa = {
    "float": "cssFloat"
  },
      Ya = {},
      Ga = {},
      Ja = /^\s*|\s*$/g,
      Qa = function Qa(e) {
    return e ? 9 === e.nodeType ? e : e.ownerDocument : Fa;
  };

  function Za(e, t, n) {
    var r = [],
        o = e[t];

    for ("string" != typeof n && n instanceof ou && (n = n[0]); o && 9 !== o.nodeType;) {
      if (void 0 !== n) {
        if (o === n) break;
        if ("string" == typeof n && ou(o).is(n)) break;
      }

      1 === o.nodeType && r.push(o), o = o[t];
    }

    return r;
  }

  function eu(e, t, n, r) {
    var o = [];

    for (r instanceof ou && (r = r[0]); e; e = e[t]) {
      if (!n || e.nodeType === n) {
        if (void 0 !== r) {
          if (e === r) break;
          if ("string" == typeof r && ou(e).is(r)) break;
        }

        o.push(e);
      }
    }

    return o;
  }

  function tu(e, t, n) {
    for (e = e[t]; e; e = e[t]) {
      if (e.nodeType === n) return e;
    }

    return null;
  }

  function nu(e, t) {
    var n = t.attr("style"),
        r = e.serialize(e.parse(n), t[0].nodeName) || null;
    t.attr("data-mce-style", r);
  }

  function ru(e, t) {
    var n,
        r,
        o = 0;
    if (e) for (n = e.nodeType, e = e.previousSibling; e; e = e.previousSibling) {
      r = e.nodeType, (!t || 3 !== r || r !== n && e.nodeValue.length) && (o++, n = r);
    }
    return o;
  }

  Pa.fn = Pa.prototype = {
    constructor: Pa,
    selector: "",
    context: null,
    length: 0,
    init: function init(e, t) {
      var n,
          r,
          o = this;
      if (!e) return o;
      if (e.nodeType) return o.context = o[0] = e, o.length = 1, o;
      if (t && t.nodeType) o.context = t;else {
        if (t) return ou(e).attr(t);
        o.context = t = document;
      }

      if (Ra(e)) {
        if (!(n = "<" === (o.selector = e).charAt(0) && ">" === e.charAt(e.length - 1) && 3 <= e.length ? [null, e, null] : ja.exec(e))) return ou(t).find(e);
        if (n[1]) for (r = Da(e, Qa(t)).firstChild; r;) {
          Ua.call(o, r), r = r.nextSibling;
        } else {
          if (!(r = Qa(t).getElementById(n[2]))) return o;
          if (r.id !== n[2]) return o.find(e);
          o.length = 1, o[0] = r;
        }
      } else this.add(e, !1);

      return o;
    },
    toArray: function toArray() {
      return St.toArray(this);
    },
    add: function add(e, t) {
      var n, r;
      if (Ra(e)) return this.add(ou(e));
      if (!1 !== t) for (n = ou.unique(this.toArray().concat(ou.makeArray(e))), this.length = n.length, r = 0; r < n.length; r++) {
        this[r] = n[r];
      } else Ua.apply(this, ou.makeArray(e));
      return this;
    },
    attr: function attr(t, n) {
      var e,
          r = this;
      if ("object" == _typeof(t)) Ia(t, function (e, t) {
        r.attr(e, t);
      });else {
        if (!Ta(n)) {
          if (r[0] && 1 === r[0].nodeType) {
            if ((e = Ya[t]) && e.get) return e.get(r[0], t);
            if (Wa[t]) return r.prop(t) ? t : void 0;
            null === (n = r[0].getAttribute(t, 2)) && (n = void 0);
          }

          return n;
        }

        this.each(function () {
          var e;
          1 === this.nodeType && ((e = Ya[t]) && e.set ? e.set(this, n) : null === n ? this.removeAttribute(t, 2) : this.setAttribute(t, n, 2));
        });
      }
      return r;
    },
    removeAttr: function removeAttr(e) {
      return this.attr(e, null);
    },
    prop: function prop(e, t) {
      var n = this;
      if ("object" == _typeof(e = Ka[e] || e)) Ia(e, function (e, t) {
        n.prop(e, t);
      });else {
        if (!Ta(t)) return n[0] && n[0].nodeType && e in n[0] ? n[0][e] : t;
        this.each(function () {
          1 === this.nodeType && (this[e] = t);
        });
      }
      return n;
    },
    css: function css(t, n) {
      function e(e) {
        return e.replace(/-(\D)/g, function (e, t) {
          return t.toUpperCase();
        });
      }

      function r(e) {
        return e.replace(/[A-Z]/g, function (e) {
          return "-" + e;
        });
      }

      var o,
          i,
          a = this;
      if ("object" == _typeof(t)) Ia(t, function (e, t) {
        a.css(e, t);
      });else if (Ta(n)) t = e(t), "number" != typeof n || $a[t] || (n = n.toString() + "px"), a.each(function () {
        var e = this.style;
        if ((i = Ga[t]) && i.set) i.set(this, n);else {
          try {
            this.style[Xa[t] || t] = n;
          } catch (e) {}

          null !== n && "" !== n || (e.removeProperty ? e.removeProperty(r(t)) : e.removeAttribute(t));
        }
      });else {
        if (o = a[0], (i = Ga[t]) && i.get) return i.get(o);
        if (!o.ownerDocument.defaultView) return o.currentStyle ? o.currentStyle[e(t)] : "";

        try {
          return o.ownerDocument.defaultView.getComputedStyle(o, null).getPropertyValue(r(t));
        } catch (e) {
          return;
        }
      }
      return a;
    },
    remove: function remove() {
      for (var e, t = this.length; t--;) {
        e = this[t], Ha.clean(e), e.parentNode && e.parentNode.removeChild(e);
      }

      return this;
    },
    empty: function empty() {
      for (var e, t = this.length; t--;) {
        for (e = this[t]; e.firstChild;) {
          e.removeChild(e.firstChild);
        }
      }

      return this;
    },
    html: function html(t) {
      var n;

      if (Ta(t)) {
        n = this.length;

        try {
          for (; n--;) {
            this[n].innerHTML = t;
          }
        } catch (e) {
          ou(this[n]).empty().append(t);
        }

        return this;
      }

      return this[0] ? this[0].innerHTML : "";
    },
    text: function text(e) {
      var t;

      if (Ta(e)) {
        for (t = this.length; t--;) {
          "innerText" in this[t] ? this[t].innerText = e : this[0].textContent = e;
        }

        return this;
      }

      return this[0] ? this[0].innerText || this[0].textContent : "";
    },
    append: function append() {
      return qa(this, arguments, function (e) {
        (1 === this.nodeType || this.host && 1 === this.host.nodeType) && this.appendChild(e);
      });
    },
    prepend: function prepend() {
      return qa(this, arguments, function (e) {
        (1 === this.nodeType || this.host && 1 === this.host.nodeType) && this.insertBefore(e, this.firstChild);
      }, !0);
    },
    before: function before() {
      return this[0] && this[0].parentNode ? qa(this, arguments, function (e) {
        this.parentNode.insertBefore(e, this);
      }) : this;
    },
    after: function after() {
      return this[0] && this[0].parentNode ? qa(this, arguments, function (e) {
        this.parentNode.insertBefore(e, this.nextSibling);
      }, !0) : this;
    },
    appendTo: function appendTo(e) {
      return ou(e).append(this), this;
    },
    prependTo: function prependTo(e) {
      return ou(e).prepend(this), this;
    },
    replaceWith: function replaceWith(e) {
      return this.before(e).remove();
    },
    wrap: function wrap(e) {
      return Ba(this, e);
    },
    wrapAll: function wrapAll(e) {
      return Ba(this, e, !0);
    },
    wrapInner: function wrapInner(e) {
      return this.each(function () {
        ou(this).contents().wrapAll(e);
      }), this;
    },
    unwrap: function unwrap() {
      return this.parent().each(function () {
        ou(this).replaceWith(this.childNodes);
      });
    },
    clone: function clone() {
      var e = [];
      return this.each(function () {
        e.push(this.cloneNode(!0));
      }), ou(e);
    },
    addClass: function addClass(e) {
      return this.toggleClass(e, !0);
    },
    removeClass: function removeClass(e) {
      return this.toggleClass(e, !1);
    },
    toggleClass: function toggleClass(o, i) {
      var e = this;
      return "string" != typeof o || (-1 !== o.indexOf(" ") ? Ia(o.split(" "), function () {
        e.toggleClass(this, i);
      }) : e.each(function (e, t) {
        var n,
            r = Oa(t, o);
        r !== i && (n = t.className, r ? t.className = La((" " + n + " ").replace(" " + o + " ", " ")) : t.className += n ? " " + o : o);
      })), e;
    },
    hasClass: function hasClass(e) {
      return Oa(this[0], e);
    },
    each: function each(e) {
      return Ia(this, e);
    },
    on: function on(e, t) {
      return this.each(function () {
        Ha.bind(this, e, t);
      });
    },
    off: function off(e, t) {
      return this.each(function () {
        Ha.unbind(this, e, t);
      });
    },
    trigger: function trigger(e) {
      return this.each(function () {
        "object" == _typeof(e) ? Ha.fire(this, e.type, e) : Ha.fire(this, e);
      });
    },
    show: function show() {
      return this.css("display", "");
    },
    hide: function hide() {
      return this.css("display", "none");
    },
    slice: function slice() {
      return ou(za.apply(this, arguments));
    },
    eq: function eq(e) {
      return -1 === e ? this.slice(e) : this.slice(e, +e + 1);
    },
    first: function first() {
      return this.eq(0);
    },
    last: function last() {
      return this.eq(-1);
    },
    find: function find(e) {
      for (var t = [], n = 0, r = this.length; n < r; n++) {
        ou.find(e, this[n], t);
      }

      return ou(t);
    },
    filter: function filter(n) {
      return ou("function" == typeof n ? Ma(this.toArray(), function (e, t) {
        return n(t, e);
      }) : ou.filter(n, this.toArray()));
    },
    closest: function closest(n) {
      var r = [];
      return n instanceof ou && (n = n[0]), this.each(function (e, t) {
        for (; t;) {
          if ("string" == typeof n && ou(t).is(n)) {
            r.push(t);
            break;
          }

          if (t === n) {
            r.push(t);
            break;
          }

          t = t.parentNode;
        }
      }), ou(r);
    },
    offset: function offset(e) {
      var t,
          n,
          r,
          o,
          i = 0,
          a = 0;
      return e ? this.css(e) : ((t = this[0]) && (r = (n = t.ownerDocument).documentElement, t.getBoundingClientRect && (i = (o = t.getBoundingClientRect()).left + (r.scrollLeft || n.body.scrollLeft) - r.clientLeft, a = o.top + (r.scrollTop || n.body.scrollTop) - r.clientTop)), {
        left: i,
        top: a
      });
    },
    push: Ua,
    sort: Array.prototype.sort,
    splice: Array.prototype.splice
  }, St.extend(Pa, {
    extend: St.extend,
    makeArray: function makeArray(e) {
      return e && e === e.window || e.nodeType ? [e] : St.toArray(e);
    },
    inArray: function inArray(e, t) {
      var n;
      if (t.indexOf) return t.indexOf(e);

      for (n = t.length; n--;) {
        if (t[n] === e) return n;
      }

      return -1;
    },
    isArray: St.isArray,
    each: Ia,
    trim: La,
    grep: Ma,
    find: ba,
    expr: ba.selectors,
    unique: ba.uniqueSort,
    text: ba.getText,
    contains: ba.contains,
    filter: function filter(e, t, n) {
      var r = t.length;

      for (n && (e = ":not(" + e + ")"); r--;) {
        1 !== t[r].nodeType && t.splice(r, 1);
      }

      return 1 === t.length ? ou.find.matchesSelector(t[0], e) ? [t[0]] : [] : ou.find.matches(e, t);
    }
  }), Ia({
    parent: function parent(e) {
      var t = e.parentNode;
      return t && 11 !== t.nodeType ? t : null;
    },
    parents: function parents(e) {
      return Za(e, "parentNode");
    },
    next: function next(e) {
      return tu(e, "nextSibling", 1);
    },
    prev: function prev(e) {
      return tu(e, "previousSibling", 1);
    },
    children: function children(e) {
      return eu(e.firstChild, "nextSibling", 1);
    },
    contents: function contents(e) {
      return St.toArray(("iframe" === e.nodeName ? e.contentDocument || e.contentWindow.document : e).childNodes);
    }
  }, function (r, o) {
    Pa.fn[r] = function (t) {
      var n = [];
      this.each(function () {
        var e = o.call(n, this, t, n);
        e && (ou.isArray(e) ? n.push.apply(n, e) : n.push(e));
      }), 1 < this.length && (Va[r] || (n = ou.unique(n)), 0 === r.indexOf("parents") && (n = n.reverse()));
      var e = ou(n);
      return t ? e.filter(t) : e;
    };
  }), Ia({
    parentsUntil: function parentsUntil(e, t) {
      return Za(e, "parentNode", t);
    },
    nextUntil: function nextUntil(e, t) {
      return eu(e, "nextSibling", 1, t).slice(1);
    },
    prevUntil: function prevUntil(e, t) {
      return eu(e, "previousSibling", 1, t).slice(1);
    }
  }, function (o, i) {
    Pa.fn[o] = function (t, e) {
      var n = [];
      this.each(function () {
        var e = i.call(n, this, t, n);
        e && (ou.isArray(e) ? n.push.apply(n, e) : n.push(e));
      }), 1 < this.length && (n = ou.unique(n), 0 !== o.indexOf("parents") && "prevUntil" !== o || (n = n.reverse()));
      var r = ou(n);
      return e ? r.filter(e) : r;
    };
  }), Pa.fn.is = function (e) {
    return !!e && 0 < this.filter(e).length;
  }, Pa.fn.init.prototype = Pa.fn, Pa.overrideDefaults = function (n) {
    var r,
        o = function o(e, t) {
      return r = r || n(), 0 === arguments.length && (e = r.element), t = t || r.context, new o.fn.init(e, t);
    };

    return ou.extend(o, this), o;
  }, Pa.attrHooks = Ya, Pa.cssHooks = Ga;

  var ou = Pa,
      iu = St.each,
      au = St.grep,
      uu = Ct.ie,
      su = /^([a-z0-9],?)+$/i,
      cu = function cu(a, u) {
    function s(e) {
      return e && a && K(e) ? a.getElementById(e) : e;
    }

    function c(e) {
      return j("string" == typeof e ? s(e) : e);
    }

    function r(e, t, n) {
      var r,
          o,
          i = c(e);
      return void 0 === (o = i.length ? (r = W[t]) && r.get ? r.get(i, t) : i.attr(t) : o) ? n || "" : o;
    }

    function o(e) {
      var t = s(e);
      return t ? t.attributes : [];
    }

    function i(e, t, n) {
      "" === n && (n = null);
      var r,
          o = c(e),
          i = o.attr(t);
      o.length && ((r = W[t]) && r.set ? r.set(o, n, t) : o.attr(t, n), i !== n && u.onSetAttrib && u.onSetAttrib({
        attrElm: o,
        attrName: t,
        attrValue: n
      }));
    }

    function l() {
      return u.root_element || a.body;
    }

    function f(e, t) {
      return function (e, t, n) {
        var r,
            o = 0,
            i = 0,
            a = e.ownerDocument;

        if (n = n || e, t) {
          if (n === e && t.getBoundingClientRect && "static" === Cn(Et.fromDom(e), "position")) {
            var u = t.getBoundingClientRect();
            return {
              x: o = u.left + (a.documentElement.scrollLeft || e.scrollLeft) - a.documentElement.clientLeft,
              y: i = u.top + (a.documentElement.scrollTop || e.scrollTop) - a.documentElement.clientTop
            };
          }

          for (var s = t; s && s !== n && s.nodeType && !En(s, n);) {
            var c = s;
            o += c.offsetLeft || 0, i += c.offsetTop || 0, s = c.offsetParent;
          }

          for (s = t.parentNode; s && s !== n && s.nodeType && !En(s, n);) {
            o -= s.scrollLeft || 0, i -= s.scrollTop || 0, s = s.parentNode;
          }

          i += (r = Et.fromDom(t), tr.isFirefox() && "table" === Nt(r) ? Sn(On(r)).filter(function (e) {
            return "caption" === Nt(e);
          }).bind(function (o) {
            return Sn(Lt(o)).map(function (e) {
              var t = e.dom.offsetTop,
                  n = o.dom.offsetTop,
                  r = o.dom.offsetHeight;
              return t <= n ? -r : 0;
            });
          }).getOr(0) : 0);
        }

        return {
          x: o,
          y: i
        };
      }(a.body, s(e), t);
    }

    function d(e, t, n) {
      var r = c(e);
      return n ? r.css(t) : ("float" === (t = t.replace(/-(\D)/g, function (e, t) {
        return t.toUpperCase();
      })) && (t = Ct.browser.isIE() ? "styleFloat" : "cssFloat"), r[0] && r[0].style ? r[0].style[t] : void 0);
    }

    function m(e) {
      var t = d(e = s(e), "width"),
          n = d(e, "height");
      return -1 === t.indexOf("px") && (t = 0), -1 === n.indexOf("px") && (n = 0), {
        w: parseInt(t, 10) || e.offsetWidth || e.clientWidth,
        h: parseInt(n, 10) || e.offsetHeight || e.clientHeight
      };
    }

    function g(e, t) {
      if (!e) return !1;

      if (!Array.isArray(e)) {
        if ("*" === t) return 1 === e.nodeType;

        if (su.test(t)) {
          for (var n = t.toLowerCase().split(/,/), r = e.nodeName.toLowerCase(), o = n.length - 1; 0 <= o; o--) {
            if (n[o] === r) return !0;
          }

          return !1;
        }

        if (e.nodeType && 1 !== e.nodeType) return !1;
      }

      var i = Array.isArray(e) ? e : [e];
      return 0 < ba(t, i[0].ownerDocument || i[0], null, i).length;
    }

    function p(e, t, n, r) {
      var o,
          i = [],
          a = s(e);

      for (r = void 0 === r, n = n || ("BODY" !== l().nodeName ? l().parentNode : null), St.is(t, "string") && (t = "*" === (o = t) ? function (e) {
        return 1 === e.nodeType;
      } : function (e) {
        return g(e, o);
      }); a && !(a === n || re(a.nodeType) || Wn(a) || Kn(a));) {
        if (!t || "function" == typeof t && t(a)) {
          if (!r) return [a];
          i.push(a);
        }

        a = a.parentNode;
      }

      return r ? i : null;
    }

    function n(e, t, n) {
      var r = t;
      if (e) for ("string" == typeof t && (r = function r(e) {
        return g(e, t);
      }), e = e[n]; e; e = e[n]) {
        if ("function" == typeof r && r(e)) return e;
      }
      return null;
    }

    function h(e, n, r) {
      var o,
          t = "string" == typeof e ? s(e) : e;
      return !!t && (St.isArray(t) && (t.length || 0 === t.length) ? (o = [], iu(t, function (e, t) {
        e && o.push(n.call(r, "string" == typeof e ? s(e) : e, t));
      }), o) : n.call(r || this, t));
    }

    function v(e, t) {
      c(e).each(function (e, n) {
        iu(t, function (e, t) {
          i(n, t, e);
        });
      });
    }

    function b(e, n) {
      var t = c(e);
      uu ? t.each(function (e, t) {
        if (!1 !== t.canHaveHTML) {
          for (; t.firstChild;) {
            t.removeChild(t.firstChild);
          }

          try {
            t.innerHTML = "<br>" + n, t.removeChild(t.firstChild);
          } catch (e) {
            ou("<div></div>").html("<br>" + n).contents().slice(1).appendTo(t);
          }

          return n;
        }
      }) : t.html(n);
    }

    function y(e, n, r, o, i) {
      return h(e, function (e) {
        var t = "string" == typeof n ? a.createElement(n) : n;
        return v(t, r), o && ("string" != typeof o && o.nodeType ? t.appendChild(o) : "string" == typeof o && b(t, o)), i ? t : e.appendChild(t);
      });
    }

    function C(e, t, n) {
      return y(a.createElement(e), e, t, n, !0);
    }

    function w(e, t) {
      var n = c(e);
      return (t ? n.each(function () {
        for (var e; e = this.firstChild;) {
          3 === e.nodeType && 0 === e.data.length ? this.removeChild(e) : this.parentNode.insertBefore(e, this);
        }
      }) : n).remove(), 1 < n.length ? n.toArray() : n[0];
    }

    function x(e, t, n) {
      c(e).toggleClass(t, n).each(function () {
        "" === this.className && ou(this).attr("class", null);
      });
    }

    function S(t, e, n) {
      return h(e, function (e) {
        return St.is(e, "array") && (t = t.cloneNode(!0)), n && iu(au(e.childNodes), function (e) {
          t.appendChild(e);
        }), e.parentNode.replaceChild(t, e);
      });
    }

    function E(e) {
      if (Hn(e)) {
        var t = "a" === e.nodeName.toLowerCase() && !r(e, "href") && r(e, "id");
        return r(e, "name") || r(e, "data-mce-bookmark") || t ? 1 : void 0;
      }
    }

    function N() {
      return a.createRange();
    }

    function k(e) {
      if (e && Hn(e)) {
        var t = e.getAttribute("data-mce-contenteditable");
        return t && "inherit" !== t ? t : "inherit" !== e.contentEditable ? e.contentEditable : null;
      }

      return null;
    }

    void 0 === u && (u = {});

    var _,
        A,
        T,
        R,
        e,
        t,
        D = {},
        O = window,
        B = {},
        P = 0,
        L = zr.forElement(Et.fromDom(a), {
      contentCssCors: u.contentCssCors,
      referrerPolicy: u.referrerPolicy
    }),
        I = [],
        M = u.schema || go({}),
        F = ho({
      url_converter: u.url_converter,
      url_converter_scope: u.url_converter_scope
    }, u.schema),
        U = u.ownEvents ? new bi() : bi.Event,
        z = M.getBlockElements(),
        j = ou.overrideDefaults(function () {
      return {
        context: a,
        element: $.getRoot()
      };
    }),
        H = si.encodeAllRaw,
        V = function V(e, t, n, r) {
      if (St.isArray(e)) {
        for (var o = e.length, i = []; o--;) {
          i[o] = V(e[o], t, n, r);
        }

        return i;
      }

      return !u.collect || e !== a && e !== O || I.push([e, t, n, r]), U.bind(e, t, n, r || $);
    },
        q = function q(e, t, n) {
      if (St.isArray(e)) {
        for (var r = e.length, o = []; r--;) {
          o[r] = q(e[r], t, n);
        }

        return o;
      }

      if (0 < I.length && (e === a || e === O)) for (r = I.length; r--;) {
        var i = I[r];
        e !== i[0] || t && t !== i[1] || n && n !== i[2] || U.unbind(i[0], i[1], i[2]);
      }
      return U.unbind(e, t, n);
    },
        $ = {
      doc: a,
      settings: u,
      win: O,
      files: B,
      stdMode: !0,
      boxModel: !0,
      styleSheetLoader: L,
      boundEvents: I,
      styles: F,
      schema: M,
      events: U,
      isBlock: function isBlock(e) {
        if ("string" == typeof e) return !!z[e];

        if (e) {
          var t = e.nodeType;
          if (t) return !(1 !== t || !z[e.nodeName]);
        }

        return !1;
      },
      $: j,
      $$: c,
      root: null,
      clone: function clone(t, e) {
        if (!uu || 1 !== t.nodeType || e) return t.cloneNode(e);
        var n = a.createElement(t.nodeName);
        return iu(o(t), function (e) {
          i(n, e.nodeName, r(t, e.nodeName));
        }), n;
      },
      getRoot: l,
      getViewPort: function getViewPort(e) {
        var t = en(e);
        return {
          x: t.x,
          y: t.y,
          w: t.width,
          h: t.height
        };
      },
      getRect: function getRect(e) {
        var t = f(e = s(e)),
            n = m(e);
        return {
          x: t.x,
          y: t.y,
          w: n.w,
          h: n.h
        };
      },
      getSize: m,
      getParent: function getParent(e, t, n) {
        var r = p(e, t, n, !1);
        return r && 0 < r.length ? r[0] : null;
      },
      getParents: p,
      get: s,
      getNext: function getNext(e, t) {
        return n(e, t, "nextSibling");
      },
      getPrev: function getPrev(e, t) {
        return n(e, t, "previousSibling");
      },
      select: function select(e, t) {
        return ba(e, s(t) || u.root_element || a, []);
      },
      is: g,
      add: y,
      create: C,
      createHTML: function createHTML(e, t, n) {
        var r,
            o = "";

        for (r in o += "<" + e, t) {
          ue(t, r) && (o += " " + r + '="' + H(t[r]) + '"');
        }

        return void 0 !== n ? o + ">" + n + "</" + e + ">" : o + " />";
      },
      createFragment: function createFragment(e) {
        var t,
            n = a.createElement("div"),
            r = a.createDocumentFragment();

        for (r.appendChild(n), e && (n.innerHTML = e); t = n.firstChild;) {
          r.appendChild(t);
        }

        return r.removeChild(n), r;
      },
      remove: w,
      setStyle: function setStyle(e, t, n) {
        var r = K(t) ? c(e).css(t, n) : c(e).css(t);
        u.update_styles && nu(F, r);
      },
      getStyle: d,
      setStyles: function setStyles(e, t) {
        var n = c(e).css(t);
        u.update_styles && nu(F, n);
      },
      removeAllAttribs: function removeAllAttribs(e) {
        return h(e, function (e) {
          for (var t = e.attributes, n = t.length - 1; 0 <= n; n--) {
            e.removeAttributeNode(t.item(n));
          }
        });
      },
      setAttrib: i,
      setAttribs: v,
      getAttrib: r,
      getPos: f,
      parseStyle: function parseStyle(e) {
        return F.parse(e);
      },
      serializeStyle: function serializeStyle(e, t) {
        return F.serialize(e, t);
      },
      addStyle: function addStyle(e) {
        var t, n;

        if ($ !== cu.DOM && a === document) {
          if (D[e]) return;
          D[e] = !0;
        }

        (n = a.getElementById("mceDefaultStyles")) || ((n = a.createElement("style")).id = "mceDefaultStyles", n.type = "text/css", (t = a.getElementsByTagName("head")[0]).firstChild ? t.insertBefore(n, t.firstChild) : t.appendChild(n)), n.styleSheet ? n.styleSheet.cssText += e : n.appendChild(a.createTextNode(e));
      },
      loadCSS: function loadCSS(e) {
        X((e = e || "").split(","), function (e) {
          B[e] = !0, L.load(e, oe);
        });
      },
      addClass: function addClass(e, t) {
        c(e).addClass(t);
      },
      removeClass: function removeClass(e, t) {
        x(e, t, !1);
      },
      hasClass: function hasClass(e, t) {
        return c(e).hasClass(t);
      },
      toggleClass: x,
      show: function show(e) {
        c(e).show();
      },
      hide: function hide(e) {
        c(e).hide();
      },
      isHidden: function isHidden(e) {
        return "none" === c(e).css("display");
      },
      uniqueId: function uniqueId(e) {
        return (e || "mce_") + P++;
      },
      setHTML: b,
      getOuterHTML: function getOuterHTML(e) {
        var t = "string" == typeof e ? s(e) : e;
        return Hn(t) ? t.outerHTML : ou("<div></div>").append(ou(t).clone()).html();
      },
      setOuterHTML: function setOuterHTML(e, t) {
        c(e).each(function () {
          try {
            if ("outerHTML" in this) return void (this.outerHTML = t);
          } catch (e) {}

          w(ou(this).html(t), !0);
        });
      },
      decode: si.decode,
      encode: H,
      insertAfter: function insertAfter(e, t) {
        var r = s(t);
        return h(e, function (e) {
          var t = r.parentNode,
              n = r.nextSibling;
          return n ? t.insertBefore(e, n) : t.appendChild(e), e;
        });
      },
      replace: S,
      rename: function rename(t, e) {
        var n;
        return t.nodeName !== e.toUpperCase() && (n = C(e), iu(o(t), function (e) {
          i(n, e.nodeName, r(t, e.nodeName));
        }), S(n, t, !0)), n || t;
      },
      findCommonAncestor: function findCommonAncestor(e, t) {
        for (var n, r = e; r;) {
          for (n = t; n && r !== n;) {
            n = n.parentNode;
          }

          if (r === n) break;
          r = r.parentNode;
        }

        return !r && e.ownerDocument ? e.ownerDocument.documentElement : r;
      },
      toHex: function toHex(e) {
        return F.toHex(St.trim(e));
      },
      run: h,
      getAttribs: o,
      isEmpty: function isEmpty(e, t) {
        var n,
            r,
            o = 0;
        if (E(e)) return !1;

        if (e = e.firstChild) {
          var i = new jr(e, e.parentNode),
              a = M ? M.getWhiteSpaceElements() : {};
          t = t || (M ? M.getNonEmptyElements() : null);

          do {
            if (n = e.nodeType, Hn(e)) {
              var u = e.getAttribute("data-mce-bogus");

              if (u) {
                e = i.next("all" === u);
                continue;
              }

              if (r = e.nodeName.toLowerCase(), t && t[r]) {
                if ("br" !== r) return !1;
                o++, e = i.next();
                continue;
              }

              if (E(e)) return !1;
            }

            if (8 === n) return !1;
            if (3 === n && !no(e.nodeValue)) return !1;
            if (3 === n && e.parentNode && a[e.parentNode.nodeName] && no(e.nodeValue)) return !1;
            e = i.next();
          } while (e);
        }

        return o <= 1;
      },
      createRng: N,
      nodeIndex: ru,
      split: function split(e, t, n) {
        var r,
            o,
            i,
            a = N();
        if (e && t) return a.setStart(e.parentNode, ru(e)), a.setEnd(t.parentNode, ru(t)), r = a.extractContents(), (a = N()).setStart(t.parentNode, ru(t) + 1), a.setEnd(e.parentNode, ru(e) + 1), o = a.extractContents(), (i = e.parentNode).insertBefore(Qo($, r), e), n ? i.insertBefore(n, e) : i.insertBefore(t, e), i.insertBefore(Qo($, o), e), w(e), n || t;
      },
      bind: V,
      unbind: q,
      fire: function fire(e, t, n) {
        return U.fire(e, t, n);
      },
      getContentEditable: k,
      getContentEditableParent: function getContentEditableParent(e) {
        for (var t = l(), n = null; e && e !== t && null === (n = k(e)); e = e.parentNode) {
          ;
        }

        return n;
      },
      destroy: function destroy() {
        if (0 < I.length) for (var e = I.length; e--;) {
          var t = I[e];
          U.unbind(t[0], t[1], t[2]);
        }
        Q(B, function (e, t) {
          L.unload(t), delete B[t];
        }), ba.setDocument && ba.setDocument();
      },
      isChildOf: function isChildOf(e, t) {
        if (uu) {
          for (; e;) {
            if (t === e) return !0;
            e = e.parentNode;
          }

          return !1;
        }

        return e === t || t.contains(e);
      },
      dumpRng: function dumpRng(e) {
        return "startContainer: " + e.startContainer.nodeName + ", startOffset: " + e.startOffset + ", endContainer: " + e.endContainer.nodeName + ", endOffset: " + e.endOffset;
      }
    },
        W = (_ = F, T = J($), e = {
      set: function set(e, t, n) {
        A.url_converter && (t = A.url_converter.call(A.url_converter_scope || T(), t, n, e[0])), e.attr("data-mce-" + n, t).attr(n, t);
      },
      get: function get(e, t) {
        return e.attr("data-mce-" + t) || e.attr(t);
      }
    }, t = {
      style: {
        set: function set(e, t) {
          null === t || "object" != _typeof(t) ? (R && e.attr("data-mce-style", t), null !== t && "string" == typeof t ? (e.removeAttr("style"), e.css(_.parse(t))) : e.attr("style", t)) : e.css(t);
        },
        get: function get(e) {
          var t = e.attr("data-mce-style") || e.attr("style");
          return _.serialize(_.parse(t), e[0].nodeName);
        }
      }
    }, (R = (A = u).keep_values) && (t.href = t.src = e), t);

    return $;
  };

  cu.DOM = cu(document), cu.nodeIndex = ru;
  var lu = cu.DOM,
      fu = St.each,
      du = St.grep,
      mu = (gu.prototype._setReferrerPolicy = function (e) {
    this.settings.referrerPolicy = e;
  }, gu.prototype.loadScript = function (e, t, n) {
    function r() {
      o.remove(i), a && (a.onerror = a.onload = a = null);
    }

    var o = lu,
        i = o.uniqueId(),
        a = document.createElement("script");
    a.id = i, a.type = "text/javascript", a.src = St._addCacheSuffix(e), this.settings.referrerPolicy && o.setAttrib(a, "referrerpolicy", this.settings.referrerPolicy), a.onload = function () {
      r(), t();
    }, a.onerror = function () {
      r(), y(n) ? n() : "undefined" != typeof console && console.log && console.log("Failed to load script: " + e);
    }, (document.getElementsByTagName("head")[0] || document.body).appendChild(a);
  }, gu.prototype.isDone = function (e) {
    return 2 === this.states[e];
  }, gu.prototype.markDone = function (e) {
    this.states[e] = 2;
  }, gu.prototype.add = function (e, t, n, r) {
    var o = this.states[e];
    this.queue.push(e), void 0 === o && (this.states[e] = 0), t && (this.scriptLoadedCallbacks[e] || (this.scriptLoadedCallbacks[e] = []), this.scriptLoadedCallbacks[e].push({
      success: t,
      failure: r,
      scope: n || this
    }));
  }, gu.prototype.load = function (e, t, n, r) {
    return this.add(e, t, n, r);
  }, gu.prototype.remove = function (e) {
    delete this.states[e], delete this.scriptLoadedCallbacks[e];
  }, gu.prototype.loadQueue = function (e, t, n) {
    this.loadScripts(this.queue, e, t, n);
  }, gu.prototype.loadScripts = function (n, e, t, r) {
    function o(t, e) {
      fu(i.scriptLoadedCallbacks[e], function (e) {
        y(e[t]) && e[t].call(e.scope);
      }), i.scriptLoadedCallbacks[e] = void 0;
    }

    var i = this,
        a = [];
    i.queueLoadedCallbacks.push({
      success: e,
      failure: r,
      scope: t || this
    });

    var u = function u() {
      var e,
          t = du(n);
      n.length = 0, fu(t, function (e) {
        2 !== i.states[e] ? 3 !== i.states[e] ? 1 !== i.states[e] && (i.states[e] = 1, i.loading++, i.loadScript(e, function () {
          i.states[e] = 2, i.loading--, o("success", e), u();
        }, function () {
          i.states[e] = 3, i.loading--, a.push(e), o("failure", e), u();
        })) : o("failure", e) : o("success", e);
      }), i.loading || (e = i.queueLoadedCallbacks.slice(0), i.queueLoadedCallbacks.length = 0, fu(e, function (e) {
        0 === a.length ? y(e.success) && e.success.call(e.scope) : y(e.failure) && e.failure.call(e.scope, a);
      }));
    };

    u();
  }, gu.ScriptLoader = new gu(), gu);

  function gu(e) {
    void 0 === e && (e = {}), this.states = {}, this.queue = [], this.scriptLoadedCallbacks = {}, this.queueLoadedCallbacks = [], this.loading = 0, this.settings = e;
  }

  function pu(e) {
    var t = e;
    return {
      get: function get() {
        return t;
      },
      set: function set(e) {
        t = e;
      }
    };
  }

  function hu() {
    return ae(vu, bu.get());
  }

  var vu = {},
      bu = pu("en"),
      yu = {
    getData: function getData() {
      return Z(vu, function (e) {
        return _ke({}, e);
      });
    },
    setCode: function setCode(e) {
      e && bu.set(e);
    },
    getCode: function getCode() {
      return bu.get();
    },
    add: function add(e, t) {
      var n = vu[e];
      n || (vu[e] = n = {}), Q(t, function (e, t) {
        n[t.toLowerCase()] = e;
      });
    },
    translate: function translate(e) {
      function n(e) {
        return y(e) ? Object.prototype.toString.call(e) : u(e) ? "" : "" + e;
      }

      function t(e) {
        var t = n(e);
        return ae(a, t.toLowerCase()).map(n).getOr(t);
      }

      function r(e) {
        return e.replace(/{context:\w+}$/, "");
      }

      var o,
          i,
          a = hu().getOr({}),
          u = function u(e) {
        return "" === e || null == e;
      };

      if (u(e)) return "";
      if (h(o = e) && Ee(o, "raw")) return n(e.raw);

      if (S(i = e) && 1 < i.length) {
        var s = e.slice(1);
        return r(t(e[0]).replace(/\{([0-9]+)\}/g, function (e, t) {
          return Ee(s, t) ? n(s[t]) : e;
        }));
      }

      return r(t(e));
    },
    isRtl: function isRtl() {
      return hu().bind(function (e) {
        return ae(e, "_dir");
      }).exists(function (e) {
        return "rtl" === e;
      });
    },
    hasCode: function hasCode(e) {
      return Ee(vu, e);
    }
  },
      Cu = function Cu() {
    function u(t, n) {
      X(U(r, function (e) {
        return e.name === t && e.state === n;
      }), function (e) {
        return e.callback();
      });
    }

    function s(e) {
      var t;
      return (f[e] ? f[e].dependencies : t) || [];
    }

    function c(e, t) {
      return "object" == _typeof(t) ? t : "string" == typeof e ? {
        prefix: "",
        resource: t,
        suffix: ""
      } : {
        prefix: e.prefix,
        resource: t,
        suffix: e.suffix
      };
    }

    function e(e, t, n) {
      void 0 === n && (n = "added"), Ee(f, e) && "added" === n || Ee(l, e) && "loaded" === n ? t() : r.push({
        name: e,
        state: n,
        callback: t
      });
    }

    var o = [],
        l = {},
        f = {},
        r = [],
        d = function d(r, o, i, a, e) {
      var t, n;
      l[r] || (0 !== (t = "string" == typeof o ? o : o.prefix + o.resource + o.suffix).indexOf("/") && -1 === t.indexOf("://") && (t = Cu.baseURL + "/" + t), l[r] = t.substring(0, t.lastIndexOf("/")), n = function n() {
        var n, e, t;
        u(r, "loaded"), n = o, e = i, t = a, X(s(r), function (e) {
          var t = c(n, e);
          d(t.resource, t, void 0, void 0);
        }), e && (t ? e.call(t) : e.call(mu));
      }, f[r] ? n() : mu.ScriptLoader.add(t, n, a, e));
    };

    return {
      items: o,
      urls: l,
      lookup: f,
      _listeners: r,
      get: function get(e) {
        if (f[e]) return f[e].instance;
      },
      dependencies: s,
      requireLangPack: function requireLangPack(t, n) {
        !1 !== Cu.languageLoad && e(t, function () {
          var e = yu.getCode();
          !e || n && -1 === ("," + (n || "") + ",").indexOf("," + e + ",") || mu.ScriptLoader.add(l[t] + "/langs/" + e + ".js");
        }, "loaded");
      },
      add: function add(e, t, n) {
        var r = t;
        return o.push(r), f[e] = {
          instance: r,
          dependencies: n
        }, u(e, "added"), r;
      },
      remove: function remove(e) {
        delete l[e], delete f[e];
      },
      createUrl: c,
      addComponents: function addComponents(e, t) {
        var n = l[e];
        X(t, function (e) {
          mu.ScriptLoader.add(n + "/" + e);
        });
      },
      load: d,
      waitFor: e
    };
  };

  function wu() {
    var e,
        t,
        n = (e = oe, t = pu(he.none()), {
      clear: function clear() {
        r(), t.set(he.none());
      },
      isSet: function isSet() {
        return t.get().isSome();
      },
      get: function get() {
        return t.get();
      },
      set: function set(e) {
        r(), t.set(he.some(e));
      }
    });

    function r() {
      return t.get().each(e);
    }

    return _ke(_ke({}, n), {
      on: function on(e) {
        return n.get().each(e);
      }
    });
  }

  function xu(n, r) {
    var o = null;
    return {
      cancel: function cancel() {
        l(o) || (clearTimeout(o), o = null);
      },
      throttle: function throttle() {
        for (var e = [], t = 0; t < arguments.length; t++) {
          e[t] = arguments[t];
        }

        l(o) && (o = setTimeout(function () {
          o = null, n.apply(null, e);
        }, r));
      }
    };
  }

  function Su(n, r) {
    function o() {
      l(i) || (clearTimeout(i), i = null);
    }

    var i = null;
    return {
      cancel: o,
      throttle: function throttle() {
        for (var e = [], t = 0; t < arguments.length; t++) {
          e[t] = arguments[t];
        }

        o(), i = setTimeout(function () {
          i = null, n.apply(null, e);
        }, r);
      }
    };
  }

  function Eu(e, t) {
    var n = hn(e, t);
    return void 0 === n || "" === n ? [] : n.split(" ");
  }

  function Nu(e) {
    return void 0 !== e.dom.classList;
  }

  function ku(e, t) {
    var n, r, o;
    Nu(e) ? e.dom.classList.add(t) : (r = t, o = Eu(n = e, "class").concat([r]), gn(n, "class", o.join(" ")));
  }

  function _u(e, t) {
    return Nu(e) && e.dom.classList.contains(t);
  }

  function Au(e, t) {
    return ze(n = void 0 === e ? document : e.dom) ? [] : R(n.querySelectorAll(t), Et.fromDom);
    var n;
  }

  function Tu(r, e) {
    function t(e, t) {
      return (n = e.dom) && n.hasAttribute && n.hasAttribute(t) ? he.some(hn(e, t)) : he.none();
      var n;
    }

    var n = r.selection.getRng(),
        o = Et.fromDom(n.startContainer),
        i = Et.fromDom(r.getBody()),
        a = e.fold(function () {
      return "." + es();
    }, function (e) {
      return "[" + ts() + '="' + e + '"]';
    });
    return Cr(It(o, n.startOffset).getOr(o), a, function (e) {
      return je(e, i);
    }).bind(function (e) {
      return t(e, "" + ns()).bind(function (n) {
        return t(e, "" + ts()).map(function (e) {
          var t = rs(r, n);
          return {
            uid: n,
            name: e,
            elements: t
          };
        });
      });
    });
  }

  function Ru(r) {
    function o() {
      return {
        listeners: [],
        previous: wu()
      };
    }

    function c(e, t) {
      i(e, function (e) {
        return t(e), e;
      });
    }

    function i(e, t) {
      var n = a.get(),
          r = t(ae(n, e).getOrThunk(o));
      n[e] = r, a.set(n);
    }

    var a = pu({}),
        e = Su(function () {
      var e,
          t,
          n = a.get();
      X((e = we(n), (t = ve.call(e, 0)).sort(void 0), t), function (e) {
        i(e, function (u) {
          var s = u.previous.get();
          return Tu(r, he.some(e)).fold(function () {
            var t;
            s.isSome() && (c(t = e, function (e) {
              X(e.listeners, function (e) {
                return e(!1, t);
              });
            }), u.previous.clear());
          }, function (e) {
            var t,
                n,
                r,
                o = e.uid,
                i = e.name,
                a = e.elements;
            ln(s, o) || (n = o, r = a, c(t = i, function (e) {
              X(e.listeners, function (e) {
                return e(!0, t, {
                  uid: n,
                  nodes: R(r, function (e) {
                    return e.dom;
                  })
                });
              });
            }), u.previous.set(o));
          }), {
            previous: u.previous,
            listeners: u.listeners
          };
        });
      });
    }, 30);
    return r.on("remove", function () {
      e.cancel();
    }), r.on("NodeChange", function () {
      e.throttle();
    }), {
      addListener: function addListener(e, t) {
        i(e, function (e) {
          return {
            previous: e.previous,
            listeners: e.listeners.concat([t])
          };
        });
      }
    };
  }

  function Du(e) {
    var t = new Date().getTime();
    return e + "_" + Math.floor(1e9 * Math.random()) + ++os + String(t);
  }

  function Ou(e, t) {
    var n,
        r,
        o = At(e).dom,
        i = Et.fromDom(o.createDocumentFragment());
    Wt(i, (n = t, (r = (o || document).createElement("div")).innerHTML = n, On(Et.fromDom(r)))), Kt(e), In(e, i);
  }

  function Bu(e, t) {
    return Et.fromDom(e.dom.cloneNode(t));
  }

  function Pu(e) {
    return Bu(e, !1);
  }

  function Lu(e) {
    return Bu(e, !0);
  }

  function Iu(e, t, n) {
    function r(e) {
      for (var t; (t = o[e]()) && !qn(t) && !n(t);) {
        ;
      }

      return he.from(t).filter(qn);
    }

    void 0 === n && (n = T);
    var o = new jr(e, t);
    return {
      current: function current() {
        return he.from(o.current()).filter(qn);
      },
      next: function next() {
        return r("next");
      },
      prev: function prev() {
        return r("prev");
      },
      prev2: function prev2() {
        return r("prev2");
      }
    };
  }

  function Mu(t, e) {
    var i = e || function (e) {
      return t.isBlock(e) || Xn(e) || Jn(e);
    },
        a = function a(e, t, n, r) {
      if (qn(e)) {
        var o = r(e, t, e.data);
        if (-1 !== o) return he.some({
          container: e,
          offset: o
        });
      }

      return n().bind(function (e) {
        return a(e.container, e.offset, n, r);
      });
    };

    return {
      backwards: function backwards(e, t, n, r) {
        var o = Iu(e, r, i);
        return a(e, t, function () {
          return o.prev().map(function (e) {
            return {
              container: e,
              offset: e.length
            };
          });
        }, n).getOrNull();
      },
      forwards: function forwards(e, t, n, r) {
        var o = Iu(e, r, i);
        return a(e, t, function () {
          return o.next().map(function (e) {
            return {
              container: e,
              offset: 0
            };
          });
        }, n).getOrNull();
      }
    };
  }

  function Fu(e) {
    return e ? {
      left: is(e.left),
      top: is(e.top),
      bottom: is(e.bottom),
      right: is(e.right),
      width: is(e.width),
      height: is(e.height)
    } : {
      left: 0,
      top: 0,
      bottom: 0,
      right: 0,
      width: 0,
      height: 0
    };
  }

  function Uu(e, t) {
    return e = Fu(e), t || (e.left = e.left + e.width), e.right = e.left, e.width = 0, e;
  }

  function zu(e, t, n) {
    return 0 <= e && e <= Math.min(t.height, n.height) / 2;
  }

  function ju(e, t) {
    var n = Math.min(t.height / 2, e.height / 2);
    return e.bottom - n < t.top || !(e.top > t.bottom) && zu(t.top - e.bottom, e, t);
  }

  function Hu(e, t) {
    return e.top > t.bottom || !(e.bottom < t.top) && zu(t.bottom - e.top, e, t);
  }

  function Vu(e, t, n) {
    return t >= e.left && t <= e.right && n >= e.top && n <= e.bottom;
  }

  function qu(e) {
    var t = e.startContainer,
        n = e.startOffset;
    return t.hasChildNodes() && e.endOffset === n + 1 ? t.childNodes[n] : null;
  }

  function $u(e, t) {
    if (Hn(e) && e.hasChildNodes()) {
      var n = e.childNodes;
      return n[(r = n.length - 1, Math.min(Math.max(t, 0), r))];
    }

    return e;
    var r;
  }

  function Wu(e) {
    return "string" == typeof e && 768 <= e.charCodeAt(0) && as.test(e);
  }

  function Ku(e) {
    return "createRange" in e ? e.createRange() : cu.DOM.createRng();
  }

  function Xu(e) {
    return e && /[\r\n\t ]/.test(e);
  }

  function Yu(e) {
    return e.setStart && e.setEnd;
  }

  function Gu(e) {
    var t = e.startContainer,
        n = e.startOffset;

    if (Xu(e.toString()) && ds(t.parentNode) && qn(t)) {
      var r = t.data;
      return Xu(r[n - 1]) || Xu(r[n + 1]) ? 1 : void 0;
    }
  }

  function Ju(e) {
    return 0 === e.left && 0 === e.right && 0 === e.top && 0 === e.bottom;
  }

  function Qu(e, t) {
    var n = Uu(e, t);
    return n.width = 1, n.right = n.left + 1, n;
  }

  Cu.languageLoad = !0, Cu.baseURL = "", Cu.PluginManager = Cu(), Cu.ThemeManager = Cu();

  var Zu = function Zu(e, t) {
    var n = [];
    return X(On(e), function (e) {
      n = (n = t(e) ? n.concat([e]) : n).concat(Zu(e, t));
    }), n;
  },
      es = J("mce-annotation"),
      ts = J("data-mce-annotation"),
      ns = J("data-mce-annotation-uid"),
      rs = function rs(e, t) {
    return Au(Et.fromDom(e.getBody()), "[" + ns() + '="' + t + '"]');
  },
      os = 0,
      is = Math.round,
      as = new RegExp("[\u0300-\u036F\u0483-\u0487\u0488-\u0489\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962-\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2-\u09E3\u0A01-\u0A02\u0A3C\u0A41-\u0A42\u0A47-\u0A48\u0A4B-\u0A4D\u0A51\u0A70-\u0A71\u0A75\u0A81-\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7-\u0AC8\u0ACD\u0AE2-\u0AE3\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B57\u0B62-\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55-\u0C56\u0C62-\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC-\u0CCD\u0CD5-\u0CD6\u0CE2-\u0CE3\u0D01\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62-\u0D63\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB-\u0EBC\u0EC8-\u0ECD\u0F18-\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86-\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039-\u103A\u103D-\u103E\u1058-\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17B4-\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193B\u1A17-\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABD\u1ABE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80-\u1B81\u1BA2-\u1BA5\u1BA8-\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8-\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8-\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u200C-\u200D\u20D0-\u20DC\u20DD-\u20E0\u20E1\u20E2-\u20E4\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u302E-\u302F\u3099-\u309A\uA66F\uA670-\uA672\uA674-\uA67D\uA69E-\uA69F\uA6F0-\uA6F1\uA802\uA806\uA80B\uA825-\uA826\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9E5\uAA29-\uAA2E\uAA31-\uAA32\uAA35-\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7-\uAAB8\uAABE-\uAABF\uAAC1\uAAEC-\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E-\uFF9F]"),
      us = Hn,
      ss = eo,
      cs = on("display", "block table"),
      ls = on("float", "left right"),
      fs = function () {
    for (var n = [], e = 0; e < arguments.length; e++) {
      n[e] = arguments[e];
    }

    return function (e) {
      for (var t = 0; t < n.length; t++) {
        if (!n[t](e)) return !1;
      }

      return !0;
    };
  }(us, ss, s(ls)),
      ds = s(on("white-space", "pre pre-line pre-wrap")),
      ms = qn,
      gs = Xn,
      ps = cu.nodeIndex,
      hs = function hs(e, t) {
    if (!(t < 0 && Hn(e) && e.hasChildNodes())) return $u(e, t);
  },
      vs = function vs(e) {
    var t = e.getClientRects(),
        n = 0 < t.length ? Fu(t[0]) : Fu(e.getBoundingClientRect());
    return !Yu(e) && gs(e) && Ju(n) ? function (e) {
      var t = e.ownerDocument,
          n = Ku(t),
          r = t.createTextNode(Do),
          o = e.parentNode;
      o.insertBefore(r, e), n.setStart(r, 0), n.setEnd(r, 1);
      var i = Fu(n.getBoundingClientRect());
      return o.removeChild(r), i;
    }(e) : Ju(n) && Yu(e) ? function (e) {
      var t = e.startContainer,
          n = e.endContainer,
          r = e.startOffset,
          o = e.endOffset;

      if (t === n && qn(n) && 0 === r && 1 === o) {
        var i = e.cloneRange();
        return i.setEndAfter(n), vs(i);
      }

      return null;
    }(e) : n;
  },
      bs = function bs(t, n, e) {
    function r() {
      return e = e || function (e) {
        function r(e) {
          var t;
          0 !== e.height && (0 < o.length && (t = o[o.length - 1], e.left === t.left && e.top === t.top && e.bottom === t.bottom && e.right === t.right) || o.push(e));
        }

        function t(e, t) {
          var n = Ku(e.ownerDocument);

          if (t < e.data.length) {
            if (Wu(e.data[t])) return o;
            if (Wu(e.data[t - 1]) && (n.setStart(e, t), n.setEnd(e, t + 1), !Gu(n))) return r(Qu(vs(n), !1)), o;
          }

          0 < t && (n.setStart(e, t - 1), n.setEnd(e, t), Gu(n) || r(Qu(vs(n), !1))), t < e.data.length && (n.setStart(e, t), n.setEnd(e, t + 1), Gu(n) || r(Qu(vs(n), !0)));
        }

        var o = [],
            n = e.container(),
            i = e.offset();
        if (ms(n)) return t(n, i), o;
        if (us(n)) if (e.isAtEnd()) {
          var a = hs(n, i);
          ms(a) && t(a, a.data.length), fs(a) && !gs(a) && r(Qu(vs(a), !1));
        } else {
          if (a = hs(n, i), ms(a) && t(a, 0), fs(a) && e.isAtEnd()) return r(Qu(vs(a), !1)), o;
          var u = hs(e.container(), e.offset() - 1);
          fs(u) && !gs(u) && (!cs(u) && !cs(a) && fs(a) || r(Qu(vs(u), !1))), fs(a) && r(Qu(vs(a), !0));
        }
        return o;
      }(bs(t, n));
    }

    return {
      container: J(t),
      offset: J(n),
      toRange: function toRange() {
        var e = Ku(t.ownerDocument);
        return e.setStart(t, n), e.setEnd(t, n), e;
      },
      getClientRects: r,
      isVisible: function isVisible() {
        return 0 < r().length;
      },
      isAtStart: function isAtStart() {
        return ms(t), 0 === n;
      },
      isAtEnd: function isAtEnd() {
        return ms(t) ? n >= t.data.length : n >= t.childNodes.length;
      },
      isEqual: function isEqual(e) {
        return e && t === e.container() && n === e.offset();
      },
      getNode: function getNode(e) {
        return hs(t, e ? n - 1 : n);
      }
    };
  };

  function ys(e, t) {
    qn(t) && 0 === t.data.length && e.remove(t);
  }

  function Cs(e, t, n) {
    var r, o, i, a, u, s, c;
    Kn(n) ? (i = e, a = t, s = he.from((u = n).firstChild), c = he.from(u.lastChild), a.insertNode(u), s.each(function (e) {
      return ys(i, e.previousSibling);
    }), c.each(function (e) {
      return ys(i, e.nextSibling);
    })) : (r = e, t.insertNode(o = n), ys(r, o.previousSibling), ys(r, o.nextSibling));
  }

  function ws(t) {
    return function (e) {
      return t === e;
    };
  }

  function xs(e) {
    var t, r, n, o;
    return (yc(e) ? "text()" : e.nodeName.toLowerCase()) + "[" + (r = Sc(xc(t = e)), n = me(r, ws(t), t), o = de(r = r.slice(0, n + 1), function (e, t, n) {
      return yc(t) && yc(r[n - 1]) && e++, e;
    }, 0), me(r = le(r, rn([t.nodeName])), ws(t), t) - o) + "]";
  }

  function Ss(e, t) {
    var n,
        r,
        o,
        i = [],
        a = t.container(),
        u = t.offset();
    return yc(a) ? n = function (e, t) {
      for (; (e = e.previousSibling) && yc(e);) {
        t += e.data.length;
      }

      return t;
    }(a, u) : (u >= (r = a.childNodes).length ? (n = "after", u = r.length - 1) : n = "before", a = r[u]), i.push(xs(a)), o = le(function (e, t) {
      var n = [];

      for (t = t.parentNode; t !== e; t = t.parentNode) {
        n.push(t);
      }

      return n;
    }(e, a), s(un)), (i = i.concat(ce(o, xs))).reverse().join("/") + "," + n;
  }

  function Es(e, t) {
    if (!t) return null;
    var n = t.split(","),
        r = n[0].split("/"),
        o = 1 < n.length ? n[1] : "before",
        i = de(r, function (e, t) {
      var n,
          r,
          o,
          i,
          a = /([\w\-\(\)]+)\[([0-9]+)\]/.exec(t);
      return a ? ("text()" === a[1] && (a[1] = "#text"), n = e, r = a[1], o = parseInt(a[2], 10), i = le(i = Sc(n), function (e, t) {
        return !yc(e) || !yc(i[t - 1]);
      }), (i = le(i, rn([r])))[o]) : null;
    }, e);
    return i ? yc(i) ? function (e, t) {
      for (var n, r = e, o = 0; yc(r);) {
        if (n = r.data.length, o <= t && t <= o + n) {
          e = r, t -= o;
          break;
        }

        if (!yc(r.nextSibling)) {
          e = r, t = n;
          break;
        }

        o += n, r = r.nextSibling;
      }

      return yc(e) && t > e.data.length && (t = e.data.length), bs(e, t);
    }(i, parseInt(o, 10)) : (o = "after" === o ? wc(i) + 1 : wc(i), bs(i.parentNode, o)) : null;
  }

  function Ns(e, t, n, r, o) {
    var i,
        a = r[o ? "startContainer" : "endContainer"],
        u = r[o ? "startOffset" : "endOffset"],
        s = [],
        c = 0,
        l = e.getRoot();

    for (qn(a) ? s.push(n ? function (e, t, n) {
      for (var r = e(t.data.slice(0, n)).length, o = t.previousSibling; o && qn(o); o = o.previousSibling) {
        r += e(o.data).length;
      }

      return r;
    }(t, a, u) : u) : (u >= (i = a.childNodes).length && i.length && (c = 1, u = Math.max(0, i.length - 1)), s.push(e.nodeIndex(i[u], n) + c)); a && a !== l; a = a.parentNode) {
      s.push(e.nodeIndex(a, n));
    }

    return s;
  }

  function ks(e, t, n) {
    var r = 0;
    return St.each(e.select(t), function (e) {
      if ("all" !== e.getAttribute("data-mce-bogus")) return e !== n && void r++;
    }), r;
  }

  function _s(e, t) {
    var n,
        r = t ? "start" : "end",
        o = e[r + "Container"],
        i = e[r + "Offset"];
    Hn(o) && "TR" === o.nodeName && (o = (n = o.childNodes)[Math.min(t ? i : i - 1, n.length - 1)]) && (i = t ? 0 : o.childNodes.length, e["set" + (t ? "Start" : "End")](o, i));
  }

  function As(e) {
    return _s(e, !0), _s(e, !1), e;
  }

  function Ts(e, t) {
    var n;
    return Hn(e) && (e = $u(e, t), Ec(e)) ? e : Xr(e) ? (n = (e = qn(e) && Wr(e) ? e.parentNode : e).previousSibling, Ec(n) ? n : (n = e.nextSibling, Ec(n) ? n : void 0)) : void 0;
  }

  function Rs(e, t, n) {
    var r = n.getNode(),
        o = r ? r.nodeName : null,
        i = n.getRng();
    if (Ec(r) || "IMG" === o) return {
      name: o,
      index: ks(n.dom, o, r)
    };
    var a,
        u,
        s,
        c,
        l,
        f,
        d,
        m = Ts((a = i).startContainer, a.startOffset) || Ts(a.endContainer, a.endOffset);
    return m ? {
      name: o = m.tagName,
      index: ks(n.dom, o, m)
    } : (f = (s = n).dom, (d = {}).start = Ns(f, u = e, c = t, l = i, !0), s.isCollapsed() || (d.end = Ns(f, u, c, l, !1)), Zr(l) && (d.isFakeCaret = !0), d);
  }

  function Ds(e, t, n) {
    var r = {
      "data-mce-type": "bookmark",
      id: t,
      style: "overflow:hidden;line-height:0px"
    };
    return n ? e.create("span", r, "&#xFEFF;") : e.create("span", r);
  }

  function Os(e, t) {
    var n = e.dom,
        r = e.getRng(),
        o = n.uniqueId(),
        i = e.isCollapsed(),
        a = e.getNode(),
        u = a.nodeName;
    if ("IMG" === u) return {
      name: u,
      index: ks(n, u, a)
    };
    var s = As(r.cloneRange());
    return i || (s.collapse(!1), Cs(n, s, Ds(n, o + "_end", t))), (r = As(r)).collapse(!0), Cs(n, r, Ds(n, o + "_start", t)), e.moveToBookmark({
      id: o,
      keep: !0
    }), {
      id: o
    };
  }

  function Bs(e, t, n) {
    var r = e.getParam(t, n);
    return -1 === r.indexOf("=") ? r : ae(e.getParam(t, "", "hash"), e.id).getOr(n);
  }

  function Ps(e) {
    return e.getParam("content_security_policy", "");
  }

  function Ls(e) {
    if (e.getParam("force_p_newlines", !1)) return "p";
    var t = e.getParam("forced_root_block", "p");
    return !1 === t ? "" : !0 === t ? "p" : t;
  }

  function Is(e) {
    return e.getParam("forced_root_block_attrs", {});
  }

  function Ms(e) {
    return e.getParam("automatic_uploads", !0, "boolean");
  }

  function Fs(e) {
    return e.getParam("icons", "", "string");
  }

  function Us(e) {
    return e.getParam("referrer_policy", "", "string");
  }

  function zs(e) {
    return e.getParam("language", "en", "string");
  }

  function js(e) {
    return e.getParam("indent_use_margin", !1);
  }

  function Hs(e) {
    var t = e.getParam("font_css", []);
    return S(t) ? t : R(t.split(","), Ge);
  }

  function Vs(e) {
    var t = e.getParam("object_resizing");
    return !1 !== t && !Ct.iOS && (K(t) ? t : "table,img,figure.image,div,video,iframe");
  }

  function qs(e) {
    return e.getParam("event_root");
  }

  function $s(e) {
    return e.getParam("theme");
  }

  function Ws(e) {
    return !1 !== e.getParam("inline_boundaries");
  }

  function Ks(e) {
    return e.getParam("plugins", "", "string");
  }

  function Xs(e) {
    var t = e.parentNode;
    t && t.removeChild(e);
  }

  function Ys(e) {
    var t = Po(e);
    return {
      count: e.length - t.length,
      text: t
    };
  }

  function Gs(e) {
    for (var t; -1 !== (t = e.data.lastIndexOf(Oo));) {
      e.deleteData(t, 1);
    }
  }

  function Js(e, t) {
    return Tc(e), t;
  }

  function Qs(e, t) {
    var n,
        r = t.container(),
        o = (-1 === (n = _(Ce(r.childNodes), e)) ? he.none() : he.some(n)).map(function (e) {
      return e < t.offset() ? bs(r, t.offset() - 1) : t;
    }).getOr(t);
    return Tc(e), o;
  }

  function Zs(e, t) {
    return bs.isTextPosition(t) ? (r = t, Ac(n = e) && r.container() === n ? (a = Ys((o = n).data.substr(0, (i = r).offset())), u = Ys(o.data.substr(i.offset())), 0 < (a.text + u.text).length ? (Gs(o), bs(o, i.offset() - a.count)) : i) : Js(n, r)) : (s = e, ((c = t).container() === s.parentNode ? Qs : Js)(s, c));
    var n, r, o, i, a, u, s, c;
  }

  function ec(e, t, n) {
    var r,
        o,
        i,
        a = Uu(t.getBoundingClientRect(), n),
        u = "BODY" === e.tagName ? (r = e.ownerDocument.documentElement, o = e.scrollLeft || r.scrollLeft, e.scrollTop || r.scrollTop) : (i = e.getBoundingClientRect(), o = e.scrollLeft - i.left, e.scrollTop - i.top);
    a.left += o, a.right += o, a.top += u, a.bottom += u, a.width = 1;
    var s = t.offsetWidth - t.clientWidth;
    return 0 < s && (n && (s *= -1), a.left += s, a.right += s), a;
  }

  function tc(e, i, a, u) {
    function s() {
      !function () {
        for (var e = Au(Et.fromDom(i), "*[contentEditable=false],video,audio,embed,object"), t = 0; t < e.length; t++) {
          var n,
              r = e[t].dom,
              o = r.previousSibling;
          Fo(o) && (1 === (n = o.data).length ? o.parentNode.removeChild(o) : o.deleteData(n.length - 1, 1)), o = r.nextSibling, Mo(o) && (1 === (n = o.data).length ? o.parentNode.removeChild(o) : o.deleteData(0, 1));
        }
      }(), l && (Tc(l), l = null), f.on(function (e) {
        ou(e.caret).remove(), f.clear();
      }), c && (Ur.clearInterval(c), c = void 0);
    }

    var c,
        l,
        f = wu(),
        t = Ls(e),
        d = 0 < t.length ? t : "p";
    return {
      show: function show(e, t) {
        var n;
        if (s(), Bc(t)) return null;
        if (!a(t)) return l = function (e, t) {
          var n = e.ownerDocument.createTextNode(Oo),
              r = e.parentNode;

          if (t) {
            if (o = e.previousSibling, Io(o)) {
              if (Xr(o)) return o;
              if (Fo(o)) return o.splitText(o.data.length - 1);
            }

            r.insertBefore(n, e);
          } else {
            var o = e.nextSibling;

            if (Io(o)) {
              if (Xr(o)) return o;
              if (Mo(o)) return o.splitText(1), o;
            }

            e.nextSibling ? r.insertBefore(n, e.nextSibling) : r.appendChild(n);
          }

          return n;
        }(t, e), n = t.ownerDocument.createRange(), Pc(l.nextSibling) ? (n.setStart(l, 0), n.setEnd(l, 0)) : (n.setStart(l, 1), n.setEnd(l, 1)), n;

        l = function (e, t, n) {
          var r,
              o = t.ownerDocument.createElement(e);
          o.setAttribute("data-mce-caret", n ? "before" : "after"), o.setAttribute("data-mce-bogus", "all"), o.appendChild(((r = document.createElement("br")).setAttribute("data-mce-bogus", "1"), r));
          var i = t.parentNode;
          return n ? i.insertBefore(o, t) : t.nextSibling ? i.insertBefore(o, t.nextSibling) : i.appendChild(o), o;
        }(d, t, e);

        var r = ec(i, t, e);
        ou(l).css("top", r.top);
        var o = ou('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(_ke({}, r)).appendTo(i)[0];
        return f.set({
          caret: o,
          element: t,
          before: e
        }), e && ou(o).addClass("mce-visual-caret-before"), c = Ur.setInterval(function () {
          u() ? ou("div.mce-visual-caret", i).toggleClass("mce-visual-caret-hidden") : ou("div.mce-visual-caret", i).addClass("mce-visual-caret-hidden");
        }, 500), (n = t.ownerDocument.createRange()).setStart(l, 0), n.setEnd(l, 0), n;
      },
      hide: s,
      getCss: function getCss() {
        return ".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}";
      },
      reposition: function reposition() {
        f.on(function (e) {
          var t = ec(i, e.element, e.before);
          ou(e.caret).css(_ke({}, t));
        });
      },
      destroy: function destroy() {
        return Ur.clearInterval(c);
      }
    };
  }

  function nc() {
    return Rc.isIE() || Rc.isEdge() || Rc.isFirefox();
  }

  function rc(e) {
    return Pc(e) || sn(e) && nc();
  }

  function oc(e, t) {
    for (var n; n = e(t);) {
      if (!Uc(n)) return n;
    }

    return null;
  }

  function ic(e, t, n, r, o) {
    var i = new jr(e, r),
        a = Lc(e) || Uc(e);

    if (t < 0) {
      if (a && n(e = oc(i.prev.bind(i), !0))) return e;

      for (; e = oc(i.prev.bind(i), o);) {
        if (n(e)) return e;
      }
    }

    if (0 < t) {
      if (a && n(e = oc(i.next.bind(i), !0))) return e;

      for (; e = oc(i.next.bind(i), o);) {
        if (n(e)) return e;
      }
    }

    return null;
  }

  function ac(e, t) {
    for (; e && e !== t;) {
      if (Mc(e)) return e;
      e = e.parentNode;
    }

    return null;
  }

  function uc(e, t, n) {
    return ac(e.container(), n) === ac(t.container(), n);
  }

  function sc(e, t) {
    if (!t) return null;
    var n = t.container(),
        r = t.offset();
    return zc(n) ? n.childNodes[r + e] : null;
  }

  function cc(e, t) {
    var n = t.ownerDocument.createRange();
    return e ? (n.setStartBefore(t), n.setEndBefore(t)) : (n.setStartAfter(t), n.setEndAfter(t)), n;
  }

  function lc(e, t, n) {
    for (var r, o, i = e ? "previousSibling" : "nextSibling"; n && n !== t;) {
      var a = n[i];

      if (Fc(a) && (a = a[i]), Lc(a) || Ic(a)) {
        if (o = n, ac(a, r = t) === ac(o, r)) return a;
        break;
      }

      if (jc(a)) break;
      n = n.parentNode;
    }

    return null;
  }

  function fc(e, t, n) {
    var r,
        o = A(lc, !0, t),
        i = A(lc, !1, t),
        a = n.startContainer,
        u = n.startOffset;

    if (Wr(a)) {
      var s = (a = zc(a) ? a : a.parentNode).getAttribute("data-mce-caret");
      if ("before" === s && rc(r = a.nextSibling)) return Hc(r);
      if ("after" === s && rc(r = a.previousSibling)) return Vc(r);
    }

    if (!n.collapsed) return n;

    if (qn(a)) {
      if (Fc(a)) {
        if (1 === e) {
          if (r = i(a)) return Hc(r);
          if (r = o(a)) return Vc(r);
        }

        if (-1 === e) {
          if (r = o(a)) return Vc(r);
          if (r = i(a)) return Hc(r);
        }

        return n;
      }

      if (Fo(a) && u >= a.data.length - 1) return 1 === e && (r = i(a)) ? Hc(r) : n;
      if (Mo(a) && u <= 1) return -1 === e && (r = o(a)) ? Vc(r) : n;
      if (u === a.data.length) return (r = i(a)) ? Hc(r) : n;
      if (0 === u) return (r = o(a)) ? Vc(r) : n;
    }

    return n;
  }

  function dc(e, t) {
    return he.from(sc(e ? 0 : -1, t)).filter(Lc);
  }

  function mc(e, t, n) {
    var r = fc(e, t, n);
    return -1 === e ? bs.fromRangeStart(r) : bs.fromRangeEnd(r);
  }

  function gc(e) {
    return he.from(e.getNode()).map(Et.fromDom);
  }

  function pc(e, t) {
    for (; t = e(t);) {
      if (t.isVisible()) return t;
    }

    return t;
  }

  function hc(e, t) {
    var n = uc(e, t);
    return !(n || !Xn(e.getNode())) || n;
  }

  bs.fromRangeStart = function (e) {
    return bs(e.startContainer, e.startOffset);
  }, bs.fromRangeEnd = function (e) {
    return bs(e.endContainer, e.endOffset);
  }, bs.after = function (e) {
    return bs(e.parentNode, ps(e) + 1);
  }, bs.before = function (e) {
    return bs(e.parentNode, ps(e));
  }, bs.isAbove = function (e, t) {
    return fn(W(t.getClientRects()), Y(e.getClientRects()), ju).getOr(!1);
  }, bs.isBelow = function (e, t) {
    return fn(Y(t.getClientRects()), W(e.getClientRects()), Hu).getOr(!1);
  }, bs.isAtStart = function (e) {
    return !!e && e.isAtStart();
  }, bs.isAtEnd = function (e) {
    return !!e && e.isAtEnd();
  }, bs.isTextPosition = function (e) {
    return !!e && qn(e.container());
  }, bs.isElementPosition = function (e) {
    return !1 === bs.isTextPosition(e);
  };

  var vc,
      bc,
      yc = qn,
      Cc = un,
      wc = cu.nodeIndex,
      xc = function xc(e) {
    var t = e.parentNode;
    return Cc(t) ? xc(t) : t;
  },
      Sc = function Sc(e) {
    return e ? de(e.childNodes, function (e, t) {
      return Cc(t) && "BR" !== t.nodeName ? e = e.concat(Sc(t)) : e.push(t), e;
    }, []) : [];
  },
      Ec = Jn,
      Nc = A(Rs, u, !0),
      kc = cu.DOM,
      _c = Hn,
      Ac = qn,
      Tc = function Tc(e) {
    _c(e) && Xr(e) && (Yr(e) ? e.removeAttribute("data-mce-caret") : Xs(e)), Ac(e) && (Gs(e), 0 === e.data.length && Xs(e));
  },
      Rc = ft().browser,
      Dc = Jn,
      Oc = Zn,
      Bc = Qn,
      Pc = function Pc(e) {
    return Dc(e) || Oc(e);
  },
      Lc = Jn,
      Ic = Zn,
      Mc = on("display", "block table table-cell table-caption list-item"),
      Fc = Xr,
      Uc = Wr,
      zc = Hn,
      jc = eo,
      Hc = A(cc, !0),
      Vc = A(cc, !1);

  function qc(e, t) {
    return e.hasChildNodes() && t < e.childNodes.length ? e.childNodes[t] : null;
  }

  function $c(e, t) {
    if (0 < e) {
      if (af(t.previousSibling) && !nf(t.previousSibling)) return bs.before(t);
      if (nf(t)) return bs(t, 0);
    }

    if (e < 0) {
      if (af(t.nextSibling) && !nf(t.nextSibling)) return bs.after(t);
      if (nf(t)) return bs(t, t.data.length);
    }

    return e < 0 && !of(t) ? bs.after(t) : bs.before(t);
  }

  function Wc(t) {
    return {
      next: function next(e) {
        return sf(vc.Forwards, e, t);
      },
      prev: function prev(e) {
        return sf(vc.Backwards, e, t);
      }
    };
  }

  function Kc(e) {
    return bs.isTextPosition(e) ? 0 === e.offset() : eo(e.getNode());
  }

  function Xc(e) {
    if (bs.isTextPosition(e)) {
      var t = e.container();
      return e.offset() === t.data.length;
    }

    return eo(e.getNode(!0));
  }

  function Yc(e, t) {
    return !bs.isTextPosition(e) && !bs.isTextPosition(t) && e.getNode() === t.getNode(!0);
  }

  function Gc(o, i, a) {
    return cf(o, i, a).bind(function (e) {
      return uc(a, e, i) && (t = a, n = e, o ? !Yc(t, n) && (bs.isTextPosition(r = t) || !Xn(r.getNode())) && Xc(t) && Kc(n) : !Yc(n, t) && Kc(t) && Xc(n)) ? cf(o, i, e) : he.some(e);
      var t, n, r;
    });
  }

  function Jc(e, t) {
    var n,
        r,
        o,
        i,
        a,
        u = e ? t.firstChild : t.lastChild;
    return qn(u) ? he.some(bs(u, e ? 0 : u.data.length)) : u ? eo(u) ? he.some(e ? bs.before(u) : Xn(a = u) ? bs.before(a) : bs.after(a)) : (r = t, o = u, i = (n = e) ? bs.before(o) : bs.after(o), cf(n, r, i)) : he.none();
  }

  function Qc(e) {
    return Hn(e) && e.id === pf;
  }

  function Zc(e, t) {
    for (; t && t !== e;) {
      if (t.id === pf) return t;
      t = t.parentNode;
    }

    return null;
  }

  function el(e) {
    return St.isArray(e.start);
  }

  function tl(e, t) {
    return Hn(t) && e.isBlock(t) && !t.innerHTML && !Ct.ie && (t.innerHTML = '<br data-mce-bogus="1" />'), t;
  }

  function nl(e, t, n) {
    return !1 === t.hasChildNodes() && Zc(e, t) && (o = n, i = (r = t).ownerDocument.createTextNode(Oo), r.appendChild(i), o.setStart(i, 0), o.setEnd(i, 0), 1);
    var r, o, i;
  }

  function rl(e, t, n, r) {
    var o,
        i,
        a,
        u,
        s = n[t ? "start" : "end"],
        c = e.getRoot();

    if (s) {
      for (a = s[0], i = c, o = s.length - 1; 1 <= o; o--) {
        if (u = i.childNodes, nl(c, i, r)) return 1;
        if (s[o] > u.length - 1) return nl(c, i, r) || function (t) {
          return gf(i).fold(T, function (e) {
            return t.setStart(e.container(), e.offset()), t.setEnd(e.container(), e.offset()), !0;
          });
        }(r);
        i = u[s[o]];
      }

      3 === i.nodeType && (a = Math.min(s[0], i.nodeValue.length)), 1 === i.nodeType && (a = Math.min(s[0], i.childNodes.length)), t ? r.setStart(i, a) : r.setEnd(i, a);
    }

    return 1;
  }

  function ol(e) {
    return qn(e) && 0 < e.data.length;
  }

  function il(e, t, n) {
    var r,
        o,
        i,
        a,
        u,
        s,
        c = e.get(n.id + "_" + t),
        l = n.keep;

    if (c) {
      if (r = c.parentNode, o = "start" === t ? l ? c.hasChildNodes() ? (r = c.firstChild, 1) : ol(c.nextSibling) ? (r = c.nextSibling, 0) : ol(c.previousSibling) ? (r = c.previousSibling, c.previousSibling.data.length) : (r = c.parentNode, e.nodeIndex(c) + 1) : e.nodeIndex(c) : l ? c.hasChildNodes() ? (r = c.firstChild, 1) : ol(c.previousSibling) ? (r = c.previousSibling, c.previousSibling.data.length) : (r = c.parentNode, e.nodeIndex(c)) : e.nodeIndex(c), u = r, s = o, !l) {
        for (a = c.previousSibling, i = c.nextSibling, St.each(St.grep(c.childNodes), function (e) {
          qn(e) && (e.nodeValue = e.nodeValue.replace(/\uFEFF/g, ""));
        }); c = e.get(n.id + "_" + t);) {
          e.remove(c, !0);
        }

        a && i && a.nodeType === i.nodeType && qn(a) && !Ct.opera && (o = a.nodeValue.length, a.appendData(i.nodeValue), e.remove(i), u = a, s = o);
      }

      return he.some(bs(u, s));
    }

    return he.none();
  }

  function al(t, e) {
    !function (e, t) {
      var n,
          r,
          o,
          i,
          a,
          u,
          s,
          c,
          l,
          f,
          d,
          m,
          g = e.dom;

      if (t) {
        if (el(t)) return d = t, m = (f = g).createRng(), rl(f, !0, d, m) && rl(f, !1, d, m) ? he.some(m) : he.none();
        if (K(t.start)) return he.some((s = t, c = (u = g).createRng(), l = Es(u.getRoot(), s.start), c.setStart(l.container(), l.offset()), l = Es(u.getRoot(), s.end), c.setEnd(l.container(), l.offset()), c));
        if (Ee(t, "id")) return fn(a = il(o = g, "start", i = t), il(o, "end", i).or(a), function (e, t) {
          var n = o.createRng();
          return n.setStart(tl(o, e.container()), e.offset()), n.setEnd(tl(o, t.container()), t.offset()), n;
        });
        if (Ee(t, "name")) return n = g, he.from(n.select((r = t).name)[r.index]).map(function (e) {
          var t = n.createRng();
          return t.selectNode(e), t;
        });
        if (Ee(t, "rng")) return he.some(t.rng);
      }

      return he.none();
    }(t, e).each(function (e) {
      t.setRng(e);
    });
  }

  function ul(e) {
    return Hn(e) && "SPAN" === e.tagName && "bookmark" === e.getAttribute("data-mce-type");
  }

  function sl(e) {
    return "" !== e && -1 !== " \f\n\r\t\v".indexOf(e);
  }

  function cl(e) {
    return !sl(e) && !vf(e);
  }

  function ll(e) {
    return e.nodeType;
  }

  function fl(e, t, n) {
    var r,
        o = n.startOffset,
        i = n.startContainer;

    if ((i !== n.endContainer || !(r = i.childNodes[o]) || !/^(IMG)$/.test(r.nodeName)) && Hn(i)) {
      var a = i.childNodes,
          u = void 0;
      o < a.length ? (i = a[o], u = new jr(i, e.getParent(i, e.isBlock))) : (i = a[a.length - 1], (u = new jr(i, e.getParent(i, e.isBlock))).next(!0));

      for (var s = u.current(); s; s = u.next()) {
        if (qn(s) && !bf(s)) return n.setStart(s, 0), t.setRng(n), 0;
      }
    }
  }

  function dl(e, t, n) {
    if (e) {
      var r = t ? "nextSibling" : "previousSibling";

      for (e = n ? e : e[r]; e; e = e[r]) {
        if (Hn(e) || !bf(e)) return e;
      }
    }
  }

  function ml(e, t) {
    return ll(t) && (t = t.nodeName), !!e.schema.getTextBlockElements()[t.toLowerCase()];
  }

  function gl(e, t, n) {
    return e.schema.isValidChild(t, n);
  }

  function pl(e, n) {
    return y(e) ? e = e(n) : V(n) && (e = e.replace(/%(\w+)/g, function (e, t) {
      return n[t] || e;
    })), e;
  }

  function hl(e, t) {
    return e = "" + ((e = e || "").nodeName || e), t = "" + ((t = t || "").nodeName || t), e.toLowerCase() === t.toLowerCase();
  }

  function vl(e, t, n) {
    return "color" !== n && "backgroundColor" !== n || (t = e.toHex(t)), "fontWeight" === n && 700 === t && (t = "bold"), "" + ("fontFamily" === n ? t.replace(/[\'\"]/g, "").replace(/,\s+/g, ",") : t);
  }

  function bl(e, t, n) {
    return vl(e, e.getStyle(t, n), n);
  }

  function yl(t, e) {
    var n;
    return t.getParent(e, function (e) {
      return (n = t.getStyle(e, "text-decoration")) && "none" !== n;
    }), n;
  }

  function Cl(e, t, n) {
    return e.getParents(t, n, e.getRoot());
  }

  function wl(e, t) {
    return F(e.formatter.get(t), function (t) {
      function o(e) {
        return 1 < e.length && "%" === e.charAt(0);
      }

      return F(["styles", "attributes"], function (e) {
        return ae(t, e).exists(function (e) {
          var n, r;
          return F(S(e) ? e : (n = u, r = [], Q(e, function (e, t) {
            r.push(n(e, t));
          }), r), o);
        });
      });
    });
  }

  function xl(e) {
    return ue(e, "block");
  }

  function Sl(e) {
    return ue(e, "selector");
  }

  function El(e) {
    return ue(e, "inline");
  }

  function Nl(e) {
    return Sl(e) && !1 !== e.expand && !El(e);
  }

  function kl(e, t) {
    for (var n = t; n;) {
      if (Hn(n) && e.getContentEditable(n)) return "false" === e.getContentEditable(n) ? n : t;
      n = n.parentNode;
    }

    return t;
  }

  function _l(e, t, n, r) {
    for (var o = t.data, i = n; e ? 0 <= i : i < o.length; e ? i-- : i++) {
      if (r(o.charAt(i))) return e ? i + 1 : i;
    }

    return -1;
  }

  function Al(e, t, n) {
    return _l(e, t, n, function (e) {
      return vf(e) || sl(e);
    });
  }

  function Tl(e, t, n) {
    return _l(e, t, n, cl);
  }

  function Rl(i, e, t, n, a, r) {
    function o(e, t, n) {
      var r = Mu(i),
          o = a ? r.backwards : r.forwards;
      return he.from(o(e, t, function (e, t) {
        return yf(e.parentNode) ? -1 : n(a, u = e, t);
      }, s));
    }

    var u,
        s = i.getParent(t, i.isBlock) || e;
    return o(t, n, Al).bind(function (e) {
      return r ? o(e.container, e.offset + (a ? -1 : 0), Tl) : he.some(e);
    }).orThunk(function () {
      return u ? he.some({
        container: u,
        offset: a ? 0 : u.length
      }) : he.none();
    });
  }

  function Dl(e, t, n, r, o) {
    qn(r) && Be(r.data) && r[o] && (r = r[o]);

    for (var i = Cf(e, r), a = 0; a < i.length; a++) {
      for (var u = 0; u < t.length; u++) {
        var s = t[u];
        if ((!V(s.collapsed) || s.collapsed === n.collapsed) && Sl(s) && e.is(i[a], s.selector)) return i[a];
      }
    }

    return r;
  }

  function Ol(t, e, n, r) {
    var o,
        i = n,
        a = t.dom,
        u = a.getRoot(),
        s = e[0];
    if ((i = xl(s) && !s.wrapper ? a.getParent(n, s.block, u) : i) || (o = a.getParent(n, "LI,TD,TH"), i = a.getParent(qn(n) ? n.parentNode : n, function (e) {
      return e !== u && xf(t, e);
    }, o)), !(i = i && xl(s) && s.wrapper && Cf(a, i, "ul,ol").reverse()[0] || i)) for (i = n; i[r] && !a.isBlock(i[r]) && !hl(i = i[r], "br");) {
      ;
    }
    return i || n;
  }

  function Bl(e, t, n, r, o) {
    var i,
        a = n,
        u = o ? "previousSibling" : "nextSibling",
        s = e.getRoot();
    if (qn(n) && !wf(n) && (o ? 0 < r : r < n.data.length)) return n;

    for (;;) {
      if (!t[0].block_expand && e.isBlock(a)) return a;

      for (var c = a[u]; c; c = c[u]) {
        var l = qn(c) && !Sf(e, s, c, u);
        if (!yf(c) && (!Xn(i = c) || !i.getAttribute("data-mce-bogus") || i.nextSibling) && !wf(c, l)) return a;
      }

      if (a === s || a.parentNode === s) {
        n = a;
        break;
      }

      a = a.parentNode;
    }

    return n;
  }

  function Pl(e) {
    return yf(e.parentNode) || yf(e);
  }

  function Ll(e, t, n, r) {
    void 0 === r && (r = !1);
    var o = t.startContainer,
        i = t.startOffset,
        a = t.endContainer,
        u = t.endOffset,
        s = e.dom,
        c = n[0];
    return Hn(o) && o.hasChildNodes() && (o = $u(o, i), qn(o) && (i = 0)), Hn(a) && a.hasChildNodes() && (a = $u(a, t.collapsed ? u : u - 1), qn(a) && (u = a.nodeValue.length)), o = kl(s, o), a = kl(s, a), Pl(o) && (o = yf(o) ? o : o.parentNode, o = t.collapsed ? o.previousSibling || o : o.nextSibling || o, qn(o) && (i = t.collapsed ? o.length : 0)), Pl(a) && (a = yf(a) ? a : a.parentNode, a = t.collapsed ? a.nextSibling || a : a.previousSibling || a, qn(a) && (u = t.collapsed ? 0 : a.length)), t.collapsed && (Rl(s, e.getBody(), o, i, !0, r).each(function (e) {
      var t = e.container,
          n = e.offset;
      o = t, i = n;
    }), Rl(s, e.getBody(), a, u, !1, r).each(function (e) {
      var t = e.container,
          n = e.offset;
      a = t, u = n;
    })), (El(c) || c.block_expand) && (El(c) && qn(o) && 0 !== i || (o = Bl(s, n, o, i, !0)), El(c) && qn(a) && u !== a.nodeValue.length || (a = Bl(s, n, a, u, !1))), Nl(c) && (o = Dl(s, n, t, o, "previousSibling"), a = Dl(s, n, t, a, "nextSibling")), (xl(c) || Sl(c)) && (o = Ol(e, n, o, "previousSibling"), a = Ol(e, n, a, "nextSibling"), xl(c) && (s.isBlock(o) || (o = Bl(s, n, o, i, !0)), s.isBlock(a) || (a = Bl(s, n, a, u, !1)))), Hn(o) && (i = s.nodeIndex(o), o = o.parentNode), Hn(a) && (u = s.nodeIndex(a) + 1, a = a.parentNode), {
      startContainer: o,
      startOffset: i,
      endContainer: a,
      endOffset: u
    };
  }

  function Il(n, e, u) {
    function s(e) {
      var t = e[0];
      qn(t) && t === i && o >= t.data.length && e.splice(0, 1);
      var n = e[e.length - 1];
      return 0 === a && 0 < e.length && n === l && qn(n) && e.splice(e.length - 1, 1), e;
    }

    function c(e, t, n) {
      for (var r = []; e && e !== n; e = e[t]) {
        r.push(e);
      }

      return r;
    }

    function t(e, t) {
      return n.getParent(e, function (e) {
        return e.parentNode === t;
      }, t);
    }

    function r(e, t, n) {
      var r = n ? "nextSibling" : "previousSibling",
          o = e;

      for (o.parentNode; o && o !== t; o = i) {
        var i = o.parentNode,
            a = c(o === e ? o : o[r], r);
        a.length && (n || a.reverse(), u(s(a)));
      }
    }

    var o = e.startOffset,
        i = $u(e.startContainer, o),
        a = e.endOffset,
        l = $u(e.endContainer, a - 1);
    if (i === l) return u(s([i]));
    var f = n.findCommonAncestor(i, l);
    if (n.isChildOf(i, l)) return r(i, f, !0);
    if (n.isChildOf(l, i)) return r(l, f);
    var d = t(i, f) || i,
        m = t(l, f) || l;
    r(i, d, !0);
    var g = c(d === i ? d : d.nextSibling, "nextSibling", m === l ? m.nextSibling : m);
    g.length && u(s(g)), r(l, m);
  }

  function Ml(e) {
    var t = [];
    if (e) for (var n = 0; n < e.rangeCount; n++) {
      t.push(e.getRangeAt(n));
    }
    return t;
  }

  function Fl(e, t) {
    var n = Au(t, "td[data-mce-selected],th[data-mce-selected]");
    return 0 < n.length ? n : U(z(e, function (e) {
      var t = qu(e);
      return t ? [Et.fromDom(t)] : [];
    }), Ao);
  }

  function Ul(e) {
    return Fl(Ml(e.selection.getSel()), Et.fromDom(e.getBody()));
  }

  function zl(e, t) {
    return br(e, "table", t);
  }

  function jl(o, e) {
    return fn((r = e.startContainer, i = e.startOffset, qn(r) ? 0 === i ? he.some(Et.fromDom(r)) : he.none() : he.from(r.childNodes[i]).map(Et.fromDom)), (t = e.endContainer, n = e.endOffset, qn(t) ? n === t.data.length ? he.some(Et.fromDom(t)) : he.none() : he.from(t.childNodes[n - 1]).map(Et.fromDom)), function (e, t) {
      var n = I(Ef(o), A(je, e)),
          r = I(Nf(o), A(je, t));
      return n.isSome() && r.isSome();
    }).getOr(!1);
    var t, n, r, i;
  }

  function Hl(e, t, n, r) {
    var o = n,
        i = new jr(n, o),
        a = ne(e.schema.getMoveCaretBeforeOnEnterElements(), function (e, t) {
      return !ie(["td", "th", "table"], t.toLowerCase());
    });

    do {
      if (qn(n) && 0 !== St.trim(n.nodeValue).length) return r ? t.setStart(n, 0) : t.setEnd(n, n.nodeValue.length), 0;
      if (a[n.nodeName]) return r ? t.setStartBefore(n) : "BR" === n.nodeName ? t.setEndBefore(n) : t.setEndAfter(n), 0;
    } while (n = r ? i.next() : i.prev());

    "BODY" === o.nodeName && (r ? t.setStart(o, 0) : t.setEnd(o, o.childNodes.length));
  }

  function Vl(e) {
    var t = e.selection.getSel();
    return t && 0 < t.rangeCount;
  }

  function ql(r, o) {
    var e = Ul(r);
    0 < e.length ? X(e, function (e) {
      var t = e.dom,
          n = r.dom.createRng();
      n.setStartBefore(t), n.setEndAfter(t), o(n, !0);
    }) : o(r.selection.getRng(), !1);
  }

  function $l(e, t, n) {
    var r = Os(e, t);
    n(r), e.moveToBookmark(r);
  }

  function Wl(e) {
    return kf.get(e);
  }

  function Kl(e, t, n, r) {
    var o = t.uid,
        i = void 0 === o ? Du("mce-annotation") : o,
        a = function (e, t) {
      var n = {};

      for (o in e) {
        Object.prototype.hasOwnProperty.call(e, o) && t.indexOf(o) < 0 && (n[o] = e[o]);
      }

      if (null != e && "function" == typeof Object.getOwnPropertySymbols) for (var r = 0, o = Object.getOwnPropertySymbols(e); r < o.length; r++) {
        t.indexOf(o[r]) < 0 && Object.prototype.propertyIsEnumerable.call(e, o[r]) && (n[o[r]] = e[o[r]]);
      }
      return n;
    }(t, ["uid"]),
        u = Et.fromTag("span", e);

    ku(u, es()), gn(u, "" + ns(), i), gn(u, "" + ts(), n);
    var s,
        c = r(i, a),
        l = c.attributes,
        f = c.classes,
        d = void 0 === f ? [] : f;
    return pn(u, void 0 === l ? {} : l), s = u, X(d, function (e) {
      ku(s, e);
    }), u;
  }

  function Xl(u, e, t, n, r) {
    function s() {
      d.clear();
    }

    function c(e) {
      X(e, o);
    }

    var l = [],
        f = Kl(u.getDoc(), r, t, n),
        d = wu(),
        o = function o(e) {
      var t, n, r, o, i, a;

      switch (r = u, i = "span", a = Nt(o = e), Dt(o).fold(function () {
        return "skipping";
      }, function (e) {
        return "br" === a || Tn(n = o) && Wl(n) === Oo ? "valid" : An(t = o) && _u(t, es()) ? "existing" : Qc(o.dom) ? "caret" : gl(r, i, a) && gl(r, Nt(e), i) ? "valid" : "invalid-child";
        var t, n;
      })) {
        case "invalid-child":
          s(), c(On(e)), s();
          break;

        case "valid":
          Vt(t = e, n = d.get().getOrThunk(function () {
            var e = Pu(f);
            return l.push(e), d.set(e), e;
          })), In(n, t);
      }
    };

    return Il(u.dom, e, function (e) {
      s(), c(R(e, Et.fromDom));
    }), l;
  }

  function Yl(o) {
    var n,
        e,
        r,
        i = (n = {}, {
      register: function register(e, t) {
        n[e] = {
          name: e,
          settings: t
        };
      },
      lookup: function lookup(e) {
        return ae(n, e).map(function (e) {
          return e.settings;
        });
      }
    });
    r = i, (e = o).on("init", function () {
      e.serializer.addNodeFilter("span", function (e) {
        X(e, function (t) {
          he.from(t.attr(ts())).bind(r.lookup).each(function (e) {
            !1 === e.persistent && t.unwrap();
          });
        });
      });
    });
    var a = Ru(o);
    return {
      register: function register(e, t) {
        i.register(e, t);
      },
      annotate: function annotate(t, n) {
        i.lookup(t).each(function (e) {
          var u, s, c, l;
          s = t, c = e, l = n, (u = o).undoManager.transact(function () {
            var e,
                t,
                n,
                r,
                o = u.selection,
                i = o.getRng(),
                a = 0 < Ul(u).length;
            i.collapsed && !a && (n = Ll(e = u, t = i, [{
              inline: "span"
            }]), t.setStart(n.startContainer, n.startOffset), t.setEnd(n.endContainer, n.endOffset), e.selection.setRng(t)), o.getRng().collapsed && !a ? (Ou(r = Kl(u.getDoc(), l, s, c.decorate), Do), o.getRng().insertNode(r.dom), o.select(r.dom)) : $l(o, !1, function () {
              ql(u, function (e) {
                Xl(u, e, s, c.decorate, l);
              });
            });
          });
        });
      },
      annotationChanged: function annotationChanged(e, t) {
        a.addListener(e, t);
      },
      remove: function remove(e) {
        Tu(o, he.some(e)).each(function (e) {
          X(e.elements, Xt);
        });
      },
      getAll: function getAll(e) {
        var t, n, r;
        return Z((t = e, n = Au(Et.fromDom(o.getBody()), "[" + ts() + '="' + t + '"]'), r = {}, X(n, function (e) {
          var t = hn(e, ns()),
              n = ae(r, t).getOr([]);
          r[t] = n.concat([e]);
        }), r), function (e) {
          return R(e, function (e) {
            return e.dom;
          });
        });
      }
    };
  }

  function Gl(e) {
    return {
      getBookmark: A(hf, e),
      moveToBookmark: A(al, e)
    };
  }

  (bc = vc = vc || {})[bc.Backwards = -1] = "Backwards", bc[bc.Forwards = 1] = "Forwards";

  function Jl(e) {
    return qo(e) || !!Ko(t = e) && !0 !== P(Ce(t.getElementsByTagName("*")), function (e, t) {
      return e || Uo(t);
    }, !1);
    var t;
  }

  var Ql,
      Zl,
      ef,
      tf = Jn,
      nf = qn,
      rf = Hn,
      of = Xn,
      af = eo,
      uf = to,
      sf = function sf(e, t, n) {
    var r, o, i;
    if (!rf(n) || !t) return null;

    if (t.isEqual(bs.after(n)) && n.lastChild) {
      if (i = bs.after(n.lastChild), e < 0 && af(n.lastChild) && rf(n.lastChild)) return of(n.lastChild) ? bs.before(n.lastChild) : i;
    } else i = t;

    var a,
        u,
        s,
        c = i.container(),
        l = i.offset();

    if (nf(c)) {
      if (e < 0 && 0 < l) return bs(c, --l);
      if (0 < e && l < c.length) return bs(c, ++l);
      r = c;
    } else {
      if (e < 0 && 0 < l && (f = qc(c, l - 1), af(f))) return !Jl(f) && (o = ic(f, e, uf, f)) ? nf(o) ? bs(o, o.data.length) : bs.after(o) : nf(f) ? bs(f, f.data.length) : bs.before(f);
      if (0 < e && l < c.childNodes.length && (f = qc(c, l), af(f))) return of(f) ? (a = n, (s = (u = f).nextSibling) && af(s) ? nf(s) ? bs(s, 0) : bs.before(s) : sf(vc.Forwards, bs.after(u), a)) : !Jl(f) && (o = ic(f, e, uf, f)) ? nf(o) ? bs(o, 0) : bs.before(o) : nf(f) ? bs(f, 0) : bs.after(f);
      r = f || i.getNode();
    }

    if ((0 < e && i.isAtEnd() || e < 0 && i.isAtStart()) && (r = ic(r, e, x, n, !0), uf(r, n))) return $c(e, r);
    var f = ic(r, e, uf, n),
        d = ge(U(function (e, t) {
      for (var n = []; e && e !== t;) {
        n.push(e), e = e.parentNode;
      }

      return n;
    }(c, n), tf));
    return !d || f && d.contains(f) ? f ? $c(e, f) : null : 0 < e ? bs.after(d) : bs.before(d);
  },
      cf = function cf(e, t, n) {
    var r = Wc(t);
    return he.from(e ? r.next(n) : r.prev(n));
  },
      lf = function lf(t, n, e, r) {
    return Gc(t, n, e).bind(function (e) {
      return r(e) ? lf(t, n, e, r) : he.some(e);
    });
  },
      ff = A(cf, !0),
      df = A(cf, !1),
      mf = A(Jc, !0),
      gf = A(Jc, !1),
      pf = "_mce_caret",
      hf = function hf(e, t, n) {
    return 2 === t ? Rs(Po, n, e) : 3 === t ? (o = (r = e).getRng(), {
      start: Ss(r.dom.getRoot(), bs.fromRangeStart(o)),
      end: Ss(r.dom.getRoot(), bs.fromRangeEnd(o))
    }) : t ? {
      rng: e.getRng()
    } : Os(e, !1);
    var r, o;
  },
      vf = (Ql = Do, function (e) {
    return Ql === e;
  }),
      bf = function bf(e, t) {
    return void 0 === t && (t = !1), !(!V(e) || !qn(e)) && no(t ? e.data.replace(/ /g, "\xa0") : e.data);
  },
      yf = ul,
      Cf = Cl,
      wf = bf,
      xf = ml,
      Sf = function Sf(e, t, n, r) {
    var o = n.parentNode;
    return !V(n[r]) && (!(o !== t && !re(o) && !e.isBlock(o)) || Sf(e, t, o, r));
  },
      Ef = function Ef(t) {
    return Mt(t).fold(J([t]), function (e) {
      return [t].concat(Ef(e));
    });
  },
      Nf = function Nf(t) {
    return Ft(t).fold(J([t]), function (e) {
      return "br" === Nt(e) ? Ot(e).map(function (e) {
        return [t].concat(Nf(e));
      }).getOr([]) : [t].concat(Nf(e));
    });
  },
      kf = (Zl = Tn, {
    get: function get(e) {
      if (!Zl(e)) throw new Error("Can only get text value of a text node");
      return ef(e).getOr("");
    },
    getOption: ef = function ef(e) {
      return Zl(e) ? he.from(e.dom.nodeValue) : he.none();
    },
    set: function set(e, t) {
      if (!Zl(e)) throw new Error("Can only set raw text value of a text node");
      e.dom.nodeValue = t;
    }
  });

  function _f(e, t) {
    for (; t && t !== e;) {
      if (Gn(t) || Jn(t)) return t;
      t = t.parentNode;
    }

    return null;
  }

  function Af(t, n, e) {
    if (!e.collapsed) {
      if (Ct.browser.isIE() && e.startOffset === e.endOffset - 1 && e.startContainer === e.endContainer) {
        var r = e.startContainer.childNodes[e.startOffset];
        if (Hn(r)) return F(r.getClientRects(), function (e) {
          return Vu(e, t, n);
        });
      }

      return F(e.getClientRects(), function (e) {
        return Vu(e, t, n);
      });
    }
  }

  function Tf(e, t, n) {
    return e.fire(t, n);
  }

  function Rf(e, t, n, r) {
    return e.fire("FormatApply", {
      format: t,
      node: n,
      vars: r
    });
  }

  function Df(e, t, n, r) {
    return e.fire("FormatRemove", {
      format: t,
      node: n,
      vars: r
    });
  }

  function Of(r, l) {
    function c(e) {
      return e && ("IMG" === e.nodeName || l.dom.is(e, "figure.image"));
    }

    function f(e) {
      return Zn(e) || D.hasClass(e, "mce-preview-object");
    }

    function n(e) {
      var t = e.target;
      !function (e, t) {
        if ("longpress" !== e.type && 0 !== e.type.indexOf("touch")) return c(e.target) && !Af(e.clientX, e.clientY, t);
        var n = e.touches[0];
        return c(e.target) && !Af(n.clientX, n.clientY, t);
      }(e, l.selection.getRng()) || e.isDefaultPrevented() || l.selection.select(t);
    }

    function d(e) {
      return D.is(e, "figure.image") ? [e.querySelector("img")] : D.hasClass(e, "mce-preview-object") && V(e.firstElementChild) ? [e, e.firstElementChild] : [e];
    }

    function i(e) {
      var t = Vs(l);
      return !!t && "false" !== e.getAttribute("data-mce-resize") && e !== l.getBody() && (D.hasClass(e, "mce-preview-object") ? Ue(Et.fromDom(e.firstElementChild), t) : Ue(Et.fromDom(e), t));
    }

    function a(e, t, n) {
      V(n) && X(d(e), function (e) {
        e.style[t] || !l.schema.isValid(e.nodeName.toLowerCase(), t) ? D.setStyle(e, t, n) : D.setAttrib(e, t, "" + n);
      });
    }

    function m(e, t, n) {
      a(e, "width", t), a(e, "height", n);
    }

    function g(e) {
      var t,
          n,
          r,
          o,
          i,
          a,
          u = e.screenX - C,
          s = e.screenY - w;
      k = u * b[2] + x, _ = s * b[3] + S, k = k < 5 ? 5 : k, _ = _ < 5 ? 5 : _, ((c(p) || f(p)) && !1 !== l.getParam("resize_img_proportional", !0, "boolean") ? !$f.modifierPressed(e) : $f.modifierPressed(e)) && (L(u) > L(s) ? (_ = I(k * E), k = I(_ / E)) : (k = I(_ / E), _ = I(k * E))), m(h, k, _), t = b.startPos.x + u, n = b.startPos.y + s, D.setStyles(v, {
        left: t = 0 < t ? t : 0,
        top: n = 0 < n ? n : 0,
        display: "block"
      }), v.innerHTML = k + " &times; " + _, b[2] < 0 && h.clientWidth <= k && D.setStyle(h, "left", void 0 + (x - k)), b[3] < 0 && h.clientHeight <= _ && D.setStyle(h, "top", void 0 + (S - _)), (u = M.scrollWidth - A) + (s = M.scrollHeight - T) != 0 && D.setStyles(v, {
        left: t - u,
        top: n - s
      }), N || (r = p, o = x, i = S, a = "corner-" + b.name, l.fire("ObjectResizeStart", {
        target: r,
        width: o,
        height: i,
        origin: a
      }), N = !0);
    }

    function o(e) {
      function t(e, t) {
        if (e) do {
          if (e === t) return 1;
        } while (e = e.parentNode);
      }

      var n;
      N || l.removed || (O(D.select("img[data-mce-selected],hr[data-mce-selected]"), function (e) {
        e.removeAttribute(R);
      }), n = "mousedown" === e.type ? e.target : r.getNode(), t(n = D.$(n).closest("table,img,figure.image,hr,video,span.mce-preview-object")[0], M) && (s(), t(r.getStart(!0), n) && t(r.getEnd(!0), n)) ? z(n) : j());
    }

    function u(e) {
      return Wf(_f(l.getBody(), e));
    }

    function s() {
      try {
        l.getDoc().execCommand("enableObjectResizing", !1, "false");
      } catch (e) {}
    }

    var p,
        h,
        v,
        b,
        y,
        C,
        w,
        x,
        S,
        E,
        N,
        k,
        _,
        A,
        T,
        R = "data-mce-selected",
        D = l.dom,
        O = St.each,
        B = l.getDoc(),
        P = document,
        L = Math.abs,
        I = Math.round,
        M = l.getBody(),
        F = {
      nw: [0, 0, -1, -1],
      ne: [1, 0, 1, -1],
      se: [1, 1, 1, 1],
      sw: [0, 1, -1, 1]
    },
        U = function U() {
      var e,
          t,
          n,
          r,
          o = N;
      N = !1, o && (a(p, "width", k), a(p, "height", _)), D.unbind(B, "mousemove", g), D.unbind(B, "mouseup", U), P !== B && (D.unbind(P, "mousemove", g), D.unbind(P, "mouseup", U)), D.remove(h), D.remove(v), D.remove(y), z(p), o && (e = p, t = k, n = _, r = "corner-" + b.name, l.fire("ObjectResized", {
        target: e,
        width: t,
        height: n,
        origin: r
      }), D.setAttrib(p, "style", D.getAttrib(p, "style"))), l.nodeChanged();
    },
        z = function z(e) {
      H();
      var t = D.getPos(e, M),
          a = t.x,
          u = t.y,
          n = e.getBoundingClientRect(),
          s = n.width || n.right - n.left,
          c = n.height || n.bottom - n.top;
      p !== e && (j(), p = e, k = _ = 0);
      var r = l.fire("ObjectSelected", {
        target: e
      }),
          o = D.getAttrib(p, R, "1");
      i(e) && !r.isDefaultPrevented() ? O(F, function (o, i) {
        var e = D.get("mceResizeHandle" + i);
        e && D.remove(e), e = D.add(M, "div", {
          id: "mceResizeHandle" + i,
          "data-mce-bogus": "all",
          "class": "mce-resizehandle",
          unselectable: !0,
          style: "cursor:" + i + "-resize; margin:0; padding:0"
        }), 11 === Ct.ie && (e.contentEditable = !1), D.bind(e, "mousedown", function (e) {
          var t, n, r;
          e.stopImmediatePropagation(), e.preventDefault(), t = e, r = d(p)[0], C = t.screenX, w = t.screenY, x = r.clientWidth, S = r.clientHeight, E = S / x, (b = o).name = i, b.startPos = {
            x: s * o[0] + a,
            y: c * o[1] + u
          }, A = M.scrollWidth, T = M.scrollHeight, y = D.add(M, "div", {
            "class": "mce-resize-backdrop"
          }), D.setStyles(y, {
            position: "fixed",
            left: "0",
            top: "0",
            width: "100%",
            height: "100%"
          }), h = f(n = p) ? D.create("img", {
            src: Ct.transparentSrc
          }) : n.cloneNode(!0), D.addClass(h, "mce-clonedresizable"), D.setAttrib(h, "data-mce-bogus", "all"), h.contentEditable = "false", D.setStyles(h, {
            left: a,
            top: u,
            margin: 0
          }), m(h, s, c), h.removeAttribute(R), M.appendChild(h), D.bind(B, "mousemove", g), D.bind(B, "mouseup", U), P !== B && (D.bind(P, "mousemove", g), D.bind(P, "mouseup", U)), v = D.add(M, "div", {
            "class": "mce-resize-helper",
            "data-mce-bogus": "all"
          }, x + " &times; " + S);
        }), o.elm = e, D.setStyles(e, {
          left: s * o[0] + a - e.offsetWidth / 2,
          top: c * o[1] + u - e.offsetHeight / 2
        });
      }) : j(), D.getAttrib(p, R) || p.setAttribute(R, o);
    },
        j = function j() {
      H(), p && p.removeAttribute(R), Q(F, function (e, t) {
        var n = D.get("mceResizeHandle" + t);
        n && (D.unbind(n), D.remove(n));
      });
    },
        H = function H() {
      Q(F, function (e) {
        e.elm && (D.unbind(e.elm), delete e.elm);
      });
    };

    return l.on("init", function () {
      var e;
      s(), (Ct.browser.isIE() || Ct.browser.isEdge()) && (l.on("mousedown click", function (e) {
        var t = e.target,
            n = t.nodeName;
        N || !/^(TABLE|IMG|HR)$/.test(n) || u(t) || (2 !== e.button && l.selection.select(t, "TABLE" === n), "mousedown" === e.type && l.nodeChanged());
      }), D.bind(M, "mscontrolselect", e = function e(_e2) {
        function t(e) {
          Ur.setEditorTimeout(l, function () {
            return l.selection.select(e);
          });
        }

        if (u(_e2.target) || Zn(_e2.target)) return _e2.preventDefault(), void t(_e2.target);
        /^(TABLE|IMG|HR)$/.test(_e2.target.nodeName) && (_e2.preventDefault(), "IMG" === _e2.target.tagName && t(_e2.target));
      }), l.on("remove", function () {
        return D.unbind(M, "mscontrolselect", e);
      }));
      var t = Ur.throttle(function (e) {
        l.composing || o(e);
      });
      l.on("nodechange ResizeEditor ResizeWindow ResizeContent drop FullscreenStateChanged", t), l.on("keyup compositionend", function (e) {
        p && "TABLE" === p.nodeName && t(e);
      }), l.on("hide blur", j), l.on("contextmenu longpress", n, !0);
    }), l.on("remove", H), {
      isResizable: i,
      showResizeRect: z,
      hideResizeRect: j,
      updateResizeRect: o,
      destroy: function destroy() {
        p = h = y = null;
      }
    };
  }

  function Bf(e) {
    return Gn(e) || Jn(e);
  }

  function Pf(t, n, r) {
    var o,
        e,
        i,
        a,
        u,
        s = r;
    if (s.caretPositionFromPoint) (e = s.caretPositionFromPoint(t, n)) && ((o = r.createRange()).setStart(e.offsetNode, e.offset), o.collapse(!0));else if (s.caretRangeFromPoint) o = s.caretRangeFromPoint(t, n);else if (s.body.createTextRange) {
      o = s.body.createTextRange();

      try {
        o.moveToPoint(t, n), o.collapse(!0);
      } catch (e) {
        o = function (e, n, t) {
          var r,
              o = t.elementFromPoint(e, n),
              i = t.body.createTextRange();

          if (o && "HTML" !== o.tagName || (o = t.body), i.moveToElementText(o), 0 < (r = (r = St.toArray(i.getClientRects())).sort(function (e, t) {
            return (e = Math.abs(Math.max(e.top - n, e.bottom - n))) - Math.abs(Math.max(t.top - n, t.bottom - n));
          })).length) {
            n = (r[0].bottom + r[0].top) / 2;

            try {
              return i.moveToPoint(e, n), i.collapse(!0), i;
            } catch (e) {}
          }

          return null;
        }(t, n, r);
      }

      return i = o, a = r.body, u = i && i.parentElement ? i.parentElement() : null, Jn(function (e, t, n) {
        for (; e && e !== t;) {
          if (n(e)) return e;
          e = e.parentNode;
        }

        return null;
      }(u, a, Bf)) ? null : i;
    }
    return o;
  }

  function Lf(e, t) {
    return e && t && e.startContainer === t.startContainer && e.startOffset === t.startOffset && e.endContainer === t.endContainer && e.endOffset === t.endOffset;
  }

  function If(e, t, n) {
    return null !== function (e, t, n) {
      for (; e && e !== t;) {
        if (n(e)) return e;
        e = e.parentNode;
      }

      return null;
    }(e, t, n);
  }

  function Mf(e) {
    return e && "TABLE" === e.nodeName;
  }

  function Ff(e, t, n) {
    for (var r = new jr(t, e.getParent(t.parentNode, e.isBlock) || e.getRoot()); t = r[n ? "prev" : "next"]();) {
      if (Xn(t)) return 1;
    }
  }

  function Uf(e, t, n, r, o) {
    var i,
        a,
        u = e.getRoot(),
        s = e.schema.getNonEmptyElements(),
        c = e.getParent(o.parentNode, e.isBlock) || u;
    if (r && Xn(o) && t && e.isEmpty(c)) return he.some(bs(o.parentNode, e.nodeIndex(o)));

    for (var l, f, d = new jr(o, c); a = d[r ? "prev" : "next"]();) {
      if ("false" === e.getContentEditableParent(a) || (f = u, Xr(l = a) && !1 === If(l, f, Qc))) return he.none();
      if (qn(a) && 0 < a.nodeValue.length) return !1 === If(a, u, function (e) {
        return "A" === e.nodeName;
      }) ? he.some(bs(a, r ? a.nodeValue.length : 0)) : he.none();
      if (e.isBlock(a) || s[a.nodeName.toLowerCase()]) return he.none();
      i = a;
    }

    return n && i ? he.some(bs(i, 0)) : he.none();
  }

  function zf(e, t, n, r) {
    var o,
        i = e.getRoot(),
        a = !1,
        u = r[(n ? "start" : "end") + "Container"],
        s = r[(n ? "start" : "end") + "Offset"],
        c = Hn(u) && s === u.childNodes.length,
        l = e.schema.getNonEmptyElements(),
        f = n;
    if (Xr(u)) return he.none();

    if (Hn(u) && s > u.childNodes.length - 1 && (f = !1), Wn(u) && (u = i, s = 0), u === i) {
      if (f && (d = u.childNodes[0 < s ? s - 1 : 0])) {
        if (Xr(d)) return he.none();
        if (l[d.nodeName] || Mf(d)) return he.none();
      }

      if (u.hasChildNodes()) {
        if (s = Math.min(!f && 0 < s ? s - 1 : s, u.childNodes.length - 1), u = u.childNodes[s], s = qn(u) && c ? u.data.length : 0, !t && u === i.lastChild && Mf(u)) return he.none();
        if (function (e, t) {
          for (; t && t !== e;) {
            if (Jn(t)) return 1;
            t = t.parentNode;
          }
        }(i, u) || Xr(u)) return he.none();

        if (u.hasChildNodes() && !1 === Mf(u)) {
          var d = u,
              m = new jr(u, i);

          do {
            if (Jn(d) || Xr(d)) {
              a = !1;
              break;
            }

            if (qn(d) && 0 < d.nodeValue.length) {
              s = f ? 0 : d.nodeValue.length, u = d, a = !0;
              break;
            }

            if (l[d.nodeName.toLowerCase()] && (!(o = d) || !/^(TD|TH|CAPTION)$/.test(o.nodeName))) {
              s = e.nodeIndex(d), u = d.parentNode, f || s++, a = !0;
              break;
            }
          } while (d = f ? m.next() : m.prev());
        }
      }
    }

    return t && (qn(u) && 0 === s && Uf(e, c, t, !0, u).each(function (e) {
      u = e.container(), s = e.offset(), a = !0;
    }), Hn(u) && (!(d = (d = u.childNodes[s]) || u.childNodes[s - 1]) || !Xn(d) || d.previousSibling && "A" === d.previousSibling.nodeName || Ff(e, d, !1) || Ff(e, d, !0) || Uf(e, c, t, !0, d).each(function (e) {
      u = e.container(), s = e.offset(), a = !0;
    }))), f && !t && qn(u) && s === u.nodeValue.length && Uf(e, c, t, !1, u).each(function (e) {
      u = e.container(), s = e.offset(), a = !0;
    }), a ? he.some(bs(u, s)) : he.none();
  }

  function jf(e, t) {
    var n = t.collapsed,
        r = t.cloneRange(),
        o = bs.fromRangeStart(t);
    return zf(e, n, !0, r).each(function (e) {
      n && bs.isAbove(o, e) || r.setStart(e.container(), e.offset());
    }), n || zf(e, n, !1, r).each(function (e) {
      r.setEnd(e.container(), e.offset());
    }), n && r.collapse(!0), Lf(t, r) ? he.none() : he.some(r);
  }

  function Hf(e, t) {
    return e.splitText(t);
  }

  function Vf(e) {
    var t = e.startContainer,
        n = e.startOffset,
        r = e.endContainer,
        o = e.endOffset;
    return t === r && qn(t) ? 0 < n && n < t.nodeValue.length && (t = (r = Hf(t, n)).previousSibling, n < o ? (t = r = Hf(r, o -= n).previousSibling, o = r.nodeValue.length, n = 0) : o = 0) : (qn(t) && 0 < n && n < t.nodeValue.length && (t = Hf(t, n), n = 0), qn(r) && 0 < o && o < r.nodeValue.length && (o = (r = Hf(r, o).previousSibling).nodeValue.length)), {
      startContainer: t,
      startOffset: n,
      endContainer: r,
      endOffset: o
    };
  }

  function qf(n) {
    return {
      walk: function walk(e, t) {
        return Il(n, e, t);
      },
      split: Vf,
      normalize: function normalize(t) {
        return jf(n, t).fold(T, function (e) {
          return t.setStart(e.startContainer, e.startOffset), t.setEnd(e.endContainer, e.endOffset), !0;
        });
      }
    };
  }

  Gl.isBookmarkNode = ul;
  var $f = {
    BACKSPACE: 8,
    DELETE: 46,
    DOWN: 40,
    ENTER: 13,
    LEFT: 37,
    RIGHT: 39,
    SPACEBAR: 32,
    TAB: 9,
    UP: 38,
    PAGE_UP: 33,
    PAGE_DOWN: 34,
    END: 35,
    HOME: 36,
    modifierPressed: function modifierPressed(e) {
      return e.shiftKey || e.ctrlKey || e.altKey || $f.metaKeyPressed(e);
    },
    metaKeyPressed: function metaKeyPressed(e) {
      return Ct.mac ? e.metaKey : e.ctrlKey && !e.altKey;
    }
  },
      Wf = Jn;
  qf.compareRanges = Lf, qf.getCaretRangeFromPoint = Pf, qf.getSelectedNode = qu, qf.getNode = $u;
  var Kf,
      Xf,
      Yf = (Kf = "height", Xf = function Xf(e) {
    var t = e.dom;
    return Fn(e) ? t.getBoundingClientRect().height : t.offsetHeight;
  }, {
    set: function set(e, t) {
      if (!E(t) && !t.match(/^[0-9]+$/)) throw new Error(Kf + ".set accepts only positive integer values. Value was " + t);
      var n = e.dom;
      dn(n) && (n.style[Kf] = t + "px");
    },
    get: Gf,
    getOuter: Gf,
    aggregate: Jf,
    max: function max(e, t, n) {
      var r = Jf(e, n);
      return r < t ? t - r : 0;
    }
  });

  function Gf(e) {
    var t = Xf(e);

    if (t <= 0 || null === t) {
      var n = Cn(e, Kf);
      return parseFloat(n) || 0;
    }

    return t;
  }

  function Jf(o, e) {
    return P(e, function (e, t) {
      var n = Cn(o, t),
          r = void 0 === n ? 0 : parseInt(n, 10);
      return isNaN(r) ? e : e + r;
    }, 0);
  }

  function Qf(e) {
    return "textarea" === Nt(e);
  }

  function Zf(e, t) {
    var n = function (e) {
      var t = e.dom.ownerDocument,
          n = t.body,
          r = t.defaultView,
          o = t.documentElement;
      if (n === e.dom) return zn(n.offsetLeft, n.offsetTop);
      var i = Yt(null == r ? void 0 : r.pageYOffset, o.scrollTop),
          a = Yt(null == r ? void 0 : r.pageXOffset, o.scrollLeft),
          u = Yt(o.clientTop, n.clientTop),
          s = Yt(o.clientLeft, n.clientLeft);
      return jn(e).translate(a - s, i - u);
    }(e),
        r = Yf.get(e);

    return {
      element: e,
      bottom: n.top + r,
      height: r,
      pos: n,
      cleanup: t
    };
  }

  function ed(n, r, o, i) {
    jd(n, function (e, t) {
      return zd(n, r, o, i);
    }, o);
  }

  function td(e, t, n, r, o) {
    var i = {
      elm: r.element.dom,
      alignToTop: o
    };
    e.fire("ScrollIntoView", i).isDefaultPrevented() || (n(t, Gt(t).top, r, o), e.fire("AfterScrollIntoView", i));
  }

  function nd(e, t, n, r) {
    var o = Et.fromDom(e.getDoc());
    td(e, o, n, Zf(Et.fromDom(t), oe), r);
  }

  function rd(e, t, n, r) {
    var o,
        i = e.pos;
    n ? Jt(i.left, i.top, r) : (o = i.top - t + e.height, Jt(i.left, o, r));
  }

  function od(e, t, n, r, o) {
    var i = n + t,
        a = r.pos.top,
        u = r.bottom,
        s = n <= u - a;
    a < t ? rd(r, n, !1 !== o, e) : i < a ? rd(r, n, s ? !1 !== o : !0 === o, e) : i < u && !s && rd(r, n, !0 === o, e);
  }

  function id(e, t, n, r) {
    od(e, t, e.dom.defaultView.innerHeight, n, r);
  }

  function ad(e, t, n, r) {
    od(e, t, e.dom.defaultView.innerHeight, n, r);
    var o,
        i,
        a,
        u,
        s,
        c,
        l,
        f = (o = n.element, u = Gt(Et.fromDom(document)), a = (i = Ud).owner(o), s = Fd(i, a), c = jn(o), l = B(s, function (e, t) {
      var n = jn(t);
      return {
        left: e.left + n.left,
        top: e.top + n.top
      };
    }, {
      left: 0,
      top: 0
    }), zn(l.left + c.left + u.left, l.top + c.top + u.top)),
        d = en(window);
    f.top < d.y ? Qt(n.element, !1 !== r) : f.top > d.bottom && Qt(n.element, !0 === r);
  }

  function ud(e, t, n) {
    return ed(e, id, t, n);
  }

  function sd(e, t, n) {
    return nd(e, t, id, n);
  }

  function cd(e, t, n) {
    return ed(e, ad, t, n);
  }

  function ld(e, t, n) {
    return nd(e, t, ad, n);
  }

  function fd(e, t, n) {
    (e.inline ? ud : cd)(e, t, n);
  }

  function dd(e) {
    var t = Ln(e).dom;
    return e.dom === t.activeElement;
  }

  function md(e) {
    return void 0 === e && (e = Et.fromDom(document)), he.from(e.dom.activeElement).map(Et.fromDom);
  }

  function gd(e, t) {
    var n = Tn(t) ? Wl(t).length : On(t).length + 1;
    return n < e ? n : e < 0 ? 0 : e;
  }

  function pd(e) {
    return $d.range(e.start, gd(e.soffset, e.start), e.finish, gd(e.foffset, e.finish));
  }

  function hd(e, t) {
    return !nn(t.dom) && (He(e, t) || je(e, t));
  }

  function vd(t) {
    return function (e) {
      return hd(t, e.start) && hd(t, e.finish);
    };
  }

  function bd(e) {
    return !0 === e.inline || Wd.isIE();
  }

  function yd(e) {
    return $d.range(Et.fromDom(e.startContainer), e.startOffset, Et.fromDom(e.endContainer), e.endOffset);
  }

  function Cd(e) {
    var t = document.createRange();

    try {
      return t.setStart(e.start.dom, e.soffset), t.setEnd(e.finish.dom, e.foffset), he.some(t);
    } catch (e) {
      return he.none();
    }
  }

  function wd(e) {
    var t,
        n,
        r = bd(e) ? (t = Et.fromDom(e.getBody()), ((n = Rt(t).dom.getSelection()) && 0 !== n.rangeCount ? he.from(n.getRangeAt(0)) : he.none()).map(yd).filter(vd(t))) : he.none();
    e.bookmark = r.isSome() ? r : e.bookmark;
  }

  function xd(n) {
    return (n.bookmark || he.none()).bind(function (e) {
      return t = Et.fromDom(n.getBody()), he.from(e).filter(vd(t)).map(pd);
      var t;
    }).bind(Cd);
  }

  function Sd(u) {
    var s = xu(function () {
      wd(u);
    }, 0);
    u.on("init", function () {
      function e() {
        n.throttle();
      }

      var t, n, r, o, i, a;
      u.inline && (t = u, n = s, cu.DOM.bind(document, "mouseup", e), t.on("remove", function () {
        cu.DOM.unbind(document, "mouseup", e);
      })), r = u, o = s, ft().browser.isIE() ? (a = r).on("focusout", function () {
        wd(a);
      }) : (i = o, r.on("mouseup touchend", function (e) {
        i.throttle();
      })), r.on("keyup NodeChange", function (e) {
        "nodechange" === e.type && e.selectionChange || wd(r);
      });
    }), u.on("remove", function () {
      s.cancel();
    });
  }

  function Ed(t, e) {
    var n = t.getParam("custom_ui_selector", "", "string");
    return null !== Xd.getParent(e, function (e) {
      return Kd.isEditorUIElement(e) || !!n && t.dom.is(e, n);
    });
  }

  function Nd(n, e) {
    var t = e.editor;
    Sd(t), t.on("focusin", function () {
      var e = n.focusedEditor;
      e !== t && (e && e.fire("blur", {
        focusedEditor: t
      }), n.setActive(t), (n.focusedEditor = t).fire("focus", {
        blurredEditor: e
      }), t.focus(!0));
    }), t.on("focusout", function () {
      Ur.setEditorTimeout(t, function () {
        var e = n.focusedEditor;
        Ed(t, function (e) {
          try {
            return md(Ln(Et.fromDom(e.getElement()))).fold(function () {
              return document.body;
            }, function (e) {
              return e.dom;
            });
          } catch (e) {
            return document.body;
          }
        }(t)) || e !== t || (t.fire("blur", {
          focusedEditor: null
        }), n.focusedEditor = null);
      });
    }), Md || (Md = function Md(e) {
      var t = n.activeEditor;
      t && !function (e) {
        if (Pn() && V(e.target)) {
          var t = Et.fromDom(e.target);

          if (An(t) && V(t.dom.shadowRoot) && e.composed && e.composedPath) {
            var n = e.composedPath();
            if (n) return W(n);
          }
        }

        return he.from(e.target);
      }(e).each(function (e) {
        e.ownerDocument === document && (e === document.body || Ed(t, e) || n.focusedEditor !== t || (t.fire("blur", {
          focusedEditor: null
        }), n.focusedEditor = null));
      });
    }, Xd.bind(document, "focusin", Md));
  }

  function kd(e, t) {
    e.focusedEditor === t.editor && (e.focusedEditor = null), e.activeEditor || (Xd.unbind(document, "focusin", Md), Md = null);
  }

  function _d(t, e) {
    var n, r;
    n = Et.fromDom(t.getBody()), ((r = e).collapsed ? he.from($u(r.startContainer, r.startOffset)).map(Et.fromDom) : he.none()).bind(function (e) {
      return _o(e) ? he.some(e) : !1 === He(n, e) ? he.some(n) : he.none();
    }).bind(function (e) {
      return mf(e.dom);
    }).fold(function () {
      t.selection.normalize();
    }, function (e) {
      return t.selection.setRng(e.toRange());
    });
  }

  function Ad(t) {
    if (t.setActive) try {
      t.setActive();
    } catch (e) {
      t.focus();
    } else t.focus();
  }

  function Td(e) {
    return e.inline ? (r = e.getBody()) && (dd(t = Et.fromDom(r)) || md(Ln(n = t)).filter(function (e) {
      return n.dom.contains(e.dom);
    }).isSome()) : e.iframeElement && dd(Et.fromDom(e.iframeElement));
    var t, n, r;
  }

  function Rd(e, t, n, r, o) {
    var i = n ? t.startContainer : t.endContainer,
        a = n ? t.startOffset : t.endOffset;
    return he.from(i).map(Et.fromDom).map(function (e) {
      return r && t.collapsed ? e : It(e, o(e, a)).getOr(e);
    }).bind(function (e) {
      return An(e) ? he.some(e) : Dt(e).filter(An);
    }).map(function (e) {
      return e.dom;
    }).getOr(e);
  }

  function Dd(e, t, n) {
    return Rd(e, t, !0, n, function (e, t) {
      return Math.min(Ut(e), t);
    });
  }

  function Od(e, t, n) {
    return Rd(e, t, !1, n, function (e, t) {
      return 0 < t ? t - 1 : t;
    });
  }

  function Bd(e, t) {
    for (var n = e; e && qn(e) && 0 === e.length;) {
      e = t ? e.nextSibling : e.previousSibling;
    }

    return e || n;
  }

  function Pd(n, e) {
    return R(e, function (e) {
      var t = n.fire("GetSelectionRange", {
        range: e
      });
      return t.range !== e ? t.range : e;
    });
  }

  function Ld(e, t, n) {
    var r = n ? "lastChild" : "firstChild",
        o = n ? "prev" : "next";
    if (e[r]) return e[r];

    if (e !== t) {
      var i = e[o];
      if (i) return i;

      for (var a = e.parent; a && a !== t; a = a.parent) {
        if (i = a[o]) return i;
      }
    }
  }

  function Id(e) {
    var t = "a" === e.name && !e.attr("href") && e.attr("id");
    return e.attr("name") || e.attr("id") && !e.firstChild || e.attr("data-mce-bookmark") || t;
  }

  var Md,
      Fd = function Fd(r, e) {
    return r.view(e).fold(J([]), function (e) {
      var t = r.owner(e),
          n = Fd(r, t);
      return [e].concat(n);
    });
  },
      Ud = Object.freeze({
    __proto__: null,
    view: function view(e) {
      var t;
      return (e.dom === document ? he.none() : he.from(null === (t = e.dom.defaultView) || void 0 === t ? void 0 : t.frameElement)).map(Et.fromDom);
    },
    owner: Tt
  }),
      zd = function zd(e, t, n, r) {
    var o = Et.fromDom(e.getBody()),
        i = Et.fromDom(e.getDoc());
    o.dom.offsetWidth;
    var a,
        u,
        s,
        c,
        l = (a = Et.fromDom(n.startContainer), u = n.startOffset, s = function (e, t) {
      var n = On(e);
      if (0 === n.length || Qf(e)) return {
        element: e,
        offset: t
      };
      if (t < n.length && !Qf(n[t])) return {
        element: n[t],
        offset: 0
      };
      var r = n[n.length - 1];
      return Qf(r) ? {
        element: e,
        offset: t
      } : "img" === Nt(r) ? {
        element: r,
        offset: 1
      } : Tn(r) ? {
        element: r,
        offset: Wl(r).length
      } : {
        element: r,
        offset: On(r).length
      };
    }(a, u), c = Et.fromHtml("<span data-mce-bogus=\"all\">\uFEFF</span>"), Vt(s.element, c), Zf(c, function () {
      return Mn(c);
    }));
    td(e, i, t, l, r), l.cleanup();
  },
      jd = function jd(e, t, n) {
    var r = n.startContainer,
        o = n.startOffset,
        i = n.endContainer,
        a = n.endOffset;
    t(Et.fromDom(r), Et.fromDom(i));
    var u = e.dom.createRng();
    u.setStart(r, o), u.setEnd(i, a), e.selection.setRng(n);
  },
      Hd = ar([{
    before: ["element"]
  }, {
    on: ["element", "offset"]
  }, {
    after: ["element"]
  }]),
      Vd = (Hd.before, Hd.on, Hd.after, function (e) {
    return e.fold(u, u, u);
  }),
      qd = ar([{
    domRange: ["rng"]
  }, {
    relative: ["startSitu", "finishSitu"]
  }, {
    exact: ["start", "soffset", "finish", "foffset"]
  }]),
      $d = {
    domRange: qd.domRange,
    relative: qd.relative,
    exact: qd.exact,
    exactFromRange: function exactFromRange(e) {
      return qd.exact(e.start, e.soffset, e.finish, e.foffset);
    },
    getWin: function getWin(e) {
      return Rt(e.match({
        domRange: function domRange(e) {
          return Et.fromDom(e.startContainer);
        },
        relative: function relative(e, t) {
          return Vd(e);
        },
        exact: function exact(e, t, n, r) {
          return e;
        }
      }));
    },
    range: function range(e, t, n, r) {
      return {
        start: e,
        soffset: t,
        finish: n,
        foffset: r
      };
    }
  },
      Wd = ft().browser,
      Kd = {
    isEditorUIElement: function isEditorUIElement(e) {
      var t = e.className.toString();
      return -1 !== t.indexOf("tox-") || -1 !== t.indexOf("mce-");
    }
  },
      Xd = cu.DOM,
      Yd = function Yd(e) {
    return e.editorManager.setActive(e);
  },
      Gd = {
    "#text": 3,
    "#comment": 8,
    "#cdata": 4,
    "#pi": 7,
    "#doctype": 10,
    "#document-fragment": 11
  },
      Jd = (Qd.create = function (e, t) {
    var n = new Qd(e, Gd[e] || 1);
    return t && Q(t, function (e, t) {
      n.attr(t, e);
    }), n;
  }, Qd.prototype.replace = function (e) {
    return e.parent && e.remove(), this.insert(e, this), this.remove(), this;
  }, Qd.prototype.attr = function (e, t) {
    var n,
        r = this;
    if ("string" != typeof e) return null != e && Q(e, function (e, t) {
      r.attr(t, e);
    }), r;

    if (n = r.attributes) {
      if (void 0 === t) return n.map[e];

      if (null === t) {
        if (e in n.map) {
          delete n.map[e];

          for (var o = n.length; o--;) {
            if (n[o].name === e) return n.splice(o, 1), r;
          }
        }

        return r;
      }

      if (e in n.map) {
        for (o = n.length; o--;) {
          if (n[o].name === e) {
            n[o].value = t;
            break;
          }
        }
      } else n.push({
        name: e,
        value: t
      });

      return n.map[e] = t, r;
    }
  }, Qd.prototype.clone = function () {
    var e,
        t = new Qd(this.name, this.type);

    if (e = this.attributes) {
      var n = [];
      n.map = {};

      for (var r = 0, o = e.length; r < o; r++) {
        var i = e[r];
        "id" !== i.name && (n[n.length] = {
          name: i.name,
          value: i.value
        }, n.map[i.name] = i.value);
      }

      t.attributes = n;
    }

    return t.value = this.value, t.shortEnded = this.shortEnded, t;
  }, Qd.prototype.wrap = function (e) {
    return this.parent.insert(e, this), e.append(this), this;
  }, Qd.prototype.unwrap = function () {
    for (var e = this.firstChild; e;) {
      var t = e.next;
      this.insert(e, this, !0), e = t;
    }

    this.remove();
  }, Qd.prototype.remove = function () {
    var e = this.parent,
        t = this.next,
        n = this.prev;
    return e && (e.firstChild === this ? (e.firstChild = t) && (t.prev = null) : n.next = t, e.lastChild === this ? (e.lastChild = n) && (n.next = null) : t.prev = n, this.parent = this.next = this.prev = null), this;
  }, Qd.prototype.append = function (e) {
    e.parent && e.remove();
    var t = this.lastChild;
    return t ? ((t.next = e).prev = t, this.lastChild = e) : this.lastChild = this.firstChild = e, e.parent = this, e;
  }, Qd.prototype.insert = function (e, t, n) {
    e.parent && e.remove();
    var r = t.parent || this;
    return n ? (t === r.firstChild ? r.firstChild = e : t.prev.next = e, e.prev = t.prev, (e.next = t).prev = e) : (t === r.lastChild ? r.lastChild = e : t.next.prev = e, e.next = t.next, (e.prev = t).next = e), e.parent = r, e;
  }, Qd.prototype.getAll = function (e) {
    for (var t = [], n = this.firstChild; n; n = Ld(n, this)) {
      n.name === e && t.push(n);
    }

    return t;
  }, Qd.prototype.children = function () {
    for (var e = [], t = this.firstChild; t; t = t.next) {
      e.push(t);
    }

    return e;
  }, Qd.prototype.empty = function () {
    if (this.firstChild) {
      for (var e = [], t = this.firstChild; t; t = Ld(t, this)) {
        e.push(t);
      }

      for (var n = e.length; n--;) {
        (t = e[n]).parent = t.firstChild = t.lastChild = t.next = t.prev = null;
      }
    }

    return this.firstChild = this.lastChild = null, this;
  }, Qd.prototype.isEmpty = function (e, t, n) {
    void 0 === t && (t = {});
    var r = this.firstChild;
    if (Id(this)) return !1;
    if (r) do {
      if (1 === r.type) {
        if (r.attr("data-mce-bogus")) continue;
        if (e[r.name]) return !1;
        if (Id(r)) return !1;
      }

      if (8 === r.type) return !1;
      if (3 === r.type && !function (e) {
        if (no(e.value)) {
          var t = e.parent;
          return !t || "span" === t.name && !t.attr("style") || !/^[ ]+$/.test(e.value);
        }
      }(r)) return !1;
      if (3 === r.type && r.parent && t[r.parent.name] && no(r.value)) return !1;
      if (n && n(r)) return !1;
    } while (r = Ld(r, this));
    return !0;
  }, Qd.prototype.walk = function (e) {
    return Ld(this, null, e);
  }, Qd);

  function Qd(e, t) {
    this.name = e, 1 === (this.type = t) && (this.attributes = [], this.attributes.map = {});
  }

  function Zd(e, t) {
    return e.replace(t.re, function (e) {
      return ae(t.uris, e).getOr(e);
    });
  }

  function em(e, t, n) {
    for (var r = /<([!?\/])?([A-Za-z0-9\-_:.]+)/g, o = /(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g, i = e.getShortEndedElements(), a = 1, u = n; 0 !== a;) {
      for (r.lastIndex = u;;) {
        var s = r.exec(t);
        if (null === s) return u;

        if ("!" === s[1]) {
          u = Ye(s[2], "--") ? om(t, !1, s.index + "!--".length) : om(t, !0, s.index + 1);
          break;
        }

        o.lastIndex = r.lastIndex;
        var c = o.exec(t);

        if (!l(c) && c.index === r.lastIndex) {
          "/" === s[1] ? --a : Ee(i, s[2]) || (a += 1), u = r.lastIndex + c[0].length;
          break;
        }
      }
    }

    return u;
  }

  function tm(W, K) {
    var e;
    void 0 === K && (K = go());
    var X = null !== (e = (W = W || {}).document) && void 0 !== e ? e : document,
        Y = X.createElement("form");

    function n(m, e) {
      void 0 === e && (e = "html");

      for (var t, i, n, g, r, o, a, p, u, s, c, l, f, h, v, d, b, y, C, w = m.html, x = 0, S = [], E = 0, N = si.decode, k = St.makeMap("src,href,data,background,action,formaction,poster,xlink:href"), _ = /((java|vb)script|mhtml):/i, A = "html" === e ? 0 : 1, T = function T(e) {
        for (var t, n = S.length; n-- && S[n].name !== e;) {
          ;
        }

        if (0 <= n) {
          for (t = S.length - 1; n <= t; t--) {
            (e = S[t]).valid && ee(e.name);
          }

          S.length = n;
        }
      }, R = function R(e, t) {
        return Q(Zd(e, m), t);
      }, D = function D(e) {
        "" !== e && (">" === e.charAt(0) && (e = " " + e), W.allow_conditional_comments || "[if" !== e.substr(0, 3).toLowerCase() || (e = " " + e), G(Zd(e, m)));
      }, O = function O(e, t) {
        var n = e || "",
            r = !Ye(n, "--"),
            o = om(w, r, t);
        return e = w.substr(t, o - t), D(r ? n + e : e), o + 1;
      }, B = function B(e, t, n, r, o) {
        var i, a, u, s, c, l, f;

        if (n = Zd(((t = t.toLowerCase()) in F) ? t : N(n || r || o || ""), m), U && !p && 0 == (0 === (u = t).indexOf("data-") || 0 === u.indexOf("aria-"))) {
          if (!(i = h[t]) && v) {
            for (a = v.length; a-- && !(i = v[a]).pattern.test(t);) {
              ;
            }

            -1 === a && (i = null);
          }

          if (!i) return;
          if (i.validValues && !(n in i.validValues)) return;
        }

        if ("name" !== t && "id" !== t || !(e in rm) || !((n in X) || (n in Y))) {
          if (k[t] && !W.allow_script_urls) {
            var d = n.replace(/[\s\u0000-\u001F]+/g, "");

            try {
              d = decodeURIComponent(d);
            } catch (e) {
              d = unescape(d);
            }

            if (_.test(d)) return;
            if (c = d, l = e, !(s = W).allow_html_data_urls && (/^data:image\//i.test(c) ? !(re(f = s.allow_svg_data_urls) ? ie(nm, l) : f) && /^data:image\/svg\+xml/i.test(c) : /^data:/i.test(c))) return;
          }

          p && ((t in k) || 0 === t.indexOf("on")) || (g.map[t] = n, g.push({
            name: t,
            value: n
          }));
        }
      }, P = new RegExp("<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\w\\W]*?)>)|(?:!(--)?)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_:.]*)(\\s(?:[^'\">]+(?:\"[^\"]*\"|'[^']*'))*[^\"'>]*(?:\"[^\">]*|'[^'>]*)?|\\s*|\\/)>))", "g"), L = /([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g, I = K.getShortEndedElements(), M = W.self_closing_elements || K.getSelfClosingElements(), F = K.getBoolAttrs(), U = W.validate, z = W.remove_internals, j = W.fix_self_closing, H = K.getSpecialElements(), V = w + ">"; t = P.exec(V);) {
        var q = t[0];
        if (x < t.index && R(N(w.substr(x, t.index - x))), i = t[7]) T(i = ":" === (i = i.toLowerCase()).charAt(0) ? i.substr(1) : i);else if (i = t[8]) {
          if (t.index + q.length > w.length) {
            R(N(w.substr(t.index))), x = t.index + q.length;
            continue;
          }

          u = (i = ":" === (i = i.toLowerCase()).charAt(0) ? i.substr(1) : i) in I, j && M[i] && 0 < S.length && S[S.length - 1].name === i && T(i);

          var $ = function (e, t) {
            var n = e.exec(t);

            if (n) {
              var r = n[1],
                  o = n[2];
              return "string" == typeof r && "data-mce-bogus" === r.toLowerCase() ? o : null;
            }

            return null;
          }(L, t[9]);

          if (null !== $) {
            if ("all" === $) {
              x = em(K, w, P.lastIndex), P.lastIndex = x;
              continue;
            }

            c = !1;
          }

          if (!U || (s = K.getElementRule(i))) {
            if (c = !0, U && (h = s.attributes, v = s.attributePatterns), (f = t[9]) ? ((p = -1 !== f.indexOf("data-mce-type")) && z && (c = !1), (g = []).map = {}, f.replace(L, function (e, t, n, r, o) {
              return B(i, t, n, r, o), "";
            })) : (g = []).map = {}, U && !p) {
              if (d = s.attributesRequired, b = s.attributesDefault, y = s.attributesForced, s.removeEmptyAttrs && !g.length && (c = !1), y) for (r = y.length; r--;) {
                a = (l = y[r]).name, "{$uid}" === (C = l.value) && (C = "mce_" + E++), g.map[a] = C, g.push({
                  name: a,
                  value: C
                });
              }
              if (b) for (r = b.length; r--;) {
                (a = (l = b[r]).name) in g.map || ("{$uid}" === (C = l.value) && (C = "mce_" + E++), g.map[a] = C, g.push({
                  name: a,
                  value: C
                }));
              }

              if (d) {
                for (r = d.length; r-- && !(d[r] in g.map);) {
                  ;
                }

                -1 === r && (c = !1);
              }

              if (l = g.map["data-mce-bogus"]) {
                if ("all" === l) {
                  x = em(K, w, P.lastIndex), P.lastIndex = x;
                  continue;
                }

                c = !1;
              }
            }

            c && Z(i, g, u);
          } else c = !1;

          if (n = H[i]) {
            n.lastIndex = x = t.index + q.length, x = (t = n.exec(w)) ? (c && (o = w.substr(x, t.index - x)), t.index + t[0].length) : (o = w.substr(x), w.length), c && (0 < o.length && R(o, !0), ee(i)), P.lastIndex = x;
            continue;
          }

          u || (f && f.indexOf("/") === f.length - 1 ? c && ee(i) : S.push({
            name: i,
            valid: c
          }));
        } else if (i = t[1]) D(i);else if (i = t[2]) {
          if (!(1 == A || W.preserve_cdata || 0 < S.length && K.isValidChild(S[S.length - 1].name, "#cdata"))) {
            x = O("", t.index + 2), P.lastIndex = x;
            continue;
          }

          J(i);
        } else if (i = t[3]) ne(i);else {
          if ((i = t[4]) || "<!" === q) {
            x = O(i, t.index + q.length), P.lastIndex = x;
            continue;
          }

          if (i = t[5]) {
            if (1 != A) {
              x = O("?", t.index + 2), P.lastIndex = x;
              continue;
            }

            te(i, t[6]);
          }
        }
        x = t.index + q.length;
      }

      for (x < w.length && R(N(w.substr(x))), r = S.length - 1; 0 <= r; r--) {
        (i = S[r]).valid && ee(i.name);
      }
    }

    !1 !== W.fix_self_closing && (W.fix_self_closing = !0);
    var G = W.comment || oe,
        J = W.cdata || oe,
        Q = W.text || oe,
        Z = W.start || oe,
        ee = W.end || oe,
        te = W.pi || oe,
        ne = W.doctype || oe;
    return {
      parse: function parse(e, t) {
        void 0 === t && (t = "html"), n(function (e) {
          for (var t, n = /data:[^;]+;base64,([a-z0-9\+\/=\s]+)/gi, r = [], o = {}, i = Du("img"), a = 0, u = 0; t = n.exec(e);) {
            var s = t[0],
                c = i + "_" + u++;
            o[c] = s, a < t.index && r.push(e.substr(a, t.index - a)), r.push(c), a = t.index + s.length;
          }

          var l = new RegExp(i + "_[0-9]+", "g");
          return 0 === a ? {
            prefix: i,
            uris: o,
            html: e,
            re: l
          } : (a < e.length && r.push(e.substr(a)), {
            prefix: i,
            uris: o,
            html: r.join(""),
            re: l
          });
        }(e), t);
      }
    };
  }

  var nm = ["img", "video"],
      rm = St.makeMap("button,fieldset,form,iframe,img,image,input,object,output,select,textarea"),
      om = function om(e, t, n) {
    void 0 === n && (n = 0);
    var r = e.toLowerCase();

    if (-1 !== r.indexOf("[if ", n) && (u = n, /^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(r.substr(u)))) {
      var o = r.indexOf("[endif]", n);
      return r.indexOf(">", o);
    }

    if (t) {
      var i = r.indexOf(">", n);
      return -1 !== i ? i : r.length;
    }

    var a = /--!?>/g;
    a.lastIndex = n;
    var u,
        s = a.exec(e);
    return s ? s.index + s[0].length : r.length;
  };

  function im(e, t) {
    for (var n, r, o, i, a = /<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g, u = e.schema, s = (n = e.getTempAttrs(), r = t, o = new RegExp(["\\s?(" + n.join("|") + ')="[^"]+"'].join("|"), "gi"), r.replace(o, "")), c = u.getShortEndedElements(); i = a.exec(s);) {
      var l = a.lastIndex,
          f = i[0].length,
          d = c[i[1]] ? l : tm.findEndTag(u, s, l),
          s = s.substring(0, l - f) + s.substring(d);
      a.lastIndex = l - f;
    }

    return Po(s);
  }

  function am(o) {
    return {
      compare: function compare(e, t) {
        return e.nodeName === t.nodeName && !(!r(n(e), n(t)) || !r(o.parseStyle(o.getAttrib(e, "style")), o.parseStyle(o.getAttrib(t, "style"))) || ul(e) || ul(t));

        function n(n) {
          var r = {};
          return lm(o.getAttribs(n), function (e) {
            var t = e.nodeName.toLowerCase();
            0 !== t.indexOf("_") && "style" !== t && 0 !== t.indexOf("data-") && (r[t] = o.getAttrib(n, t));
          }), r;
        }

        function r(e, t) {
          var n, r;

          for (r in e) {
            if (Ee(e, r)) {
              if (void 0 === (n = t[r])) return;
              if (e[r] !== n) return;
              delete t[r];
            }
          }

          for (r in t) {
            if (Ee(t, r)) return;
          }

          return 1;
        }
      }
    };
  }

  function um(e) {
    var u = [],
        s = (e = e || {}).indent,
        c = fm(e.indent_before || ""),
        l = fm(e.indent_after || ""),
        f = si.getEncodeFunc(e.entity_encoding || "raw", e.entities),
        d = "html" === e.element_format;
    return {
      start: function start(e, t, n) {
        var r, o, i, a;
        if (s && c[e] && 0 < u.length && 0 < (a = u[u.length - 1]).length && "\n" !== a && u.push("\n"), u.push("<", e), t) for (r = 0, o = t.length; r < o; r++) {
          i = t[r], u.push(" ", i.name, '="', f(i.value, !0), '"');
        }
        u[u.length] = !n || d ? ">" : " />", n && s && l[e] && 0 < u.length && 0 < (a = u[u.length - 1]).length && "\n" !== a && u.push("\n");
      },
      end: function end(e) {
        var t;
        u.push("</", e, ">"), s && l[e] && 0 < u.length && 0 < (t = u[u.length - 1]).length && "\n" !== t && u.push("\n");
      },
      text: function text(e, t) {
        0 < e.length && (u[u.length] = t ? e : f(e));
      },
      cdata: function cdata(e) {
        u.push("<![CDATA[", e, "]]>");
      },
      comment: function comment(e) {
        u.push("\x3c!--", e, "--\x3e");
      },
      pi: function pi(e, t) {
        t ? u.push("<?", e, " ", f(t), "?>") : u.push("<?", e, "?>"), s && u.push("\n");
      },
      doctype: function doctype(e) {
        u.push("<!DOCTYPE", e, ">", s ? "\n" : "");
      },
      reset: function reset() {
        u.length = 0;
      },
      getContent: function getContent() {
        return u.join("").replace(/\n$/, "");
      }
    };
  }

  function sm(t, g) {
    void 0 === g && (g = go());
    var p = um(t);
    return (t = t || {}).validate = !("validate" in t) || t.validate, {
      serialize: function serialize(e) {
        var f = t.validate,
            d = {
          3: function _(e) {
            p.text(e.value, e.raw);
          },
          8: function _(e) {
            p.comment(e.value);
          },
          7: function _(e) {
            p.pi(e.name, e.value);
          },
          10: function _(e) {
            p.doctype(e.value);
          },
          4: function _(e) {
            p.cdata(e.value);
          },
          11: function _(e) {
            if (e = e.firstChild) for (; m(e), e = e.next;) {
              ;
            }
          }
        };
        p.reset();

        var m = function m(e) {
          var t = d[e.type];
          if (t) t(e);else {
            var n = e.name,
                r = e.shortEnded,
                o = e.attributes;

            if (f && o && 1 < o.length) {
              var i = [];
              i.map = {};
              var a = g.getElementRule(e.name);

              if (a) {
                for (var u = 0, s = a.attributesOrder.length; u < s; u++) {
                  (c = a.attributesOrder[u]) in o.map && (l = o.map[c], i.map[c] = l, i.push({
                    name: c,
                    value: l
                  }));
                }

                for (var c, l, u = 0, s = o.length; u < s; u++) {
                  (c = o[u].name) in i.map || (l = o.map[c], i.map[c] = l, i.push({
                    name: c,
                    value: l
                  }));
                }

                o = i;
              }
            }

            if (p.start(e.name, o, r), !r) {
              if (e = e.firstChild) for (; m(e), e = e.next;) {
                ;
              }
              p.end(n);
            }
          }
        };

        return 1 !== e.type || t.inner ? d[11](e) : m(e), p.getContent();
      }
    };
  }

  tm.findEndTag = em;
  var cm = im,
      lm = St.each,
      fm = St.makeMap,
      dm = new Set();

  function mm(e, t) {
    return we(e.parseStyle(e.getAttrib(t, "style")));
  }

  function gm(n, r, o) {
    return he.from(o.container()).filter(qn).exists(function (e) {
      var t = n ? 0 : -1;
      return r(e.data.charAt(o.offset() + t));
    });
  }

  function pm(e) {
    var t = e.container();
    return qn(t) && (0 === t.data.length || Bo(t.data) && Gl.isBookmarkNode(t.parentNode));
  }

  function hm(t, n) {
    return function (e) {
      return he.from(sc(t ? 0 : -1, e)).filter(n).isSome();
    };
  }

  function vm(e) {
    return Yn(e) && "block" === Cn(Et.fromDom(e), "display");
  }

  function bm(e) {
    return Jn(e) && !(Hn(t = e) && "all" === t.getAttribute("data-mce-bogus"));
    var t;
  }

  function ym(e) {
    Kt(e), In(e, Et.fromHtml('<br data-mce-bogus="1">'));
  }

  function Cm(n) {
    Ft(n).each(function (t) {
      Ot(t).each(function (e) {
        So(n) && $r(t) && So(e) && Mn(t);
      });
    });
  }

  function wm(e, t) {
    return o = T, He(r = t, n = e) ? function (e, t) {
      for (var n = y(t) ? t : T, r = e.dom, o = []; null !== r.parentNode && void 0 !== r.parentNode;) {
        var i = r.parentNode,
            a = Et.fromDom(i);
        if (o.push(a), !0 === n(a)) break;
        r = i;
      }

      return o;
    }(n, function (e) {
      return o(e) || je(e, r);
    }).slice(0, -1) : [];
    var n, r, o;
  }

  function xm(e, t) {
    return [e].concat(wm(e, t));
  }

  function Sm(e, t, n) {
    return lf(e, t, n, pm);
  }

  function Em(e, t) {
    return I(xm(Et.fromDom(t.container()), e), So);
  }

  function Nm(e, n, r) {
    return Sm(e, n.dom, r).forall(function (t) {
      return Em(n, r).fold(function () {
        return !1 === uc(t, r, n.dom);
      }, function (e) {
        return !1 === uc(t, r, n.dom) && He(e, Et.fromDom(t.container()));
      });
    });
  }

  function km(t, n, r) {
    return Em(n, r).fold(function () {
      return Sm(t, n.dom, r).forall(function (e) {
        return !1 === uc(e, r, n.dom);
      });
    }, function (e) {
      return Sm(t, e.dom, r).isNone();
    });
  }

  function _m(e) {
    return gc(e).exists($r);
  }

  function Am(e, t, n) {
    var r = W(U(xm(Et.fromDom(n.container()), t), So)).getOr(t);
    return cf(e, r.dom, n).filter(_m);
  }

  function Tm(e, t) {
    return gc(t).exists($r) || Am(!0, e, t).isSome();
  }

  function Rm(e, t) {
    return he.from(t.getNode(!0)).map(Et.fromDom).exists($r) || Am(!1, e, t).isSome();
  }

  function Dm(e) {
    return bs.isTextPosition(e) && !e.isAtStart() && !e.isAtEnd();
  }

  function Om(e, t) {
    return W(U(xm(Et.fromDom(t.container()), e), So)).getOr(e);
  }

  function Bm(e, t) {
    return Dm(t) ? Zg(t) : Zg(t) || df(Om(e, t).dom, t).exists(Zg);
  }

  function Pm(e, t) {
    return Dm(t) ? Qg(t) : Qg(t) || ff(Om(e, t).dom, t).exists(Qg);
  }

  function Lm(e) {
    return gc(e).bind(function (e) {
      return vr(e, An);
    }).exists(function (e) {
      return ie(["pre", "pre-wrap"], Cn(e, "white-space"));
    });
  }

  function Im(e, t) {
    return !Lm(t) && (sp(e, t) || lp(e, t) || Rm(e, t) || Bm(e, t));
  }

  function Mm(e, t) {
    return !Lm(t) && (cp(e, t) || fp(e, t) || Tm(e, t) || Pm(e, t));
  }

  function Fm(e, t) {
    return Im(e, t) || Mm(e, (r = (n = t).container(), o = n.offset(), qn(r) && o < r.data.length ? bs(r, o + 1) : n));
    var n, r, o;
  }

  function Um(e, t) {
    return vf(e.charAt(t));
  }

  function zm(e) {
    var t = e.container();
    return qn(t) && Re(t.data, Do);
  }

  function jm(g, e) {
    return he.some(e).filter(zm).bind(function (e) {
      var t,
          n,
          r,
          o,
          i,
          a,
          u,
          s,
          c,
          l = e.container(),
          f = g,
          d = (i = l).data,
          m = bs(i, 0);
      return (!Um(d, 0) || Fm(f, m) ? (s = (a = l).data, (c = R(u = s.split(""), function (e, t) {
        return vf(e) && 0 < t && t < u.length - 1 && cl(u[t - 1]) && cl(u[t + 1]) ? " " : e;
      }).join("")) !== s && (a.data = c, 1)) : (i.data = " " + d.slice(1), 1)) || (t = g, r = (n = l).data, o = bs(n, r.length - 1), Um(r, r.length - 1) && !Fm(t, o) && (n.data = r.slice(0, -1) + " ", 1)) ? he.some(e) : he.none();
    });
  }

  function Hm(t) {
    var e = Et.fromDom(t.getBody());
    t.selection.isCollapsed() && jm(e, bs.fromRangeStart(t.selection.getRng())).each(function (e) {
      t.selection.setRng(e.toRange());
    });
  }

  function Vm(e, t, n) {
    var r, o, i, a, u, s, c, l;
    0 !== n && (o = hr(r = Et.fromDom(e), So).getOr(r), i = e.data.slice(t, t + n), a = t + n >= e.data.length && Mm(o, bs(e, e.data.length)), u = 0 === t && Im(o, bs(e, 0)), e.replaceData(t, n, (c = u, l = a, P(s = i, function (e, t) {
      return sl(t) || vf(t) ? e.previousCharIsSpace || "" === e.str && c || e.str.length === s.length - 1 && l ? {
        previousCharIsSpace: !1,
        str: e.str + Do
      } : {
        previousCharIsSpace: !0,
        str: e.str + " "
      } : {
        previousCharIsSpace: !1,
        str: e.str + t
      };
    }, {
      previousCharIsSpace: !1,
      str: ""
    }).str)));
  }

  function qm(e, t) {
    var n = e.data.slice(t);
    Vm(e, t, n.length - Je(n).length);
  }

  function $m(e, t) {
    var n = e.data.slice(0, t),
        r = n.length - Qe(n).length;
    Vm(e, t - r, r);
  }

  function Wm(e, t, n, r) {
    void 0 === r && (r = !0);
    var o = Qe(e.data).length,
        i = r ? e : t,
        a = r ? t : e;
    return r ? i.appendData(a.data) : i.insertData(0, a.data), Mn(Et.fromDom(a)), n && qm(i, o), i;
  }

  function Km(e, t) {
    return r = e, o = (n = t).container(), i = n.offset(), !1 === bs.isTextPosition(n) && o === r.parentNode && i > bs.before(r).offset() ? bs(t.container(), t.offset() - 1) : t;
    var n, r, o, i;
  }

  function Xm(e) {
    return eo(e.previousSibling) ? he.some((t = e.previousSibling, qn(t) ? bs(t, t.data.length) : bs.after(t))) : e.previousSibling ? gf(e.previousSibling) : he.none();
    var t;
  }

  function Ym(e) {
    return eo(e.nextSibling) ? he.some((t = e.nextSibling, qn(t) ? bs(t, 0) : bs.before(t))) : e.nextSibling ? mf(e.nextSibling) : he.none();
    var t;
  }

  function Gm(r, o) {
    return Xm(o).orThunk(function () {
      return Ym(o);
    }).orThunk(function () {
      return e = r, n = bs.before((t = o).previousSibling || t.parentNode), df(e, n).fold(function () {
        return ff(e, bs.after(t));
      }, he.some);
      var e, t, n;
    });
  }

  function Jm(n, r) {
    return Ym(r).orThunk(function () {
      return Xm(r);
    }).orThunk(function () {
      return ff(e = n, bs.after(t = r)).fold(function () {
        return df(e, bs.before(t));
      }, he.some);
      var e, t;
    });
  }

  function Qm(t, n, e) {
    e.fold(function () {
      t.focus();
    }, function (e) {
      t.selection.setRng(e.toRange(), n);
    });
  }

  function Zm(e, t) {
    return t && Ee(e.schema.getBlockElements(), Nt(t));
  }

  function eg(e) {
    if (oo(e)) {
      var t = Et.fromHtml('<br data-mce-bogus="1">');
      return Kt(e), In(e, t), he.some(bs.before(t.dom));
    }

    return he.none();
  }

  function tg(t, n, e, r) {
    void 0 === r && (r = !0);
    var o,
        i,
        a,
        u,
        s,
        c,
        l,
        f,
        d,
        m,
        g,
        p,
        h,
        v,
        b = (p = n, h = t.getBody(), v = e.dom, (p ? Jm : Gm)(h, v).map(A(Km, v))),
        y = hr(e, A(Zm, t), (o = t.getBody(), function (e) {
      return e.dom === o;
    })),
        C = (u = b, i = a = e, s = Ee(t.schema.getTextInlineElements(), Nt(i)), m = Ot(a).filter(Tn), g = Bt(a).filter(Tn), Mn(a), l = g, f = u, d = function d(e, t, n) {
      var r = e.dom,
          o = t.dom,
          i = r.data.length;
      return Wm(r, o, s), n.container() === o ? bs(r, i) : n;
    }, ((c = m).isSome() && l.isSome() && f.isSome() ? he.some(d(c.getOrDie(), l.getOrDie(), f.getOrDie())) : he.none()).orThunk(function () {
      return s && (m.each(function (e) {
        return $m(e.dom, e.dom.length);
      }), g.each(function (e) {
        return qm(e.dom, 0);
      })), u;
    }));
    t.dom.isEmpty(t.getBody()) ? (t.setContent(""), t.selection.setCursorLocation()) : y.bind(eg).fold(function () {
      r && Qm(t, n, C);
    }, function (e) {
      r && Qm(t, n, he.some(e));
    });
  }

  function ng(e) {
    return Au(e, "td,th");
  }

  function rg(e, t) {
    return {
      start: e,
      end: t
    };
  }

  function og(e, t) {
    return Cr(Et.fromDom(e), "td,th", t);
  }

  function ig(e) {
    return !je(e.start, e.end);
  }

  function ag(e, n) {
    return zl(e.start, n).bind(function (t) {
      return zl(e.end, n).bind(function (e) {
        return je(t, e) ? he.some(t) : he.none();
      });
    });
  }

  function ug(e) {
    return function (t) {
      return ag(t, e).map(function (e) {
        return {
          rng: t,
          table: e,
          cells: ng(e)
        };
      });
    };
  }

  function sg(e, t, n, r) {
    if (n.collapsed || !e.forall(ig)) return he.none();

    if (t.isSameTable) {
      var o = e.bind(ug(r));
      return he.some({
        start: o,
        end: o
      });
    }

    var i,
        a,
        u = og(n.startContainer, r),
        s = og(n.endContainer, r),
        c = u.bind((a = r, function (t) {
      return zl(t, a).bind(function (e) {
        return Y(ng(e)).map(function (e) {
          return rg(t, e);
        });
      });
    })).bind(ug(r)),
        l = s.bind((i = r, function (t) {
      return zl(t, i).bind(function (e) {
        return W(ng(e)).map(function (e) {
          return rg(e, t);
        });
      });
    })).bind(ug(r));
    return he.some({
      start: c,
      end: l
    });
  }

  function cg(e, t) {
    return M(e, function (e) {
      return je(e, t);
    });
  }

  function lg(n) {
    return fn(cg(n.cells, n.rng.start), cg(n.cells, n.rng.end), function (e, t) {
      return n.cells.slice(e, t + 1);
    });
  }

  function fg(e, t) {
    var n = t.startTable,
        r = t.endTable,
        o = e.cloneRange();
    return n.each(function (e) {
      return o.setStartAfter(e.dom);
    }), r.each(function (e) {
      return o.setEndBefore(e.dom);
    }), o;
  }

  function dg(e, t) {
    var n,
        r,
        o,
        i,
        a,
        u,
        s,
        c,
        l,
        f,
        d,
        m,
        g,
        p,
        h,
        v,
        b = (n = e, function (e) {
      return je(n, e);
    }),
        y = fn(og((r = t).startContainer, o = b), og(r.endContainer, o), rg),
        C = (l = b, f = w((c = t).startContainer), d = w(c.endContainer), m = f.isSome(), g = d.isSome(), p = fn(f, d, je).getOr(!1), {
      startTable: f,
      endTable: d,
      isStartInTable: m,
      isEndInTable: g,
      isSameTable: p,
      isMultiTable: !p && m && g
    });

    function w(e) {
      return zl(Et.fromDom(e), l);
    }

    return h = t, v = b, y.exists(function (e) {
      return !ig(t = e) && ag(t, v).exists(function (e) {
        var t = e.dom.rows;
        return 1 === t.length && 1 === t[0].cells.length;
      }) && jl(e.start, h);
      var t;
    }) ? y.map(function (e) {
      return gp.singleCellTable(t, e.start);
    }) : C.isMultiTable ? sg(y, u = C, s = t, b).bind(function (e) {
      var t = e.start,
          n = e.end,
          r = t.bind(lg).getOr([]),
          o = n.bind(lg).getOr([]);

      if (0 < r.length && 0 < o.length) {
        var i = fg(s, u);
        return he.some(gp.multiTable(r, o, i));
      }

      return he.none();
    }) : sg(y, i = C, a = t, b).bind(function (e) {
      var t = e.start,
          n = e.end;
      return t.or(n);
    }).bind(function (e) {
      var t = i.isSameTable,
          n = lg(e).getOr([]);
      if (t && e.cells.length === n.length) return he.some(gp.fullTable(e.table));

      if (0 < n.length) {
        if (t) return he.some(gp.partialTable(n, he.none()));
        var r = fg(a, i);
        return he.some(gp.partialTable(n, he.some(_ke(_ke({}, i), {
          rng: r
        }))));
      }

      return he.none();
    });
  }

  function mg(e) {
    return X(e, function (e) {
      bn(e, "contenteditable"), ym(e);
    }), 0;
  }

  function gg(e, t) {
    var n = Ul(e);
    e.selection.setCursorLocation(t.dom, 0), 1 < n.length && gn(t, "data-mce-selected", "1");
  }

  function pg(u, e, t) {
    return mg(e), t.map(function (e) {
      var t,
          n,
          r,
          o = e.rng,
          i = e.isStartInTable,
          a = (t = i ? o.endContainer : o.startContainer, he.from(u.dom.getParent(t, u.dom.isBlock)).map(Et.fromDom));
      o.deleteContents(), n = u, r = i, a.filter(oo).each(function (e) {
        r ? Mn(e) : (ym(e), n.selection.setCursorLocation(e.dom, 0));
      });
    }), t.forall(function (e) {
      return e.isStartInTable;
    }) ? gg(u, e[0]) : u.selection.collapse(!0), !0;
  }

  function hg(e, t, n, r) {
    return mg(t.concat(n)), r.deleteContents(), gg(e, t[0]), !0;
  }

  function vg(e, t, n) {
    t.deleteContents();
    var r,
        o = pp(n).getOr(n),
        i = Et.fromDom(e.dom.getParent(o.dom, e.dom.isBlock));
    return oo(i) && (ym(i), e.selection.setCursorLocation(i.dom, 0)), je(n, i) || X((ln(Dt(i), n) ? [] : Dt(r = i).map(On).map(function (e) {
      return U(e, function (e) {
        return !je(r, e);
      });
    }).getOr([])).concat(On(n)), function (e) {
      je(e, i) || He(e, i) || Mn(e);
    }), !0;
  }

  function bg(e, t) {
    return tg(e, !1, t), !0;
  }

  function yg(e, t) {
    return I(xm(t, e), Ao);
  }

  function Cg(e, t) {
    return (e ? op : ip)(t);
  }

  function wg(f, d, s) {
    var m = Et.fromDom(f.getBody());
    return hp(m, s).fold(function () {
      return o = f, i = d, a = m, e = s, u = bs.fromRangeStart(o.selection.getRng()), yg(a, e).bind(function (e) {
        return oo(e) ? vp(o, e) : (t = a, n = e, r = u, Gc(i, o.getBody(), r).bind(function (e) {
          return yg(t, Et.fromDom(e.getNode())).map(function (e) {
            return !1 === je(e, n);
          });
        }));
        var t, n, r;
      }).getOr(!1) || (n = d, r = bs.fromRangeStart((t = f).selection.getRng()), Cg(n, r) || cf(n, t.getBody(), r).exists(function (e) {
        return Cg(n, e);
      }));
      var o, i, a, e, u, t, n, r;
    }, function (e) {
      return n = d, r = m, o = e, i = bs.fromRangeStart((t = f).selection.getRng()), (oo(o) ? vp(t, o) : (u = r, c = o, l = i, Gc(s = n, (a = t).getBody(), l).bind(function (e) {
        return r = s, o = l, i = e, mf((n = c).dom).bind(function (t) {
          return gf(n.dom).map(function (e) {
            return r ? o.isEqual(t) && i.isEqual(e) : o.isEqual(e) && i.isEqual(t);
          });
        }).getOr(!0) ? vp(a, c) : (t = c, hp(u, Et.fromDom(e.getNode())).map(function (e) {
          return !1 === je(e, t);
        }));
        var t, n, r, o, i;
      }).or(he.some(!0)))).getOr(!1);
      var a, u, s, c, l, t, n, r, o, i;
    });
  }

  function xg(e, t) {
    var n,
        r,
        o,
        i,
        a,
        u,
        s,
        c,
        l = Et.fromDom(e.selection.getStart(!0)),
        f = Ul(e);
    return e.selection.isCollapsed() && 0 === f.length ? wg(e, t, l) : (r = l, o = f, i = Et.fromDom((n = e).getBody()), a = n.selection.getRng(), 0 !== o.length ? pg(n, o, he.none()) : (u = n, c = a, hp(s = i, r).fold(function () {
      return t = u, dg(s, c).map(function (e) {
        return e.fold(A(vg, t), A(bg, t), A(pg, t), A(hg, t));
      });
      var t;
    }, function (e) {
      return vp(u, e);
    }).getOr(!1)));
  }

  function Sg(e) {
    return e.collapsed ? e : (a = e, u = bs.fromRangeStart(a), s = bs.fromRangeEnd(a), c = a.commonAncestorContainer, cf(!1, c, s).map(function (e) {
      return !uc(u, s, c) && uc(u, e, c) ? (t = u.container(), n = u.offset(), r = e.container(), o = e.offset(), (i = document.createRange()).setStart(t, n), i.setEnd(r, o), i) : a;
      var t, n, r, o, i;
    }).getOr(a));
    var a, u, s, c;
  }

  function Eg(e, t) {
    var n,
        r,
        o,
        i,
        a,
        u = t.firstChild,
        s = t.lastChild;
    return u && "meta" === u.name && (u = u.next), r = s = s && "mce_marker" === s.attr("id") ? s.prev : s, o = (n = e).getNonEmptyElements(), r && (r.isEmpty(o) || (i = r, n.getBlockElements()[i.name] && i.firstChild && i.firstChild === i.lastChild && ("br" === (a = i.firstChild).name || a.value === Do))) && (s = s.prev), u && u === s && ("ul" === u.name || "ol" === u.name);
  }

  function Ng(e) {
    return 0 < e.length && (!(r = e[e.length - 1]).firstChild || (t = r) && t.firstChild && t.firstChild === t.lastChild && ((n = t.firstChild).data === Do || Xn(n))) ? e.slice(0, -1) : e;
    var t, n, r;
  }

  function kg(e, t) {
    var n = e.getParent(t, e.isBlock);
    return n && "LI" === n.nodeName ? n : null;
  }

  function _g(e, t) {
    var n = bs.after(e),
        r = Wc(t).prev(n);
    return r ? r.toRange() : null;
  }

  function Ag(e, o, i, t) {
    function n(e) {
      var t = bs.fromRangeStart(i),
          n = Wc(o.getRoot()),
          r = 1 === e ? n.prev(t) : n.next(t);
      return !r || kg(o, r.getNode()) !== T;
    }

    var r,
        a,
        u,
        s,
        c,
        l,
        f,
        d,
        m,
        g,
        p,
        h,
        v,
        b,
        y,
        C,
        w,
        x,
        S,
        E,
        N,
        k,
        _,
        A = (r = o, c = e.serialize(t), u = (a = r.createFragment(c)).firstChild, s = a.lastChild, u && "META" === u.nodeName && u.parentNode.removeChild(u), s && "mce_marker" === s.id && s.parentNode.removeChild(s), a),
        T = kg(o, i.startContainer),
        R = Ng(U(A.firstChild.childNodes, function (e) {
      return "LI" === e.nodeName;
    })),
        D = o.getRoot();

    return n(1) ? (S = D, _ = (x = T).parentNode, St.each(R, function (e) {
      _.insertBefore(e, x);
    }), E = S, N = bs.before(x), (k = Wc(E).next(N)) ? k.toRange() : null) : n(2) ? (l = T, d = D, o.insertAfter((f = R).reverse(), l), _g(f[0], d)) : (g = R, p = D, h = m = T, b = (v = i).cloneRange(), y = v.cloneRange(), b.setStartBefore(h), y.setEndAfter(h), C = [b.cloneContents(), y.cloneContents()], (w = m.parentNode).insertBefore(C[0], m), St.each(g, function (e) {
      w.insertBefore(e, m);
    }), w.insertBefore(C[1], m), w.removeChild(m), _g(g[g.length - 1], p));
  }

  function Tg(e, t, n) {
    var r,
        o,
        i,
        a,
        u = e.selection,
        s = e.dom;
    /^ | $/.test(t) && (r = s, o = u.getRng(), i = t, i = Im(a = Et.fromDom(r.getRoot()), bs.fromRangeStart(o)) ? i.replace(/^ /, "&nbsp;") : i.replace(/^&nbsp;/, " "), t = i = Mm(a, bs.fromRangeEnd(o)) ? i.replace(/(&nbsp;| )(<br( \/)>)?$/, "&nbsp;") : i.replace(/&nbsp;(<br( \/)?>)?$/, " "));
    var c = e.parser,
        l = n.merge,
        f = sm({
      validate: e.getParam("validate")
    }, e.schema),
        d = '<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>',
        m = e.fire("BeforeSetContent", {
      content: t,
      format: "html",
      selection: !0,
      paste: n.paste
    });
    if (m.isDefaultPrevented()) e.fire("SetContent", {
      content: m.content,
      format: "html",
      selection: !0,
      paste: n.paste
    });else {
      -1 === (t = m.content).indexOf("{$caret}") && (t += "{$caret}"), t = t.replace(/\{\$caret\}/, d);
      var g,
          p,
          h = (g = u.getRng()).startContainer || (g.parentElement ? g.parentElement() : null),
          v = e.getBody();
      h === v && u.isCollapsed() && s.isBlock(v.firstChild) && (p = v.firstChild) && !e.schema.getShortEndedElements()[p.nodeName] && s.isEmpty(v.firstChild) && ((g = s.createRng()).setStart(v.firstChild, 0), g.setEnd(v.firstChild, 0), u.setRng(g)), u.isCollapsed() || function (e) {
        var t = e.dom,
            n = Sg(e.selection.getRng());
        e.selection.setRng(n);
        var r,
            o = t.getParent(n.startContainer, bp),
            i = n;
        null !== (r = o) && r === t.getParent(i.endContainer, bp) && jl(Et.fromDom(r), i) ? vg(e, n, Et.fromDom(o)) : e.getDoc().execCommand("Delete", !1, null);
      }(e);

      var b,
          y,
          C,
          w,
          x,
          S,
          E,
          N,
          k,
          _,
          A,
          T,
          R,
          D,
          O = {
        context: (I = u.getNode()).nodeName.toLowerCase(),
        data: n.data,
        insert: !0
      },
          B = c.parse(t, O);

      if (!0 === n.paste && Eg(e.schema, B) && kg(s, I)) return g = Ag(f, s, u.getRng(), B), u.setRng(g), void e.fire("SetContent", m);
      if (function () {
        for (var e = B; e = e.walk();) {
          1 === e.type && e.attr("data-mce-fragment", "1");
        }
      }(), "mce_marker" === (L = B.lastChild).attr("id")) for (var P = L, L = L.prev; L; L = L.walk(!0)) {
        if (3 === L.type || !s.isBlock(L.name)) {
          e.schema.isValidChild(L.parent.name, "span") && L.parent.insert(P, L, "br" === L.name);
          break;
        }
      }

      if (e._selectionOverrides.showBlockCaretContainer(I), O.invalid) {
        e.selection.setContent(d);
        var I = u.getNode(),
            M = e.getBody();

        for (9 === I.nodeType ? I = L = M : L = I; L !== M;) {
          L = (I = L).parentNode;
        }

        t = I === M ? M.innerHTML : s.getOuterHTML(I), t = f.serialize(c.parse(t.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i, function () {
          return f.serialize(B);
        }))), I === M ? s.setHTML(M, t) : s.setOuterHTML(I, t);
      } else b = e, y = t = f.serialize(B), "all" === (C = I).getAttribute("data-mce-bogus") ? C.parentNode.insertBefore(b.dom.createFragment(y), C) : (w = C.firstChild, x = C.lastChild, !w || w === x && "BR" === w.nodeName ? b.dom.setHTML(C, y) : b.selection.setContent(y));

      E = l, _ = (S = e).schema.getTextInlineElements(), A = S.dom, E && (N = S.getBody(), k = am(A), St.each(A.select("*[data-mce-fragment]"), function (e) {
        if (V(_[e.nodeName.toLowerCase()]) && j(mm(A, e), function (e) {
          return !dm.has(e);
        })) for (var t = e.parentNode; V(t) && t !== N && !function (r, o, i) {
          function a(e) {
            var t = r.getStyle(o, e),
                n = r.getStyle(i, e);
            return Oe(t) && Oe(n) && t !== n;
          }

          var e = mm(r, o),
              u = mm(r, i);
          return F(e, function (t) {
            function e(e) {
              return F(e, function (e) {
                return e === t;
              });
            }

            if (e(u) || !e(Jg)) return a(t);
            var n = U(u, function (t) {
              return F(Jg, function (e) {
                return Ye(t, e);
              });
            });
            return F(n, a);
          });
        }(A, e, t); t = t.parentNode) {
          if (k.compare(t, e)) {
            A.remove(e, !0);
            break;
          }
        }
      })), function (n, e) {
        var t,
            r = n.dom,
            o = n.selection;

        if (e) {
          o.scrollIntoView(e);

          var i = function (e) {
            for (var t = n.getBody(); e && e !== t; e = e.parentNode) {
              if ("false" === r.getContentEditable(e)) return e;
            }

            return null;
          }(e);

          if (i) return r.remove(e), o.select(i);
          var a,
              u = r.createRng(),
              s = e.previousSibling;
          qn(s) ? (u.setStart(s, s.nodeValue.length), Ct.ie || (a = e.nextSibling, qn(a) && (s.appendData(a.data), a.parentNode.removeChild(a)))) : (u.setStartBefore(e), u.setEndBefore(e));
          var c = r.getParent(e, r.isBlock);
          r.remove(e), c && r.isEmpty(c) && (n.$(c).empty(), u.setStart(c, 0), u.setEnd(c, 0), bp(c) || c.getAttribute("data-mce-fragment") || !(t = function (e) {
            var t = bs.fromRangeStart(e);
            if (t = Wc(n.getBody()).next(t)) return t.toRange();
          }(u)) ? r.add(c, r.create("br", {
            "data-mce-bogus": "1"
          })) : (u = t, r.remove(c))), o.setRng(u);
        }
      }(e, s.get("mce_marker")), T = e.getBody(), St.each(T.getElementsByTagName("*"), function (e) {
        e.removeAttribute("data-mce-fragment");
      }), R = s, D = u.getStart(), he.from(R.getParent(D, "td,th")).map(Et.fromDom).each(Cm), e.fire("SetContent", m), e.addVisual();
    }
  }

  function Rg(e) {
    return e instanceof Jd;
  }

  function Dg(e, t, n) {
    var r;
    e.dom.setHTML(e.getBody(), t), !0 !== n && Td(r = e) && mf(r.getBody()).each(function (e) {
      var t = e.getNode(),
          n = sn(t) ? mf(t).getOr(e) : e;
      r.selection.setRng(n.toRange());
    });
  }

  function Og(u, s, e) {
    var t,
        n = (t = s, _ke(_ke({
      format: "html"
    }, e), {
      set: !0,
      content: Rg(t) ? "" : t
    })),
        c = e.no_events ? n : u.fire("BeforeSetContent", n);
    return Rg(s) || (s = c.content), he.from(u.getBody()).fold(J(s), function (e) {
      return Rg(s) ? function (e, t, n, r) {
        var o, i, u, a;
        o = e.parser.getNodeFilters(), i = e.parser.getAttributeFilters(), u = n, a = function (e, n) {
          var t,
              r,
              o = {},
              i = {},
              a = [];

          for (t in u.firstChild && yp(u.firstChild, function (t) {
            X(e, function (e) {
              e.name === t.name && (o[e.name] ? o[e.name].nodes.push(t) : o[e.name] = {
                filter: e,
                nodes: [t]
              });
            }), X(n, function (e) {
              "string" == typeof t.attr(e.name) && (i[e.name] ? i[e.name].nodes.push(t) : i[e.name] = {
                filter: e,
                nodes: [t]
              });
            });
          }), o) {
            Ee(o, t) && a.push(o[t]);
          }

          for (r in i) {
            Ee(i, r) && a.push(i[r]);
          }

          return a;
        }(o, i), X(a, function (t) {
          X(t.filter.callbacks, function (e) {
            e(t.nodes, t.filter.name, {});
          });
        });
        var s = sm({
          validate: e.validate
        }, e.schema).serialize(n);
        return r.content = To(Et.fromDom(t)) ? s : St.trim(s), Dg(e, r.content, r.no_selection), r.no_events || e.fire("SetContent", r), n;
      }(u, e, s, c) : (t = u, n = e, o = c, 0 === (r = s).length || /^\s+$/.test(r) ? (i = '<br data-mce-bogus="1">', "TABLE" === n.nodeName ? r = "<tr><td>" + i + "</td></tr>" : /^(UL|OL)$/.test(n.nodeName) && (r = "<li>" + i + "</li>"), r = (a = Ls(t)) && t.schema.isValidChild(n.nodeName.toLowerCase(), a.toLowerCase()) ? (r = i, t.dom.createHTML(a, Is(t), r)) : r || '<br data-mce-bogus="1">', Dg(t, r, o.no_selection), t.fire("SetContent", o)) : ("raw" !== o.format && (r = sm({
        validate: t.validate
      }, t.schema).serialize(t.parser.parse(r, {
        isRootContent: !0,
        insert: !0
      }))), o.content = To(Et.fromDom(n)) ? r : St.trim(r), Dg(t, o.content, o.no_selection), o.no_events || t.fire("SetContent", o)), o.content);
      var t, n, r, o, i, a;
    });
  }

  function Bg(e) {
    return y(e) ? e : T;
  }

  function Pg(i, e, t) {
    var n = e(i),
        a = Bg(t);
    return n.orThunk(function () {
      return a(i) ? he.none() : function (e) {
        for (var t = i.dom, n = Bg(a); t.parentNode;) {
          var t = t.parentNode,
              r = Et.fromDom(t),
              o = e(r);
          if (o.isSome()) return o;
          if (n(r)) break;
        }

        return he.none();
      }(e);
    });
  }

  function Lg(e, t, n) {
    var r = e.formatter.get(n);
    if (r) for (var o = 0; o < r.length; o++) {
      var i = r[o];
      if (Sl(i) && !1 === i.inherit && e.dom.is(t, i.selector)) return 1;
    }
  }

  function Ig(t, e, n, r, o) {
    var i = t.dom.getRoot();
    return e !== i && (e = t.dom.getParent(e, function (e) {
      return !!Lg(t, e, n) || e.parentNode === i || !!wp(t, e, n, r, !0);
    }), !!wp(t, e, n, r, o));
  }

  function Mg(e, t, n) {
    return !!Cp(t, n.inline) || !!Cp(t, n.block) || (n.selector ? 1 === t.nodeType && e.is(t, n.selector) : void 0);
  }

  function Fg(e, t, n, r, o, i) {
    var a = n[r];
    if (y(n.onmatch)) return n.onmatch(t, n, r);
    if (a) if (b(a.length)) {
      for (var u in a) {
        if (Ee(a, u)) {
          var s = "attributes" === r ? e.getAttrib(t, u) : bl(e, t, u),
              c = pl(a[u], i),
              l = re(s) || Be(s);

          if (!l || !re(c)) {
            if (o && l && !n.exact) return;
            if ((!o || n.exact) && !Cp(s, vl(e, c, u))) return;
          }
        }
      }
    } else for (var f = 0; f < a.length; f++) {
      if ("attributes" === r ? e.getAttrib(t, a[f]) : bl(e, t, a[f])) return 1;
    }
    return 1;
  }

  function Ug(e, t, n, r, o) {
    if (r) return Ig(e, r, t, n, o);
    if (r = e.selection.getNode(), Ig(e, r, t, n, o)) return !0;
    var i = e.selection.getStart();
    return !(i === r || !Ig(e, i, t, n, o));
  }

  function zg(e) {
    return 0 < function (e) {
      for (var t = []; e;) {
        if (3 === e.nodeType && e.nodeValue !== xp || 1 < e.childNodes.length) return [];
        1 === e.nodeType && t.push(e), e = e.firstChild;
      }

      return t;
    }(e).length;
  }

  function jg(e) {
    if (e) {
      var t = new jr(e, e);

      for (e = t.current(); e; e = t.next()) {
        if (qn(e)) return e;
      }
    }

    return null;
  }

  function Hg(e) {
    var t = Et.fromTag("span");
    return pn(t, {
      id: Sp,
      "data-mce-bogus": "1",
      "data-mce-type": "format-caret"
    }), e && In(t, Et.fromText(xp)), t;
  }

  function Vg(e, t, n) {
    void 0 === n && (n = !0);
    var r,
        o,
        i,
        a,
        u,
        s,
        c,
        l,
        f = e.dom,
        d = e.selection;
    zg(t) ? tg(e, !1, Et.fromDom(t), n) : (r = d.getRng(), o = f.getParent(t, f.isBlock), i = r.startContainer, a = r.startOffset, u = r.endContainer, s = r.endOffset, (l = jg(t)) && l.nodeValue.charAt(0) === xp && l.deleteData(0, 1), c = l, f.remove(t, !0), i === c && 0 < a && r.setStart(c, a - 1), u === c && 0 < s && r.setEnd(c, s - 1), o && f.isEmpty(o) && ym(Et.fromDom(o)), d.setRng(r));
  }

  function qg(e, t, n) {
    void 0 === n && (n = !0);
    var r = e.dom,
        o = e.selection;
    if (t) Vg(e, t, n);else if (!(t = Zc(e.getBody(), o.getStart()))) for (; t = r.get(Sp);) {
      Vg(e, t, !1);
    }
  }

  function $g(e, t) {
    return e.appendChild(t), t;
  }

  function Wg(e, t) {
    var n = B(e, function (e, t) {
      return $g(e, t.cloneNode(!1));
    }, t);
    return $g(n, n.ownerDocument.createTextNode(xp));
  }

  function Kg(o, e, t, i, n, r) {
    var a,
        u,
        s = o.formatter,
        c = o.dom,
        l = U(we(s.get()), function (e) {
      return e !== i && !Re(e, "removeformat");
    });

    if (0 < U((a = o, u = t, P(l, function (e, t) {
      var n = wl(a, t);
      return a.formatter.matchNode(u, t, {}, n) ? e.concat([t]) : e;
    }, [])), function (e) {
      return n = i, r = ["inline", "block", "selector", "attributes", "styles", "classes"], !F((t = o).formatter.get(e), function (e) {
        var i = a(e);
        return F(t.formatter.get(n), function (e) {
          var t,
              n = a(e),
              r = i,
              o = n;
          return d(t = void 0 === t ? p : t).eq(r, o);
        });
      });

      function a(e) {
        return ne(e, function (e, t) {
          return F(r, function (e) {
            return e === t;
          });
        });
      }

      var t, n, r;
    }).length) {
      var f = t.cloneNode(!1);
      return c.add(e, f), s.remove(i, n, f, r), c.remove(f), he.some(f);
    }

    return he.none();
  }

  function Xg(e, t, n, r) {
    var o,
        i,
        a,
        u,
        s,
        c,
        l,
        f,
        d,
        m,
        g,
        p,
        h,
        v,
        b,
        y = e.dom,
        C = e.selection,
        w = [],
        x = C.getRng(),
        S = x.startContainer,
        E = x.startOffset,
        N = S;

    for (3 === S.nodeType && (E !== S.nodeValue.length && (o = !0), N = N.parentNode); N;) {
      if (wp(e, N, t, n, r)) {
        i = N;
        break;
      }

      N.nextSibling && (o = !0), w.push(N), N = N.parentNode;
    }

    i && (o ? (a = C.getBookmark(), x.collapse(!0), u = Vf(Ll(e, x, e.formatter.get(t), !0)), e.formatter.remove(t, n, u, r), C.moveToBookmark(a)) : (s = Zc(e.getBody(), i), d = c = Hg(!1).dom, (p = (g = e.dom).getParent(m = null !== s ? s : i, A(ml, e))) && g.isEmpty(p) ? m.parentNode.replaceChild(d, m) : (h = Et.fromDom(m), v = Au(h, "br"), b = U(function () {
      for (var e = [], t = h.dom; t;) {
        e.push(Et.fromDom(t)), t = t.lastChild;
      }

      return e;
    }().slice(-1), $r), v.length === b.length && X(b, Mn), g.isEmpty(m) ? m.parentNode.replaceChild(d, m) : g.insertAfter(d, m)), l = Kg(e, c, i, t, n, r), f = Wg(w.concat(l.toArray()), c), Vg(e, s, !1), C.setCursorLocation(f, 1), y.isEmpty(i) && y.remove(i)));
  }

  function Yg(e, t) {
    var n = e.schema.getTextInlineElements();
    return Ee(n, Nt(t)) && !Qc(t.dom) && !un(t.dom);
  }

  X(["margin", "margin-left", "margin-right", "margin-top", "margin-bottom", "padding", "padding-left", "padding-right", "padding-top", "padding-bottom", "border", "border-width", "border-style", "border-color", "background", "background-attachment", "background-clip", "background-color", "background-image", "background-origin", "background-position", "background-repeat", "background-size", "float", "position", "left", "right", "top", "bottom", "z-index", "display", "transform", "width", "max-width", "min-width", "height", "max-height", "min-height", "overflow", "overflow-x", "overflow-y", "text-overflow", "vertical-align", "transition", "transition-delay", "transition-duration", "transition-property", "transition-timing-function"], function (e) {
    dm.add(e);
  });

  var Gg,
      Jg = ["font", "text-decoration", "text-emphasis"],
      Qg = A(gm, !0, sl),
      Zg = A(gm, !1, sl),
      ep = hm(!0, vm),
      tp = hm(!1, vm),
      np = hm(!0, Zn),
      rp = hm(!1, Zn),
      op = hm(!0, sn),
      ip = hm(!1, sn),
      ap = hm(!0, bm),
      up = hm(!1, bm),
      sp = A(km, !1),
      cp = A(km, !0),
      lp = A(Nm, !1),
      fp = A(Nm, !0),
      dp = A(Am, !1),
      mp = A(Am, !0),
      gp = ar([{
    singleCellTable: ["rng", "cell"]
  }, {
    fullTable: ["table"]
  }, {
    partialTable: ["cells", "outsideDetails"]
  }, {
    multiTable: ["startTableCells", "endTableCells", "betweenRng"]
  }]),
      pp = function pp(e) {
    var t;
    return (8 === kt(t = e) || "#comment" === Nt(t) ? Ot : Ft)(e).bind(pp).orThunk(function () {
      return he.some(e);
    });
  },
      hp = function hp(e, t) {
    return I(xm(t, e), function (e) {
      return An(e) && "caption" === Nt(e);
    });
  },
      vp = function vp(e, t) {
    return ym(t), e.selection.setCursorLocation(t.dom, 0), he.some(!0);
  },
      bp = Qn,
      yp = function yp(e, t) {
    t(e), e.firstChild && yp(e.firstChild, t), e.next && yp(e.next, t);
  },
      Cp = hl,
      wp = function wp(e, t, n, r, o) {
    var i = e.formatter.get(n),
        a = e.dom;
    if (i && t) for (var u = 0; u < i.length; u++) {
      var s = i[u];

      if (Mg(e.dom, t, s) && Fg(a, t, s, "attributes", o, r) && Fg(a, t, s, "styles", o, r)) {
        var c = s.classes;
        if (c) for (var l = 0; l < c.length; l++) {
          if (!e.dom.hasClass(t, pl(c[l], r))) return;
        }
        return s;
      }
    }
  },
      xp = Oo,
      Sp = "_mce_caret",
      Ep = {},
      Np = le,
      kp = se;

  function _p(e) {
    return Hn(e) && !ul(e) && !Qc(e) && !un(e);
  }

  function Ap(e, t) {
    for (var n = e; n; n = n[t]) {
      if (qn(n) && Oe(n.data)) return e;
      if (Hn(n) && !ul(n)) return n;
    }

    return e;
  }

  function Tp(e, t, n) {
    var r = am(e);

    if (t && n && (t = Ap(t, "previousSibling"), n = Ap(n, "nextSibling"), r.compare(t, n))) {
      for (var o = t.nextSibling; o && o !== n;) {
        var i = o,
            o = o.nextSibling;
        t.appendChild(i);
      }

      return e.remove(n), St.each(St.grep(n.childNodes), function (e) {
        t.appendChild(e);
      }), t;
    }

    return n;
  }

  function Rp(e, t, n, r) {
    var o;
    r && !1 !== t.merge_siblings && (o = Tp(e, dl(r), r), Tp(e, o, dl(o, !0)));
  }

  function Dp(t, n) {
    return function (e) {
      return !(!e || !bl(t, e, n));
    };
  }

  function Op(r, o, i) {
    return function (e) {
      var t, n;
      r.setStyle(e, o, i), "" === e.getAttribute("style") && e.removeAttribute("style"), t = r, "SPAN" === (n = e).nodeName && 0 === t.getAttribs(n).length && t.remove(n, !0);
    };
  }

  function Bp(e, t, n) {
    return e.isChildOf(t, n) && t !== n && !e.isBlock(n);
  }

  function Pp(e, t, n) {
    var r,
        o = t[n ? "startContainer" : "endContainer"],
        i = t[n ? "startOffset" : "endOffset"];
    return Hn(o) && (r = o.childNodes.length - 1, !n && i && i--, o = o.childNodes[r < i ? r : i]), qn(o) && n && i >= o.nodeValue.length && (o = new jr(o, e.getBody()).next() || o), qn(o) && !n && 0 === i && new jr(o, e.getBody()).prev() || o;
  }

  function Lp(e, t) {
    var n = t ? "firstChild" : "lastChild";

    if (/^(TR|TH|TD)$/.test(e.nodeName) && e[n]) {
      var r = e[n];
      return "TR" === e.nodeName && r[n] || r;
    }

    return e;
  }

  function Ip(e, t, n, r) {
    var o = e.create(n, r);
    return t.parentNode.insertBefore(o, t), o.appendChild(t), o;
  }

  function Mp(e, t, n, r, o) {
    var i = Et.fromDom(t),
        a = Et.fromDom(e.create(r, o));
    return Wt(a, (n ? Lt : Pt)(i)), n ? (Vt(i, a), $t(a, i)) : (qt(i, a), In(a, i)), a.dom;
  }

  function Fp(e, t, n, r) {
    var o = dl(t, n, r);
    return re(o) || "BR" === o.nodeName || e.isBlock(o);
  }

  function Up(e, r, o, t, i) {
    var n,
        a,
        u = e.dom,
        s = u,
        c = t;
    if (!(El(a = r) && Dh(c, a.inline) || xl(a) && Dh(c, a.block) || Sl(a) && Hn(c) && s.is(c, a.selector) || r.links && "A" === t.nodeName)) return Ah.keep();
    var l,
        f,
        d,
        m,
        g,
        p,
        h,
        v,
        b = t;

    if (El(r) && "all" === r.remove && S(r.preserve_attributes)) {
      var y = U(u.getAttribs(b), function (e) {
        return ie(r.preserve_attributes, e.name.toLowerCase());
      });
      if (u.removeAllAttribs(b), X(y, function (e) {
        return u.setAttrib(b, e.name, e.value);
      }), 0 < y.length) return Ah.rename("span");
    }

    if ("all" !== r.remove) {
      Rh(r.styles, function (e, t) {
        e = vl(u, pl(e, o), t + ""), E(t) && (t = e, i = null), !r.remove_similar && i && !Dh(bl(u, i, t), e) || u.setStyle(b, t, ""), n = !0;
      }), n && "" === u.getAttrib(b, "style") && (b.removeAttribute("style"), b.removeAttribute("data-mce-style")), Rh(r.attributes, function (e, t) {
        var n;
        if (e = pl(e, o), E(t) && (t = e, i = null), r.remove_similar || !i || Dh(u.getAttrib(i, t), e)) if ("class" === t && (e = u.getAttrib(b, t)) && (n = "", X(e.split(/\s+/), function (e) {
          /mce\-\w+/.test(e) && (n += (n ? " " : "") + e);
        }), n)) u.setAttrib(b, t, n);else {
          if (Th.test(t) && b.removeAttribute("data-mce-" + t), "style" === t && rn(["li"])(b) && "none" === u.getStyle(b, "list-style-type")) return b.removeAttribute(t), void u.setStyle(b, "list-style-type", "none");
          "class" === t && b.removeAttribute("className"), b.removeAttribute(t);
        }
      }), Rh(r.classes, function (e) {
        e = pl(e, o), i && !u.hasClass(i, e) || u.removeClass(b, e);
      });

      for (var C = u.getAttribs(b), w = 0; w < C.length; w++) {
        var x = C[w].nodeName;
        if (0 !== x.indexOf("_") && 0 !== x.indexOf("data-")) return Ah.keep();
      }
    }

    return "none" !== r.remove ? (l = e, d = r, p = (f = b).parentNode, h = l.dom, v = Ls(l), xl(d) && (v ? p === h.getRoot() && (d.list_block && Dh(f, d.list_block) || X(Ce(f.childNodes), function (e) {
      gl(l, v, e.nodeName.toLowerCase()) ? m ? m.appendChild(e) : (m = Ip(h, e, v), h.setAttribs(m, l.settings.forced_root_block_attrs)) : m = null;
    })) : h.isBlock(f) && !h.isBlock(p) && (Fp(h, f, !1) || Fp(h, f.firstChild, !0, !0) || f.insertBefore(h.create("br"), f.firstChild), Fp(h, f, !0) || Fp(h, f.lastChild, !1, !0) || f.appendChild(h.create("br")))), Sl(g = d) && El(g) && ln(ae(g, "mixed"), !0) && !Dh(d.inline, f) || h.remove(f, !0), Ah.removed()) : Ah.keep();
  }

  function zp(t, e, n, r, o) {
    return Up(t, e, n, r, o).fold(T, function (e) {
      return t.dom.rename(r, e), !0;
    }, x);
  }

  function jp(u, s, c, e, l) {
    function a(e) {
      var n,
          r,
          o,
          i,
          a,
          t = (r = s, o = c, i = l, X(Cl((n = u).dom, e.parentNode).reverse(), function (e) {
        var t;
        a || "_start" === e.id || "_end" === e.id || (t = wp(n, e, r, o, i)) && !1 !== t.split && (a = e);
      }), a);
      return function (e, t, n, r, o, i, a, u) {
        var s,
            c,
            l = e.dom;

        if (n) {
          for (var f = n.parentNode, d = r.parentNode; d && d !== f; d = d.parentNode) {
            for (var m = l.clone(d, !1), g = 0; g < t.length && null !== (m = function (t, e, n) {
              return Up(t, e, u, n, n).fold(J(n), function (e) {
                return t.dom.createFragment().appendChild(n), t.dom.rename(n, e);
              }, J(null));
            }(e, t[g], m)); g++) {
              ;
            }

            m && (s && m.appendChild(s), c = c || m, s = m);
          }

          !i || a.mixed && l.isBlock(n) || (r = l.split(n, r)), s && (o.parentNode.insertBefore(s, o), c.appendChild(o), El(a) && Rp(l, a, 0, s));
        }

        return r;
      }(u, m, t, e, e, !0, g, c);
    }

    function f(t) {
      return F(m, function (e) {
        return zp(u, e, c, t, t);
      });
    }

    function d(e) {
      var t,
          n = h.get(e ? "_start" : "_end"),
          r = n[e ? "firstChild" : "lastChild"];
      return ul(t = r) && Hn(t) && ("_start" === t.id || "_end" === t.id) && (r = r[e ? "firstChild" : "lastChild"]), qn(r) && 0 === r.data.length && (r = e ? n.previousSibling || n.nextSibling : n.nextSibling || n.previousSibling), h.remove(n, !0), r;
    }

    function t(e) {
      var t = Ll(u, e, m, e.collapsed);

      if (g.split) {
        if (t = Vf(t), (r = Pp(u, t, !0)) !== (o = Pp(u, t))) {
          if (r = Lp(r, !0), o = Lp(o, !1), Bp(h, r, o)) {
            var n = he.from(r.firstChild).getOr(r);
            return a(Mp(h, n, !0, "span", {
              id: "_start",
              "data-mce-type": "bookmark"
            })), void d(!0);
          }

          if (Bp(h, o, r)) return n = he.from(o.lastChild).getOr(o), a(Mp(h, n, !1, "span", {
            id: "_end",
            "data-mce-type": "bookmark"
          })), void d(!1);
          var r = Ip(h, r, "span", {
            id: "_start",
            "data-mce-type": "bookmark"
          }),
              o = Ip(h, o, "span", {
            id: "_end",
            "data-mce-type": "bookmark"
          }),
              i = h.createRng();
          i.setStartAfter(r), i.setEndBefore(o), Il(h, i, function (e) {
            X(e, function (e) {
              ul(e) || ul(e.parentNode) || a(e);
            });
          }), a(r), a(o), r = d(!0), o = d();
        } else r = o = a(r);

        t.startContainer = r.parentNode || r, t.startOffset = h.nodeIndex(r), t.endContainer = o.parentNode || o, t.endOffset = h.nodeIndex(o) + 1;
      }

      Il(h, t, function (e) {
        X(e, v);
      });
    }

    var n,
        m = u.formatter.get(s),
        g = m[0],
        p = !0,
        h = u.dom,
        r = u.selection,
        v = function v(t) {
      var e = !0,
          n = !1;
      Hn(t) && h.getContentEditable(t) && (e = p, p = "true" === h.getContentEditable(t), n = !0);
      var r,
          o,
          i = Ce(t.childNodes);

      if (p && !n && (r = f(t), o = t.parentNode, !r && V(o) && Nl(g) && f(o)), g.deep && i.length) {
        for (var a = 0; a < i.length; a++) {
          v(i[a]);
        }

        n && (p = e);
      }

      X(["underline", "line-through", "overline"], function (e) {
        Hn(t) && u.dom.getStyle(t, "text-decoration") === e && t.parentNode && yl(h, t.parentNode) === e && zp(u, {
          deep: !1,
          exact: !0,
          inline: "span",
          styles: {
            textDecoration: e
          }
        }, null, t);
      });
    };

    if (e) return ll(e) ? ((n = h.createRng()).setStartBefore(e), n.setEndAfter(e), t(n)) : t(e), void Df(u, s, e, c);
    if ("false" !== h.getContentEditable(r.getNode())) r.isCollapsed() && El(g) && !Ul(u).length ? Xg(u, s, c, l) : ($l(r, !0, function () {
      ql(u, t);
    }), El(g) && Ug(u, s, c, r.getStart()) && fl(h, r, r.getRng()), u.nodeChanged()), Df(u, s, e, c);else {
      e = r.getNode();

      for (var o = 0; o < m.length && (!m[o].ceFalseOverride || !zp(u, m[o], c, e, e)); o++) {
        ;
      }

      Df(u, s, e, c);
    }
  }

  function Hp(e) {
    return Hn(e) && !ul(e) && !Qc(e) && !un(e);
  }

  function Vp(e) {
    return Ee(e, "vars");
  }

  function qp(n, e, r, o, i) {
    return L(e, function (e) {
      var t = n.formatter.matchNode(e, r, null != i ? i : {}, o);
      return !b(t);
    }, function (e) {
      return Lg(n, e, r) || !o && V(n.formatter.matchNode(e, r, i, !0));
    });
  }

  function $p(e, t) {
    var n = null != t ? t : Lh(e);
    return U(Cl(e.dom, n), function (e) {
      return Hn(e) && !un(e);
    });
  }

  function Wp(e, o, i, a, t, n) {
    var r, u, s, c, l, f, d, m, g;
    return null === o.get() && (u = e, (r = o).set({}), u.on("NodeChange", function (e) {
      Ih(u, e.element, r.get());
    }), u.on("FormatApply FormatRemove", function (e) {
      var t = he.from(e.node).map(function (e) {
        return ll(e) ? e : e.startContainer;
      }).bind(function (e) {
        return Hn(e) ? he.some(e) : he.from(e.parentElement);
      }).getOrThunk(function () {
        return Lh(u);
      });
      Ih(u, t, r.get());
    })), s = e, l = i, f = a, d = t, m = n, g = (c = o).get(), X(l.split(","), function (t) {
      function e() {
        var e = $p(s);
        return qp(s, e, t, d, m).isSome();
      }

      var n,
          r = ae(g, t).getOrThunk(function () {
        var e = {
          withSimilar: {
            state: pu(!1),
            similar: !0,
            callbacks: []
          },
          withoutSimilar: {
            state: pu(!1),
            similar: !1,
            callbacks: []
          },
          withVars: []
        };
        return g[t] = e;
      });
      b(m) ? ((n = d ? r.withSimilar : r.withoutSimilar).callbacks.push(f), 1 === n.callbacks.length && n.state.set(e())) : r.withVars.push({
        state: pu(e()),
        similar: d,
        vars: m,
        callback: f
      });
    }), c.set(g), {
      unbind: function unbind() {
        var e,
            t = i,
            n = a,
            r = (e = o).get();
        X(t.split(","), function (t) {
          return ae(r, t).each(function (e) {
            r[t] = {
              withSimilar: _ke(_ke({}, e.withSimilar), {
                callbacks: U(e.withSimilar.callbacks, function (e) {
                  return e !== n;
                })
              }),
              withoutSimilar: _ke(_ke({}, e.withoutSimilar), {
                callbacks: U(e.withoutSimilar.callbacks, function (e) {
                  return e !== n;
                })
              }),
              withVars: U(e.withVars, function (e) {
                return e.callback !== n;
              })
            };
          });
        }), e.set(r);
      }
    };
  }

  function Kp(e, t) {
    var n = (t || document).createDocumentFragment();
    return X(e, function (e) {
      n.appendChild(e.dom);
    }), Et.fromDom(n);
  }

  function Xp(e, t, n) {
    return {
      element: e,
      width: t,
      rows: n
    };
  }

  function Yp(e, t) {
    return {
      element: e,
      cells: t
    };
  }

  function Gp(e, t) {
    var n = parseInt(hn(e, t), 10);
    return isNaN(n) ? 1 : n;
  }

  function Jp(e) {
    return P(e, function (e, t) {
      return t.cells.length > e ? t.cells.length : e;
    }, 0);
  }

  function Qp(e, t) {
    for (var n = e.rows, r = 0; r < n.length; r++) {
      for (var o = n[r].cells, i = 0; i < o.length; i++) {
        if (je(o[i], t)) return he.some({
          x: i,
          y: r
        });
      }
    }

    return he.none();
  }

  function Zp(e, t, n, r, o) {
    for (var i = [], a = e.rows, u = n; u <= o; u++) {
      var s = a[u].cells,
          c = t < r ? s.slice(t, r + 1) : s.slice(r, t + 1);
      i.push(Yp(a[u].element, c));
    }

    return i;
  }

  function eh(e) {
    var o = Xp(Pu(e), 0, []);
    return X(Au(e, "tr"), function (n, r) {
      X(Au(n, "td,th"), function (e, t) {
        !function (e, t, n, r, o) {
          for (var i = Gp(o, "rowspan"), a = Gp(o, "colspan"), u = e.rows, s = n; s < n + i; s++) {
            u[s] || (u[s] = Yp(Lu(r), []));

            for (var c = t; c < t + a; c++) {
              u[s].cells[c] = s === n && c === t ? o : Pu(o);
            }
          }
        }(o, function (e, t, n) {
          for (; r = t, ((o = e.rows)[n] ? o[n].cells : [])[r];) {
            t++;
          }

          var r, o;
          return t;
        }(o, t, r), r, n, e);
      });
    }), Xp(o.element, Jp(o.rows), o.rows);
  }

  function th(e, t) {
    var n,
        r,
        o,
        i = Et.fromDom(t.commonAncestorContainer),
        a = xm(i, e),
        u = U(a, function (e) {
      return qr(e) || xo(e);
    }),
        s = (o = t, I(r = a, function (e) {
      return "li" === Nt(e) && jl(e, o);
    }).fold(J([]), function (e) {
      return I(r, function (e) {
        return "ul" === Nt(e) || "ol" === Nt(e);
      }).map(function (e) {
        var t = Et.fromTag(Nt(e));
        return yn(t, ne(xn(e), function (e, t) {
          return Ye(t, "list-style");
        })), [Et.fromTag("li"), t];
      }).getOr([]);
    }));
    return R(u.concat(s.length ? s : ko(n = i) ? Dt(n).filter(No).fold(J([]), function (e) {
      return [n, e];
    }) : No(n) ? [n] : []), Pu);
  }

  function nh() {
    return Kp([]);
  }

  function rh(e, i) {
    return br(i[0], "table", A(je, e)).bind(function (e) {
      var s,
          t,
          n = i[0],
          r = i[i.length - 1],
          o = eh(e);
      return t = r, Qp(s = o, n).bind(function (u) {
        return Qp(s, t).map(function (e) {
          return t = s, n = u.x, r = u.y, o = e.x, a = r < (i = e.y) ? Zp(t, n, r, o, i) : Zp(t, n, i, o, r), Xp(t.element, Jp(a), a);
          var t, n, r, o, i, a;
        });
      }).map(function (e) {
        return Kp([(n = R((t = e).rows, function (e) {
          var t = R(e.cells, function (e) {
            var t = Lu(e);
            return bn(t, "colspan"), bn(t, "rowspan"), t;
          }),
              n = Pu(e.element);
          return Wt(n, t), n;
        }), r = Pu(t.element), Wt(o = Et.fromTag("tbody"), n), In(r, o), r)]);
        var t, n, r, o;
      });
    }).getOrThunk(nh);
  }

  function oh(e, t) {
    var n,
        r,
        o,
        i,
        a,
        u,
        s,
        c = Fl(t, e);
    return 0 < c.length ? rh(e, c) : (n = e, 0 < (r = t).length && r[0].collapsed ? nh() : (o = n, i = r[0], a = Et.fromDom(i.cloneContents()), s = P(u = th(o, i), function (e, t) {
      return In(t, e), t;
    }, a), 0 < u.length ? Kp([s]) : s));
  }

  function ih(e, t) {
    return 0 <= t && t < e.length && sl(e.charAt(t));
  }

  function ah(e, t) {
    var n = Po(e.innerText);
    return t ? n.replace(/^[ \f\n\r\t\v]+/, "") : n;
  }

  function uh(e) {
    return Hn(e) ? e.outerHTML : qn(e) ? si.encodeRaw(e.data, !1) : $n(e) ? "\x3c!--" + e.data + "--\x3e" : "";
  }

  function sh(e, c) {
    var l = 0;
    X(e, function (e) {
      var t, n, r, o, i, a, u, s;
      0 === e[0] ? l++ : 1 === e[0] ? (o = c, i = e[1], a = l, s = function (e) {
        var t,
            n = document.createElement("div"),
            r = document.createDocumentFragment();

        for (e && (n.innerHTML = e); t = n.firstChild;) {
          r.appendChild(t);
        }

        return r;
      }(i), o.hasChildNodes() && a < o.childNodes.length ? (u = o.childNodes[a]).parentNode.insertBefore(s, u) : o.appendChild(s), l++) : 2 === e[0] && (n = l, (t = c).hasChildNodes() && n < t.childNodes.length && (r = t.childNodes[n]).parentNode.removeChild(r));
    });
  }

  function ch(n) {
    var e,
        t = z((e = n.getBody(), U(R(Ce(e.childNodes), uh), function (e) {
      return 0 < e.length;
    })), function (e) {
      var t = im(n.serializer, e);
      return 0 < t.length ? [t] : [];
    }),
        r = t.join("");
    return -1 !== r.indexOf("</iframe>") ? {
      type: "fragmented",
      fragments: t,
      content: "",
      bookmark: null,
      beforeBookmark: null
    } : {
      type: "complete",
      fragments: null,
      content: r,
      bookmark: null,
      beforeBookmark: null
    };
  }

  function lh(e, t, n) {
    var r,
        o,
        i,
        g,
        p,
        a,
        h,
        v,
        _c2,
        l,
        u,
        s = n ? t.beforeBookmark : t.bookmark;

    function b(e, t, n, r) {
      for (var o = e; o - t < r && o < n && g[o] === p[o - t];) {
        ++o;
      }

      return {
        start: e,
        end: o,
        diag: t
      };
    }

    "fragmented" === t.type ? (r = t.fragments, o = e.getBody(), i = R(Ce(o.childNodes), uh), sh((p = r, a = (g = i).length + p.length + 2, h = new Array(a), v = new Array(a), _c2 = function c(e, t, n, r, o) {
      var i = l(e, t, n, r);
      if (null === i || i.start === t && i.diag === t - r || i.end === e && i.diag === e - n) for (var a = e, u = n; a < t || u < r;) {
        a < t && u < r && g[a] === p[u] ? (o.push([0, g[a]]), ++a, ++u) : r - n < t - e ? (o.push([2, g[a]]), ++a) : (o.push([1, p[u]]), ++u);
      } else {
        _c2(e, i.start, n, i.start - i.diag, o);

        for (var s = i.start; s < i.end; ++s) {
          o.push([0, g[s]]);
        }

        _c2(i.end, t, i.end - i.diag, r, o);
      }
    }, l = function l(e, t, n, r) {
      var o = t - e,
          i = r - n;
      if (0 == o || 0 == i) return null;
      var a,
          u,
          s,
          c,
          l,
          f = o - i,
          d = i + o,
          m = (d % 2 == 0 ? d : 1 + d) / 2;

      for (h[1 + m] = e, v[1 + m] = t + 1, a = 0; a <= m; ++a) {
        for (u = -a; u <= a; u += 2) {
          for (s = u + m, u === -a || u !== a && h[s - 1] < h[s + 1] ? h[s] = h[s + 1] : h[s] = h[s - 1] + 1, l = (c = h[s]) - e + n - u; c < t && l < r && g[c] === p[l];) {
            h[s] = ++c, ++l;
          }

          if (f % 2 != 0 && f - a <= u && u <= f + a && v[s - f] <= h[s]) return b(v[s - f], u + e - n, t, r);
        }

        for (u = f - a; u <= f + a; u += 2) {
          for (s = u + m - f, u === f - a || u !== f + a && v[s + 1] <= v[s - 1] ? v[s] = v[s + 1] - 1 : v[s] = v[s - 1], l = (c = v[s] - 1) - e + n - u; e <= c && n <= l && g[c] === p[l];) {
            v[s] = c--, l--;
          }

          if (f % 2 == 0 && -a <= u && u <= a && v[s] <= h[s + f]) return b(v[s], u + e - n, t, r);
        }
      }
    }, u = [], _c2(0, g.length, 0, p.length, u), u), o)) : e.setContent(t.content, {
      format: "raw",
      no_selection: !V(s) || !el(s) || !s.isFakeCaret
    }), e.selection.moveToBookmark(s);
  }

  function fh(e) {
    return "fragmented" === e.type ? e.fragments.join("") : e.content;
  }

  function dh(e) {
    var t = Et.fromTag("body", Mh());
    return Ou(t, fh(e)), X(Au(t, "*[data-mce-bogus]"), Xt), t.dom.innerHTML;
  }

  function mh(e, t) {
    return !(!e || !t) && (r = t, fh(e) === fh(r) || (n = t, dh(e) === dh(n)));
    var n, r;
  }

  function gh(e) {
    return 0 === e.get();
  }

  function ph(e, t, n) {
    gh(n) && (e.typing = t);
  }

  function hh(e, t) {
    e.typing && (ph(e, !1, t), e.add());
  }

  function vh(c) {
    return {
      undoManager: {
        beforeChange: function beforeChange(e, t) {
          var n = c,
              r = t;
          gh(e) && r.set(Nc(n.selection));
        },
        add: function add(e, t, n, r, o, i) {
          return function (e, t, n, r, o, i, a) {
            var u = ch(e);
            if (i = St.extend(i = i || {}, u), !1 === gh(r) || e.removed) return null;
            var s = t.data[n.get()];
            if (e.fire("BeforeAddUndo", {
              level: i,
              lastLevel: s,
              originalEvent: a
            }).isDefaultPrevented()) return null;
            if (s && mh(s, i)) return null;
            t.data[n.get()] && o.get().each(function (e) {
              t.data[n.get()].beforeBookmark = e;
            });
            var c = e.getParam("custom_undo_redo_levels", 0, "number");

            if (c && t.data.length > c) {
              for (var l = 0; l < t.data.length - 1; l++) {
                t.data[l] = t.data[l + 1];
              }

              t.data.length--, n.set(t.data.length);
            }

            i.bookmark = Nc(e.selection), n.get() < t.data.length - 1 && (t.data.length = n.get() + 1), t.data.push(i), n.set(t.data.length - 1);
            var f = {
              level: i,
              lastLevel: s,
              originalEvent: a
            };
            return 0 < n.get() ? (e.setDirty(!0), e.fire("AddUndo", f), e.fire("change", f)) : e.fire("AddUndo", f), i;
          }(c, e, t, n, r, o, i);
        },
        undo: function undo(e, t, n) {
          return r = c, i = t, a = n, (o = e).typing && (o.add(), o.typing = !1, ph(o, !1, i)), 0 < a.get() && (a.set(a.get() - 1), lh(r, u = o.data[a.get()], !0), r.setDirty(!0), r.fire("Undo", {
            level: u
          })), u;
          var r, o, i, a, u;
        },
        redo: function redo(e, t) {
          return n = c, o = t, (r = e).get() < o.length - 1 && (r.set(r.get() + 1), lh(n, i = o[r.get()], !1), n.setDirty(!0), n.fire("Redo", {
            level: i
          })), i;
          var n, r, o, i;
        },
        clear: function clear(e, t) {
          var n,
              r = c,
              o = t;
          (n = e).data = [], o.set(0), n.typing = !1, r.fire("ClearUndos");
        },
        reset: function reset(e) {
          var t;
          (t = e).clear(), t.add();
        },
        hasUndo: function hasUndo(e, t) {
          return n = c, r = e, 0 < t.get() || r.typing && r.data[0] && !mh(ch(n), r.data[0]);
          var n, r;
        },
        hasRedo: function hasRedo(e, t) {
          return n = e, t.get() < n.data.length - 1 && !n.typing;
          var n;
        },
        transact: function transact(e, t, n) {
          return o = n, hh(r = e, t), r.beforeChange(), r.ignore(o), r.add();
          var r, o;
        },
        ignore: function ignore(e, t) {
          try {
            e.set(e.get() + 1), t();
          } finally {
            e.set(e.get() - 1);
          }
        },
        extra: function extra(e, t, n, r) {
          var o,
              i,
              a = c,
              u = t,
              s = r;
          (o = e).transact(n) && (i = o.data[u.get()].bookmark, lh(a, o.data[u.get() - 1], !0), o.transact(s) && (o.data[u.get() - 1].beforeBookmark = i));
        }
      },
      formatter: {
        match: function match(e, t, n, r) {
          return Ug(c, e, t, n, r);
        },
        matchAll: function matchAll(e, t) {
          return o = e, i = t, a = [], u = {}, n = (r = c).selection.getStart(), r.dom.getParent(n, function (e) {
            for (var t = 0; t < o.length; t++) {
              var n = o[t];
              !u[n] && wp(r, e, n, i) && (u[n] = !0, a.push(n));
            }
          }, r.dom.getRoot()), a;
          var r, o, i, a, u, n;
        },
        matchNode: function matchNode(e, t, n, r) {
          return wp(c, e, t, n, r);
        },
        canApply: function canApply(u) {
          return function (e) {
            var t = e.formatter.get(u),
                n = e.dom;
            if (t) for (var r = Cl(n, e.selection.getStart()), o = t.length - 1; 0 <= o; o--) {
              var i = t[o];
              if (!Sl(i) || V(i.defaultBlock)) return !0;

              for (var a = r.length - 1; 0 <= a; a--) {
                if (n.is(r[a], i.selector)) return !0;
              }
            }
            return !1;
          }(c);
        },
        closest: function closest(e) {
          return r = c, o = e, he.from(r.selection.getStart(!0)).bind(function (e) {
            return Pg(Et.fromDom(e), function (n) {
              return G(o, function (e) {
                return wp(r, n.dom, t = e) ? he.some(t) : he.none();
                var t;
              });
            }, t);
          }).getOrNull();

          function t(e) {
            return je(e, Et.fromDom(r.getBody()));
          }

          var r, o;
        },
        apply: function apply(e, t, n) {
          return Ph(c, e, t, n);
        },
        remove: function remove(e, t, n, r) {
          return jp(c, e, t, n, r);
        },
        toggle: function toggle(e, t, n) {
          var r,
              o = e,
              i = t,
              a = n,
              u = (r = c).formatter.get(o);
          (!Ug(r, o, i, a) || "toggle" in u[0] && !u[0].toggle ? Ph : jp)(r, o, i, a);
        },
        formatChanged: function formatChanged(e, t, n, r, o) {
          return Wp(c, e, t, n, r, o);
        }
      },
      editor: {
        getContent: function getContent(e, t) {
          return d = c, m = e, g = t, he.from(d.getBody()).fold(J("tree" === m.format ? new Jd("body", 11) : ""), function (e) {
            return t = d, r = e, o = g, c = _ke(_ke({}, n = m), {
              format: o,
              get: !0,
              getInner: !0
            }), l = n.no_events ? c : t.fire("BeforeGetContent", c), f = "raw" === l.format ? St.trim(cm(t.serializer, r.innerHTML)) : "text" === l.format ? t.dom.isEmpty(r) ? "" : Po(r.innerText || r.textContent) : "tree" === l.format ? t.serializer.serialize(r, l) : (a = (i = t).serializer.serialize(r, l), u = Ls(i), s = new RegExp("^(<" + u + "[^>]*>(&nbsp;|&#160;|\\s|\xa0|<br \\/>|)<\\/" + u + ">[\r\n]*|<br \\/>[\r\n]*)$"), a.replace(s, "")), ie(["text", "tree"], l.format) || To(Et.fromDom(r)) ? l.content = f : l.content = St.trim(f), (l.no_events ? l : t.fire("GetContent", l)).content;
            var t, n, r, o, i, a, u, s, c, l, f;
          });
          var d, m, g;
        },
        setContent: function setContent(e, t) {
          return Og(c, e, t);
        },
        insertContent: function insertContent(e, t) {
          return Tg(c, e, t);
        },
        addVisual: function addVisual(e) {
          var i,
              t = e,
              a = (i = c).dom,
              n = V(t) ? t : i.getBody();
          b(i.hasVisual) && (i.hasVisual = i.getParam("visual", !0, "boolean")), X(a.select("table,a", n), function (e) {
            switch (e.nodeName) {
              case "TABLE":
                var t = i.getParam("visual_table_class", "mce-item-table", "string"),
                    n = a.getAttrib(e, "border");
                n && "0" !== n || !i.hasVisual ? a.removeClass(e, t) : a.addClass(e, t);
                break;

              case "A":
                var r, o;
                a.getAttrib(e, "href") || (r = a.getAttrib(e, "name") || e.id, o = i.getParam("visual_anchor_class", "mce-item-anchor", "string"), r && i.hasVisual ? a.addClass(e, o) : a.removeClass(e, o));
            }
          }), i.fire("VisualAid", {
            element: t,
            hasVisual: i.hasVisual
          });
        }
      },
      selection: {
        getContent: function getContent(e, t) {
          return function (e, t, n) {
            var r,
                o = (r = t, _ke(_ke({}, n = void 0 === n ? {} : n), {
              format: r,
              get: !0,
              selection: !0
            })),
                i = e.fire("BeforeGetContent", o);
            if (i.isDefaultPrevented()) return e.fire("GetContent", i), i.content;
            if ("text" === i.format) return m = e, he.from(m.selection.getRng()).map(function (e) {
              var t = he.from(m.dom.getParent(e.commonAncestorContainer, m.dom.isBlock)),
                  n = m.getBody(),
                  r = t.map(function (e) {
                return e.nodeName;
              }).getOr("div").toLowerCase(),
                  o = Ct.browser.isIE() && "pre" !== r,
                  i = m.dom.add(n, r, {
                "data-mce-bogus": "all",
                style: "overflow: hidden; opacity: 0;"
              }, e.cloneContents()),
                  a = ah(i, o),
                  u = Po(i.textContent);

              if (m.dom.remove(i), ih(u, 0) || ih(u, u.length - 1)) {
                var s = ah(t.getOr(n), o),
                    c = s.indexOf(a);
                return -1 === c ? a : (ih(s, c - 1) ? " " : "") + a + (ih(s, c + a.length) ? " " : "");
              }

              return a;
            }).getOr("");
            i.getInner = !0;
            var a,
                u,
                s,
                c,
                l,
                f,
                d,
                m,
                g = (u = i, s = (a = e).selection.getRng(), c = a.dom.create("body"), l = a.selection.getSel(), f = Pd(a, Ml(l)), (d = u.contextual ? oh(Et.fromDom(a.getBody()), f).dom : s.cloneContents()) && c.appendChild(d), a.selection.serializer.serialize(c, u));
            return "tree" === i.format ? g : (i.content = e.selection.isCollapsed() ? "" : g, e.fire("GetContent", i), i.content);
          }(c, e, t);
        }
      },
      raw: {
        getModel: function getModel() {
          return he.none();
        }
      }
    };
  }

  function bh(e) {
    return Ee(e.plugins, "rtc");
  }

  function yh(e) {
    var u = e;
    return ae(e.plugins, "rtc").bind(function (e) {
      return he.from(e.setup);
    }).fold(function () {
      return u.rtcInstance = vh(e), he.none();
    }, function (e) {
      var t, n;
      return u.rtcInstance = (t = J(null), n = J(""), {
        undoManager: {
          beforeChange: oe,
          add: t,
          undo: t,
          redo: t,
          clear: oe,
          reset: oe,
          hasUndo: T,
          hasRedo: T,
          transact: t,
          ignore: oe,
          extra: oe
        },
        formatter: {
          match: T,
          matchAll: J([]),
          matchNode: J(void 0),
          canApply: T,
          closest: n,
          apply: oe,
          remove: oe,
          toggle: oe,
          formatChanged: J({
            unbind: oe
          })
        },
        editor: {
          getContent: n,
          setContent: n,
          insertContent: oe,
          addVisual: oe
        },
        selection: {
          getContent: n
        },
        raw: {
          getModel: J(he.none())
        }
      }), he.some(function () {
        return e().then(function (e) {
          return u.rtcInstance = (i = e.undoManager, a = e.formatter, n = e.editor, r = e.selection, t = e.raw, {
            undoManager: {
              beforeChange: i.beforeChange,
              add: i.add,
              undo: i.undo,
              redo: i.redo,
              clear: i.clear,
              reset: i.reset,
              hasUndo: i.hasUndo,
              hasRedo: i.hasRedo,
              transact: function transact(e, t, n) {
                return i.transact(n);
              },
              ignore: function ignore(e, t) {
                return i.ignore(t);
              },
              extra: function extra(e, t, n, r) {
                return i.extra(n, r);
              }
            },
            formatter: {
              match: function match(e, t, n, r) {
                return a.match(e, o(t), r);
              },
              matchAll: a.matchAll,
              matchNode: a.matchNode,
              canApply: function canApply(e) {
                return a.canApply(e);
              },
              closest: function closest(e) {
                return a.closest(e);
              },
              apply: function apply(e, t, n) {
                return a.apply(e, o(t));
              },
              remove: function remove(e, t, n, r) {
                return a.remove(e, o(t));
              },
              toggle: function toggle(e, t, n) {
                return a.toggle(e, o(t));
              },
              formatChanged: function formatChanged(e, t, n, r, o) {
                return a.formatChanged(t, n, r, o);
              }
            },
            editor: {
              getContent: function getContent(e, t) {
                return n.getContent(e);
              },
              setContent: function setContent(e, t) {
                return n.setContent(e, t);
              },
              insertContent: function insertContent(e, t) {
                return n.insertContent(e);
              },
              addVisual: n.addVisual
            },
            selection: {
              getContent: function getContent(e, t) {
                return r.getContent(t);
              }
            },
            raw: {
              getModel: function getModel() {
                return he.some(t.getRawModel());
              }
            }
          }), e.rtc.isRemote;

          function o(e) {
            return h(e) ? e : {};
          }

          var i, a, n, r, t;
        });
      });
    });
  }

  function Ch(e) {
    return e.rtcInstance || vh(e);
  }

  function wh(e) {
    var t = e.rtcInstance;
    if (t) return t;
    throw new Error("Failed to get RTC instance not yet initialized.");
  }

  function xh(e) {
    return 0 === e.dom.length ? (Mn(e), he.none()) : he.some(e);
  }

  function Sh(e, t, u, s) {
    e.bind(function (a) {
      return (s ? $m : qm)(a.dom, s ? a.dom.length : 0), t.filter(Tn).map(function (e) {
        var t = u,
            n = s,
            r = a.dom,
            o = e.dom,
            i = (n ? r : o).length;
        n ? (Wm(r, o, !1, !n), t.setStart(o, i)) : (Wm(o, r, !1, !n), t.setEnd(o, i));
      });
    }).orThunk(function () {
      var e = s;
      return t.filter(function (e) {
        return Gl.isBookmarkNode(e.dom);
      }).bind(e ? Bt : Ot).or(t).filter(Tn).map(function (e) {
        var n,
            r = s;
        Dt(n = e).each(function (e) {
          var t = n.dom;
          r && Im(e, bs(t, 0)) ? qm(t, 0) : !r && Mm(e, bs(t, t.length)) && $m(t, t.length);
        });
      });
    });
  }

  function Eh(e, t, n) {
    var r,
        o = (r = t, _ke(_ke({
      format: "html"
    }, n = void 0 === n ? {} : n), {
      set: !0,
      selection: !0,
      content: r
    })),
        i = o;

    if (!o.no_events) {
      var a = e.fire("BeforeSetContent", o);
      if (a.isDefaultPrevented()) return void e.fire("SetContent", a);
      i = a;
    }

    i.content = function (e, t) {
      if ("raw" === t.format) return t.content;
      var n = e.selection.getRng(),
          r = e.dom.getParent(n.commonAncestorContainer, e.dom.isBlock),
          o = r ? {
        context: r.nodeName.toLowerCase()
      } : {},
          i = e.parser.parse(t.content, _ke(_ke({
        isRootContent: !0,
        forced_root_block: !1
      }, o), t));
      return sm({
        validate: e.validate
      }, e.schema).serialize(i);
    }(e, i);

    var u = e.selection.getRng();
    !function (e, t) {
      var n = he.from(t.firstChild).map(Et.fromDom),
          r = he.from(t.lastChild).map(Et.fromDom);
      e.deleteContents(), e.insertNode(t);
      var o = n.bind(Ot).filter(Tn).bind(xh),
          i = r.bind(Bt).filter(Tn).bind(xh);
      Sh(o, n, e, !0), Sh(i, r, e, !1), e.collapse(!1);
    }(u, u.createContextualFragment(i.content)), e.selection.setRng(u), fd(e, u), i.no_events || e.fire("SetContent", i);
  }

  function Nh(e, t, n) {
    var r;
    e && Ee(e, t) && (0 === (r = U(e[t], function (e) {
      return e !== n;
    })).length ? delete e[t] : e[t] = r);
  }

  Gg = function Gg(e) {
    var t,
        n = e.selection.getRng(),
        r = rn(["pre"]);
    n.collapsed || (t = e.selection.getSelectedBlocks(), kp(Np(Np(t, r), function (e) {
      return r(e.previousSibling) && -1 !== fe(t, e.previousSibling);
    }), function (e) {
      var t,
          n = e.previousSibling;
      ou(t = e).remove(), ou(n).append("<br><br>").append(t.childNodes);
    }));
  }, Ep["pre"] || (Ep.pre = []), Ep.pre.push(Gg);

  var kh = St.each,
      _h = function _h(e, t, n) {
    kh(e.childNodes, function (e) {
      _p(e) && (t(e) && n(e), e.hasChildNodes() && _h(e, t, n));
    });
  },
      Ah = ar([{
    keep: []
  }, {
    rename: ["name"]
  }, {
    removed: []
  }]),
      Th = /^(src|href|style)$/,
      Rh = St.each,
      Dh = hl,
      Oh = St.each,
      Bh = St.each,
      Ph = function Ph(S, E, N, r) {
    function k(n, e) {
      var t;
      y((e = void 0 === e ? A : e).onformat) && e.onformat(n, e, N, r), Bh(e.styles, function (e, t) {
        u.setStyle(n, t, pl(e, N));
      }), !e.styles || (t = u.getAttrib(n, "style")) && u.setAttrib(n, "data-mce-style", t), Bh(e.attributes, function (e, t) {
        u.setAttrib(n, t, pl(e, N));
      }), Bh(e.classes, function (e) {
        e = pl(e, N), u.hasClass(n, e) || u.addClass(n, e);
      });
    }

    function g(e, t) {
      var n = !1;
      return Bh(e, function (e) {
        return !!Sl(e) && (V(e.collapsed) && e.collapsed !== a || !u.is(t, e.selector) || Qc(t) ? void 0 : (k(t, e), !(n = !0)));
      }), n;
    }

    function o(w, e, l) {
      var x = [],
          f = !0,
          d = A.inline || A.block,
          m = function (e) {
        if (K(e)) {
          var t = u.create(e);
          return k(t), t;
        }

        return null;
      }(d);

      Il(w, e, function (e) {
        var s,
            c = function c(e) {
          var t = !1,
              n = f,
              r = e.nodeName.toLowerCase(),
              o = e.parentNode,
              i = o.nodeName.toLowerCase();
          if (Hn(e) && w.getContentEditable(e) && (n = f, f = "true" === w.getContentEditable(e), t = !0), Xn(e) && !function (e, t, n, r) {
            if (e.getParam("format_empty_lines", !1, "boolean") && El(t)) {
              var o = _ke(_ke({}, e.schema.getTextBlockElements()), {
                td: {},
                th: {},
                li: {},
                dt: {},
                dd: {},
                figcaption: {},
                caption: {},
                details: {},
                summary: {}
              }),
                  i = (a = Et.fromDom(n), s = function s(e) {
                return Qc(e.dom);
              }, ((c = (u = a).dom).parentNode ? kr(Et.fromDom(c.parentNode), function (e) {
                return !je(u, e) && s(e);
              }) : he.none()).isSome());

              return ue(o, r) && oo(Et.fromDom(n.parentNode), !1) && !i;
            }

            var a, u, s, c;
          }(S, A, e, i)) return s = null, void (xl(A) && w.remove(e));
          if (xl(A) && A.wrapper && wp(S, e, E, N)) s = null;else {
            if (f && !t && xl(A) && !A.wrapper && ml(S, r) && gl(S, i, d)) {
              var a = w.rename(e, d);
              return k(a), x.push(a), void (s = null);
            }

            if (Sl(A)) {
              var u = g(_, e);
              if (!u && V(o) && Nl(A) && (u = g(_, o)), !El(A) || u) return void (s = null);
            }

            !f || t || !gl(S, d, r) || !gl(S, i, d) || !l && qn(e) && Bo(e.data) || Qc(e) || El(A) && w.isBlock(e) ? (s = null, X(Ce(e.childNodes), c), t && (f = n), s = null) : (s || (s = w.clone(m, !1), e.parentNode.insertBefore(s, e), x.push(s)), s.appendChild(e));
          }
        };

        X(e, c);
      }), !0 === A.links && X(x, function (e) {
        var t = function t(e) {
          "A" === e.nodeName && k(e, A), X(Ce(e.childNodes), t);
        };

        t(e);
      }), X(x, function (e) {
        var n,
            t,
            r,
            o,
            i,
            a,
            u,
            s,
            c,
            l,
            f,
            d,
            m,
            g,
            p,
            h,
            v,
            b,
            y = (n = 0, X(e.childNodes, function (e) {
          var t;
          V(t = e) && qn(t) && 0 === t.length || ul(e) || n++;
        }), n);

        function C(e) {
          var t;
          1 === e.nodeType && e.parentNode && 1 === e.parentNode.nodeType && (t = yl(m, e.parentNode), m.getStyle(e, "color") && t ? m.setStyle(e, "text-decoration", t) : m.getStyle(e, "text-decoration") === t && m.setStyle(e, "text-decoration", null));
        }

        !(1 < x.length) && w.isBlock(e) || 0 !== y ? (El(A) || xl(A) && A.wrapper) && (A.exact || 1 !== y || (e = I((d = e).childNodes, Hp).filter(function (e) {
          return Mg(w, e, A);
        }).map(function (e) {
          var t = w.clone(e, !1);
          return k(t), w.replace(t, d, !0), w.remove(e, !0), t;
        }).getOr(d)), h = S, v = N, b = e, Oh(_, function (t) {
          var r, e, n;
          El(t) && Oh(h.dom.select(t.inline, b), function (e) {
            _p(e) && zp(h, t, v, e, t.exact ? e : null);
          }), r = h.dom, (e = t).clear_child_styles && (n = e.links ? "*:not(a)" : "*", kh(r.select(n, b), function (n) {
            _p(n) && kh(e.styles, function (e, t) {
              r.setStyle(n, t, "");
            });
          }));
        }), s = A, wp(u = S, (f = e).parentNode, c = E, l = N) && zp(u, s, l, f) || s.merge_with_parents && u.dom.getParent(f.parentNode, function (e) {
          if (wp(u, e, c, l)) return zp(u, s, l, f), !0;
        }), a = e, (i = A).styles && i.styles.backgroundColor && _h(a, Dp(w, "fontSize"), Op(w, "backgroundColor", pl(i.styles.backgroundColor, N))), m = w, p = e, (g = A).styles && (g.styles.color || g.styles.textDecoration) && (St.walk(p, C, "childNodes"), C(p)), t = w, o = e, !El(r = A) || "sub" !== r.inline && "sup" !== r.inline || (_h(o, Dp(t, "fontSize"), Op(t, "fontSize", "")), t.remove(t.select("sup" === r.inline ? "sub" : "sup", o), !0)), Rp(w, A, 0, e)) : w.remove(e, !0);
      });
    }

    var e,
        t,
        n,
        i,
        _ = S.formatter.get(E),
        A = _[0],
        a = !r && S.selection.isCollapsed(),
        u = S.dom,
        s = S.selection;

    if ("false" !== u.getContentEditable(s.getNode())) A && (r ? ll(r) ? g(_, r) || ((e = u.createRng()).setStartBefore(r), e.setEndAfter(r), o(u, Ll(S, e, _), !0)) : o(u, r, !0) : a && El(A) && !Ul(S).length ? function (e, t, n) {
      var r,
          o = e.selection,
          i = o.getRng(),
          a = i.startOffset,
          u = i.startContainer.nodeValue,
          s = Zc(e.getBody(), o.getStart());
      s && (r = jg(s));
      var c,
          l,
          f,
          d,
          m = /[^\s\u00a0\u00ad\u200b\ufeff]/;
      u && 0 < a && a < u.length && m.test(u.charAt(a)) && m.test(u.charAt(a - 1)) ? (c = o.getBookmark(), i.collapse(!0), l = Vf(Ll(e, i, e.formatter.get(t))), e.formatter.apply(t, n, l), o.moveToBookmark(c)) : (s && r.nodeValue === xp || (f = e.getDoc(), d = Hg(!0).dom, r = (s = f.importNode(d, !0)).firstChild, i.insertNode(s), a = 1), e.formatter.apply(t, n, s), o.setCursorLocation(r, a));
    }(S, E, N) : (t = s.getNode(), n = _[0], S.settings.forced_root_block || !n.defaultBlock || u.getParent(t, u.isBlock) || Ph(S, n.defaultBlock), s.setRng(Sg(s.getRng())), $l(s, !0, function () {
      ql(S, function (e, t) {
        var n = t ? e : Ll(S, e, _);
        o(u, n, !1);
      });
    }), fl(u, s, s.getRng()), S.nodeChanged()), i = S, kp(Ep[E], function (e) {
      e(i);
    })), Rf(S, E, r, N);else {
      r = s.getNode();

      for (var c = 0, l = _.length; c < l; c++) {
        var f = _[c];

        if (f.ceFalseOverride && Sl(f) && u.is(r, f.selector)) {
          k(r, f);
          break;
        }
      }

      Rf(S, E, r, N);
    }
  },
      Lh = function Lh(e) {
    return e.selection.getStart();
  },
      Ih = function Ih(i, a, e) {
    var u = $p(i, a);
    Q(e, function (e, o) {
      function t(e) {
        var t,
            n = qp(i, u, o, e.similar, Vp(e) ? e.vars : void 0),
            r = n.isSome();
        e.state.get() !== r && (e.state.set(r), t = n.getOr(a), Vp(e) ? e.callback(r, {
          node: t,
          format: o,
          parents: u
        }) : X(e.callbacks, function (e) {
          return e(r, {
            node: t,
            format: o,
            parents: u
          });
        }));
      }

      X([e.withSimilar, e.withoutSimilar], t), X(e.withVars, t);
    });
  },
      Mh = Ae(function () {
    return document.implementation.createHTMLDocument("undo");
  });

  function Fh(e) {
    return e.select;
  }

  function Uh(e) {
    return e && e.ownerDocument && He(Et.fromDom(e.ownerDocument), Et.fromDom(e));
  }

  function zh(a, u, e, s) {
    function t(e, t) {
      return Eh(s, e, t);
    }

    function n() {
      var e = c(),
          t = null == e ? void 0 : e.anchorNode,
          n = null == e ? void 0 : e.focusNode;
      if (!e || !t || !n || nn(t) || nn(n)) return !0;
      var r = a.createRng();
      r.setStart(t, e.anchorOffset), r.collapse(!0);
      var o = a.createRng();
      return o.setStart(n, e.focusOffset), o.collapse(!0), r.compareBoundaryPoints(r.START_TO_START, o) <= 0;
    }

    function r(e, t) {
      return m || (m = {}, g = {}, d.on("NodeChange", function (e) {
        var n = e.element,
            r = i.getParents(n, null, i.getRoot()),
            o = {};
        St.each(m, function (e, n) {
          St.each(r, function (t) {
            if (i.is(t, n)) return g[n] || (St.each(e, function (e) {
              e(!0, {
                node: t,
                selector: n,
                parents: r
              });
            }), g[n] = e), o[n] = e, !1;
          });
        }), St.each(g, function (e, t) {
          o[t] || (delete g[t], St.each(e, function (e) {
            e(!1, {
              node: n,
              selector: t,
              parents: r
            });
          }));
        });
      })), m[e] || (m[e] = []), m[e].push(t), {
        unbind: function unbind() {
          Nh(m, e, t), Nh(g, e, t);
        }
      };
    }

    function o(e) {
      var t = p();
      t.collapse(!!e), h(t);
    }

    function c() {
      return u.getSelection ? u.getSelection() : u.document.selection;
    }

    var l,
        f,
        i,
        d,
        m,
        g,
        p = function p() {
      function e(e, t, n) {
        try {
          return t.compareBoundaryPoints(e, n);
        } catch (e) {
          return -1;
        }
      }

      var t,
          n,
          r,
          o = u.document;

      if (void 0 !== s.bookmark && !1 === Td(s)) {
        var i = xd(s);
        if (i.isSome()) return i.map(function (e) {
          return Pd(s, [e])[0];
        }).getOr(o.createRange());
      }

      try {
        (t = c()) && !nn(t.anchorNode) && (n = 0 < t.rangeCount ? t.getRangeAt(0) : (t.createRange ? t : o).createRange(), n = Pd(s, [n])[0]);
      } catch (e) {}

      return (n = n || (o.createRange ? o.createRange() : o.body.createTextRange())).setStart && 9 === n.startContainer.nodeType && n.collapsed && (r = a.getRoot(), n.setStart(r, 0), n.setEnd(r, 0)), l && f && (0 === e(n.START_TO_START, n, l) && 0 === e(n.END_TO_END, n, l) ? n = f : f = l = null), n;
    },
        h = function h(e, t) {
      var n;

      if ((r = e) && (Fh(r) || Uh(r.startContainer) && Uh(r.endContainer))) {
        var r,
            o = Fh(e) ? e : null;

        if (o) {
          f = null;

          try {
            o.select();
          } catch (e) {}
        } else {
          var i = c();

          if (e = s.fire("SetSelectionRange", {
            range: e,
            forward: t
          }).range, i) {
            f = e;

            try {
              i.removeAllRanges(), i.addRange(e);
            } catch (e) {}

            !1 === t && i.extend && (i.collapse(e.endContainer, e.endOffset), i.extend(e.startContainer, e.startOffset)), l = 0 < i.rangeCount ? i.getRangeAt(0) : null;
          }

          e.collapsed || e.startContainer !== e.endContainer || !i.setBaseAndExtent || Ct.ie || e.endOffset - e.startOffset < 2 && e.startContainer.hasChildNodes() && (n = e.startContainer.childNodes[e.startOffset]) && "IMG" === n.tagName && (i.setBaseAndExtent(e.startContainer, e.startOffset, e.endContainer, e.endOffset), i.anchorNode === e.startContainer && i.focusNode === e.endContainer || i.setBaseAndExtent(n, 0, n, 1)), s.fire("AfterSetSelectionRange", {
            range: e,
            forward: t
          });
        }
      }
    },
        v = {
      bookmarkManager: null,
      controlSelection: null,
      dom: i = a,
      win: u,
      serializer: e,
      editor: d = s,
      collapse: o,
      setCursorLocation: function setCursorLocation(e, t) {
        var n = a.createRng();
        V(e) && V(t) ? (n.setStart(e, t), n.setEnd(e, t), h(n), o(!1)) : (Hl(a, n, s.getBody(), !0), h(n));
      },
      getContent: function getContent(e) {
        return n = (t = void 0 === (t = e) ? {} : t).format || "html", r = t, wh(s).selection.getContent(n, r);
        var t, n, r;
      },
      setContent: t,
      getBookmark: function getBookmark(e, t) {
        return b.getBookmark(e, t);
      },
      moveToBookmark: function moveToBookmark(e) {
        return b.moveToBookmark(e);
      },
      select: function select(e, t) {
        var r = a,
            o = t;
        return he.from(e).map(function (e) {
          var t = r.nodeIndex(e),
              n = r.createRng();
          return n.setStart(e.parentNode, t), n.setEnd(e.parentNode, t + 1), o && (Hl(r, n, e, !0), Hl(r, n, e, !1)), n;
        }).each(h), e;
      },
      isCollapsed: function isCollapsed() {
        var e = p(),
            t = c();
        return !(!e || e.item) && (e.compareEndPoints ? 0 === e.compareEndPoints("StartToEnd", e) : !t || e.collapsed);
      },
      isForward: n,
      setNode: function setNode(e) {
        return t(a.getOuterHTML(e)), e;
      },
      getNode: function getNode() {
        return function (e, t) {
          if (!t) return e;
          var n = t.startContainer,
              r = t.endContainer,
              o = t.startOffset,
              i = t.endOffset,
              a = t.commonAncestorContainer;
          return !t.collapsed && (n === r && i - o < 2 && n.hasChildNodes() && (a = n.childNodes[o]), 3 === n.nodeType && 3 === r.nodeType && (n = n.length === o ? Bd(n.nextSibling, !0) : n.parentNode, r = 0 === i ? Bd(r.previousSibling, !1) : r.parentNode, n && n === r)) ? n : a && 3 === a.nodeType ? a.parentNode : a;
        }(s.getBody(), p());
      },
      getSel: c,
      setRng: h,
      getRng: p,
      getStart: function getStart(e) {
        return Dd(s.getBody(), p(), e);
      },
      getEnd: function getEnd(e) {
        return Od(s.getBody(), p(), e);
      },
      getSelectedBlocks: function getSelectedBlocks(e, t) {
        return function (e, t, n, r) {
          var o = [],
              i = e.getRoot();
          if (n = e.getParent(n || Dd(i, t, t.collapsed), e.isBlock), r = e.getParent(r || Od(i, t, t.collapsed), e.isBlock), n && n !== i && o.push(n), n && r && n !== r) for (var a, u = new jr(n, i); (a = u.next()) && a !== r;) {
            e.isBlock(a) && o.push(a);
          }
          return r && n !== r && r !== i && o.push(r), o;
        }(a, p(), e, t);
      },
      normalize: function normalize() {
        var e = p();
        if (1 < Ml(c()).length || !Vl(s)) return e;
        var t = jf(a, e);
        return t.each(function (e) {
          h(e, n());
        }), t.getOr(e);
      },
      selectorChanged: function selectorChanged(e, t) {
        return r(e, t), v;
      },
      selectorChangedWithUnbind: r,
      getScrollContainer: function getScrollContainer() {
        for (var e, t = a.getRoot(); t && "BODY" !== t.nodeName;) {
          if (t.scrollHeight > t.clientHeight) {
            e = t;
            break;
          }

          t = t.parentNode;
        }

        return e;
      },
      scrollIntoView: function scrollIntoView(e, t) {
        (s.inline ? sd : ld)(s, e, t);
      },
      placeCaretAt: function placeCaretAt(e, t) {
        return h(Pf(e, t, s.getDoc()));
      },
      getBoundingClientRect: function getBoundingClientRect() {
        var e = p();
        return e.collapsed ? bs.fromRangeStart(e).getClientRects()[0] : e.getBoundingClientRect();
      },
      destroy: function destroy() {
        u = l = f = null, y.destroy();
      }
    },
        b = Gl(v),
        y = Of(v, s);

    return v.bookmarkManager = b, v.controlSelection = y, v;
  }

  function jh(e, t) {
    var n,
        r,
        a,
        u,
        o = ho();
    t.convert_fonts_to_spans && (r = e, a = o, u = St.explode(t.font_size_legacy_values), r.addNodeFilter("font", function (e) {
      X(e, function (e) {
        var t,
            n = a.parse(e.attr("style")),
            r = e.attr("color"),
            o = e.attr("face"),
            i = e.attr("size");
        r && (n.color = r), o && (n["font-family"] = o), i && (n["font-size"] = u[parseInt(e.attr("size"), 10) - 1]), e.name = "span", e.attr("style", a.serialize(n)), t = e, X(["color", "face", "size"], function (e) {
          t.attr(e, null);
        });
      });
    })), n = o, e.addNodeFilter("strike", function (e) {
      X(e, function (e) {
        var t = n.parse(e.attr("style"));
        t["text-decoration"] = "line-through", e.name = "span", e.attr("style", n.serialize(t));
      });
    });
  }

  function Hh(e) {
    var t,
        n = decodeURIComponent(e).split(","),
        r = /data:([^;]+)/.exec(n[0]);
    return {
      type: t = r ? r[1] : t,
      data: n[1]
    };
  }

  function Vh(e, t) {
    var n;

    try {
      n = atob(t);
    } catch (e) {
      return he.none();
    }

    for (var r = new Uint8Array(n.length), o = 0; o < r.length; o++) {
      r[o] = n.charCodeAt(o);
    }

    return he.some(new Blob([r], {
      type: e
    }));
  }

  function qh(e) {
    return 0 === e.indexOf("blob:") ? (o = e, new _r(function (e, t) {
      function n() {
        t("Cannot convert " + o + " to Blob. Resource might not exist or is inaccessible.");
      }

      try {
        var r = new XMLHttpRequest();
        r.open("GET", o, !0), r.responseType = "blob", r.onload = function () {
          200 === r.status ? e(r.response) : n();
        }, r.onerror = n, r.send();
      } catch (e) {
        n();
      }
    })) : 0 === e.indexOf("data:") ? (n = e, new _r(function (e) {
      var t = Hh(n);
      Vh(t.type, t.data).fold(function () {
        return e(new Blob([]));
      }, e);
    })) : null;
    var o, n;
  }

  function $h(e) {
    return (e || "blobid") + gv++;
  }

  function Wh(r, d) {
    var o = {};
    return {
      findAll: function findAll(e, n) {
        n = n || x;
        var t = R(U(e ? Ce(e.getElementsByTagName("img")) : [], function (e) {
          var t = e.src;
          return Ct.fileApi && !e.hasAttribute("data-mce-bogus") && !e.hasAttribute("data-mce-placeholder") && t && t !== Ct.transparentSrc && (0 === t.indexOf("blob:") ? !r.isUploaded(t) && n(e) : 0 === t.indexOf("data:") && n(e));
        }), function (f) {
          if (void 0 !== o[f.src]) return new _r(function (t) {
            o[f.src].then(function (e) {
              return "string" == typeof e ? e : void t({
                image: f,
                blobInfo: e.blobInfo
              });
            });
          });
          var e = new _r(function (e, t) {
            var r, o, i, n, a, u, s, c, l;
            r = d, i = e, n = t, 0 !== (o = f).src.indexOf("blob:") ? (u = (a = Hh(o.src)).data, s = a.type, c = u, (l = r.getByData(c, s)) ? i({
              image: o,
              blobInfo: l
            }) : qh(o.src).then(function (e) {
              l = r.create($h(), e, c), r.add(l), i({
                image: o,
                blobInfo: l
              });
            }, function (e) {
              n(e);
            })) : (l = r.getByUri(o.src)) ? i({
              image: o,
              blobInfo: l
            }) : qh(o.src).then(function (t) {
              var n = t;
              new _r(function (e) {
                var t = new FileReader();
                t.onloadend = function () {
                  e(t.result);
                }, t.readAsDataURL(n);
              }).then(function (e) {
                c = Hh(e).data, l = r.create($h(), t, c), r.add(l), i({
                  image: o,
                  blobInfo: l
                });
              });
            }, function (e) {
              n(e);
            });
          }).then(function (e) {
            return delete o[e.image.src], e;
          })["catch"](function (e) {
            return delete o[f.src], e;
          });
          return o[f.src] = e;
        });
        return _r.all(t);
      }
    };
  }

  function Kh(e, t, n, r) {
    (e.padd_empty_with_br || t.insert) && n[r.name] ? r.empty().append(new Jd("br", 1)).shortEnded = !0 : r.empty().append(new Jd("#text", 3)).value = Do;
  }

  function Xh(n, e, t, r) {
    return r.isEmpty(e, t, function (e) {
      return (t = n.getElementRule(e.name)) && t.paddEmpty;
      var t;
    });
  }

  function Yh(e, p) {
    var t,
        o,
        i,
        h = e.schema;

    function n(t) {
      var e,
          n,
          r = t.attr("src");
      (e = t).attr("src") === Ct.transparentSrc || V(e.attr("data-mce-placeholder")) || V(t.attr("data-mce-bogus")) || ((n = /data:([^;]+);base64,([a-z0-9\+\/=\s]+)/i.exec(r)) ? he.some({
        type: n[1],
        data: decodeURIComponent(n[2])
      }) : he.none()).filter(function () {
        return function (e, t) {
          if (t.images_dataimg_filter) {
            var n = new Image();
            return n.src = e.attr("src"), Q(e.attributes.map, function (e, t) {
              n.setAttribute(t, e);
            }), t.images_dataimg_filter(n);
          }

          return !0;
        }(t, o);
      }).bind(function (e) {
        var t = e.type,
            n = e.data;
        return he.from(i.getByData(n, t)).orThunk(function () {
          return Vh(t, n).map(function (e) {
            var t = i.create($h(), e, n);
            return i.add(t), t;
          });
        });
      }).each(function (e) {
        t.attr("src", e.blobUri());
      });
    }

    p.remove_trailing_brs && e.addNodeFilter("br", function (e, t, n) {
      var r,
          o,
          i,
          a,
          u,
          s,
          c,
          l,
          f = e.length,
          d = St.extend({}, h.getBlockElements()),
          m = h.getNonEmptyElements(),
          g = h.getWhiteSpaceElements();

      for (d.body = 1, r = 0; r < f; r++) {
        if (i = (o = e[r]).parent, d[o.parent.name] && o === i.lastChild) {
          for (u = o.prev; u;) {
            if ("span" !== (s = u.name) || "bookmark" !== u.attr("data-mce-type")) {
              "br" === s && (o = null);
              break;
            }

            u = u.prev;
          }

          o && (o.remove(), Xh(h, m, g, i) && (c = h.getElementRule(i.name)) && (c.removeEmpty ? i.remove() : c.paddEmpty && Kh(p, n, d, i)));
        } else {
          for (a = o; i && i.firstChild === a && i.lastChild === a && !d[(a = i).name];) {
            i = i.parent;
          }

          a === i && !0 !== p.padd_empty_with_br && ((l = new Jd("#text", 3)).value = Do, o.replace(l));
        }
      }
    }), e.addAttributeFilter("href", function (e) {
      var t,
          n,
          r = e.length;
      if (!p.allow_unsafe_link_target) for (; r--;) {
        var o = e[r];
        "a" === o.name && "_blank" === o.attr("target") && o.attr("rel", (n = void 0, n = (t = o.attr("rel")) ? St.trim(t) : "", /\b(noopener)\b/g.test(n) ? n : n.split(" ").filter(function (e) {
          return 0 < e.length;
        }).concat(["noopener"]).sort().join(" ")));
      }
    }), p.allow_html_in_named_anchor || e.addAttributeFilter("id,name", function (e) {
      for (var t, n, r, o, i = e.length; i--;) {
        if ("a" === (o = e[i]).name && o.firstChild && !o.attr("href")) for (r = o.parent, t = o.lastChild; n = t.prev, r.insert(t, o), t = n;) {
          ;
        }
      }
    }), p.fix_list_elements && e.addNodeFilter("ul,ol", function (e) {
      for (var t, n, r, o = e.length; o--;) {
        "ul" !== (r = (n = e[o]).parent).name && "ol" !== r.name || (n.prev && "li" === n.prev.name ? n.prev.append(n) : ((t = new Jd("li", 1)).attr("style", "list-style-type: none"), n.wrap(t)));
      }
    }), p.validate && h.getValidClasses() && e.addAttributeFilter("class", function (e) {
      for (var t = h.getValidClasses(), n = e.length; n--;) {
        for (var r = e[n], o = r.attr("class").split(" "), i = "", a = 0; a < o.length; a++) {
          var u = o[a],
              s = !1,
              c = t["*"];
          c && c[u] && (s = !0), c = t[r.name], (s = !(s || !c || !c[u]) || s) && (i && (i += " "), i += u);
        }

        i.length || (i = null), r.attr("class", i);
      }
    }), t = e, (i = (o = p).blob_cache) && t.addAttributeFilter("src", function (e) {
      return X(e, n);
    });
  }

  function Gh(_, A) {
    void 0 === A && (A = go());
    var T = {},
        R = [],
        D = {},
        O = {};
    (_ = _ || {}).validate = !("validate" in _) || _.validate, _.root_name = _.root_name || "body";

    function B(e) {
      var t = e.name;
      t in T && ((r = D[t]) ? r.push(e) : D[t] = [e]);

      for (var n = R.length; n--;) {
        var r,
            o = R[n].name;
        o in e.attributes.map && ((r = O[o]) ? r.push(e) : O[o] = [e]);
      }

      return e;
    }

    var e = {
      schema: A,
      addAttributeFilter: function addAttributeFilter(e, n) {
        vv(bv(e), function (e) {
          for (var t = 0; t < R.length; t++) {
            if (R[t].name === e) return void R[t].callbacks.push(n);
          }

          R.push({
            name: e,
            callbacks: [n]
          });
        });
      },
      getAttributeFilters: function getAttributeFilters() {
        return [].concat(R);
      },
      addNodeFilter: function addNodeFilter(e, n) {
        vv(bv(e), function (e) {
          var t = T[e];
          t || (T[e] = t = []), t.push(n);
        });
      },
      getNodeFilters: function getNodeFilters() {
        var e,
            t = [];

        for (e in T) {
          Ee(T, e) && t.push({
            name: e,
            callbacks: T[e]
          });
        }

        return t;
      },
      filterNode: B,
      parse: function parse(e, u) {
        var t,
            n,
            r,
            o,
            i,
            s,
            a,
            c,
            l = [];

        function f(e) {
          for (var t = A.getBlockElements(), n = e.prev; n && 3 === n.type;) {
            var r = n.value.replace(w, "");
            if (0 < r.length) return n.value = r, 0;
            var o = n.next;

            if (o) {
              if (3 === o.type && o.value.length) {
                n = n.prev;
                continue;
              }

              if (!t[o.name] && "script" !== o.name && "style" !== o.name) {
                n = n.prev;
                continue;
              }
            }

            var i = n.prev;
            n.remove(), n = i;
          }
        }

        u = u || {}, D = {}, O = {};

        function d(e, t) {
          var n,
              r = new Jd(e, t);
          return e in T && ((n = D[e]) ? n.push(r) : D[e] = [r]), r;
        }

        var m = yv(hv("script,style,head,html,body,title,meta,param"), A.getBlockElements()),
            g = A.getNonEmptyElements(),
            p = A.children,
            h = _.validate,
            v = ("forced_root_block" in u ? u : _).forced_root_block,
            b = !1 === v ? "" : !0 === v ? "p" : v,
            y = A.getWhiteSpaceElements(),
            C = /^[ \t\r\n]+/,
            w = /[ \t\r\n]+$/,
            x = /[ \t\r\n]+/g,
            S = /^[ \t\r\n]+$/,
            E = Ee(y, u.context) || Ee(y, _.root_name),
            N = tm({
          validate: h,
          document: _.document,
          allow_html_data_urls: _.allow_html_data_urls,
          allow_svg_data_urls: _.allow_svg_data_urls,
          allow_script_urls: _.allow_script_urls,
          allow_conditional_comments: _.allow_conditional_comments,
          preserve_cdata: _.preserve_cdata,
          self_closing_elements: function (e) {
            var t,
                n = {};

            for (t in e) {
              "li" !== t && "p" !== t && (n[t] = e[t]);
            }

            return n;
          }(A.getSelfClosingElements()),
          cdata: function cdata(e) {
            c.append(d("#cdata", 4)).value = e;
          },
          text: function text(e, t) {
            var n, r;
            E || (e = e.replace(x, " "), (r = c.lastChild) && (Ee(m, r.name) || "br" === r.name) && (e = e.replace(C, ""))), 0 !== e.length && ((n = d("#text", 3)).raw = !!t, c.append(n).value = e);
          },
          comment: function comment(e) {
            c.append(d("#comment", 8)).value = e;
          },
          pi: function pi(e, t) {
            c.append(d(e, 7)).value = t, f(c);
          },
          doctype: function doctype(e) {
            c.append(d("#doctype", 10)).value = e, f(c);
          },
          start: function start(e, t, n) {
            var r = h ? A.getElementRule(e) : {};

            if (r) {
              var o = d(r.outputName || e, 1);
              o.attributes = t, o.shortEnded = n, c.append(o);
              var i = p[c.name];
              i && p[o.name] && !i[o.name] && l.push(o);

              for (var a = R.length; a--;) {
                var u = R[a].name;
                u in t.map && ((s = O[u]) ? s.push(o) : O[u] = [o]);
              }

              m[e] && f(o), n || (c = o), !E && y[e] && (E = !0);
            }
          },
          end: function end(e) {
            var t,
                n,
                r,
                o,
                i,
                a = h ? A.getElementRule(e) : {};

            if (a) {
              if (m[e] && !E) {
                if ((t = c.firstChild) && 3 === t.type) if (0 < (n = t.value.replace(C, "")).length) t.value = n, t = t.next;else for (r = t.next, t.remove(), t = r; t && 3 === t.type;) {
                  n = t.value, r = t.next, 0 !== n.length && !S.test(n) || (t.remove(), t = r), t = r;
                }
                if ((t = c.lastChild) && 3 === t.type) if (0 < (n = t.value.replace(w, "")).length) t.value = n, t = t.prev;else for (r = t.prev, t.remove(), t = r; t && 3 === t.type;) {
                  n = t.value, r = t.prev, 0 !== n.length && !S.test(n) || (t.remove(), t = r), t = r;
                }
              }

              if (E && y[e] && (E = !1), a.removeEmpty && Xh(A, g, y, c)) return o = c.parent, m[c.name] ? c.empty().remove() : c.unwrap(), void (c = o);
              a.paddEmpty && (pv(i = c, "#text") && i.firstChild.value === Do || Xh(A, g, y, c)) && Kh(_, u, m, c), c = c.parent;
            }
          }
        }, A),
            k = c = new Jd(u.context || _.root_name, 11);

        if (N.parse(e, u.format), h && l.length && (u.context ? u.invalid = !0 : function (e) {
          for (var t = hv("tr,td,th,tbody,thead,tfoot,table"), n = A.getNonEmptyElements(), r = A.getWhiteSpaceElements(), o = A.getTextBlockElements(), i = A.getSpecialElements(), a = function a(e, t) {
            if (void 0 === t && (t = e.parent), i[e.name]) e.empty().remove();else {
              for (var n = 0, r = e.children(); n < r.length; n++) {
                var o = r[n];
                A.isValidChild(t.name, o.name) || a(o, t);
              }

              e.unwrap();
            }
          }, u = 0; u < e.length; u++) {
            var s,
                c = e[u],
                l = void 0,
                f = void 0;
            if (c.parent && !c.fixed) if (o[c.name] && "li" === c.parent.name) {
              for (var d = c.next; d && o[d.name];) {
                d.name = "li", d.fixed = !0, c.parent.insert(d, c.parent), d = d.next;
              }

              c.unwrap();
            } else {
              for (var m = [c], l = c.parent; l && !A.isValidChild(l.name, c.name) && !t[l.name]; l = l.parent) {
                m.push(l);
              }

              if (l && 1 < m.length) {
                if (A.isValidChild(l.name, c.name)) {
                  m.reverse();

                  for (var g = s = B(m[0].clone()), p = 0; p < m.length - 1; p++) {
                    A.isValidChild(g.name, m[p].name) ? (f = B(m[p].clone()), g.append(f)) : f = g;

                    for (var h = m[p].firstChild; h && h !== m[p + 1];) {
                      var v = h.next;
                      f.append(h), h = v;
                    }

                    g = f;
                  }

                  Xh(A, n, r, s) ? l.insert(c, m[0], !0) : (l.insert(s, m[0], !0), l.insert(c, s)), l = m[0], (Xh(A, n, r, l) || pv(l, "br")) && l.empty().remove();
                } else a(c);
              } else c.parent && ("li" !== c.name ? A.isValidChild(c.parent.name, "div") && A.isValidChild("div", c.name) ? c.wrap(B(new Jd("div", 1))) : a(c) : !(d = c.prev) || "ul" !== d.name && "ol" !== d.name ? !(d = c.next) || "ul" !== d.name && "ol" !== d.name ? c.wrap(B(new Jd("ul", 1))) : d.insert(c, d.firstChild, !0) : d.append(c));
            }
          }
        }(l)), b && ("body" === k.name || u.isRootContent) && function () {
          function e(e) {
            e && ((t = e.firstChild) && 3 === t.type && (t.value = t.value.replace(C, "")), (t = e.lastChild) && 3 === t.type && (t.value = t.value.replace(w, "")));
          }

          var t = k.firstChild,
              n = null;

          if (A.isValidChild(k.name, b.toLowerCase())) {
            for (; t;) {
              var r = t.next;
              3 === t.type || 1 === t.type && "p" !== t.name && !m[t.name] && !t.attr("data-mce-type") ? (n || ((n = d(b, 1)).attr(_.forced_root_block_attrs), k.insert(n, t)), n.append(t)) : (e(n), n = null), t = r;
            }

            e(n);
          }
        }(), !u.invalid) {
          for (a in D) {
            if (Ee(D, a)) {
              for (s = T[a], o = (t = D[a]).length; o--;) {
                t[o].parent || t.splice(o, 1);
              }

              for (n = 0, r = s.length; n < r; n++) {
                s[n](t, a, u);
              }
            }
          }

          for (n = 0, r = R.length; n < r; n++) {
            if ((s = R[n]).name in O) {
              for (o = (t = O[s.name]).length; o--;) {
                t[o].parent || t.splice(o, 1);
              }

              for (o = 0, i = s.callbacks.length; o < i; o++) {
                s.callbacks[o](t, s.name, u);
              }
            }
          }
        }

        return k;
      }
    };
    return Yh(e, _), _.inline_styles && jh(e, _), e;
  }

  function Jh(e, t, n) {
    -1 === St.inArray(t, n) && (e.addAttributeFilter(n, function (e, t) {
      for (var n = e.length; n--;) {
        e[n].attr(t, null);
      }
    }), t.push(n));
  }

  function Qh(L, I) {
    var e = ["data-mce-selected"],
        M = I && I.dom ? I.dom : cu.DOM,
        F = I && I.schema ? I.schema : go(L);
    L.entity_encoding = L.entity_encoding || "named", L.remove_trailing_brs = !("remove_trailing_brs" in L) || L.remove_trailing_brs;
    var t,
        U = Gh(L, F),
        s = L,
        c = M;
    return (t = U).addAttributeFilter("data-mce-tabindex", function (e, t) {
      for (var n = e.length; n--;) {
        var r = e[n];
        r.attr("tabindex", r.attr("data-mce-tabindex")), r.attr(t, null);
      }
    }), t.addAttributeFilter("src,href,style", function (e, t) {
      for (var n = "data-mce-" + t, r = s.url_converter, o = s.url_converter_scope, i = e.length; i--;) {
        var a = e[i],
            u = a.attr(n);
        void 0 !== u ? (a.attr(t, 0 < u.length ? u : null), a.attr(n, null)) : (u = a.attr(t), "style" === t ? u = c.serializeStyle(c.parseStyle(u), a.name) : r && (u = r.call(o, u, t, a.name)), a.attr(t, 0 < u.length ? u : null));
      }
    }), t.addAttributeFilter("class", function (e) {
      for (var t = e.length; t--;) {
        var n,
            r = e[t];
        r.attr("class") && (n = r.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g, ""), r.attr("class", 0 < n.length ? n : null));
      }
    }), t.addAttributeFilter("data-mce-type", function (e, t, n) {
      for (var r = e.length; r--;) {
        var o = e[r];
        "bookmark" !== o.attr("data-mce-type") || n.cleanup || (he.from(o.firstChild).exists(function (e) {
          return !Bo(e.value);
        }) ? o.unwrap() : o.remove());
      }
    }), t.addNodeFilter("noscript", function (e) {
      for (var t = e.length; t--;) {
        var n = e[t].firstChild;
        n && (n.value = si.decode(n.value));
      }
    }), t.addNodeFilter("script,style", function (e, t) {
      for (var n = function n(e) {
        return e.replace(/(<!--\[CDATA\[|\]\]-->)/g, "\n").replace(/^[\r\n]*|[\r\n]*$/g, "").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi, "").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g, "");
      }, r = e.length; r--;) {
        var o,
            i = e[r],
            a = i.firstChild ? i.firstChild.value : "";
        "script" === t ? ((o = i.attr("type")) && i.attr("type", "mce-no/type" === o ? null : o.replace(/^mce\-/, "")), "xhtml" === s.element_format && 0 < a.length && (i.firstChild.value = "// <![CDATA[\n" + n(a) + "\n// ]]>")) : "xhtml" === s.element_format && 0 < a.length && (i.firstChild.value = "\x3c!--\n" + n(a) + "\n--\x3e");
      }
    }), t.addNodeFilter("#comment", function (e) {
      for (var t = e.length; t--;) {
        var n = e[t];
        s.preserve_cdata && 0 === n.value.indexOf("[CDATA[") ? (n.name = "#cdata", n.type = 4, n.value = c.decode(n.value.replace(/^\[CDATA\[|\]\]$/g, ""))) : 0 === n.value.indexOf("mce:protected ") && (n.name = "#text", n.type = 3, n.raw = !0, n.value = unescape(n.value).substr(14));
      }
    }), t.addNodeFilter("xml:namespace,input", function (e, t) {
      for (var n = e.length; n--;) {
        var r = e[n];
        7 === r.type ? r.remove() : 1 === r.type && ("input" !== t || r.attr("type") || r.attr("type", "text"));
      }
    }), t.addAttributeFilter("data-mce-type", function (e) {
      X(e, function (e) {
        "format-caret" === e.attr("data-mce-type") && (e.isEmpty(t.schema.getNonEmptyElements()) ? e.remove() : e.unwrap());
      });
    }), t.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder", function (e, t) {
      for (var n = e.length; n--;) {
        e[n].attr(t, null);
      }
    }), {
      schema: F,
      addNodeFilter: U.addNodeFilter,
      addAttributeFilter: U.addAttributeFilter,
      serialize: function serialize(e, t) {
        var n,
            r,
            o,
            i,
            a,
            u,
            s,
            c,
            l,
            f,
            d,
            m,
            g,
            p,
            h,
            v,
            b,
            y,
            C,
            w,
            x,
            S,
            E,
            N,
            k,
            _,
            A,
            T,
            R,
            D = _ke({
          format: "html"
        }, t = void 0 === t ? {} : t),
            O = (n = (m = e, E = g = D, (d = I) && d.hasEventListeners("PreProcess") && !E.no_events ? (h = g, w = (p = d).dom, x = m.cloneNode(!0), (S = document.implementation).createHTMLDocument && (b = S.createHTMLDocument(""), St.each("BODY" === x.nodeName ? x.childNodes : [x], function (e) {
          b.body.appendChild(b.importNode(e, !0));
        }), x = "BODY" !== x.nodeName ? b.body.firstChild : b.body, v = w.doc, w.doc = b), y = p, C = _ke(_ke({}, h), {
          node: x
        }), y.fire("PreProcess", C), v && (w.doc = v), x) : m), o = Po((r = D).getInner ? n.innerHTML : M.getOuterHTML(n)), r.selection || To(Et.fromDom(n)) ? o : St.trim(o)),
            B = (i = U, a = O, s = (u = D).selection ? _ke({
          forced_root_block: !1
        }, u) : u, c = i.parse(a, s), !P(f = c.lastChild) || P(l = f.prev) && (f.remove(), l.remove()), c);

        function P(e) {
          return e && "br" === e.name;
        }

        return "tree" === D.format ? B : (N = I, k = D, _ = B, R = sm(L, F).serialize(_), k.no_events || !N ? R : (A = N, T = _ke(_ke({}, k), {
          content: R
        }), A.fire("PostProcess", T).content));
      },
      addRules: F.addValidElements,
      setRules: F.setValidElements,
      addTempAttr: A(Jh, U, e),
      getTempAttrs: J(e),
      getNodeFilters: U.getNodeFilters,
      getAttributeFilters: U.getAttributeFilters
    };
  }

  function Zh(e, t) {
    var n = Qh(e, t);
    return {
      schema: n.schema,
      addNodeFilter: n.addNodeFilter,
      addAttributeFilter: n.addAttributeFilter,
      serialize: n.serialize,
      addRules: n.addRules,
      setRules: n.setRules,
      addTempAttr: n.addTempAttr,
      getTempAttrs: n.getTempAttrs,
      getNodeFilters: n.getNodeFilters,
      getAttributeFilters: n.getAttributeFilters
    };
  }

  function ev(e, t, n) {
    return r = n = void 0 === n ? {} : n, Ch(e).editor.setContent(t, r);
    var r;
  }

  function tv(e) {
    return he.from(e).each(function (e) {
      return e.destroy();
    });
  }

  function nv(e) {
    var t = S(e) ? e.join(" ") : e;
    return U(R(K(t) ? t.split(" ") : [], Ge), function (e) {
      return 0 < e.length;
    });
  }

  function rv(e, t) {
    return Ee(e.sections(), t);
  }

  function ov(e, t) {
    return ae(e, "toolbar_mode").orThunk(function () {
      return ae(e, "toolbar_drawer").map(function (e) {
        return !1 === e ? "wrap" : e;
      });
    }).getOr(t);
  }

  function iv(e, t, n, r) {
    var o,
        i,
        a,
        u,
        s,
        c,
        l,
        f,
        d = nv(n.forced_plugins),
        m = nv(r.plugins),
        g = rv(o = t, "mobile") ? o.sections().mobile : {},
        p = g.plugins ? nv(g.plugins) : m,
        h = (i = (u = t, s = m, c = p, (a = e) && (0, f = (l = u).sections(), rv(l, "mobile") && "mobile" === f.mobile.theme) ? U(c, A(ie, kv)) : a && rv(u, "mobile") ? c : s), [].concat(nv(d)).concat(nv(i)));
    if (Ct.browser.isIE() && ie(h, "rtc")) throw new Error("RTC plugin is not supported on IE 11.");
    return St.extend(r, {
      plugins: h.join(" ")
    });
  }

  function av(e, t, n, r, o) {
    var i,
        a,
        u,
        s,
        c,
        l,
        f,
        d,
        m = e ? {
      mobile: (i = t, a = {
        resize: !1,
        toolbar_mode: ov(o.mobile || {}, "scrolling"),
        toolbar_sticky: !1
      }, _ke(_ke(_ke({}, _v), a), i ? {
        menubar: !1
      } : {}))
    } : {},
        g = (c = ["mobile"], te(wv(m, o), function (e, t) {
      return ie(c, t);
    }, ee(l = {}), ee(f = {})), {
      sections: J((d = {
        t: l,
        f: f
      }).t),
      settings: J(d.f)
    }),
        p = St.extend(n, r, g.settings(), e && rv(g, "mobile") ? function (e) {
      void 0 === e && (e = {});
      var t = ae(g.sections(), "mobile").getOr({});
      return St.extend({}, e, t);
    }() : {}, {
      validate: !0,
      external_plugins: (u = r, s = g.settings().external_plugins || {}, u && u.external_plugins ? St.extend({}, u.external_plugins, s) : s)
    });
    return iv(e, g, r, p);
  }

  function uv(e, t, n) {
    return he.from(t.settings[n]).filter(e);
  }

  function sv(e, t) {
    return t.dom[e];
  }

  function cv(e, t) {
    return parseInt(Cn(t, e), 10);
  }

  function lv(e, t, n) {
    var r,
        o,
        i,
        a,
        u,
        s,
        c = Et.fromDom(e.getBody()),
        l = e.inline ? c : Et.fromDom(Tt(c).dom.documentElement),
        f = (r = e.inline, i = t, a = n, u = (o = l).dom.getBoundingClientRect(), {
      x: i - (r ? u.left + o.dom.clientLeft + Ov(o) : 0),
      y: a - (r ? u.top + o.dom.clientTop + Dv(o) : 0)
    }),
        d = f.x,
        m = f.y,
        g = Tv(s = l),
        p = Rv(s);
    return 0 <= d && 0 <= m && d <= g && m <= p;
  }

  function fv(o) {
    function i() {
      var e = o.theme;
      return e && e.getNotificationManagerImpl ? e.getNotificationManagerImpl() : {
        open: t,
        close: t,
        reposition: t,
        getArgs: t
      };

      function t() {
        throw new Error("Theme did not provide a NotificationManager implementation.");
      }
    }

    function a() {
      return he.from(c[0]);
    }

    function u() {
      0 < c.length && i().reposition(c);
    }

    function s(t) {
      M(c, function (e) {
        return e === t;
      }).each(function (e) {
        c.splice(e, 1);
      });
    }

    function t(n, e) {
      if (void 0 === e && (e = !0), !o.removed && (r = (t = o).inline ? t.getBody() : t.getContentAreaContainer(), he.from(r).map(Et.fromDom).map(Fn).getOr(!1))) return e && o.fire("BeforeOpenNotification", {
        notification: n
      }), I(c, function (e) {
        return !((t = i().getArgs(e)).type !== n.type || t.text !== n.text || t.progressBar || t.timeout || n.progressBar || n.timeout);
        var t;
      }).getOrThunk(function () {
        o.editorManager.setActive(o);
        var e = i().open(n, function () {
          s(e), u(), a().fold(function () {
            return o.focus();
          }, function (e) {
            return Et.fromDom(e.getEl()).dom.focus();
          });
        });
        return c.push(e), u(), o.fire("OpenNotification", {
          notification: _ke({}, e)
        }), e;
      });
      var t, r;
    }

    var n,
        c = [],
        e = J(c);
    return (n = o).on("SkinLoaded", function () {
      var e = n.getParam("service_message");
      e && t({
        text: e,
        type: "warning",
        timeout: 0
      }, !1);
    }), n.on("ResizeEditor ResizeWindow NodeChange", function () {
      Ur.requestAnimationFrame(u);
    }), n.on("remove", function () {
      X(c.slice(), function (e) {
        i().close(e);
      });
    }), {
      open: t,
      close: function close() {
        a().each(function (e) {
          i().close(e), s(e), u();
        });
      },
      getNotifications: e
    };
  }

  var dv,
      mv,
      gv = 0,
      pv = function pv(e, t) {
    return e && e.firstChild && e.firstChild === e.lastChild && e.firstChild.name === t;
  },
      hv = St.makeMap,
      vv = St.each,
      bv = St.explode,
      yv = St.extend,
      Cv = cu.DOM,
      wv = (dv = function dv(e, t) {
    return h(e) && h(t) ? wv(e, t) : t;
  }, function () {
    for (var e = [], t = 0; t < arguments.length; t++) {
      e[t] = arguments[t];
    }

    if (0 === e.length) throw new Error("Can't merge zero objects");

    for (var n = {}, r = 0; r < e.length; r++) {
      var o,
          i = e[r];

      for (o in i) {
        Ee(i, o) && (n[o] = dv(n[o], i[o]));
      }
    }

    return n;
  }),
      xv = ft().deviceType,
      Sv = xv.isTouch(),
      Ev = xv.isPhone(),
      Nv = xv.isTablet(),
      kv = ["lists", "autolink", "autosave"],
      _v = {
    table_grid: !1,
    object_resizing: !1,
    resize: !1
  },
      Av = (mv = {}, {
    add: function add(e, t) {
      mv[e] = t;
    },
    get: function get(e) {
      return mv[e] || {
        icons: {}
      };
    },
    has: function has(e) {
      return Ee(mv, e);
    }
  }),
      Tv = A(sv, "clientWidth"),
      Rv = A(sv, "clientHeight"),
      Dv = A(cv, "margin-top"),
      Ov = A(cv, "margin-left"),
      Bv = Cu.PluginManager,
      Pv = Cu.ThemeManager;

  function Lv(r) {
    function o() {
      var e = r.theme;
      return e && e.getWindowManagerImpl ? e.getWindowManagerImpl() : {
        open: t,
        openUrl: t,
        alert: t,
        confirm: t,
        close: t,
        getParams: t,
        setParams: t
      };

      function t() {
        throw new Error("Theme did not provide a WindowManager implementation.");
      }
    }

    function i(n, r) {
      return function () {
        for (var e = [], t = 0; t < arguments.length; t++) {
          e[t] = arguments[t];
        }

        return r ? r.apply(n, e) : void 0;
      };
    }

    function n(t) {
      r.fire("CloseWindow", {
        dialog: t
      }), 0 === (u = U(u, function (e) {
        return e !== t;
      })).length && r.focus();
    }

    function a(e) {
      r.editorManager.setActive(r), wd(r);
      var t,
          n = e();
      return t = n, u.push(t), r.fire("OpenWindow", {
        dialog: t
      }), n;
    }

    var u = [];
    return r.on("remove", function () {
      X(u, function (e) {
        o().close(e);
      });
    }), {
      open: function open(e, t) {
        return a(function () {
          return o().open(e, t, n);
        });
      },
      openUrl: function openUrl(e) {
        return a(function () {
          return o().openUrl(e, n);
        });
      },
      alert: function alert(e, t, n) {
        var r = o();
        r.alert(e, i(n || r, t));
      },
      confirm: function confirm(e, t, n) {
        var r = o();
        r.confirm(e, i(n || r, t));
      },
      close: function close() {
        he.from(u[u.length - 1]).each(function (e) {
          o().close(e), n(e);
        });
      }
    };
  }

  function Iv(e, t) {
    e.notificationManager.open({
      type: "error",
      text: t
    });
  }

  function Mv(e, t) {
    e._skinLoaded ? Iv(e, t) : e.on("SkinLoaded", function () {
      Iv(e, t);
    });
  }

  function Fv(e, t, n) {
    Tf(e, t, {
      message: n
    }), console.error(n);
  }

  function Uv(e, t, n) {
    return n ? "Failed to load " + e + ": " + n + " from url " + t : "Failed to load " + e + " url: " + t;
  }

  function zv(e, t, n) {
    Fv(e, "PluginLoadError", Uv("plugin", t, n));
  }

  function jv(e) {
    var t, n;
    e.contentCSS = e.contentCSS.concat(ly(e, (n = (t = e).getParam("content_css"), K(n) ? R(n.split(","), Ge) : S(n) ? n : !1 === n || t.inline ? [] : ["default"])), ly(e, Hs(e)));
  }

  function Hv() {
    function n(e, t) {
      return {
        status: e,
        resultUri: t
      };
    }

    function t(e) {
      return e in r;
    }

    var r = {};
    return {
      hasBlobUri: t,
      getResultUri: function getResultUri(e) {
        var t = r[e];
        return t ? t.resultUri : null;
      },
      isPending: function isPending(e) {
        return !!t(e) && 1 === r[e].status;
      },
      isUploaded: function isUploaded(e) {
        return !!t(e) && 2 === r[e].status;
      },
      markPending: function markPending(e) {
        r[e] = n(1, null);
      },
      markUploaded: function markUploaded(e, t) {
        r[e] = n(2, t);
      },
      removeFailed: function removeFailed(e) {
        delete r[e];
      },
      destroy: function destroy() {
        r = {};
      }
    };
  }

  function Vv(e) {
    return e + fy++ + ("s" + new Date().getTime().toString(36) + t() + t() + t());

    function t() {
      return Math.round(4294967295 * Math.random()).toString(36);
    }
  }

  function qv() {
    function e(e) {
      return I(n, e).getOrUndefined();
    }

    function i(e) {
      if (!e.blob || !e.base64) throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");
      var t = e.id || Vv("blobid"),
          n = e.name || t,
          r = e.blob;
      return {
        id: J(t),
        name: J(n),
        filename: J(e.filename || n + "." + ({
          "image/jpeg": "jpg",
          "image/jpg": "jpg",
          "image/gif": "gif",
          "image/png": "png",
          "image/apng": "apng",
          "image/avif": "avif",
          "image/svg+xml": "svg",
          "image/webp": "webp",
          "image/bmp": "bmp",
          "image/tiff": "tiff"
        }[r.type.toLowerCase()] || "dat")),
        blob: J(r),
        base64: J(e.base64),
        blobUri: J(e.blobUri || URL.createObjectURL(r)),
        uri: J(e.uri)
      };
    }

    function t(t) {
      return e(function (e) {
        return e.id() === t;
      });
    }

    var n = [];
    return {
      create: function create(e, t, n, r, o) {
        if (K(e)) return i({
          id: e,
          name: r,
          filename: o,
          blob: t,
          base64: n
        });
        if (h(e)) return i(e);
        throw new Error("Unknown input type");
      },
      add: function add(e) {
        t(e.id()) || n.push(e);
      },
      get: t,
      getByUri: function getByUri(t) {
        return e(function (e) {
          return e.blobUri() === t;
        });
      },
      getByData: function getByData(t, n) {
        return e(function (e) {
          return e.base64() === t && e.blob().type === n;
        });
      },
      findFirst: e,
      removeByUri: function removeByUri(t) {
        n = U(n, function (e) {
          return e.blobUri() !== t || void URL.revokeObjectURL(e.blobUri());
        });
      },
      destroy: function destroy() {
        X(n, function (e) {
          URL.revokeObjectURL(e.blobUri());
        }), n = [];
      }
    };
  }

  function $v(u, s) {
    function o(e, r, o, t) {
      var i = new XMLHttpRequest();
      i.open("POST", s.url), i.withCredentials = s.credentials, i.upload.onprogress = function (e) {
        t(e.loaded / e.total * 100);
      }, i.onerror = function () {
        o("Image upload failed due to a XHR Transport error. Code: " + i.status);
      }, i.onload = function () {
        var e, t, n;
        i.status < 200 || 300 <= i.status ? o("HTTP Error: " + i.status) : (e = JSON.parse(i.responseText)) && "string" == typeof e.location ? r((t = s.basePath, n = e.location, t ? t.replace(/\/$/, "") + "/" + n.replace(/^\//, "") : n)) : o("Invalid JSON: " + i.responseText);
      };
      var n = new FormData();
      n.append("file", e.blob(), e.filename()), i.send(n);
    }

    function c(e, t) {
      return {
        url: t,
        blobInfo: e,
        status: !0
      };
    }

    function l(e, t, n) {
      return {
        url: "",
        blobInfo: e,
        status: !1,
        error: {
          message: t,
          options: n
        }
      };
    }

    function f(e, t) {
      St.each(d[e], function (e) {
        e(t);
      }), delete d[e];
    }

    var d = {};
    return !1 === y(s.handler) && (s.handler = o), {
      upload: function upload(e, t) {
        return s.url || s.handler !== o ? (n = e, r = t, n = St.grep(e, function (e) {
          return !u.isUploaded(e.blobUri());
        }), _r.all(St.map(n, function (e) {
          return u.isPending(e.blobUri()) ? (n = e.blobUri(), new _r(function (e) {
            d[n] = d[n] || [], d[n].push(e);
          })) : (i = e, t = s.handler, a = r, u.markPending(i.blobUri()), new _r(function (r) {
            var n;

            try {
              var o = function o() {
                n && n.close();
              };

              t(i, function (e) {
                o(), u.markUploaded(i.blobUri(), e), f(i.blobUri(), c(i, e)), r(c(i, e));
              }, function (e, t) {
                var n = t || {};
                o(), u.removeFailed(i.blobUri()), f(i.blobUri(), l(i, e, n)), r(l(i, e, n));
              }, function (t) {
                t < 0 || 100 < t || he.from(n).orThunk(function () {
                  return he.from(a).map(C);
                }).each(function (e) {
                  (n = e).progressBar.value(t);
                });
              });
            } catch (e) {
              r(l(i, e.message, {}));
            }
          }));
          var i, t, a, n;
        }))) : new _r(function (e) {
          e([]);
        });
        var n, r;
      }
    };
  }

  function Wv(e) {
    return function () {
      return e.notificationManager.open({
        text: e.translate("Image uploading..."),
        type: "info",
        timeout: -1,
        progressBar: !0
      });
    };
  }

  function Kv(e, t) {
    return $v(t, {
      url: e.getParam("images_upload_url", "", "string"),
      basePath: e.getParam("images_upload_base_path", "", "string"),
      credentials: e.getParam("images_upload_credentials", !1, "boolean"),
      handler: e.getParam("images_upload_handler", null, "function")
    });
  }

  function Xv(l) {
    function t(t) {
      return function (e) {
        return l.selection ? t(e) : [];
      };
    }

    function r(e, t, n) {
      for (var r = 0; -1 !== (r = e.indexOf(t, r)) && (e = e.substring(0, r) + n + e.substr(r + t.length), r += n.length - t.length + 1), -1 !== r;) {
        ;
      }

      return e;
    }

    function o(e, t, n) {
      return e = r(e, 'src="' + t + '"', 'src="' + n + '"' + (n === Ct.transparentSrc ? ' data-mce-placeholder="1"' : "")), r(e, 'data-mce-src="' + t + '"', 'data-mce-src="' + n + '"');
    }

    function f(t, n) {
      X(l.undoManager.data, function (e) {
        "fragmented" === e.type ? e.fragments = R(e.fragments, function (e) {
          return o(e, t, n);
        }) : e.content = o(e.content, t, n);
      });
    }

    function n(n) {
      return u = u || Kv(l, g), v().then(t(function (c) {
        var e = R(c, function (e) {
          return e.blobInfo;
        });
        return u.upload(e, Wv(l)).then(t(function (e) {
          var s = [],
              t = R(e, function (e, t) {
            var n,
                r,
                o,
                i,
                a = c[t].blobInfo,
                u = c[t].image;
            return e.status && l.getParam("images_replace_blob_uris", !0, "boolean") ? (m.removeByUri(u.src), bh(l) || (r = u, o = e.url, i = l.convertURL(o, "src"), f(r.src, o), l.$(r).attr({
              src: l.getParam("images_reuse_filename", !1, "boolean") ? o + (-1 === o.indexOf("?") ? "?" : "&") + new Date().getTime() : o,
              "data-mce-src": i
            }))) : e.error && (e.error.options.remove && (f(u.getAttribute("src"), Ct.transparentSrc), s.push(u)), n = e.error.message, Mv(l, yu.translate(["Failed to upload image: {0}", n]))), {
              element: u,
              status: e.status,
              uploadUri: e.url,
              blobInfo: a
            };
          });
          return 0 < t.length && h.fireIfChanged(), 0 < s.length && (bh(l) ? console.error("Removing images on failed uploads is currently unsupported for RTC") : l.undoManager.transact(function () {
            X(s, function (e) {
              l.dom.remove(e), m.removeByUri(e.src);
            });
          })), n && n(t), t;
        }));
      }));
    }

    function e(e) {
      if (Ms(l)) return n(e);
    }

    function i(t) {
      return !1 !== j(p, function (e) {
        return e(t);
      }) && (0 !== t.getAttribute("src").indexOf("data:") || l.getParam("images_dataimg_filter", x, "function")(t));
    }

    function a(e) {
      return e.replace(/src="(blob:[^"]+)"/g, function (e, n) {
        var t = g.getResultUri(n);
        if (t) return 'src="' + t + '"';
        var r = (r = m.getByUri(n)) || P(l.editorManager.get(), function (e, t) {
          return e || t.editorUpload && t.editorUpload.blobCache.getByUri(n);
        }, null);
        return r ? 'src="data:' + r.blob().type + ";base64," + r.base64() + '"' : e;
      });
    }

    var u,
        s,
        c,
        d,
        m = qv(),
        g = Hv(),
        p = [],
        h = (d = pu(null), (c = l).on("change AddUndo", function (e) {
      d.set(_ke({}, e.level));
    }), {
      fireIfChanged: function fireIfChanged() {
        var t = c.undoManager.data;
        Y(t).filter(function (e) {
          return !mh(d.get(), e);
        }).each(function (e) {
          c.setDirty(!0), c.fire("change", {
            level: e,
            lastLevel: $(t, t.length - 2).getOrNull()
          });
        });
      }
    }),
        v = function v() {
      return (s = s || Wh(g, m)).findAll(l.getBody(), i).then(t(function (e) {
        return e = U(e, function (e) {
          return "string" != typeof e || void Mv(l, e);
        }), bh(l) || X(e, function (e) {
          f(e.image.src, e.blobInfo.blobUri()), e.image.src = e.blobInfo.blobUri(), e.image.removeAttribute("data-mce-src");
        }), e;
      }));
    };

    return l.on("SetContent", function () {
      (Ms(l) ? e : v)();
    }), l.on("RawSaveContent", function (e) {
      e.content = a(e.content);
    }), l.on("GetContent", function (e) {
      e.source_view || "raw" === e.format || "tree" === e.format || (e.content = a(e.content));
    }), l.on("PostRender", function () {
      l.parser.addNodeFilter("img", function (e) {
        X(e, function (e) {
          var t,
              n = e.attr("src");
          m.getByUri(n) || (t = g.getResultUri(n)) && e.attr("src", t);
        });
      });
    }), {
      blobCache: m,
      addFilter: function addFilter(e) {
        p.push(e);
      },
      uploadImages: n,
      uploadImagesAuto: e,
      scanForImages: v,
      destroy: function destroy() {
        m.destroy(), g.destroy(), s = u = null;
      }
    };
  }

  function Yv(e, t) {
    function m(e) {
      o = "string" == typeof e ? {
        name: e,
        classes: [],
        attrs: {}
      } : e;
      var t,
          n = my.create(o.name),
          r = n;
      return (t = o).classes.length && my.addClass(r, t.classes.join(" ")), my.setAttribs(r, t.attrs), n;
    }

    var n,
        o,
        r,
        g = t && t.schema || go({}),
        p = function p(n, e, t) {
      var r,
          o,
          i,
          a,
          u,
          s,
          c,
          l = 0 < e.length && e[0],
          f = l && l.name,
          d = (a = f, u = "string" != typeof (i = n) ? i.nodeName.toLowerCase() : i, !(!(c = (s = g.getElementRule(u)) && s.parentsRequired) || !c.length) && (a && -1 !== St.inArray(c, a) ? a : c[0]));
      if (d) f === d ? (o = e[0], e = e.slice(1)) : o = d;else if (l) o = e[0], e = e.slice(1);else if (!t) return n;
      return o && (r = m(o)).appendChild(n), t && (r || (r = my.create("div")).appendChild(n), St.each(t, function (e) {
        var t = m(e);
        r.insertBefore(t, n);
      })), p(r, e, o && o.siblings);
    };

    return e && e.length ? (n = m(o = e[0]), (r = my.create("div")).appendChild(p(n, e.slice(1), o.siblings)), r) : "";
  }

  function Gv(e) {
    var t,
        a = {
      classes: [],
      attrs: {}
    };
    return "*" !== (e = a.selector = St.trim(e)) && (t = e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g, function (e, t, n, r, o) {
      switch (t) {
        case "#":
          a.attrs.id = n;
          break;

        case ".":
          a.classes.push(n);
          break;

        case ":":
          -1 !== St.inArray("checked disabled enabled read-only required".split(" "), n) && (a.attrs[n] = n);
      }

      var i;
      return "[" !== r || (i = o.match(/([\w\-]+)(?:\=\"([^\"]+))?/)) && (a.attrs[i[1]] = i[2]), "";
    })), a.name = t || "div", a;
  }

  function Jv(n, e) {
    var r,
        t,
        o = "",
        i = (t = n.getParam("preview_styles", "font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"), K(t) ? t : "");
    if ("" === i) return "";

    function a(e) {
      return e.replace(/%(\w+)/g, "");
    }

    if ("string" == typeof e) {
      if (!(e = n.formatter.get(e))) return;
      e = e[0];
    }

    if ("preview" in e) {
      var u = ae(e, "preview");
      if (ln(u, !1)) return "";
      i = u.getOr(i);
    }

    var s,
        c = e.block || e.inline || "span",
        l = (s = e.selector) && "string" == typeof s ? (s = (s = s.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g, "$1"), St.map(s.split(/(?:>|\s+(?![^\[\]]+\]))/), function (e) {
      var t = St.map(e.split(/(?:~\+|~|\+)/), Gv),
          n = t.pop();
      return t.length && (n.siblings = t), n;
    }).reverse()) : [],
        f = l.length ? (l[0].name || (l[0].name = c), c = e.selector, Yv(l, n)) : Yv([c], n),
        d = my.select(c, f)[0] || f.firstChild;
    return dy(e.styles, function (e, t) {
      var n = a(e);
      n && my.setStyle(d, t, n);
    }), dy(e.attributes, function (e, t) {
      var n = a(e);
      n && my.setAttrib(d, t, n);
    }), dy(e.classes, function (e) {
      var t = a(e);
      my.hasClass(d, t) || my.addClass(d, t);
    }), n.fire("PreviewFormats"), my.setStyles(f, {
      position: "absolute",
      left: -65535
    }), n.getBody().appendChild(f), r = my.getStyle(n.getBody(), "fontSize", !0), r = /px$/.test(r) ? parseInt(r, 10) : 0, dy(i.split(" "), function (e) {
      var t = my.getStyle(d, e, !0);

      if (!("background-color" === e && /transparent|rgba\s*\([^)]+,\s*0\)/.test(t) && (t = my.getStyle(n.getBody(), e, !0), "#ffffff" === my.toHex(t).toLowerCase()) || "color" === e && "#000000" === my.toHex(t).toLowerCase())) {
        if ("font-size" === e && /em|%$/.test(t)) {
          if (0 === r) return;
          t = parseFloat(t) / (/%$/.test(t) ? 100 : 1) * r + "px";
        }

        "border" === e && t && (o += "padding:0 2px;"), o += e + ":" + t + ";";
      }
    }), n.fire("AfterPreviewFormats"), my.remove(f), o;
  }

  function Qv(c) {
    var e,
        r,
        t,
        n,
        _o2,
        i,
        a = (n = {}, (_o2 = function o(e, t) {
      e && (K(e) ? (X(t = !S(t) ? [t] : t, function (e) {
        b(e.deep) && (e.deep = !Sl(e)), b(e.split) && (e.split = !Sl(e) || El(e)), b(e.remove) && Sl(e) && !El(e) && (e.remove = "none"), Sl(e) && El(e) && (e.mixed = !0, e.block_expand = !0), K(e.classes) && (e.classes = e.classes.split(/\s+/));
      }), n[e] = t) : Q(e, function (e, t) {
        _o2(t, e);
      }));
    })((r = (e = c).dom, t = {
      valigntop: [{
        selector: "td,th",
        styles: {
          verticalAlign: "top"
        }
      }],
      valignmiddle: [{
        selector: "td,th",
        styles: {
          verticalAlign: "middle"
        }
      }],
      valignbottom: [{
        selector: "td,th",
        styles: {
          verticalAlign: "bottom"
        }
      }],
      alignleft: [{
        selector: "figure.image",
        collapsed: !1,
        classes: "align-left",
        ceFalseOverride: !0,
        preview: "font-family font-size"
      }, {
        selector: "figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",
        styles: {
          textAlign: "left"
        },
        inherit: !1,
        preview: !1,
        defaultBlock: "div"
      }, {
        selector: "img,table,audio,video",
        collapsed: !1,
        styles: {
          "float": "left"
        },
        preview: "font-family font-size"
      }],
      aligncenter: [{
        selector: "figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",
        styles: {
          textAlign: "center"
        },
        inherit: !1,
        preview: "font-family font-size",
        defaultBlock: "div"
      }, {
        selector: "figure.image",
        collapsed: !1,
        classes: "align-center",
        ceFalseOverride: !0,
        preview: "font-family font-size"
      }, {
        selector: "img,audio,video",
        collapsed: !1,
        styles: {
          display: "block",
          marginLeft: "auto",
          marginRight: "auto"
        },
        preview: !1
      }, {
        selector: "table",
        collapsed: !1,
        styles: {
          marginLeft: "auto",
          marginRight: "auto"
        },
        preview: "font-family font-size"
      }],
      alignright: [{
        selector: "figure.image",
        collapsed: !1,
        classes: "align-right",
        ceFalseOverride: !0,
        preview: "font-family font-size"
      }, {
        selector: "figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",
        styles: {
          textAlign: "right"
        },
        inherit: !1,
        preview: "font-family font-size",
        defaultBlock: "div"
      }, {
        selector: "img,table,audio,video",
        collapsed: !1,
        styles: {
          "float": "right"
        },
        preview: "font-family font-size"
      }],
      alignjustify: [{
        selector: "figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",
        styles: {
          textAlign: "justify"
        },
        inherit: !1,
        defaultBlock: "div",
        preview: "font-family font-size"
      }],
      bold: [{
        inline: "strong",
        remove: "all",
        preserve_attributes: ["class", "style"]
      }, {
        inline: "span",
        styles: {
          fontWeight: "bold"
        }
      }, {
        inline: "b",
        remove: "all",
        preserve_attributes: ["class", "style"]
      }],
      italic: [{
        inline: "em",
        remove: "all",
        preserve_attributes: ["class", "style"]
      }, {
        inline: "span",
        styles: {
          fontStyle: "italic"
        }
      }, {
        inline: "i",
        remove: "all",
        preserve_attributes: ["class", "style"]
      }],
      underline: [{
        inline: "span",
        styles: {
          textDecoration: "underline"
        },
        exact: !0
      }, {
        inline: "u",
        remove: "all",
        preserve_attributes: ["class", "style"]
      }],
      strikethrough: [{
        inline: "span",
        styles: {
          textDecoration: "line-through"
        },
        exact: !0
      }, {
        inline: "strike",
        remove: "all",
        preserve_attributes: ["class", "style"]
      }, {
        inline: "s",
        remove: "all",
        preserve_attributes: ["class", "style"]
      }],
      forecolor: {
        inline: "span",
        styles: {
          color: "%value"
        },
        links: !0,
        remove_similar: !0,
        clear_child_styles: !0
      },
      hilitecolor: {
        inline: "span",
        styles: {
          backgroundColor: "%value"
        },
        links: !0,
        remove_similar: !0,
        clear_child_styles: !0
      },
      fontname: {
        inline: "span",
        toggle: !1,
        styles: {
          fontFamily: "%value"
        },
        clear_child_styles: !0
      },
      fontsize: {
        inline: "span",
        toggle: !1,
        styles: {
          fontSize: "%value"
        },
        clear_child_styles: !0
      },
      lineheight: {
        selector: "h1,h2,h3,h4,h5,h6,p,li,td,th,div",
        defaultBlock: "p",
        styles: {
          lineHeight: "%value"
        }
      },
      fontsize_class: {
        inline: "span",
        attributes: {
          "class": "%value"
        }
      },
      blockquote: {
        block: "blockquote",
        wrapper: !0,
        remove: "all"
      },
      subscript: {
        inline: "sub"
      },
      superscript: {
        inline: "sup"
      },
      code: {
        inline: "code"
      },
      link: {
        inline: "a",
        selector: "a",
        remove: "all",
        split: !0,
        deep: !0,
        onmatch: function onmatch(e, t, n) {
          return Hn(e) && e.hasAttribute("href");
        },
        onformat: function onformat(n, e, t) {
          St.each(t, function (e, t) {
            r.setAttrib(n, t, e);
          });
        }
      },
      lang: {
        inline: "span",
        clear_child_styles: !0,
        remove_similar: !0,
        attributes: {
          lang: "%value",
          "data-mce-lang": function dataMceLang(e) {
            var t;
            return null !== (t = null == e ? void 0 : e.customValue) && void 0 !== t ? t : null;
          }
        }
      },
      removeformat: [{
        selector: "b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",
        remove: "all",
        split: !0,
        expand: !1,
        block_expand: !0,
        deep: !0
      }, {
        selector: "span",
        attributes: ["style", "class"],
        remove: "empty",
        split: !0,
        expand: !1,
        deep: !0
      }, {
        selector: "*",
        attributes: ["style", "class"],
        split: !1,
        expand: !1,
        deep: !0
      }]
    }, St.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/), function (e) {
      t[e] = {
        block: e,
        remove: "all"
      };
    }), t)), _o2(e.getParam("formats")), {
      get: function get(e) {
        return V(e) ? n[e] : n;
      },
      has: function has(e) {
        return Ee(n, e);
      },
      register: _o2,
      unregister: function unregister(e) {
        return e && n[e] && delete n[e], n;
      }
    }),
        l = pu(null);

    return function (e) {
      e.addShortcut("meta+b", "", "Bold"), e.addShortcut("meta+i", "", "Italic"), e.addShortcut("meta+u", "", "Underline");

      for (var t = 1; t <= 6; t++) {
        e.addShortcut("access+" + t, "", ["FormatBlock", !1, "h" + t]);
      }

      e.addShortcut("access+7", "", ["FormatBlock", !1, "p"]), e.addShortcut("access+8", "", ["FormatBlock", !1, "div"]), e.addShortcut("access+9", "", ["FormatBlock", !1, "address"]);
    }(c), (i = c).on("mouseup keydown", function (e) {
      var t = i,
          n = e.keyCode,
          r = t.selection,
          o = t.getBody();
      qg(t, null, !1), 8 !== n && 46 !== n || !r.isCollapsed() || r.getStart().innerHTML !== xp || qg(t, Zc(o, r.getStart())), 37 !== n && 39 !== n || qg(t, Zc(o, r.getStart()));
    }), {
      get: a.get,
      has: a.has,
      register: a.register,
      unregister: a.unregister,
      apply: function apply(e, t, n) {
        var r = e,
            o = t,
            i = n;
        wh(c).formatter.apply(r, o, i);
      },
      remove: function remove(e, t, n, r) {
        var o = e,
            i = t,
            a = n,
            u = r;
        wh(c).formatter.remove(o, i, a, u);
      },
      toggle: function toggle(e, t, n) {
        var r = e,
            o = t,
            i = n;
        wh(c).formatter.toggle(r, o, i);
      },
      match: function match(e, t, n, r) {
        return o = e, i = t, a = n, u = r, wh(c).formatter.match(o, i, a, u);
        var o, i, a, u;
      },
      closest: function closest(e) {
        return t = e, wh(c).formatter.closest(t);
        var t;
      },
      matchAll: function matchAll(e, t) {
        return n = e, r = t, wh(c).formatter.matchAll(n, r);
        var n, r;
      },
      matchNode: function matchNode(e, t, n, r) {
        return o = e, i = t, a = n, u = r, wh(c).formatter.matchNode(o, i, a, u);
        var o, i, a, u;
      },
      canApply: function canApply(e) {
        return t = e, wh(c).formatter.canApply(t);
        var t;
      },
      formatChanged: function formatChanged(e, t, n, r) {
        return o = l, i = e, a = t, u = n, s = r, wh(c).formatter.formatChanged(o, i, a, u, s);
        var o, i, a, u, s;
      },
      getCssText: A(Jv, c)
    };
  }

  function Zv(e) {
    switch (e.toLowerCase()) {
      case "undo":
      case "redo":
      case "mcerepaint":
      case "mcefocus":
        return 1;

      default:
        return;
    }
  }

  function eb(s) {
    var e,
        n,
        r,
        o,
        i,
        c = wu(),
        l = pu(0),
        f = pu(0),
        d = {
      data: [],
      typing: !1,
      beforeChange: function beforeChange() {
        var e = l,
            t = c;
        wh(s).undoManager.beforeChange(e, t);
      },
      add: function add(e, t) {
        return n = d, r = f, o = l, i = c, a = e, u = t, wh(s).undoManager.add(n, r, o, i, a, u);
        var n, r, o, i, a, u;
      },
      undo: function undo() {
        return e = d, t = l, n = f, wh(s).undoManager.undo(e, t, n);
        var e, t, n;
      },
      redo: function redo() {
        return e = f, t = d.data, wh(s).undoManager.redo(e, t);
        var e, t;
      },
      clear: function clear() {
        var e = d,
            t = f;
        wh(s).undoManager.clear(e, t);
      },
      reset: function reset() {
        var e = d;
        wh(s).undoManager.reset(e);
      },
      hasUndo: function hasUndo() {
        return e = d, t = f, wh(s).undoManager.hasUndo(e, t);
        var e, t;
      },
      hasRedo: function hasRedo() {
        return e = d, t = f, wh(s).undoManager.hasRedo(e, t);
        var e, t;
      },
      transact: function transact(e) {
        return t = d, n = l, r = e, wh(s).undoManager.transact(t, n, r);
        var t, n, r;
      },
      ignore: function ignore(e) {
        var t = l,
            n = e;
        wh(s).undoManager.ignore(t, n);
      },
      extra: function extra(e, t) {
        var n = d,
            r = f,
            o = e,
            i = t;
        wh(s).undoManager.extra(n, r, o, i);
      }
    };
    return bh(s) || (r = d, o = l, i = pu(!1), (n = s).on("init", function () {
      r.add();
    }), n.on("BeforeExecCommand", function (e) {
      Zv(e.command) || (hh(r, o), r.beforeChange());
    }), n.on("ExecCommand", function (e) {
      Zv(e.command) || a(e);
    }), n.on("ObjectResizeStart cut", function () {
      r.beforeChange();
    }), n.on("SaveContent ObjectResized blur", a), n.on("dragend", a), n.on("keyup", function (e) {
      var t = e.keyCode;
      e.isDefaultPrevented() || ((33 <= t && t <= 36 || 37 <= t && t <= 40 || 45 === t || e.ctrlKey) && (a(), n.nodeChanged()), 46 !== t && 8 !== t || n.nodeChanged(), i.get() && r.typing && !1 === mh(ch(n), r.data[0]) && (!1 === n.isDirty() && (n.setDirty(!0), n.fire("change", {
        level: r.data[0],
        lastLevel: null
      })), n.fire("TypingUndo"), i.set(!1), n.nodeChanged()));
    }), n.on("keydown", function (e) {
      var t,
          n = e.keyCode;
      e.isDefaultPrevented() || (33 <= n && n <= 36 || 37 <= n && n <= 40 || 45 === n ? r.typing && a(e) : (t = e.ctrlKey && !e.altKey || e.metaKey, !(n < 16 || 20 < n) || 224 === n || 91 === n || r.typing || t || (r.beforeChange(), ph(r, !0, o), r.add({}, e), i.set(!0))));
    }), n.on("mousedown", function (e) {
      r.typing && a(e);
    }), n.on("input", function (e) {
      e.inputType && ("insertReplacementText" === e.inputType || "insertText" === e.inputType && null === e.data || "insertFromPaste" === e.inputType || "insertFromDrop" === e.inputType) && a(e);
    }), n.on("AddUndo Undo Redo ClearUndos", function (e) {
      e.isDefaultPrevented() || n.nodeChanged();
    })), (e = s).addShortcut("meta+z", "", "Undo"), e.addShortcut("meta+y,meta+shift+z", "", "Redo"), d;

    function a(e) {
      ph(r, !1, o), r.add({}, e);
    }
  }

  function tb(e) {
    return "keydown" === e.type || "keyup" === e.type;
  }

  function nb(e) {
    var t = e.keyCode;
    return t === $f.BACKSPACE || t === $f.DELETE;
  }

  function rb(e, t) {
    return Ue(Et.fromDom(t), e.getParam("inline_boundaries_selector", "a[href],code,.mce-annotation", "string"));
  }

  function ob(e, t, n) {
    var r,
        o,
        i = (r = e, o = t, U(cu.DOM.getParents(n.container(), "*", o), r));
    return he.from(i[i.length - 1]);
  }

  function ib(e, t) {
    if (!t) return t;
    var n = t.container(),
        r = t.offset();
    return e ? Kr(n) ? qn(n.nextSibling) ? bs(n.nextSibling, 0) : bs.after(n) : Gr(t) ? bs(n, r + 1) : t : Kr(n) ? qn(n.previousSibling) ? bs(n.previousSibling, n.previousSibling.data.length) : bs.before(n) : Jr(t) ? bs(n, r - 1) : t;
  }

  function ab(e) {
    return Eo(e) || ko(e);
  }

  function ub(e, t) {
    return He(e, t) ? vr(t, ab, (n = e, function (e) {
      return je(n, Et.fromDom(e.dom.parentNode));
    })) : he.none();
    var n;
  }

  function sb(e) {
    var t, n, r;
    e.dom.isEmpty(e.getBody()) && (e.setContent(""), r = (n = (t = e).getBody()).firstChild && t.dom.isBlock(n.firstChild) ? n.firstChild : n, t.selection.setCursorLocation(r, 0));
  }

  function cb(e, t) {
    return {
      from: e,
      to: t
    };
  }

  function lb(e, t) {
    return ub(Et.fromDom(e), Et.fromDom(t.container())).map(function (e) {
      return {
        block: e,
        position: t
      };
    });
  }

  function fb(e) {
    var t,
        n = M(t = On(e), So).fold(J(t), function (e) {
      return t.slice(0, e);
    });
    return X(n, Mn), n;
  }

  function db(e, t) {
    return I(xm(t, e).reverse(), function (e) {
      return oo(e);
    }).each(Mn);
  }

  function mb(e, t, n, r) {
    if (oo(n)) return ym(n), mf(n.dom);
    0 === U(Pt(r), function (e) {
      return !oo(e);
    }).length && oo(t) && Vt(r, Et.fromTag("br"));
    var o = df(n.dom, bs.before(r.dom));
    return X(fb(t), function (e) {
      Vt(r, e);
    }), db(e, t), o;
  }

  function gb(e, t, n) {
    if (oo(n)) return Mn(n), oo(t) && ym(t), mf(t.dom);
    var r = gf(n.dom);
    return X(fb(t), function (e) {
      In(n, e);
    }), db(e, t), r;
  }

  function pb(e, t) {
    Jc(e, t.dom).map(function (e) {
      return e.getNode();
    }).map(Et.fromDom).filter($r).each(Mn);
  }

  function hb(e, t, n) {
    return pb(!0, t), pb(!1, n), (He(o = n, r = t) ? (i = xm(r, o), he.from(i[i.length - 1])) : he.none()).fold(A(gb, e, t, n), A(mb, e, t, n));
    var r, o, i;
  }

  function vb(e, t, n, r) {
    return t ? hb(e, r, n) : hb(e, n, r);
  }

  function bb(t, n) {
    var e,
        r,
        o,
        i,
        a,
        u,
        s,
        c = Et.fromDom(t.getBody()),
        l = (e = c.dom, r = n, ((o = t.selection.getRng()).collapsed ? (a = r, u = lb(i = e, bs.fromRangeStart(o)), s = u.bind(function (e) {
      return cf(a, i, e.position).bind(function (e) {
        return lb(i, e).map(function (e) {
          return t = i, n = a, Xn((r = e).position.getNode()) && !1 === oo(r.block) ? Jc(!1, r.block.dom).bind(function (e) {
            return e.isEqual(r.position) ? cf(n, t, e).bind(function (e) {
              return lb(t, e);
            }) : he.some(r);
          }).getOr(r) : r;
          var t, n, r;
        });
      });
    }), fn(u, s, cb).filter(function (e) {
      return !1 === je(e.from.block, e.to.block) && Dt((n = e).from.block).bind(function (t) {
        return Dt(n.to.block).filter(function (e) {
          return je(t, e);
        });
      }).isSome() && !1 === Jn((t = e).from.block.dom) && !1 === Jn(t.to.block.dom);
      var t, n;
    })) : he.none()).bind(function (e) {
      return vb(c, n, e.from.block, e.to.block);
    }));
    return l.each(function (e) {
      t.selection.setRng(e.toRange());
    }), l.isSome();
  }

  function yb(e, t) {
    var n = Et.fromDom(t),
        r = A(je, e);
    return hr(n, Ao, r).isSome();
  }

  function Cb(e) {
    var n,
        r,
        o,
        t,
        i,
        a,
        u,
        s,
        c,
        l,
        f = Et.fromDom(e.getBody()),
        d = e.selection.getRng();
    return a = d, c = df((i = f).dom, bs.fromRangeStart(a)).isNone(), l = ff(i.dom, bs.fromRangeEnd(a)).isNone(), !yb(u = i, (s = a).startContainer) && !yb(u, s.endContainer) && c && l ? ((t = e).setContent(""), t.selection.setCursorLocation(), !0) : (n = f, r = e.selection, o = r.getRng(), fn(ub(n, Et.fromDom(o.startContainer)), ub(n, Et.fromDom(o.endContainer)), function (e, t) {
      return !1 === je(e, t) && (o.deleteContents(), vb(n, !0, e, t).each(function (e) {
        r.setRng(e.toRange());
      }), !0);
    }).getOr(!1));
  }

  function wb(e, t) {
    return !e.selection.isCollapsed() && Cb(e);
  }

  function xb(e, t, n, r, o) {
    return he.from(t._selectionOverrides.showCaret(e, n, r, o));
  }

  function Sb(e, t) {
    var n, r;
    return e.fire("BeforeObjectSelected", {
      target: t
    }).isDefaultPrevented() ? he.none() : he.some(((r = (n = t).ownerDocument.createRange()).selectNode(n), r));
  }

  function Eb(e, t, n) {
    var r = fc(1, e.getBody(), t),
        o = bs.fromRangeStart(r),
        i = o.getNode();
    if (Pc(i)) return xb(1, e, i, !o.isAtEnd(), !1);
    var a = o.getNode(!0);
    if (Pc(a)) return xb(1, e, a, !1, !1);
    var u = e.dom.getParent(o.getNode(), function (e) {
      return Cy(e) || yy(e);
    });
    return Pc(u) ? xb(1, e, u, !1, n) : he.none();
  }

  function Nb(e, t, n) {
    return t.collapsed ? Eb(e, t, n).getOr(t) : t;
  }

  function kb(e) {
    return ap(e) || np(e);
  }

  function _b(e) {
    return up(e) || rp(e);
  }

  function Ab(n, r, e, t, o, i) {
    var a, u;
    return xb(t, n, i.getNode(!o), o, !0).each(function (e) {
      var t;
      r.collapsed ? (t = r.cloneRange(), o ? t.setEnd(e.startContainer, e.startOffset) : t.setStart(e.endContainer, e.endOffset), t.deleteContents()) : r.deleteContents(), n.selection.setRng(e);
    }), a = n.dom, qn(u = e) && 0 === u.data.length && a.remove(u), !0;
  }

  function Tb(e, t) {
    var n = e.selection.getRng();
    if (!qn(n.commonAncestorContainer)) return !1;
    var r = t ? vc.Forwards : vc.Backwards,
        o = Wc(e.getBody()),
        i = A(pc, t ? o.next : o.prev),
        a = t ? kb : _b,
        u = mc(r, e.getBody(), n),
        s = ib(t, i(u));
    if (!s || !hc(u, s)) return !1;
    if (a(s)) return Ab(e, n, u.getNode(), r, t, s);
    var c = i(s);
    return !!(c && a(c) && hc(s, c)) && Ab(e, n, u.getNode(), r, t, c);
  }

  function Rb(l, f, d) {
    return cf(f, l, d).bind(function (e) {
      return s = e.getNode(), Ao(Et.fromDom(s)) || ko(Et.fromDom(s)) || (o = l, u = e, dc(!(i = f), a = d).fold(function () {
        return dc(i, u).fold(T, c);
      }, c)) ? he.none() : f && Jn(e.getNode()) || !1 === f && Jn(e.getNode(!0)) ? (t = l, n = d, r = e.getNode(!1 === f), ub(Et.fromDom(t), Et.fromDom(n.getNode())).map(function (e) {
        return oo(e) ? wy.remove(e.dom) : wy.moveToElement(r);
      }).orThunk(function () {
        return he.some(wy.moveToElement(r));
      })) : f && up(d) || !1 === f && ap(d) ? he.some(wy.moveToPosition(e)) : he.none();
      var t, n, r, o, i, a, u, s;

      function c(e) {
        return qr(Et.fromDom(e)) && !uc(a, u, o);
      }
    });
  }

  function Db(e, t) {
    return he.from(_f(e.getBody(), t));
  }

  function Ob(m, g) {
    var e = m.selection.getNode();
    return Db(m, e).filter(Jn).fold(function () {
      return s = m.getBody(), l = fc((c = g) ? 1 : -1, s, m.selection.getRng()), f = bs.fromRangeStart(l), d = Et.fromDom(s), (!1 === c && up(f) ? he.some(wy.remove(f.getNode(!0))) : c && ap(f) ? he.some(wy.remove(f.getNode())) : !1 === c && ap(f) && Rm(d, f) ? dp(d, f).map(function (e) {
        return wy.remove(e.getNode());
      }) : c && up(f) && Tm(d, f) ? mp(d, f).map(function (e) {
        return wy.remove(e.getNode());
      }) : (r = s, e = c, a = (o = f).getNode(!1 === (i = e)), u = i ? "after" : "before", Hn(a) && a.getAttribute("data-mce-caret") === u ? (n = o.getNode(!1 === (t = e)), (t && Jn(n.nextSibling) ? he.some(wy.moveToElement(n.nextSibling)) : !1 === t && Jn(n.previousSibling) ? he.some(wy.moveToElement(n.previousSibling)) : he.none()).fold(function () {
        return Rb(r, e, o);
      }, he.some)) : Rb(r, e, o).bind(function (e) {
        return t = r, n = o, e.fold(function (e) {
          return he.some(wy.remove(e));
        }, function (e) {
          return he.some(wy.moveToElement(e));
        }, function (e) {
          return uc(n, e, t) ? he.none() : he.some(wy.moveToPosition(e));
        });
        var t, n;
      }))).exists(function (e) {
        return e.fold(function (e) {
          return o._selectionOverrides.hideFakeCaret(), tg(o, i, Et.fromDom(e)), !0;
        }, (r = i = g, function (e) {
          var t = r ? bs.before(e) : bs.after(e);
          return n.selection.setRng(t.toRange()), !0;
        }), (t = n = o = m, function (e) {
          return t.selection.setRng(e.toRange()), !0;
        }));
        var t, n, r, o, i;
      });
      var r, e, o, t, n, i, a, u, s, c, l, f, d;
    }, x);
  }

  function Bb(e, t) {
    var n = e.selection.getNode();
    return !(!Jn(n) || Qn(n)) && Db(e, n.parentNode).filter(Jn).fold(function () {
      return X(Au(Et.fromDom(e.getBody()), ".mce-offscreen-selection"), Mn), tg(e, t, Et.fromDom(e.selection.getNode())), sb(e), !0;
    }, x);
  }

  function Pb(e) {
    var t,
        n = e.dom,
        r = e.selection,
        o = _f(e.getBody(), r.getNode());

    return Gn(o) && n.isBlock(o) && n.isEmpty(o) && (t = n.create("br", {
      "data-mce-bogus": "1"
    }), n.setHTML(o, ""), o.appendChild(t), r.setRng(bs.before(t).toRange())), !0;
  }

  function Lb(e, t) {
    return (e.selection.isCollapsed() ? Ob : Bb)(e, t);
  }

  function Ib(e, t) {
    return !!e.selection.isCollapsed() && (n = e, r = t, o = bs.fromRangeStart(n.selection.getRng()), cf(r, n.getBody(), o).filter(function (e) {
      return (r ? ep : tp)(e);
    }).bind(function (e) {
      return he.from(sc(r ? 0 : -1, e));
    }).exists(function (e) {
      return n.selection.select(e), !0;
    }));
    var n, r, o;
  }

  function Mb(e) {
    return xy(e) && e.data[0] === Oo;
  }

  function Fb(e) {
    return xy(e) && e.data[e.data.length - 1] === Oo;
  }

  function Ub(e) {
    return e.ownerDocument.createTextNode(Oo);
  }

  function zb(e, t) {
    return (e ? function (e) {
      if (xy(e.previousSibling)) return Fb(e.previousSibling) || e.previousSibling.appendData(Oo), e.previousSibling;
      if (xy(e)) return Mb(e) || e.insertData(0, Oo), e;
      var t = Ub(e);
      return e.parentNode.insertBefore(t, e), t;
    } : function (e) {
      if (xy(e.nextSibling)) return Mb(e.nextSibling) || e.nextSibling.insertData(0, Oo), e.nextSibling;
      if (xy(e)) return Fb(e) || e.appendData(Oo), e;
      var t = Ub(e);
      return e.nextSibling ? e.parentNode.insertBefore(t, e.nextSibling) : e.parentNode.appendChild(t), t;
    })(t);
  }

  function jb(e, t) {
    return qn(e.container()) ? zb(t, e.container()) : zb(t, e.getNode());
  }

  function Hb(e, t) {
    var n = t.get();
    return n && e.container() === n && Kr(n);
  }

  function Vb(n, e) {
    return e.fold(function (e) {
      Tc(n.get());
      var t = Sy(e);
      return n.set(t), he.some(bs(t, t.length - 1));
    }, function (e) {
      return mf(e).map(function (e) {
        if (Hb(e, n)) return bs(n.get(), 1);
        Tc(n.get());
        var t = jb(e, !0);
        return n.set(t), bs(t, 1);
      });
    }, function (e) {
      return gf(e).map(function (e) {
        if (Hb(e, n)) return bs(n.get(), n.get().length - 1);
        Tc(n.get());
        var t = jb(e, !1);
        return n.set(t), bs(t, t.length - 1);
      });
    }, function (e) {
      Tc(n.get());
      var t = Ey(e);
      return n.set(t), he.some(bs(t, 1));
    });
  }

  function qb(e, t) {
    for (var n = 0; n < e.length; n++) {
      var r = e[n].apply(null, t);
      if (r.isSome()) return r;
    }

    return he.none();
  }

  function $b(e, t) {
    return ac(t, e) || e;
  }

  function Wb(e, t, n) {
    var r = vy(n),
        o = $b(t, r.container());
    return ob(e, o, r).fold(function () {
      return ff(o, r).bind(A(ob, e, o)).map(function (e) {
        return Ny.before(e);
      });
    }, he.none);
  }

  function Kb(e, t) {
    return null === Zc(e, t);
  }

  function Xb(e, t, n) {
    return ob(e, t, n).filter(A(Kb, t));
  }

  function Yb(e, t, n) {
    var r = by(n);
    return Xb(e, t, r).bind(function (e) {
      return df(e, r).isNone() ? he.some(Ny.start(e)) : he.none();
    });
  }

  function Gb(e, t, n) {
    var r = vy(n);
    return Xb(e, t, r).bind(function (e) {
      return ff(e, r).isNone() ? he.some(Ny.end(e)) : he.none();
    });
  }

  function Jb(e, t, n) {
    var r = by(n),
        o = $b(t, r.container());
    return ob(e, o, r).fold(function () {
      return df(o, r).bind(A(ob, e, o)).map(function (e) {
        return Ny.after(e);
      });
    }, he.none);
  }

  function Qb(e) {
    return !1 === (t = ky(e), "rtl" === cu.DOM.getStyle(t, "direction", !0) || (n = t.textContent, hy.test(n)));
    var t, n;
  }

  function Zb(e, t, n) {
    return qb([Wb, Yb, Gb, Jb], [e, t, n]).filter(Qb);
  }

  function ey(e) {
    return e.fold(J("before"), J("start"), J("end"), J("after"));
  }

  function ty(e) {
    return e.fold(Ny.before, Ny.before, Ny.after, Ny.after);
  }

  function ny(e) {
    return e.fold(Ny.start, Ny.start, Ny.end, Ny.end);
  }

  function ry(a, e, u, t, n, s) {
    return fn(ob(e, u, t), ob(e, u, n), function (e, t) {
      return e !== t && (r = t, o = ac(e, n = u), i = ac(r, n), o && o === i) ? Ny.after(a ? e : t) : s;
      var n, r, o, i;
    }).getOr(s);
  }

  function oy(e, r) {
    return e.fold(x, function (e) {
      return n = r, !(ey(t = e) === ey(n) && ky(t) === ky(n));
      var t, n;
    });
  }

  function iy(e, t) {
    return e ? t.fold(i(he.some, Ny.start), he.none, i(he.some, Ny.after), he.none) : t.fold(he.none, i(he.some, Ny.before), he.none, i(he.some, Ny.end));
  }

  function ay(e, a, u, s) {
    var t = ib(e, s),
        c = Zb(a, u, t);
    return Zb(a, u, t).bind(A(iy, e)).orThunk(function () {
      return n = a, r = u, o = c, i = ib(t = e, s), cf(t, r, i).map(A(ib, t)).fold(function () {
        return o.map(ty);
      }, function (e) {
        return Zb(n, r, e).map(A(ry, t, n, r, i, e)).filter(A(oy, o));
      }).filter(Qb);
      var t, n, r, o, i;
    });
  }

  function uy(e) {
    for (var t = [], n = 1; n < arguments.length; n++) {
      t[n - 1] = arguments[n];
    }

    var r = window.console;
    r && (r.error || r.log).apply(r, _e([e], t));
  }

  var sy,
      cy,
      ly = function ly(t, e) {
    var n = t.editorManager.baseURL + "/skins/content",
        r = "content" + t.editorManager.suffix + ".css",
        o = !0 === t.inline;
    return R(e, function (e) {
      return /^[a-z0-9\-]+$/i.test(e) && !o ? n + "/" + e + "/" + r : t.documentBaseURI.toAbsolute(e);
    });
  },
      fy = 0,
      dy = St.each,
      my = cu.DOM,
      gy = [9, 27, $f.HOME, $f.END, 19, 20, 44, 144, 145, 33, 34, 45, 16, 17, 18, 91, 92, 93, $f.DOWN, $f.UP, $f.LEFT, $f.RIGHT].concat(Ct.browser.isFirefox() ? [224] : []),
      py = "data-mce-placeholder",
      hy = /[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,
      vy = A(ib, !0),
      by = A(ib, !1),
      yy = Gn,
      Cy = Jn,
      wy = ar([{
    remove: ["element"]
  }, {
    moveToElement: ["element"]
  }, {
    moveToPosition: ["position"]
  }]),
      xy = qn,
      Sy = A(zb, !0),
      Ey = A(zb, !1),
      Ny = ar([{
    before: ["element"]
  }, {
    start: ["element"]
  }, {
    end: ["element"]
  }, {
    after: ["element"]
  }]),
      ky = function ky(e) {
    return e.fold(u, u, u, u);
  };

  function _y(e, t, n) {
    var r = e ? 1 : -1;
    return t.setRng(bs(n.container(), n.offset() + r).toRange()), t.getSel().modify("move", e ? "forward" : "backward", "word"), !0;
  }

  function Ay(e, t) {
    return e === vc.Backwards ? H(t) : t;
  }

  function Ty(e, t, n, r) {
    for (var o, i, a, u, s = Wc(n), c = r, l = []; c;) {
      var f = (a = s, u = c, t === vc.Forwards ? a.next(u) : a.prev(u));
      if (!f) break;
      if (Xn(f.getNode(!1))) return t === vc.Forwards ? {
        positions: Ay(t, l).concat([f]),
        breakType: sy.Br,
        breakAt: he.some(f)
      } : {
        positions: Ay(t, l),
        breakType: sy.Br,
        breakAt: he.some(f)
      };

      if (f.isVisible()) {
        if (e(c, f)) {
          var d = (o = c, Xn((i = f).getNode(t === vc.Forwards)) ? sy.Br : !1 === uc(o, i) ? sy.Block : sy.Wrap);
          return {
            positions: Ay(t, l),
            breakType: d,
            breakAt: he.some(f)
          };
        }

        l.push(f), c = f;
      } else c = f;
    }

    return {
      positions: Ay(t, l),
      breakType: sy.Eol,
      breakAt: he.none()
    };
  }

  function Ry(n, r, o, e) {
    return r(o, e).breakAt.map(function (e) {
      var t = r(o, e).positions;
      return n === vc.Backwards ? t.concat(e) : [e].concat(t);
    }).getOr([]);
  }

  function Dy(e, i) {
    return P(e, function (e, o) {
      return e.fold(function () {
        return he.some(o);
      }, function (r) {
        return fn(W(r.getClientRects()), W(o.getClientRects()), function (e, t) {
          var n = Math.abs(i - e.left);
          return Math.abs(i - t.left) <= n ? o : r;
        }).or(e);
      });
    }, he.none());
  }

  function Oy(t, e) {
    return W(e.getClientRects()).bind(function (e) {
      return Dy(t, e.left);
    });
  }

  function By(n) {
    function e(e) {
      return R(e, function (e) {
        var t = Fu(e);
        return t.node = n, t;
      });
    }

    if (Hn(n)) return e(n.getClientRects());

    if (qn(n)) {
      var t = n.ownerDocument.createRange();
      return t.setStart(n, 0), t.setEnd(n, n.data.length), e(t.getClientRects());
    }
  }

  function Py(e) {
    return z(e, By);
  }

  A(ay, !1), A(ay, !0), (cy = sy = {})[cy.Br = 0] = "Br", cy[cy.Block = 1] = "Block", cy[cy.Wrap = 2] = "Wrap", cy[cy.Eol = 3] = "Eol";
  var Ly,
      Iy,
      My = A(Ty, bs.isAbove, -1),
      Fy = A(Ty, bs.isBelow, 1),
      Uy = A(Ry, -1, My),
      zy = A(Ry, 1, Fy);

  function jy(o, i, a, e, u, t) {
    function n(e) {
      var t = Py([e]);
      -1 === o && (t = t.reverse());

      for (var n = 0; n < t.length; n++) {
        var r = t[n];

        if (!a(r, l)) {
          if (0 < c.length && i(r, ge(c)) && s++, r.line = s, u(r)) return !0;
          c.push(r);
        }
      }
    }

    var s = 0,
        c = [],
        l = ge(t.getClientRects());
    if (!l) return c;
    var r = t.getNode();
    return n(r), function (e, t, n, r) {
      for (; r = ic(r, e, to, t);) {
        if (n(r)) return;
      }
    }(o, e, n, r), c;
  }

  function Hy(t) {
    return function (e) {
      return e.line > t;
    };
  }

  function Vy(t) {
    return function (e) {
      return e.line === t;
    };
  }

  function qy(e, t) {
    return Math.abs(e.left - t);
  }

  function $y(e, t) {
    return Math.abs(e.right - t);
  }

  function Wy(e, t) {
    return e >= t.left && e <= t.right;
  }

  function Ky(e, t) {
    return e >= t.top && e <= t.bottom;
  }

  function Xy(e, o) {
    return de(e, function (e, t) {
      var n = Math.min(qy(e, o), $y(e, o)),
          r = Math.min(qy(t, o), $y(t, o));
      return Wy(o, t) || !Wy(o, e) && (r === n && FC(t.node) || r < n) ? t : e;
    });
  }

  function Yy(e, t, n, r, o) {
    var i = UC(r, e, to, t, !o);

    do {
      if (!i || n(i)) return;
    } while (i = UC(i, e, to, t));
  }

  function Gy(e, t, n) {
    var r,
        o,
        i,
        a = Py(U(Ce(e.getElementsByTagName("*")), rc)),
        u = U(a, A(Ky, n));
    if ((i = Xy(u, t)) && (i = Xy(function (e, r, t) {
      function n(t, e) {
        var n = U(Py([e]), function (e) {
          return !t(e, r);
        });
        return o = o.concat(n), 0 === n.length;
      }

      void 0 === t && (t = !0);
      var o = [];
      return o.push(r), Yy(Ly.Up, e, A(n, ju), r.node, t), Yy(Ly.Down, e, A(n, Hu), r.node, t), o;
    }(e, i, !sn(i.node) && !Zn(i.node)), t)) && rc(i.node)) return {
      node: (r = i).node,
      before: qy(r, o = t) < $y(r, o)
    };
    return null;
  }

  function Jy(e, t) {
    e.selection.setRng(t), fd(e, e.selection.getRng());
  }

  function Qy(e, t, n) {
    return he.some(Nb(e, t, n));
  }

  function Zy(e, t, n, r, o, i) {
    var a = t === vc.Forwards,
        u = Wc(e.getBody()),
        s = A(pc, a ? u.next : u.prev),
        c = a ? r : o;

    if (!n.collapsed) {
      var l = qu(n);
      if (i(l)) return xb(t, e, l, t === vc.Backwards, !1);
    }

    var f = mc(t, e.getBody(), n);
    if (c(f)) return Sb(e, f.getNode(!a));
    var d = ib(a, s(f)),
        m = Zr(n);
    if (!d) return m ? he.some(n) : he.none();
    if (c(d)) return xb(t, e, d.getNode(!a), a, !1);
    var g = s(d);
    return g && c(g) && hc(d, g) ? xb(t, e, g.getNode(!a), a, !1) : m ? Qy(e, d.toRange(), !1) : he.none();
  }

  function e0(t, e, n, r, o, i) {
    var a = mc(e, t.getBody(), n),
        u = ge(a.getClientRects()),
        s = e === Ly.Down;
    if (!u) return he.none();
    var c,
        l = U((s ? MC : IC)(t.getBody(), Hy(1), a), Vy(1)),
        f = u.left,
        d = Xy(l, f);

    if (d && i(d.node)) {
      var m = Math.abs(f - d.left),
          g = Math.abs(f - d.right);
      return xb(e, t, d.node, m < g, !1);
    }

    if (c = r(a) ? a.getNode() : o(a) ? a.getNode(!0) : qu(n)) {
      var p = function (e, t, n, r) {
        function o(e) {
          return ge(e.getClientRects());
        }

        var i,
            a,
            u,
            s = Wc(t),
            c = [],
            l = 0,
            f = 1 === e ? (i = s.next, a = Hu, u = ju, bs.after(r)) : (i = s.prev, a = ju, u = Hu, bs.before(r)),
            d = o(f);

        do {
          if (f.isVisible()) {
            var m = o(f);

            if (!u(m, d)) {
              0 < c.length && a(m, ge(c)) && l++;
              var g = Fu(m);
              if (g.position = f, g.line = l, n(g)) return c;
              c.push(g);
            }
          }
        } while (f = i(f));

        return c;
      }(e, t.getBody(), Hy(1), c),
          h = Xy(U(p, Vy(1)), f);

      if (h) return Qy(t, h.position.toRange(), !1);
      if (h = ge(U(p, Vy(0)))) return Qy(t, h.position.toRange(), !1);
    }

    return 0 === l.length ? zC(t, s).filter(s ? o : r).map(function (e) {
      return Nb(t, e.toRange(), !1);
    }) : he.none();
  }

  function t0(t, e, n) {
    return zC(t, e).filter(n).exists(function (e) {
      return t.selection.setRng(e.toRange()), !0;
    });
  }

  function n0(e, t) {
    var n = e.dom.createRng();
    n.setStart(t.container(), t.offset()), n.setEnd(t.container(), t.offset()), e.selection.setRng(n);
  }

  function r0(e, t) {
    e ? t.setAttribute("data-mce-selected", "inline-boundary") : t.removeAttribute("data-mce-selected");
  }

  function o0(t, e, n) {
    return Vb(e, n).map(function (e) {
      return n0(t, e), n;
    });
  }

  function i0(e, t, n) {
    return !!Ws(e) && (o = t, i = n, a = (r = e).getBody(), u = bs.fromRangeStart(r.selection.getRng()), ay(i, A(rb, r), a, u).bind(function (e) {
      return o0(r, o, e);
    }).isSome());
    var r, o, i, a, u;
  }

  function a0(e, t, n) {
    return !!Ws(t) && (r = e, i = (o = t).selection.getRng(), a = r ? bs.fromRangeEnd(i) : bs.fromRangeStart(i), !!y(o.selection.getSel().modify) && (r && Gr(a) ? _y(!0, o.selection, a) : !(r || !Jr(a)) && _y(!1, o.selection, a)));
    var r, o, i, a;
  }

  function u0(g) {
    var p = pu(null),
        h = A(rb, g);
    return g.on("NodeChange", function (e) {
      var n, r, o, t, i, a, u, s, c, l, f, d, m;
      !Ws(g) || Ct.browser.isIE() && e.initial || (i = h, a = g.dom, u = e.parents, X(q(s = U(R(Au(Et.fromDom(a.getRoot()), '*[data-mce-selected="inline-boundary"]'), function (e) {
        return e.dom;
      }), i), c = U(u, i)), A(r0, !1)), X(q(c, s), A(r0, !0)), f = p, (l = g).selection.isCollapsed() && !0 !== l.composing && f.get() && (d = bs.fromRangeStart(l.selection.getRng()), bs.isTextPosition(d) && !1 === (Gr(m = d) || Jr(m)) && (n0(l, Zs(f.get(), d)), f.set(null))), n = h, r = g, o = p, t = e.parents, r.selection.isCollapsed() && X(U(t, n), function (e) {
        var t = bs.fromRangeStart(r.selection.getRng());
        Zb(n, r.getBody(), t).bind(function (e) {
          return o0(r, o, e);
        });
      }));
    }), p;
  }

  function s0(n, t, r) {
    if (Ws(n)) {
      var e = zC(n, t).getOrThunk(function () {
        var e = n.selection.getRng();
        return t ? bs.fromRangeEnd(e) : bs.fromRangeStart(e);
      });
      return Zb(A(rb, n), n.getBody(), e).exists(function (e) {
        var t = ty(e);
        return Vb(r, t).exists(function (e) {
          return n0(n, e), !0;
        });
      });
    }

    return !1;
  }

  function c0(t, n) {
    return function (e) {
      return Vb(n, e).exists(function (e) {
        return n0(t, e), !0;
      });
    };
  }

  function l0(r, o, i, a) {
    var u = r.getBody(),
        s = A(rb, r);
    r.undoManager.ignore(function () {
      var e, t, n;
      r.selection.setRng((e = i, t = a, (n = document.createRange()).setStart(e.container(), e.offset()), n.setEnd(t.container(), t.offset()), n)), r.execCommand("Delete"), Zb(s, u, bs.fromRangeStart(r.selection.getRng())).map(ny).map(c0(r, o));
    }), r.nodeChanged();
  }

  function f0(e, t, n) {
    if (e.selection.isCollapsed() && Ws(e)) {
      var r = bs.fromRangeStart(e.selection.getRng());
      return o = t, a = n, u = r, s = (i = e).getBody(), c = ac(u.container(), s) || s, l = A(rb, i), (f = Zb(l, c, u)).bind(function (e) {
        return a ? e.fold(J(he.some(ny(e))), he.none, J(he.some(ty(e))), he.none) : e.fold(he.none, J(he.some(ty(e))), he.none, J(he.some(ny(e))));
      }).map(c0(i, o)).getOrThunk(function () {
        var t = Gc(a, c, u),
            e = t.bind(function (e) {
          return Zb(l, c, e);
        });
        return fn(f, e, function () {
          return ob(l, c, u).exists(function (e) {
            return !!fn(mf(o = e), gf(o), function (e, t) {
              var n = ib(!0, e),
                  r = ib(!1, t);
              return ff(o, n).forall(function (e) {
                return e.isEqual(r);
              });
            }).getOr(!0) && (tg(i, a, Et.fromDom(e)), !0);
            var o;
          });
        }).orThunk(function () {
          return e.bind(function (e) {
            return t.map(function (e) {
              return a ? l0(i, o, u, e) : l0(i, o, e, u), !0;
            });
          });
        }).getOr(!1);
      });
    }

    var i, o, a, u, s, c, l, f;
    return !1;
  }

  function d0(e) {
    return 1 === Ut(e);
  }

  function m0(g, p) {
    var t,
        e = Et.fromDom(g.getBody()),
        n = Et.fromDom(g.selection.getStart()),
        h = U(M(t = xm(n, e), So).fold(J(t), function (e) {
      return t.slice(0, e);
    }), d0);
    return Y(h).exists(function (e) {
      var t,
          n,
          r,
          o,
          i,
          a,
          u,
          s,
          c,
          l = bs.fromRangeStart(g.selection.getRng()),
          f = p,
          d = l,
          m = e.dom;
      return !(!fn(mf(m), gf(m), function (e, t) {
        var n = ib(!0, e),
            r = ib(!1, t),
            o = ib(!1, d);
        return f ? ff(m, o).exists(function (e) {
          return e.isEqual(r) && d.isEqual(n);
        }) : df(m, o).exists(function (e) {
          return e.isEqual(n) && d.isEqual(r);
        });
      }).getOr(!0) || Qc((t = e).dom) && zg(t.dom) || (n = p, o = e, 0 === (c = R(U(h, A(Yg, r = g)), function (e) {
        return e.dom;
      })).length ? tg(r, n, o) : (a = o.dom, s = Wg(c, (u = Hg(!1)).dom), Vt(Et.fromDom(a), u), Mn(Et.fromDom(a)), i = bs(s, 0), r.selection.setRng(i.toRange())), 0));
    });
  }

  function g0(e, t) {
    return !!e.selection.isCollapsed() && m0(e, t);
  }

  function p0(e, t, n) {
    return e._selectionOverrides.hideFakeCaret(), tg(e, t, Et.fromDom(n)), !0;
  }

  function h0(e, t) {
    return e.selection.isCollapsed() ? (i = e, u = (a = t) ? np : rp, s = a ? vc.Forwards : vc.Backwards, c = mc(s, i.getBody(), i.selection.getRng()), u(c) ? p0(i, a, c.getNode(!a)) : he.from(ib(a, c)).filter(function (e) {
      return u(e) && hc(c, e);
    }).exists(function (e) {
      return p0(i, a, e.getNode(!a));
    })) : (r = t, o = (n = e).selection.getNode(), !!Zn(o) && p0(n, r, o));
    var n, r, o, i, a, u, s, c;
  }

  function v0(e) {
    var t = parseInt(e, 10);
    return isNaN(t) ? 0 : t;
  }

  function b0(e, t) {
    return (e || "table" === Nt(t) ? "margin" : "padding") + ("rtl" === Cn(t, "direction") ? "-right" : "-left");
  }

  function y0(e) {
    var n,
        t = VC(e);
    return !e.mode.isReadOnly() && (1 < t.length || (n = e, j(t, function (e) {
      var t = wn(e, b0(js(n), e)).map(v0).getOr(0);
      return "false" !== n.dom.getContentEditable(e.dom) && 0 < t;
    })));
  }

  function C0(e) {
    return No(e) || ko(e);
  }

  function w0(e, s) {
    var c = e.dom,
        t = e.selection,
        n = e.formatter,
        r = e.getParam("indentation", "40px", "string"),
        l = /[a-z%]+$/i.exec(r)[0],
        f = parseInt(r, 10),
        d = js(e),
        o = Ls(e);
    e.queryCommandState("InsertUnorderedList") || e.queryCommandState("InsertOrderedList") || "" !== o || c.getParent(t.getNode(), c.isBlock) || n.apply("div"), X(VC(e), function (e) {
      var t,
          n = c,
          r = s,
          o = f,
          i = l,
          a = e.dom,
          u = b0(d, Et.fromDom(a));
      "outdent" === r ? (t = Math.max(0, v0(a.style[u]) - o), n.setStyle(a, u, t ? t + i : "")) : (t = v0(a.style[u]) + o + i, n.setStyle(a, u, t));
    });
  }

  function x0(e, t) {
    if (e.selection.isCollapsed() && y0(e)) {
      var n = e.dom,
          r = e.selection.getRng(),
          o = bs.fromRangeStart(r),
          i = n.getParent(r.startContainer, n.isBlock);
      if (null !== i && sp(Et.fromDom(i), o)) return w0(e, "outdent"), !0;
    }

    return !1;
  }

  function S0(e, t) {
    e.getDoc().execCommand(t, !1, null);
  }

  function E0(e) {
    return void 0 === e.touches || 1 !== e.touches.length ? he.none() : he.some(e.touches[0]);
  }

  function N0(e, t) {
    return Ee(e, t.nodeName);
  }

  function k0(e) {
    var t,
        n,
        r,
        o = e.dom,
        i = e.selection,
        a = e.schema,
        u = a.getBlockElements(),
        s = i.getStart(),
        c = e.getBody(),
        l = Ls(e);

    if (s && Hn(s) && l) {
      var f = c.nodeName.toLowerCase();

      if (a.isValidChild(f, l.toLowerCase()) && (d = u, m = c, g = s, !F(wm(Et.fromDom(g), Et.fromDom(m)), function (e) {
        return N0(d, e.dom);
      }))) {
        for (var d, m, g, p, h, v = i.getRng(), b = v.startContainer, y = v.startOffset, C = v.endContainer, w = v.endOffset, x = Td(e), s = c.firstChild; s;) {
          p = u, qn(h = s) || Hn(h) && !N0(p, h) && !ul(h) ? function (e, t) {
            if (qn(t)) {
              if (0 === t.nodeValue.length) return 1;
              if (/^\s+$/.test(t.nodeValue) && (!t.nextSibling || N0(e, t.nextSibling))) return 1;
            }
          }(u, s) ? (s = (n = s).nextSibling, o.remove(n)) : (t || (t = o.create(l, Is(e)), s.parentNode.insertBefore(t, s), r = !0), s = (n = s).nextSibling, t.appendChild(n)) : (t = null, s = s.nextSibling);
        }

        r && x && (v.setStart(b, y), v.setEnd(C, w), i.setRng(v), e.nodeChanged());
      }
    }
  }

  function _0(e, t) {
    t.hasAttribute("data-mce-caret") && (Qr(t), e.selection.setRng(e.selection.getRng()), e.selection.scrollIntoView(t));
  }

  function A0(e, t) {
    var n = yr(Et.fromDom(e.getBody()), "*[data-mce-caret]").map(function (e) {
      return e.dom;
    }).getOrNull();
    if (n) return "compositionstart" === t.type ? (t.preventDefault(), t.stopPropagation(), void _0(e, n)) : void (Yr(n) && (_0(e, n), e.undoManager.add()));
  }

  function T0(e, t, n) {
    var r,
        o,
        i,
        a = Wc(e.getBody()),
        u = A(pc, 1 === t ? a.next : a.prev);
    !n.collapsed || "" === Ls(e) || (r = e.dom.getParent(n.startContainer, "PRE")) && (u(bs.fromRangeStart(n)) || (i = e.dom.create(Ls(e)), (!Ct.ie || 11 <= Ct.ie) && (i.innerHTML = '<br data-mce-bogus="1">'), o = i, 1 === t ? e.$(r).after(o) : e.$(r).before(o), e.selection.select(o, !0), e.selection.collapse()));
  }

  function R0(t, e) {
    return n = t, r = e ? vc.Forwards : vc.Backwards, o = n.selection.getRng(), Zy(n, r, o, ap, up, qC).orThunk(function () {
      return T0(n, r, o), he.none();
    }).exists(function (e) {
      return Jy(t, e), !0;
    });
    var n, r, o;
  }

  function D0(t, e) {
    return r = e ? 1 : -1, o = (n = t).selection.getRng(), e0(n, r, o, function (e) {
      return ap(e) || op(e);
    }, function (e) {
      return up(e) || ip(e);
    }, qC).orThunk(function () {
      return T0(n, r, o), he.none();
    }).exists(function (e) {
      return Jy(t, e), !0;
    });
    var n, r, o;
  }

  function O0(e, t) {
    return t0(e, t, t ? up : ap);
  }

  function B0(e) {
    return ie(["figcaption"], Nt(e));
  }

  function P0(e) {
    var t = document.createRange();
    return t.setStartBefore(e.dom), t.setEndBefore(e.dom), t;
  }

  function L0(e, t, n) {
    (n ? In : $t)(e, t);
  }

  function I0(h, v) {
    var b = Et.fromDom(h.getBody()),
        y = bs.fromRangeStart(h.selection.getRng()),
        C = Ls(h),
        w = Is(h),
        e = y,
        t = A(je, b);
    return vr(Et.fromDom(e.container()), So, t).filter(B0).exists(function () {
      if (d = b, m = y, v ? (p = d.dom, Fy(p, m).breakAt.isNone()) : (g = d.dom, My(g, m).breakAt.isNone())) {
        var e = (t = b, r = w, o = v, "" === (n = C) ? (l = o, L0(t, f = Et.fromTag("br"), l), P0(f)) : (i = t, a = o, u = r, s = Et.fromTag(n), c = Et.fromTag("br"), pn(s, u), In(s, c), L0(i, s, a), P0(c)));
        return h.selection.setRng(e), !0;
      }

      var t, n, r, o, i, a, u, s, c, l, f, d, m, g, p;
      return !1;
    });
  }

  function M0(e, t) {
    return !!e.selection.isCollapsed() && I0(e, t);
  }

  function F0(e) {
    for (var t = [], n = 1; n < arguments.length; n++) {
      t[n - 1] = arguments[n];
    }

    return function () {
      return e.apply(null, t);
    };
  }

  function U0(e, t) {
    return I((n = t, z(R(e, function (e) {
      return _ke({
        shiftKey: !1,
        altKey: !1,
        ctrlKey: !1,
        metaKey: !1,
        keyCode: 0,
        action: oe
      }, e);
    }), function (e) {
      return n.keyCode === e.keyCode && n.shiftKey === e.shiftKey && n.altKey === e.altKey && n.ctrlKey === e.ctrlKey && n.metaKey === e.metaKey ? [e] : [];
    })), function (e) {
      return e.action();
    });
    var n;
  }

  function z0(t, e) {
    var n = e ? vc.Forwards : vc.Backwards,
        r = t.selection.getRng();
    return Zy(t, n, r, np, rp, Zn).exists(function (e) {
      return Jy(t, e), !0;
    });
  }

  function j0(t, e) {
    var n = e ? 1 : -1,
        r = t.selection.getRng();
    return e0(t, n, r, np, rp, Zn).exists(function (e) {
      return Jy(t, e), !0;
    });
  }

  function H0(e, t) {
    return t0(e, t, t ? rp : np);
  }

  function V0(e, t, n, r, o) {
    var i,
        a = Au(Et.fromDom(n), "td,th,caption").map(function (e) {
      return e.dom;
    }),
        u = U((i = e, z(a, function (e) {
      var t,
          n = {
        left: (t = Fu(e.getBoundingClientRect())).left - -1,
        top: t.top - -1,
        right: t.right + -2,
        bottom: t.bottom + -2,
        width: t.width + -1,
        height: t.height + -1
      };
      return [{
        x: n.left,
        y: i(n),
        cell: e
      }, {
        x: n.right,
        y: i(n),
        cell: e
      }];
    })), function (e) {
      return t(e, o);
    }),
        s = r,
        c = o;
    return P(u, function (e, r) {
      return e.fold(function () {
        return he.some(r);
      }, function (e) {
        var t = Math.sqrt(Math.abs(e.x - s) + Math.abs(e.y - c)),
            n = Math.sqrt(Math.abs(r.x - s) + Math.abs(r.y - c));
        return he.some(n < t ? r : e);
      });
    }, he.none()).map(function (e) {
      return e.cell;
    });
  }

  function q0(e, t, n) {
    var r,
        o,
        i = e(t, n);
    return i.breakType === sy.Wrap && 0 === i.positions.length || !Xn(n.getNode()) && i.breakType === sy.Br && 1 === i.positions.length ? (r = e, o = t, !i.breakAt.exists(function (e) {
      return r(o, e).breakAt.isSome();
    })) : i.breakAt.isNone();
  }

  function $0(t, e, n, r) {
    var o,
        i,
        a,
        u = t.selection.getRng(),
        s = e ? 1 : -1;
    return !(!nc() || (o = e, i = n, a = bs.fromRangeStart(u), !Jc(!o, i).exists(function (e) {
      return e.isEqual(a);
    })) || (xb(s, t, n, !e, !1).each(function (e) {
      Jy(t, e);
    }), 0));
  }

  function W0(u, s, c) {
    var e,
        t,
        n = (e = !!s, t = c.getNode(e), Hn(t) && "TABLE" === t.nodeName ? he.some(t) : he.none()),
        r = !1 === s;
    n.fold(function () {
      return Jy(u, c.toRange());
    }, function (a) {
      return Jc(r, u.getBody()).filter(function (e) {
        return e.isEqual(c);
      }).fold(function () {
        return Jy(u, c.toRange());
      }, function (e) {
        var n,
            r,
            o = s,
            i = a,
            t = c;
        (r = Ls(n = u)) ? n.undoManager.transact(function () {
          var e = Et.fromTag(r);
          pn(e, Is(n)), In(e, Et.fromTag("br")), (o ? qt : Vt)(Et.fromDom(i), e);
          var t = n.dom.createRng();
          t.setStart(e.dom, 0), t.setEnd(e.dom, 0), Jy(n, t);
        }) : Jy(n, t.toRange());
      });
    });
  }

  function K0(e, t, n, r) {
    var o,
        i,
        a,
        u,
        s,
        c,
        l,
        f,
        d,
        m,
        g = e.selection.getRng(),
        p = bs.fromRangeStart(g),
        h = e.getBody();
    if (t || !KC(r, p)) return !(!t || !XC(r, p)) && (o = h, d = i = n, W0(e, t, v = Y((m = a = p).getClientRects()).bind(function (e) {
      return WC(d, e.left, e.top);
    }).bind(function (e) {
      return Oy(mf(t = e).map(function (e) {
        return [e].concat(Fy(t, e).positions);
      }).getOr([]), m);
      var t;
    }).orThunk(function () {
      return W(a.getClientRects()).bind(function (e) {
        return Dy(zy(o, bs.after(i)), e.left);
      });
    }).getOr(bs.after(i))), !0);
    var v = (u = h, l = s = n, W((f = c = p).getClientRects()).bind(function (e) {
      return $C(l, e.left, e.top);
    }).bind(function (e) {
      return Oy(gf(t = e).map(function (e) {
        return My(t, e).positions.concat(e);
      }).getOr([]), f);
      var t;
    }).orThunk(function () {
      return W(c.getClientRects()).bind(function (e) {
        return Dy(Uy(u, bs.before(s)), e.left);
      });
    }).getOr(bs.before(s)));
    return W0(e, t, v), !0;
  }

  function X0(n, r, o) {
    return he.from(n.dom.getParent(n.selection.getNode(), "td,th")).bind(function (t) {
      return he.from(n.dom.getParent(t, "table")).map(function (e) {
        return o(n, r, e, t);
      });
    }).getOr(!1);
  }

  function Y0(e, t) {
    return X0(e, t, $0);
  }

  function G0(e, t) {
    return X0(e, t, K0);
  }

  function J0(e, t) {
    var n,
        r,
        o = t,
        i = e.dom,
        a = e.schema.getMoveCaretBeforeOnEnterElements();

    if (t) {
      !/^(LI|DT|DD)$/.test(t.nodeName) || (r = function (e) {
        for (; e;) {
          if (1 === e.nodeType || 3 === e.nodeType && e.data && /[\r\n\s]/.test(e.data)) return e;
          e = e.nextSibling;
        }
      }(t.firstChild)) && /^(UL|OL|DL)$/.test(r.nodeName) && t.insertBefore(i.doc.createTextNode(Do), t.firstChild);
      var u = i.createRng();

      if (t.normalize(), t.hasChildNodes()) {
        for (var s = new jr(t, t); n = s.current();) {
          if (qn(n)) {
            u.setStart(n, 0), u.setEnd(n, 0);
            break;
          }

          if (a[n.nodeName.toLowerCase()]) {
            u.setStartBefore(n), u.setEndBefore(n);
            break;
          }

          o = n, n = s.next();
        }

        n || (u.setStart(o, 0), u.setEnd(o, 0));
      } else Xn(t) ? t.nextSibling && i.isBlock(t.nextSibling) ? (u.setStartBefore(t), u.setEndBefore(t)) : (u.setStartAfter(t), u.setEndAfter(t)) : (u.setStart(t, 0), u.setEnd(t, 0));

      e.selection.setRng(u), fd(e, u);
    }
  }

  function Q0(e) {
    return he.from(e.dom.getParent(e.selection.getStart(!0), e.dom.isBlock));
  }

  function Z0(e, t) {
    return e && e.parentNode && e.parentNode.nodeName === t;
  }

  function eC(e) {
    return e && /^(OL|UL|LI)$/.test(e.nodeName);
  }

  function tC(e) {
    var t = e.parentNode;
    return /^(LI|DT|DD)$/.test(t.nodeName) ? t : e;
  }

  function nC(e, t, n) {
    for (var r = e[n ? "firstChild" : "lastChild"]; r && !Hn(r);) {
      r = r[n ? "nextSibling" : "previousSibling"];
    }

    return r === t;
  }

  function rC(e) {
    e.innerHTML = '<br data-mce-bogus="1">';
  }

  function oC(e, t) {
    return e.nodeName === t || e.previousSibling && e.previousSibling.nodeName === t;
  }

  function iC(e, t) {
    return t && e.isBlock(t) && !/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName) && !/^(fixed|absolute)/i.test(t.style.position) && "true" !== e.getContentEditable(t);
  }

  function aC(e, t, n) {
    return !1 === qn(t) ? n : e ? 1 === n && t.data.charAt(n - 1) === Oo ? 0 : n : n === t.data.length - 1 && t.data.charAt(n) === Oo ? t.data.length : n;
  }

  function uC(e, t) {
    for (var n, r = e.getRoot(), o = t; o !== r && "false" !== e.getContentEditable(o);) {
      "true" === e.getContentEditable(o) && (n = o), o = o.parentNode;
    }

    return o !== r ? n : r;
  }

  function sC(e, t) {
    var n = Ls(e);
    n && n.toLowerCase() === t.tagName.toLowerCase() && function (e, o, t) {
      var i = e.dom;
      he.from(t.style).map(i.parseStyle).each(function (e) {
        var t = xn(Et.fromDom(o)),
            n = _ke(_ke({}, t), e);

        i.setStyles(o, n);
      }), fn(he.from(t["class"]).map(function (e) {
        return e.split(/\s+/);
      }), he.from(o.className).map(function (e) {
        return U(e.split(/\s+/), function (e) {
          return "" !== e;
        });
      }), function (t, e) {
        var n = U(e, function (e) {
          return !ie(t, e);
        }),
            r = _e(_e([], t), n);

        i.setAttrib(o, "class", r.join(" "));
      });
      var n = ["style", "class"],
          r = ne(t, function (e, t) {
        return !ie(n, t);
      });
      i.setAttribs(o, r);
    }(e, t, Is(e));
  }

  function cC(a, e) {
    function t(e) {
      var t,
          n = m,
          r = l.getTextInlineElements(),
          o = e || "TABLE" === C || "HR" === C ? c.create(e || p) : b.cloneNode(!1),
          i = o;
      if (!1 === a.getParam("keep_styles", !0)) c.setAttrib(o, "style", null), c.setAttrib(o, "class", null);else for (; r[n.nodeName] && (Qc(n) || ul(n) || (t = n.cloneNode(!1), c.setAttrib(t, "id", ""), o.hasChildNodes() ? t.appendChild(o.firstChild) : i = t, o.appendChild(t))), (n = n.parentNode) && n !== F;) {
        ;
      }
      return sC(a, o), rC(i), o;
    }

    function n(e) {
      var t,
          n,
          r = aC(e, m, g);

      if (!qn(m) || !(e ? 0 < r : r < m.nodeValue.length)) {
        if (m.parentNode === b && s && !e) return 1;
        if (e && Hn(m) && m === b.firstChild) return 1;
        if (oC(m, "TABLE") || oC(m, "HR")) return s && !e || !s && e;
        var o = new jr(m, b);

        for (qn(m) && (e && 0 === r ? o.prev() : e || r !== m.nodeValue.length || o.next()); t = o.current();) {
          if (Hn(t)) {
            if (!t.getAttribute("data-mce-bogus") && (n = t.nodeName.toLowerCase(), f[n] && "br" !== n)) return;
          } else if (qn(t) && !no(t.nodeValue)) return;

          e ? o.prev() : o.next();
        }

        return 1;
      }
    }

    function r() {
      u = /^(H[1-6]|PRE|FIGURE)$/.test(C) && "HGROUP" !== w ? t(p) : t(), a.getParam("end_container_on_empty_block", !1) && iC(c, y) && c.isEmpty(b) ? u = c.split(y, b) : c.insertAfter(u, b), J0(a, u);
    }

    var o,
        u,
        i,
        s,
        c = a.dom,
        l = a.schema,
        f = l.getNonEmptyElements(),
        d = a.selection.getRng();
    jf(c, d).each(function (e) {
      d.setStart(e.startContainer, e.startOffset), d.setEnd(e.endContainer, e.endOffset);
    });
    var m = d.startContainer,
        g = d.startOffset,
        p = Ls(a),
        h = !(!e || !e.shiftKey),
        v = !(!e || !e.ctrlKey);
    Hn(m) && m.hasChildNodes() && (s = g > m.childNodes.length - 1, m = m.childNodes[Math.min(g, m.childNodes.length - 1)] || m, g = s && qn(m) ? m.nodeValue.length : 0);

    var b,
        y,
        C,
        w,
        x,
        S,
        p,
        E,
        N,
        k,
        _,
        A,
        T,
        R,
        D,
        O,
        B,
        P,
        L,
        I,
        M,
        F = uC(c, m);

    F && ((p && !h || !p && h) && (m = function (e, t, n, r) {
      var o,
          i,
          a,
          u,
          s,
          c,
          l = p || "P",
          f = e.dom,
          d = uC(f, n),
          m = f.getParent(n, f.isBlock);

      if (!m || !iC(f, m)) {
        if (s = ((m = m || d) === e.getBody() || (c = m) && /^(TD|TH|CAPTION)$/.test(c.nodeName) ? m : m.parentNode).nodeName.toLowerCase(), !m.hasChildNodes()) return sC(e, o = f.create(l)), m.appendChild(o), t.setStart(o, 0), t.setEnd(o, 0), o;

        for (a = n; a.parentNode !== m;) {
          a = a.parentNode;
        }

        for (; a && !f.isBlock(a);) {
          a = (i = a).previousSibling;
        }

        if (i && e.schema.isValidChild(s, l.toLowerCase())) {
          for (sC(e, o = f.create(l)), i.parentNode.insertBefore(o, i), a = i; a && !f.isBlock(a);) {
            u = a.nextSibling, o.appendChild(a), a = u;
          }

          t.setStart(n, r), t.setEnd(n, r);
        }
      }

      return n;
    }(a, d, m, g)), y = (b = c.getParent(m, c.isBlock)) ? c.getParent(b.parentNode, c.isBlock) : null, C = b ? b.nodeName.toUpperCase() : "", "LI" !== (w = y ? y.nodeName.toUpperCase() : "") || v || (y = (b = y).parentNode, C = w), /^(LI|DT|DD)$/.test(C) && c.isEmpty(b) ? (N = t, k = y, _ = b, A = p, I = (E = a).dom, M = E.selection.getRng(), k !== E.getBody() && (R = (A = eC(T = k) && eC(T.parentNode) ? "LI" : A) ? N(A) : I.create("BR"), nC(k, _, !0) && nC(k, _, !1) ? Z0(k, "LI") ? (D = tC(k), I.insertAfter(R, D), (null === (L = (P = k).parentNode) || void 0 === L ? void 0 : L.firstChild) === P ? I.remove(D) : I.remove(k)) : I.replace(R, k) : (nC(k, _, !0) ? Z0(k, "LI") ? (I.insertAfter(R, tC(k)), R.appendChild(I.doc.createTextNode(" ")), R.appendChild(k)) : k.parentNode.insertBefore(R, k) : nC(k, _, !1) ? I.insertAfter(R, tC(k)) : (k = tC(k), (O = M.cloneRange()).setStartAfter(_), O.setEndAfter(k), B = O.extractContents(), "LI" === A && B.firstChild && "LI" === B.firstChild.nodeName ? (R = B.firstChild, I.insertAfter(B, k)) : (I.insertAfter(B, k), I.insertAfter(R, k))), I.remove(_)), J0(E, R))) : p && b === a.getBody() || (p = p || "P", Wr(b) ? (u = Qr(b), c.isEmpty(b) && rC(b), sC(a, u), J0(a, u)) : n() ? r() : n(!0) ? (u = b.parentNode.insertBefore(t(), b), J0(a, oC(b, "HR") ? u : b)) : ((S = (x = d).cloneRange()).setStart(x.startContainer, aC(!0, x.startContainer, x.startOffset)), S.setEnd(x.endContainer, aC(!1, x.endContainer, x.endOffset)), (o = S.cloneRange()).setEndAfter(b), i = o.extractContents(), X(Zu(Et.fromDom(i), Tn), function (e) {
      var t = e.dom;
      t.nodeValue = Po(t.nodeValue);
    }), function (e) {
      for (; qn(e) && (e.nodeValue = e.nodeValue.replace(/^[\r\n]+/, "")), e = e.firstChild;) {
        ;
      }
    }(i), u = i.firstChild, c.insertAfter(i, b), function (e, t) {
      var n,
          r,
          o = u,
          i = [];

      if (o) {
        for (; o = o.firstChild;) {
          if (e.isBlock(o)) return;
          Hn(o) && !t[o.nodeName.toLowerCase()] && i.push(o);
        }

        for (n = i.length; n--;) {
          !(o = i[n]).hasChildNodes() || o.firstChild === o.lastChild && "" === o.firstChild.nodeValue ? e.remove(o) : (r = o) && "A" === r.nodeName && e.isEmpty(r) && e.remove(o);
        }
      }
    }(c, f), function (e, t) {
      t.normalize();
      var n = t.lastChild;
      n && !/^(left|right)$/gi.test(e.getStyle(n, "float", !0)) || e.add(t, "br");
    }(c, b), c.isEmpty(b) && rC(b), u.normalize(), c.isEmpty(u) ? (c.remove(u), r()) : (sC(a, u), J0(a, u))), c.setAttrib(u, "id", ""), a.fire("NewBlock", {
      newBlock: u
    })));
  }

  function lC(e, t, n) {
    var r = e.dom.createRng();
    n ? (r.setStartBefore(t), r.setEndBefore(t)) : (r.setStartAfter(t), r.setEndAfter(t)), e.selection.setRng(r), fd(e, r);
  }

  function fC(e, t) {
    var n = Et.fromTag("br");
    Vt(Et.fromDom(t), n), e.undoManager.add();
  }

  function dC(e, t) {
    YC(e.getBody(), t) || qt(Et.fromDom(t), Et.fromTag("br"));
    var n = Et.fromTag("br");
    qt(Et.fromDom(t), n), lC(e, n.dom, !1), e.undoManager.add();
  }

  function mC(e) {
    return e && "A" === e.nodeName && "href" in e;
  }

  function gC(e) {
    return e.fold(T, mC, mC, T);
  }

  function pC(e, t) {
    t.fold(oe, A(fC, e), A(dC, e), oe);
  }

  function hC(e, t) {
    var n,
        r,
        o,
        i = (r = A(rb, n = e), o = bs.fromRangeStart(n.selection.getRng()), Zb(r, n.getBody(), o).filter(gC));
    i.isSome() ? i.each(A(pC, e)) : function (e, t) {
      var n,
          r,
          o = e.selection,
          i = e.dom,
          a = o.getRng();
      jf(i, a).each(function (e) {
        a.setStart(e.startContainer, e.startOffset), a.setEnd(e.endContainer, e.endOffset);
      });
      var u,
          s = a.startOffset,
          c = a.startContainer;
      1 === c.nodeType && c.hasChildNodes() && (u = s > c.childNodes.length - 1, c = c.childNodes[Math.min(s, c.childNodes.length - 1)] || c, s = u && 3 === c.nodeType ? c.nodeValue.length : 0);
      var l = i.getParent(c, i.isBlock),
          f = l ? i.getParent(l.parentNode, i.isBlock) : null,
          d = f ? f.nodeName.toUpperCase() : "",
          m = !(!t || !t.ctrlKey);
      "LI" !== d || m || (l = f), c && 3 === c.nodeType && s >= c.nodeValue.length && !function (e) {
        for (var t, n = new jr(c, l), r = e.getNonEmptyElements(); t = n.next();) {
          if (r[t.nodeName.toLowerCase()] || 0 < t.length) return 1;
        }
      }(e.schema) && (n = i.create("br"), a.insertNode(n), a.setStartAfter(n), a.setEndAfter(n), r = !0), n = i.create("br"), Cs(i, a, n), lC(e, n, r), e.undoManager.add();
    }(e, t);
  }

  function vC(e, t) {
    return Q0(e).filter(function (e) {
      return 0 < t.length && Ue(Et.fromDom(e), t);
    }).isSome();
  }

  function bC(e, t) {
    return vC(e, e.getParam("no_newline_selector", ""));
  }

  function yC(n) {
    return function (e, t) {
      return "" === Ls(e) === n;
    };
  }

  function CC(n) {
    return function (e, t) {
      return Q0(e).filter(function (e) {
        return ko(Et.fromDom(e));
      }).isSome() === n;
    };
  }

  function wC(n, r) {
    return function (e, t) {
      return Q0(e).fold(J(""), function (e) {
        return e.nodeName.toUpperCase();
      }) === n.toUpperCase() === r;
    };
  }

  function xC(e) {
    return wC("pre", e);
  }

  function SC(n) {
    return function (e, t) {
      return e.getParam("br_in_pre", !0) === n;
    };
  }

  function EC(e, t) {
    return vC(e, e.getParam("br_newline_selector", ".mce-toc h2,figcaption,caption"));
  }

  function NC(e, t) {
    return t;
  }

  function kC(e) {
    var t = Ls(e),
        n = function (e, t) {
      for (var n, r = e.getRoot(), o = t; o !== r && "false" !== e.getContentEditable(o);) {
        "true" === e.getContentEditable(o) && (n = o), o = o.parentNode;
      }

      return o !== r ? n : r;
    }(e.dom, e.selection.getStart());

    return n && e.schema.isValidChild(n.nodeName, t || "P");
  }

  function _C(e, t) {
    return function (n, r) {
      return P(e, function (e, t) {
        return e && t(n, r);
      }, !0) ? he.some(t) : he.none();
    };
  }

  function AC(e, t) {
    var n, r;
    n = e, r = t, qb([_C([bC], GC.none()), _C([wC("summary", !0)], GC.br()), _C([xC(!0), SC(!1), NC], GC.br()), _C([xC(!0), SC(!1)], GC.block()), _C([xC(!0), SC(!0), NC], GC.block()), _C([xC(!0), SC(!0)], GC.br()), _C([CC(!0), NC], GC.br()), _C([CC(!0)], GC.block()), _C([yC(!0), NC, kC], GC.block()), _C([yC(!0)], GC.br()), _C([EC], GC.br()), _C([yC(!1), NC], GC.br()), _C([kC], GC.block())], [n, !(!r || !r.shiftKey)]).getOr(GC.none()).fold(function () {
      hC(e, t);
    }, function () {
      cC(e, t);
    }, oe);
  }

  function TC(e) {
    return e.stopImmediatePropagation();
  }

  function RC(e) {
    return e.keyCode === $f.PAGE_UP || e.keyCode === $f.PAGE_DOWN;
  }

  function DC(e, t, n) {
    n && !e.get() ? t.on("NodeChange", TC, !0) : !n && e.get() && t.off("NodeChange", TC), e.set(n);
  }

  function OC(n, r) {
    var e = r.container(),
        t = r.offset();
    return qn(e) ? (e.insertData(t, n), he.some(bs(e, t + n.length))) : gc(r).map(function (e) {
      var t = Et.fromText(n);
      return (r.isAtEnd() ? qt : Vt)(e, t), bs(t.dom, n.length);
    });
  }

  function BC(i, a) {
    return function (e) {
      return r = i, (!Lm(o = e) && (n = o, df((t = r).dom, n).isNone() || ff(t.dom, n).isNone() || sp(t, n) || cp(t, n) || Rm(t, n) || Tm(t, n) || Bm(r, o) || Pm(r, o)) ? ZC : e1)(a);
      var t, n, r, o;
    };
  }

  function PC(e) {
    var t,
        n,
        r = bs.fromRangeStart(e.selection.getRng()),
        o = Et.fromDom(e.getBody());

    if (e.selection.isCollapsed()) {
      var i = A(rb, e),
          a = bs.fromRangeStart(e.selection.getRng());
      return Zb(i, e.getBody(), a).bind((n = o, function (e) {
        return e.fold(function (e) {
          return df(n.dom, bs.before(e));
        }, function (e) {
          return mf(e);
        }, function (e) {
          return gf(e);
        }, function (e) {
          return ff(n.dom, bs.after(e));
        });
      })).bind(BC(o, r)).exists((t = e, function (e) {
        return t.selection.setRng(e.toRange()), t.nodeChanged(), !0;
      }));
    }

    return !1;
  }

  function LC(e) {
    var o,
        i,
        a,
        u,
        s,
        t,
        n,
        r,
        c,
        l,
        f,
        d,
        m,
        g,
        p = u0(e);
    return e.on("keyup compositionstart", A(A0, e)), g = p, (m = e).on("keydown", function (e) {
      var t, n, r, o;
      !1 === e.isDefaultPrevented() && (t = m, n = g, r = e, o = ft().os, U0([{
        keyCode: $f.RIGHT,
        action: F0(R0, t, !0)
      }, {
        keyCode: $f.LEFT,
        action: F0(R0, t, !1)
      }, {
        keyCode: $f.UP,
        action: F0(D0, t, !1)
      }, {
        keyCode: $f.DOWN,
        action: F0(D0, t, !0)
      }, {
        keyCode: $f.RIGHT,
        action: F0(Y0, t, !0)
      }, {
        keyCode: $f.LEFT,
        action: F0(Y0, t, !1)
      }, {
        keyCode: $f.UP,
        action: F0(G0, t, !1)
      }, {
        keyCode: $f.DOWN,
        action: F0(G0, t, !0)
      }, {
        keyCode: $f.RIGHT,
        action: F0(z0, t, !0)
      }, {
        keyCode: $f.LEFT,
        action: F0(z0, t, !1)
      }, {
        keyCode: $f.UP,
        action: F0(j0, t, !1)
      }, {
        keyCode: $f.DOWN,
        action: F0(j0, t, !0)
      }, {
        keyCode: $f.RIGHT,
        action: F0(i0, t, n, !0)
      }, {
        keyCode: $f.LEFT,
        action: F0(i0, t, n, !1)
      }, {
        keyCode: $f.RIGHT,
        ctrlKey: !o.isOSX(),
        altKey: o.isOSX(),
        action: F0(jC, t, n)
      }, {
        keyCode: $f.LEFT,
        ctrlKey: !o.isOSX(),
        altKey: o.isOSX(),
        action: F0(HC, t, n)
      }, {
        keyCode: $f.UP,
        action: F0(M0, t, !1)
      }, {
        keyCode: $f.DOWN,
        action: F0(M0, t, !0)
      }], r).each(function (e) {
        r.preventDefault();
      }));
    }), d = p, (f = e).on("keydown", function (e) {
      var t, n, r;
      !1 === e.isDefaultPrevented() && (n = d, r = e, U0([{
        keyCode: $f.BACKSPACE,
        action: F0(x0, t = f, !1)
      }, {
        keyCode: $f.BACKSPACE,
        action: F0(Lb, t, !1)
      }, {
        keyCode: $f.DELETE,
        action: F0(Lb, t, !0)
      }, {
        keyCode: $f.BACKSPACE,
        action: F0(Tb, t, !1)
      }, {
        keyCode: $f.DELETE,
        action: F0(Tb, t, !0)
      }, {
        keyCode: $f.BACKSPACE,
        action: F0(f0, t, n, !1)
      }, {
        keyCode: $f.DELETE,
        action: F0(f0, t, n, !0)
      }, {
        keyCode: $f.BACKSPACE,
        action: F0(xg, t, !1)
      }, {
        keyCode: $f.DELETE,
        action: F0(xg, t, !0)
      }, {
        keyCode: $f.BACKSPACE,
        action: F0(Ib, t, !1)
      }, {
        keyCode: $f.DELETE,
        action: F0(Ib, t, !0)
      }, {
        keyCode: $f.BACKSPACE,
        action: F0(h0, t, !1)
      }, {
        keyCode: $f.DELETE,
        action: F0(h0, t, !0)
      }, {
        keyCode: $f.BACKSPACE,
        action: F0(wb, t, !1)
      }, {
        keyCode: $f.DELETE,
        action: F0(wb, t, !0)
      }, {
        keyCode: $f.BACKSPACE,
        action: F0(bb, t, !1)
      }, {
        keyCode: $f.DELETE,
        action: F0(bb, t, !0)
      }, {
        keyCode: $f.BACKSPACE,
        action: F0(g0, t, !1)
      }, {
        keyCode: $f.DELETE,
        action: F0(g0, t, !0)
      }], r).each(function (e) {
        r.preventDefault();
      }));
    }), f.on("keyup", function (e) {
      var t, n;
      !1 === e.isDefaultPrevented() && (n = e, U0([{
        keyCode: $f.BACKSPACE,
        action: F0(Pb, t = f)
      }, {
        keyCode: $f.DELETE,
        action: F0(Pb, t)
      }], n));
    }), (l = e).on("keydown", function (e) {
      var t, n, r;
      e.keyCode === $f.ENTER && (t = l, (n = e).isDefaultPrevented() || (n.preventDefault(), (r = t.undoManager).typing && (r.typing = !1, r.add()), t.undoManager.transact(function () {
        !1 === t.selection.isCollapsed() && t.execCommand("Delete"), AC(t, n);
      })));
    }), (c = e).on("keydown", function (e) {
      var t;
      !1 === e.isDefaultPrevented() && (t = e, U0([{
        keyCode: $f.SPACEBAR,
        action: F0(PC, c)
      }], t).each(function (e) {
        t.preventDefault();
      }));
    }), n = t = e, r = xu(function () {
      n.composing || Hm(n);
    }, 0), JC.isIE() && (n.on("keypress", function (e) {
      r.throttle();
    }), n.on("remove", function (e) {
      r.cancel();
    })), t.on("input", function (e) {
      !1 === e.isComposing && Hm(t);
    }), s = p, (u = e).on("keydown", function (e) {
      var t, n, r;
      !1 === e.isDefaultPrevented() && (n = s, r = e, U0([{
        keyCode: $f.END,
        action: F0(O0, t = u, !0)
      }, {
        keyCode: $f.HOME,
        action: F0(O0, t, !1)
      }, {
        keyCode: $f.END,
        action: F0(H0, t, !0)
      }, {
        keyCode: $f.HOME,
        action: F0(H0, t, !1)
      }, {
        keyCode: $f.END,
        action: F0(s0, t, !0, n)
      }, {
        keyCode: $f.HOME,
        action: F0(s0, t, !1, n)
      }], r).each(function (e) {
        r.preventDefault();
      }));
    }), o = e, i = p, QC.os.isOSX() || (a = pu(!1), o.on("keydown", function (e) {
      RC(e) && DC(a, o, !0);
    }), o.on("keyup", function (e) {
      var t, n, r;
      !1 === e.isDefaultPrevented() && (r = e, U0([{
        keyCode: $f.PAGE_UP,
        action: F0(s0, t = o, !1, n = i)
      }, {
        keyCode: $f.PAGE_DOWN,
        action: F0(s0, t, !0, n)
      }], r)), RC(e) && a.get() && (DC(a, o, !1), o.nodeChanged());
    })), p;
  }

  (Iy = Ly = Ly || {})[Iy.Up = -1] = "Up", Iy[Iy.Down = 1] = "Down";

  var IC = A(jy, Ly.Up, ju, Hu),
      MC = A(jy, Ly.Down, Hu, ju),
      FC = Jn,
      UC = ic,
      zC = function zC(e, t) {
    var n = e.selection.getRng(),
        r = e.getBody();

    if (t) {
      var o = bs.fromRangeEnd(n),
          i = Fy(r, o);
      return Y(i.positions);
    }

    return o = bs.fromRangeStart(n), W((i = My(r, o)).positions);
  },
      jC = A(a0, !0),
      HC = A(a0, !1),
      VC = function VC(e) {
    return U(R(e.selection.getSelectedBlocks(), Et.fromDom), function (e) {
      return !C0(e) && !Dt(e).exists(C0) && vr(e, function (e) {
        return Gn(e.dom) || Jn(e.dom);
      }).exists(function (e) {
        return Gn(e.dom);
      });
    });
  },
      qC = Jn,
      $C = A(V0, function (e) {
    return e.bottom;
  }, function (e, t) {
    return e.y < t;
  }),
      WC = A(V0, function (e) {
    return e.top;
  }, function (e, t) {
    return e.y > t;
  }),
      KC = A(q0, My),
      XC = A(q0, Fy),
      YC = function YC(e, t) {
    return n = bs.after(t), !!Xn(n.getNode()) || ff(e, bs.after(t)).map(function (e) {
      return Xn(e.getNode());
    }).getOr(!1);
    var n;
  },
      GC = ar([{
    br: []
  }, {
    block: []
  }, {
    none: []
  }]),
      JC = ft().browser,
      QC = ft(),
      ZC = A(OC, Do),
      e1 = A(OC, " "),
      t1 = (n1.prototype.nodeChanged = function (e) {
    var t,
        n,
        r,
        o = this.editor.selection;
    this.editor.initialized && o && !this.editor.getParam("disable_nodechange") && !this.editor.mode.isReadOnly() && (r = this.editor.getBody(), (t = o.getStart(!0) || r).ownerDocument === this.editor.getDoc() && this.editor.dom.isChildOf(t, r) || (t = r), n = [], this.editor.dom.getParent(t, function (e) {
      return e === r || void n.push(e);
    }), (e = e || {}).element = t, e.parents = n, this.editor.fire("NodeChange", e));
  }, n1.prototype.isSameElementPath = function (e) {
    var t,
        n = this.editor.$(e).parentsUntil(this.editor.getBody()).add(e);

    if (n.length === this.lastPath.length) {
      for (t = n.length; 0 <= t && n[t] === this.lastPath[t]; t--) {
        ;
      }

      if (-1 === t) return this.lastPath = n, !0;
    }

    return this.lastPath = n, !1;
  }, n1);

  function n1(r) {
    var o;
    this.lastPath = [], this.editor = r;
    var t = this;
    "onselectionchange" in r.getDoc() || r.on("NodeChange click mouseup keyup focus", function (e) {
      var t = r.selection.getRng(),
          n = {
        startContainer: t.startContainer,
        startOffset: t.startOffset,
        endContainer: t.endContainer,
        endOffset: t.endOffset
      };
      "nodechange" !== e.type && Lf(n, o) || r.fire("SelectionChange"), o = n;
    }), r.on("contextmenu", function () {
      r.fire("SelectionChange");
    }), r.on("SelectionChange", function () {
      var e = r.selection.getStart(!0);
      !e || !Ct.range && r.selection.isCollapsed() || Vl(r) && !t.isSameElementPath(e) && r.dom.isChildOf(e, r.getBody()) && r.nodeChanged({
        selectionChange: !0
      });
    }), r.on("mouseup", function (e) {
      !e.isDefaultPrevented() && Vl(r) && ("IMG" === r.selection.getNode().nodeName ? Ur.setEditorTimeout(r, function () {
        r.nodeChanged();
      }) : r.nodeChanged());
    });
  }

  function r1(e) {
    return Hn(e) && Eo(Et.fromDom(e));
  }

  function o1(e) {
    var t = e.getBoundingClientRect(),
        n = e.ownerDocument,
        r = n.documentElement,
        o = n.defaultView;
    return {
      top: t.top + o.pageYOffset - r.clientTop,
      left: t.left + o.pageXOffset - r.clientLeft
    };
  }

  function i1(e) {
    e && e.parentNode && e.parentNode.removeChild(e);
  }

  function a1(e, S) {
    var E = Ur.throttle(function (e, t) {
      S._selectionOverrides.hideFakeCaret(), S.selection.placeCaretAt(e, t);
    }, 0);
    return S.on("remove", E.stop), function (x) {
      return e.on(function (e) {
        var t,
            n,
            r,
            o,
            i,
            a,
            u,
            s,
            c,
            l,
            f,
            d,
            m,
            g,
            p,
            h,
            v,
            b,
            y,
            C,
            w = Math.max(Math.abs(x.screenX - e.screenX), Math.abs(x.screenY - e.screenY));

        if (!e.dragging && 10 < w) {
          if (S.fire("dragstart", {
            target: e.element
          }).isDefaultPrevented()) return;
          e.dragging = !0, S.focus();
        }

        e.dragging && (d = e, t = {
          pageX: (p = x, h = (g = S).inline ? o1(g.getBody()) : {
            left: 0,
            top: 0
          }, C = (y = g).getBody(), v = y.inline ? {
            left: C.scrollLeft,
            top: C.scrollTop
          } : {
            left: 0,
            top: 0
          }, (m = {
            pageX: (b = function (e, t) {
              if (t.target.ownerDocument === e.getDoc()) return {
                left: t.pageX,
                top: t.pageY
              };
              var n,
                  r,
                  o,
                  i,
                  a,
                  u = o1(e.getContentAreaContainer()),
                  s = (r = (n = e).getBody(), o = n.getDoc().documentElement, i = {
                left: r.scrollLeft,
                top: r.scrollTop
              }, a = {
                left: r.scrollLeft || o.scrollLeft,
                top: r.scrollTop || o.scrollTop
              }, n.inline ? i : a);
              return {
                left: t.pageX - u.left + s.left,
                top: t.pageY - u.top + s.top
              };
            }(g, p)).left - h.left + v.left,
            pageY: b.top - h.top + v.top
          }).pageX - d.relX),
          pageY: m.pageY + 5
        }, l = e.ghost, f = S.getBody(), l.parentNode !== f && f.appendChild(l), n = e.ghost, o = e.width, i = e.height, a = e.maxX, u = e.maxY, c = s = 0, n.style.left = (r = t).pageX + "px", n.style.top = r.pageY + "px", u < r.pageY + i && (c = r.pageY + i - u), n.style.width = o - (s = a < r.pageX + o ? r.pageX + o - a : s) + "px", n.style.height = i - c + "px", E(x.clientX, x.clientY));
      });
    };
  }

  function u1(e) {
    function t(e) {
      var t, n, r, o, i, a;
      0 === e.button && (t = I(c.dom.getParents(e.target), function () {
        for (var n = [], e = 0; e < arguments.length; e++) {
          n[e] = arguments[e];
        }

        return function (e) {
          for (var t = 0; t < n.length; t++) {
            if (n[t](e)) return !0;
          }

          return !1;
        };
      }(D1, O1)).getOr(null), i = c.getBody(), D1(a = t) && a !== i && (n = c.dom.getPos(t), r = c.getBody(), o = c.getDoc().documentElement, u.set({
        element: t,
        dragging: !1,
        screenX: e.screenX,
        screenY: e.screenY,
        maxX: (c.inline ? r.scrollWidth : o.offsetWidth) - 2,
        maxY: (c.inline ? r.scrollHeight : o.offsetHeight) - 2,
        relX: e.pageX - n.x,
        relY: e.pageY - n.y,
        width: t.offsetWidth,
        height: t.offsetHeight,
        ghost: function (e, t, n) {
          var r = c.dom,
              o = e.cloneNode(!0);
          r.setStyles(o, {
            width: t,
            height: n
          }), r.setAttrib(o, "data-mce-selected", null);
          var i = r.create("div", {
            "class": "mce-drag-container",
            "data-mce-bogus": "all",
            unselectable: "on",
            contenteditable: "false"
          });
          return r.setStyles(i, {
            position: "absolute",
            opacity: .5,
            overflow: "hidden",
            border: 0,
            padding: 0,
            margin: 0,
            width: t,
            height: n
          }), r.setStyles(o, {
            margin: 0,
            boxSizing: "border-box"
          }), i.appendChild(o), i;
        }(t, t.offsetWidth, t.offsetHeight)
      })));
    }

    function n(u) {
      i.on(function (e) {
        var t, n, r, o, i, a;
        e.dragging && ((o = 3 === (a = (r = s).selection.getSel().getRangeAt(0).startContainer).nodeType ? a.parentNode : a) === (i = e.element) || r.dom.isChildOf(o, i) || D1(o) || ((n = e.element.cloneNode(!0)).removeAttribute("data-mce-selected"), t = n, s.fire("drop", {
          clientX: u.clientX,
          clientY: u.clientY
        }).isDefaultPrevented() || s.undoManager.transact(function () {
          i1(e.element), s.insertContent(s.dom.getOuterHTML(t)), s._selectionOverrides.hideFakeCaret();
        })));
      }), B1(i);
    }

    var r,
        o,
        i,
        s,
        u,
        c,
        a = wu(),
        l = cu.DOM,
        f = document,
        d = a1(u = a, c = e),
        m = (r = i = a, function () {
      r.on(function (e) {
        e.dragging && o.fire("dragend");
      }), B1(r);
    });
    (o = s = e).on("mousedown", t), e.on("mousemove", d), e.on("mouseup", n), l.bind(f, "mousemove", d), l.bind(f, "mouseup", m), e.on("remove", function () {
      l.unbind(f, "mousemove", d), l.unbind(f, "mouseup", m);
    });
  }

  function s1(e) {
    var n, i;

    function a(e) {
      var t;
      e.isDefaultPrevented() || (t = e.dataTransfer) && (ie(t.types, "Files") || 0 < t.files.length) && (e.preventDefault(), "drop" === e.type && Mv(i, "Dropped file type is not supported"));
    }

    function u(e) {
      Ed(i, e.target) && a(e);
    }

    function t() {
      var t = cu.DOM,
          n = i.dom,
          r = document,
          o = i.inline ? i.getBody() : i.getDoc(),
          e = ["drop", "dragover"];
      X(e, function (e) {
        t.bind(r, e, u), n.bind(o, e, a);
      }), i.on("remove", function () {
        X(e, function (e) {
          t.unbind(r, e, u), n.unbind(o, e, a);
        });
      });
    }

    u1(e), (n = e).on("drop", function (e) {
      var t = void 0 !== e.clientX ? n.getDoc().elementFromPoint(e.clientX, e.clientY) : null;
      !D1(t) && "false" !== n.dom.getContentEditableParent(t) || e.preventDefault();
    }), e.getParam("block_unsupported_drop", !0, "boolean") && (i = e).on("init", function () {
      Ur.setEditorTimeout(i, t, 0);
    });
  }

  function c1(e, t) {
    return _f(e.getBody(), t);
  }

  function l1(l) {
    function f(e) {
      return e !== v && (L1(e) || Zn(e)) && h.isChildOf(e, v);
    }

    function i(e) {
      e && p.setRng(e);
    }

    function d(e, t, n, r) {
      return void 0 === r && (r = !0), l.fire("ShowCaret", {
        target: t,
        direction: e,
        before: n
      }).isDefaultPrevented() ? null : (r && p.scrollIntoView(t, -1 === e), s.show(n, t));
    }

    function t(e) {
      return Xr(e) || Mo(e) || Fo(e);
    }

    function m(e) {
      return t(e.startContainer) || t(e.endContainer);
    }

    function c(e, t) {
      if (!e) return null;

      if (e.collapsed) {
        if (!m(e)) {
          var n = t ? 1 : -1,
              r = mc(n, v, e),
              o = r.getNode(!t);
          if (rc(o)) return d(n, o, !!t && !r.isAtEnd(), !1);
          var i = r.getNode(t);
          if (rc(i)) return d(n, i, !t && !r.isAtEnd(), !1);
        }

        return null;
      }

      var a = e.startContainer,
          u = e.startOffset,
          s = e.endOffset;
      if (3 === a.nodeType && 0 === u && L1(a.parentNode) && (a = a.parentNode, u = h.nodeIndex(a), a = a.parentNode), 1 !== a.nodeType) return null;

      if (s === u + 1 && a === e.endContainer) {
        var c = a.childNodes[u];
        if (f(c)) return function (e) {
          var t = e.cloneNode(!0),
              n = l.fire("ObjectSelected", {
            target: e,
            targetClone: t
          });
          if (n.isDefaultPrevented()) return null;

          var r = function (e, t, n) {
            var r = l.$,
                o = yr(Et.fromDom(l.getBody()), "#" + b).fold(function () {
              return r([]);
            }, function (e) {
              return r([e.dom]);
            });
            0 === o.length && (o = r('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id", b)).appendTo(l.getBody());
            var i = h.createRng();
            t === n && Ct.ie ? (o.empty().append('<p style="font-size: 0" data-mce-bogus="all">\xa0</p>').append(t), i.setStartAfter(o[0].firstChild.firstChild), i.setEndAfter(t)) : (o.empty().append(Do).append(t).append(Do), i.setStart(o[0].firstChild, 1), i.setEnd(o[0].lastChild, 0)), o.css({
              top: h.getPos(e, l.getBody()).y
            }), o[0].focus();
            var a = p.getSel();
            return a.removeAllRanges(), a.addRange(i), i;
          }(e, n.targetClone, t),
              o = Et.fromDom(e);

          return X(Au(Et.fromDom(l.getBody()), "*[data-mce-selected]"), function (e) {
            je(o, e) || bn(e, y);
          }), h.getAttrib(e, y) || e.setAttribute(y, "1"), g = e, C(), r;
        }(c);
      }

      return null;
    }

    function a() {
      g && g.removeAttribute(y), yr(Et.fromDom(l.getBody()), "#" + b).each(Mn), g = null;
    }

    var g,
        n,
        e,
        o,
        p = l.selection,
        h = l.dom,
        u = h.isBlock,
        v = l.getBody(),
        s = tc(l, v, u, function () {
      return Td(l);
    }),
        b = "sel-" + h.uniqueId(),
        y = "data-mce-selected",
        r = p.getRng,
        C = function C() {
      s.hide();
    };

    return Ct.ceFalse && !bh(l) && (l.on("mouseup", function (e) {
      var t = r();
      t.collapsed && lv(l, e.clientX, e.clientY) && Eb(l, t, !1).each(i);
    }), l.on("click", function (e) {
      var t = c1(l, e.target);
      t && (L1(t) && (e.preventDefault(), l.focus()), P1(t) && h.isChildOf(t, p.getNode()) && a());
    }), l.on("blur NewBlock", a), l.on("ResizeWindow FullscreenStateChanged", s.reposition), l.on("tap", function (e) {
      var t = e.target,
          n = c1(l, t);
      L1(n) ? (e.preventDefault(), Sb(l, n).each(c)) : f(t) && Sb(l, t).each(c);
    }, !0), l.on("mousedown", function (e) {
      var t,
          n,
          r,
          o = e.target;
      o !== v && "HTML" !== o.nodeName && !h.isChildOf(o, v) || !1 === lv(l, e.clientX, e.clientY) || ((t = c1(l, o)) ? L1(t) ? (e.preventDefault(), Sb(l, t).each(c)) : (a(), P1(t) && e.shiftKey || Af(e.clientX, e.clientY, p.getRng()) || (C(), p.placeCaretAt(e.clientX, e.clientY))) : f(o) ? Sb(l, o).each(c) : !1 === rc(o) && (a(), C(), (n = Gy(v, e.clientX, e.clientY)) && (w(o, n.node) || (e.preventDefault(), r = d(1, n.node, n.before, !1), l.getBody().focus(), i(r)))));
    }), l.on("keypress", function (e) {
      $f.modifierPressed(e) || L1(p.getNode()) && e.preventDefault();
    }), l.on("GetSelectionRange", function (e) {
      var t = e.range;
      g && (g.parentNode ? ((t = t.cloneRange()).selectNode(g), e.range = t) : g = null);
    }), l.on("SetSelectionRange", function (e) {
      var t, n, r, o, i, a, u;
      e.range = (t = e.range, n = l.schema.getShortEndedElements(), r = h.createRng(), o = t.startContainer, i = t.startOffset, a = t.endContainer, u = t.endOffset, Ee(n, o.nodeName.toLowerCase()) ? 0 === i ? r.setStartBefore(o) : r.setStartAfter(o) : r.setStart(o, i), Ee(n, a.nodeName.toLowerCase()) ? 0 === u ? r.setEndBefore(a) : r.setEndAfter(a) : r.setEnd(a, u), r);
      var s = c(e.range, e.forward);
      s && (e.range = s);
    }), l.on("AfterSetSelectionRange", function (e) {
      var t = e.range,
          n = t.startContainer.parentNode;
      m(t) || "mcepastebin" === n.id || C(), h.hasClass(n, "mce-offscreen-selection") || a();
    }), l.on("copy", function (e) {
      var t,
          n,
          r = e.clipboardData;
      e.isDefaultPrevented() || !e.clipboardData || Ct.ie || (t = (n = h.get(b)) && n.getElementsByTagName("*")[0]) && (e.preventDefault(), r.clearData(), r.setData("text/html", t.outerHTML), r.setData("text/plain", t.outerText || t.innerText));
    }), s1(l), e = xu(function () {
      var e, t;
      n.removed || !n.getBody().contains(document.activeElement) || (e = n.selection.getRng()).collapsed && (t = Nb(n, e, !1), n.selection.setRng(t));
    }, 0), (n = l).on("focus", function () {
      e.throttle();
    }), n.on("blur", function () {
      e.cancel();
    }), (o = l).on("init", function () {
      o.on("focusin", function (e) {
        var t,
            n,
            r = e.target;
        Zn(r) && (t = _f(o.getBody(), r), n = Jn(t) ? t : r, o.selection.getNode() !== n && Sb(o, n).each(function (e) {
          return o.selection.setRng(e);
        }));
      });
    })), {
      showCaret: d,
      showBlockCaretContainer: function showBlockCaretContainer(e) {
        e.hasAttribute("data-mce-caret") && (Qr(e), i(r()), p.scrollIntoView(e));
      },
      hideFakeCaret: C,
      destroy: function destroy() {
        s.destroy(), g = null;
      }
    };

    function w(e, t) {
      var n,
          r = h.getParent(e, u),
          o = h.getParent(t, u);
      return r && e !== o && h.isChildOf(r, o) && !1 === L1(c1(l, r)) || r && (n = o, h.getParent(r, u) !== h.getParent(n, u)) && function (e) {
        var t = Wc(e);

        if (e.firstChild) {
          var n,
              r = bs.before(e.firstChild),
              o = t.next(r);
          return o && !(ap(n = o) || up(n) || np(n) || rp(n));
        }
      }(r);
    }
  }

  function f1(a) {
    function e(e, t) {
      try {
        a.getDoc().execCommand(e, !1, t);
      } catch (e) {}
    }

    function u(e) {
      return e.isDefaultPrevented();
    }

    function t() {
      a.shortcuts.add("meta+a", null, "SelectAll");
    }

    function n() {
      a.inline || b.bind(a.getDoc(), "mousedown mouseup", function (e) {
        var t;
        e.target === a.getDoc().documentElement && (t = y.getRng(), a.getBody().focus(), "mousedown" === e.type ? Xr(t.startContainer) || y.placeCaretAt(e.clientX, e.clientY) : y.setRng(t));
      });
    }

    function r() {
      Range.prototype.getClientRects || a.on("mousedown", function (e) {
        var t;
        u(e) || "HTML" !== e.target.nodeName || ((t = a.getBody()).blur(), Ur.setEditorTimeout(a, function () {
          t.focus();
        }));
      });
    }

    function o() {
      a.on("click", function (e) {
        var t = e.target;
        /^(IMG|HR)$/.test(t.nodeName) && "false" !== b.getContentEditableParent(t) && (e.preventDefault(), a.selection.select(t), a.nodeChanged()), "A" === t.nodeName && b.hasClass(t, "mce-item-anchor") && (e.preventDefault(), y.select(t));
      });
    }

    function i() {
      a.on("keydown", function (e) {
        if (!u(e) && e.keyCode === h && y.isCollapsed() && 0 === y.getRng().startOffset) {
          var t = y.getNode().previousSibling;
          if (t && t.nodeName && "table" === t.nodeName.toLowerCase()) return e.preventDefault(), !1;
        }
      });
    }

    function s() {
      a.getParam("readonly") || a.on("BeforeExecCommand mousedown", function () {
        e("StyleWithCSS", !1), e("enableInlineTableEditing", !1), Vs(a) || e("enableObjectResizing", !1);
      });
    }

    function c() {
      a.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}");
    }

    function l() {
      a.inline || a.on("keydown", function () {
        document.activeElement === document.body && a.getWin().focus();
      });
    }

    function f() {
      a.inline || (a.contentStyles.push("body {min-height: 150px}"), a.on("click", function (e) {
        var t;
        "HTML" === e.target.nodeName && (11 < Ct.ie ? a.getBody().focus() : (t = a.selection.getRng(), a.getBody().focus(), a.selection.setRng(t), a.selection.normalize(), a.nodeChanged()));
      }));
    }

    function d() {
      Ct.mac && a.on("keydown", function (e) {
        !$f.metaKeyPressed(e) || e.shiftKey || 37 !== e.keyCode && 39 !== e.keyCode || (e.preventDefault(), a.selection.getSel().modify("move", 37 === e.keyCode ? "backward" : "forward", "lineboundary"));
      });
    }

    function m() {
      a.on("click", function (e) {
        var t = e.target;

        do {
          if ("A" === t.tagName) return void e.preventDefault();
        } while (t = t.parentNode);
      }), a.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}");
    }

    function g() {
      a.on("init", function () {
        a.dom.bind(a.getBody(), "submit", function (e) {
          e.preventDefault();
        });
      });
    }

    var p = St.each,
        h = $f.BACKSPACE,
        v = $f.DELETE,
        b = a.dom,
        y = a.selection,
        C = a.parser,
        w = Ct.gecko,
        x = Ct.ie,
        S = Ct.webkit,
        E = "data:text/mce-internal,",
        N = x ? "Text" : "URL",
        k = oe;
    return bh(a) ? (S && (n(), o(), g(), t(), Ct.iOS && (l(), f(), m())), w && (r(), s(), c(), d())) : (a.on("keydown", function (e) {
      if (!u(e) && e.keyCode === $f.BACKSPACE) {
        var t,
            n = (t = y.getRng()).startContainer,
            r = t.startOffset,
            o = b.getRoot(),
            i = n;

        if (t.collapsed && 0 === r) {
          for (; i && i.parentNode && i.parentNode.firstChild === i && i.parentNode !== o;) {
            i = i.parentNode;
          }

          "BLOCKQUOTE" === i.tagName && (a.formatter.toggle("blockquote", null, i), (t = b.createRng()).setStart(n, 0), t.setEnd(n, 0), y.setRng(t));
        }
      }
    }), a.on("keydown", function (e) {
      var t,
          n,
          r,
          o,
          i = e.keyCode;
      u(e) || i !== v && i !== h || (t = a.selection.isCollapsed(), n = a.getBody(), t && !b.isEmpty(n) || !t && (r = T(a.selection.getRng()), (o = b.createRng()).selectNode(a.getBody()), r !== T(o)) || (e.preventDefault(), a.setContent(""), n.firstChild && b.isBlock(n.firstChild) ? a.selection.setCursorLocation(n.firstChild, 0) : a.selection.setCursorLocation(n, 0), a.nodeChanged()));
    }), Ct.windowsPhone || a.on("keyup focusin mouseup", function (e) {
      $f.modifierPressed(e) || y.normalize();
    }, !0), S && (n(), o(), Ls(a) && a.on("init", function () {
      e("DefaultParagraphSeparator", Ls(a));
    }), g(), i(), C.addNodeFilter("br", function (e) {
      for (var t = e.length; t--;) {
        "Apple-interchange-newline" === e[t].attr("class") && e[t].remove();
      }
    }), Ct.iOS ? (l(), f(), m()) : t()), 11 <= Ct.ie && (f(), i()), Ct.ie && (t(), e("AutoUrlDetect", !1), a.on("dragstart", function (e) {
      var t, n, r;
      (t = e).dataTransfer && (a.selection.isCollapsed() && "IMG" === t.target.tagName && y.select(t.target), 0 < (n = a.selection.getContent()).length && (r = E + escape(a.id) + "," + escape(n), t.dataTransfer.setData(N, r)));
    }), a.on("drop", function (e) {
      var t, n, r, o;
      u(e) || (t = e.dataTransfer && (o = e.dataTransfer.getData(N)) && 0 <= o.indexOf(E) ? (o = o.substr(E.length).split(","), {
        id: unescape(o[0]),
        html: unescape(o[1])
      }) : null) && t.id !== a.id && (e.preventDefault(), n = Pf(e.x, e.y, a.getDoc()), y.setRng(n), r = t.html, a.queryCommandSupported("mceInsertClipboardContent") ? a.execCommand("mceInsertClipboardContent", !1, {
        content: r,
        internal: !0
      }) : a.execCommand("mceInsertContent", !1, r));
    })), w && (a.on("keydown", function (e) {
      if (!u(e) && e.keyCode === h && a.getBody().getElementsByTagName("hr").length && y.isCollapsed() && 0 === y.getRng().startOffset) {
        var t = y.getNode(),
            n = t.previousSibling;
        if ("HR" === t.nodeName) return b.remove(t), void e.preventDefault();
        n && n.nodeName && "hr" === n.nodeName.toLowerCase() && (b.remove(n), e.preventDefault());
      }
    }), r(), a.on("keypress", function (e) {
      var t;
      if (!u(e) && (8 === e.keyCode || 46 === e.keyCode) && A()) return t = _(), a.getDoc().execCommand("delete", !1, null), t(), e.preventDefault(), !1;
    }), b.bind(a.getDoc(), "cut", function (e) {
      var t;
      !u(e) && A() && (t = _(), Ur.setEditorTimeout(a, function () {
        t();
      }));
    }), s(), a.on("SetContent ExecCommand", function (e) {
      "setcontent" !== e.type && "mceInsertLink" !== e.command || p(b.select("a"), function (e) {
        var t = e.parentNode,
            n = b.getRoot();

        if (t.lastChild === e) {
          for (; t && !b.isBlock(t);) {
            if (t.parentNode.lastChild !== t || t === n) return;
            t = t.parentNode;
          }

          b.add(t, "br", {
            "data-mce-bogus": 1
          });
        }
      });
    }), c(), d(), i())), {
      refreshContentEditable: k,
      isHidden: function isHidden() {
        if (!w || a.removed) return !1;
        var e = a.selection.getSel();
        return !e || !e.rangeCount || 0 === e.rangeCount;
      }
    };

    function _() {
      var e = b.getAttribs(y.getStart().cloneNode(!1));
      return function () {
        var t = y.getStart();
        t !== a.getBody() && (b.setAttrib(t, "style", null), p(e, function (e) {
          t.setAttributeNode(e.cloneNode(!0));
        }));
      };
    }

    function A() {
      return !y.isCollapsed() && b.getParent(y.getStart(), b.isBlock) !== b.getParent(y.getEnd(), b.isBlock);
    }

    function T(e) {
      var t = b.create("body"),
          n = e.cloneContents();
      return t.appendChild(n), y.serializer.serialize(t, {
        format: "html"
      });
    }
  }

  function d1(e) {
    return ne(e, function (e) {
      return !1 === b(e);
    });
  }

  function m1(e) {
    var t = e.settings,
        n = e.editorUpload.blobCache;
    return d1({
      allow_conditional_comments: t.allow_conditional_comments,
      allow_html_data_urls: t.allow_html_data_urls,
      allow_svg_data_urls: t.allow_svg_data_urls,
      allow_html_in_named_anchor: t.allow_html_in_named_anchor,
      allow_script_urls: t.allow_script_urls,
      allow_unsafe_link_target: t.allow_unsafe_link_target,
      convert_fonts_to_spans: t.convert_fonts_to_spans,
      fix_list_elements: t.fix_list_elements,
      font_size_legacy_values: t.font_size_legacy_values,
      forced_root_block: t.forced_root_block,
      forced_root_block_attrs: t.forced_root_block_attrs,
      padd_empty_with_br: t.padd_empty_with_br,
      preserve_cdata: t.preserve_cdata,
      remove_trailing_brs: t.remove_trailing_brs,
      inline_styles: t.inline_styles,
      root_name: e.inline ? e.getElement().nodeName.toLowerCase() : void 0,
      validate: !0,
      blob_cache: n,
      document: e.getDoc(),
      images_dataimg_filter: t.images_dataimg_filter
    });
  }

  function g1(e) {
    var t, u, n;
    e.bindPendingEventDelegates(), e.initialized = !0, e.fire("Init"), e.focus(!0), n = (u = e).dom.getRoot(), u.inline || Vl(u) && u.selection.getStart(!0) !== n || mf(n).each(function (e) {
      var t,
          n,
          r,
          o,
          i = e.getNode(),
          a = sn(i) ? mf(i).getOr(e) : e;
      Ct.browser.isIE() ? (t = u, n = a.toRange(), r = Et.fromDom(t.getBody()), o = (bd(t) ? he.from(n) : he.none()).map(yd).filter(vd(r)), t.bookmark = o.isSome() ? o : t.bookmark) : u.selection.setRng(a.toRange());
    }), e.nodeChanged({
      initial: !0
    }), e.execCallback("init_instance_callback", e), (t = e).settings.auto_focus && Ur.setEditorTimeout(t, function () {
      var e = !0 === t.settings.auto_focus ? t : t.editorManager.get(t.settings.auto_focus);
      e.destroyed || e.focus();
    }, 100);
  }

  function p1(e) {
    return (e.inline ? e.ui : e.dom).styleSheetLoader;
  }

  function h1(e) {
    function t() {
      o.unloadAll(a), e.inline || e.ui.styleSheetLoader.unloadAll(i);
    }

    function n() {
      e.removed ? t() : e.on("remove", t);
    }

    var r,
        o = p1(e),
        i = Hs(e),
        a = e.contentCSS;
    0 < e.contentStyles.length && (r = "", St.each(e.contentStyles, function (e) {
      r += e + "\r\n";
    }), e.dom.addStyle(r));

    var u,
        s,
        c,
        l,
        f,
        d,
        m,
        g,
        p,
        h = _r.all((u = e, s = a, c = i, l = [new _r(function (e, t) {
      return p1(u).loadAll(s, e, t);
    })], u.inline ? l : l.concat([new _r(function (e, t) {
      return u.ui.styleSheetLoader.loadAll(c, e, t);
    })]))).then(n)["catch"](n);

    return e.settings.content_style && (d = (f = e).settings.content_style, m = Et.fromDom(f.getBody()), g = jt(Ln(m)), gn(p = Et.fromTag("style"), "type", "text/css"), In(p, Et.fromText(d)), In(g, p), f.on("remove", function () {
      Mn(p);
    })), h;
  }

  function v1(e) {
    var t;
    !0 !== e.removed && (bh(t = e) || t.load({
      initial: !0,
      format: "html"
    }), t.startContent = t.getContent({
      format: "raw"
    }), g1(e));
  }

  function b1(t, e) {
    var n = t.settings,
        r = t.getElement(),
        o = t.getDoc();
    n.inline || (t.getElement().style.visibility = t.orgVisibility), e || t.inline || (o.open(), o.write(t.iframeHTML), o.close()), t.inline && (I1.addClass(r, "mce-content-body"), t.contentDocument = o = document, t.contentWindow = window, t.bodyElement = r, t.contentAreaContainer = r);
    var u,
        i,
        a,
        s,
        c,
        l,
        f,
        d,
        m,
        g,
        p,
        h = t.getBody();
    h.disabled = !0, t.readonly = !!n.readonly, t.readonly || (t.inline && "static" === I1.getStyle(h, "position", !0) && (h.style.position = "relative"), h.contentEditable = t.getParam("content_editable_state", !0)), h.disabled = !1, t.editorUpload = Xv(t), t.schema = go(n), t.dom = cu(o, {
      keep_values: !0,
      url_converter: t.convertURL,
      url_converter_scope: t,
      hex_colors: n.force_hex_style_colors,
      update_styles: !0,
      root_element: t.inline ? t.getBody() : null,
      collect: function collect() {
        return t.inline;
      },
      schema: t.schema,
      contentCssCors: t.getParam("content_css_cors", !1, "boolean"),
      referrerPolicy: Us(t),
      onSetAttrib: function onSetAttrib(e) {
        t.fire("SetAttrib", e);
      }
    }), t.parser = ((i = Gh(m1(u = t), u.schema)).addAttributeFilter("src,href,style,tabindex", function (e, t) {
      for (var n, r, o = e.length, i = u.dom, a = "data-mce-" + t; o--;) {
        (r = (n = e[o]).attr(t)) && !n.attr(a) && 0 !== r.indexOf("data:") && 0 !== r.indexOf("blob:") && ("style" === t ? ((r = i.serializeStyle(i.parseStyle(r), n.name)).length || (r = null), n.attr(a, r), n.attr(t, r)) : "tabindex" === t ? (n.attr(a, r), n.attr(t, null)) : n.attr(a, u.convertURL(r, t, n.name)));
      }
    }), i.addNodeFilter("script", function (e) {
      for (var t = e.length; t--;) {
        var n = e[t],
            r = n.attr("type") || "no/type";
        0 !== r.indexOf("mce-") && n.attr("type", "mce-" + r);
      }
    }), u.settings.preserve_cdata && i.addNodeFilter("#cdata", function (e) {
      for (var t = e.length; t--;) {
        var n = e[t];
        n.type = 8, n.name = "#comment", n.value = "[CDATA[" + u.dom.encode(n.value) + "]]";
      }
    }), i.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div", function (e) {
      for (var t = e.length, n = u.schema.getNonEmptyElements(); t--;) {
        var r = e[t];
        r.isEmpty(n) && 0 === r.getAll("br").length && (r.append(new Jd("br", 1)).shortEnded = !0);
      }
    }), i), t.serializer = Zh((a = t.settings, _ke(_ke({}, m1(t)), d1({
      url_converter: a.url_converter,
      url_converter_scope: a.url_converter_scope,
      element_format: a.element_format,
      entities: a.entities,
      entity_encoding: a.entity_encoding,
      indent: a.indent,
      indent_after: a.indent_after,
      indent_before: a.indent_before,
      block_elements: a.block_elements,
      boolean_attributes: a.boolean_attributes,
      custom_elements: a.custom_elements,
      extended_valid_elements: a.extended_valid_elements,
      invalid_elements: a.invalid_elements,
      invalid_styles: a.invalid_styles,
      move_caret_before_on_enter_elements: a.move_caret_before_on_enter_elements,
      non_empty_elements: a.non_empty_elements,
      schema: a.schema,
      self_closing_elements: a.self_closing_elements,
      short_ended_elements: a.short_ended_elements,
      special: a.special,
      text_block_elements: a.text_block_elements,
      text_inline_elements: a.text_inline_elements,
      valid_children: a.valid_children,
      valid_classes: a.valid_classes,
      valid_elements: a.valid_elements,
      valid_styles: a.valid_styles,
      verify_html: a.verify_html,
      whitespace_elements: a.whitespace_elements
    }))), t), t.selection = zh(t.dom, t.getWin(), t.serializer, t), t.annotator = Yl(t), t.formatter = Qv(t), t.undoManager = eb(t), t._nodeChangeDispatcher = new t1(t), t._selectionOverrides = l1(t), d = t, m = wu(), g = pu(!1), p = Su(function (e) {
      d.fire("longpress", _ke(_ke({}, e), {
        type: "longpress"
      })), g.set(!0);
    }, 400), d.on("touchstart", function (n) {
      E0(n).each(function (e) {
        p.cancel();
        var t = {
          x: e.clientX,
          y: e.clientY,
          target: n.target
        };
        p.throttle(n), g.set(!1), m.set(t);
      });
    }, !0), d.on("touchmove", function (e) {
      p.cancel(), E0(e).each(function (i) {
        m.on(function (e) {
          var t = i,
              n = e,
              r = Math.abs(t.clientX - n.x),
              o = Math.abs(t.clientY - n.y);
          (5 < r || 5 < o) && (m.clear(), g.set(!1), d.fire("longpresscancel"));
        });
      });
    }, !0), d.on("touchend touchcancel", function (t) {
      p.cancel(), "touchcancel" !== t.type && m.get().filter(function (e) {
        return e.target.isEqualNode(t.target);
      }).each(function () {
        g.get() ? t.preventDefault() : d.fire("tap", _ke(_ke({}, t), {
          type: "tap"
        }));
      });
    }, !0), (l = c = t).on("click", function (e) {
      l.dom.getParent(e.target, "details") && e.preventDefault();
    }), (f = c).parser.addNodeFilter("details", function (e) {
      X(e, function (e) {
        e.attr("data-mce-open", e.attr("open")), e.attr("open", "open");
      });
    }), f.serializer.addNodeFilter("details", function (e) {
      X(e, function (e) {
        var t = e.attr("data-mce-open");
        e.attr("open", K(t) ? t : null), e.attr("data-mce-open", null);
      });
    }), bh(t) || (s = t).on("click", function (e) {
      var t, n, r, o, i;
      3 <= e.detail && (r = (t = s).selection.getRng(), o = bs.fromRangeStart(r), i = bs.fromRangeEnd(r), !bs.isElementPosition(o) || r1(n = o.container()) && mf(n).each(function (e) {
        return r.setStart(e.container(), e.offset());
      }), !bs.isElementPosition(i) || r1(n = o.container()) && gf(n).each(function (e) {
        return r.setEnd(e.container(), e.offset());
      }), t.selection.setRng(Sg(r)));
    });

    var v,
        b,
        y,
        C,
        w,
        x,
        _S,
        E,
        N,
        k = bh(v = t) ? pu(null) : LC(v);

    N = k, (E = t).addCommand("delete", function () {
      var e,
          t = N;
      x0(e = E) || Lb(e, !1) || Tb(e, !1) || f0(e, t, !1) || bb(e, !1) || xg(e) || Ib(e, !1) || h0(e, !1) || wb(e) || g0(e, !1) || (S0(e, "Delete"), sb(e));
    }), E.addCommand("forwardDelete", function () {
      var e,
          t = N;
      Lb(e = E, !0) || Tb(e, !0) || f0(e, t, !0) || bb(e, !0) || xg(e) || Ib(e, !0) || h0(e, !0) || wb(e) || g0(e, !0) || S0(e, "ForwardDelete");
    }), Ls(b = t) && b.on("NodeChange", A(k0, b)), C = (y = t).dom, w = Ls(y), x = y.getParam("placeholder", kc.getAttrib(y.getElement(), "placeholder"), "string"), _S = function S(e, t) {
      var n, r, o;
      !function (e) {
        if (tb(e)) {
          var t = e.keyCode;
          return !nb(e) && ($f.metaKeyPressed(e) || e.altKey || 112 <= t && t <= 123 || ie(gy, t));
        }
      }(e) && (n = y.getBody(), r = !(tb(o = e) && !(nb(o) || "keyup" === o.type && 229 === o.keyCode)) && function (e, t, n) {
        if (oo(Et.fromDom(t), !1)) {
          var r = "" === n,
              o = t.firstElementChild;
          return !o || !e.getStyle(t.firstElementChild, "padding-left") && !e.getStyle(t.firstElementChild, "padding-right") && (r ? !e.isBlock(o) : n === o.nodeName.toLowerCase());
        }

        return !1;
      }(C, n, w), "" !== C.getAttrib(n, py) === r && !t || (C.setAttrib(n, py, r ? x : null), C.setAttrib(n, "aria-placeholder", r ? x : null), y.fire("PlaceholderToggle", {
        state: r
      }), y.on(r ? "keydown" : "keyup", _S), y.off(r ? "keyup" : "keydown", _S)));
    }, x && y.on("init", function (e) {
      _S(e, !0), y.on("change SetContent ExecCommand", _S), y.on("paste", function (e) {
        return Ur.setEditorTimeout(y, function () {
          return _S(e);
        });
      });
    });

    var _ = yh(t);

    (function (t) {
      var e = t.settings,
          n = t.getDoc(),
          r = t.getBody();
      t.fire("PreInit"), e.browser_spellcheck || e.gecko_spellcheck || (n.body.spellcheck = !1, I1.setAttrib(r, "spellcheck", "false")), t.quirks = f1(t), t.fire("PostRender");
      var o = t.getParam("directionality", yu.isRtl() ? "rtl" : void 0);
      void 0 !== o && (r.dir = o), e.protect && t.on("BeforeSetContent", function (t) {
        St.each(e.protect, function (e) {
          t.content = t.content.replace(e, function (e) {
            return "\x3c!--mce:protected " + escape(e) + "--\x3e";
          });
        });
      }), t.on("SetContent", function () {
        t.addVisual(t.getBody());
      }), t.on("compositionstart compositionend", function (e) {
        t.composing = "compositionstart" === e.type;
      });
    })(t), _.fold(function () {
      h1(t).then(function () {
        return v1(t);
      });
    }, function (e) {
      t.setProgressState(!0), h1(t).then(function () {
        e().then(function (e) {
          t.setProgressState(!1), v1(t);
        }, function (e) {
          t.notificationManager.open({
            type: "error",
            text: String(e)
          }), v1(t);
        });
      });
    });
  }

  function y1(e, t) {
    var n,
        r,
        o,
        i,
        a = e.translate(e.getParam("iframe_aria_text", "Rich Text Area. Press ALT-0 for help.", "string")),
        u = (n = e.id, r = a, t.height, o = e.getParam("iframe_attrs", {}), pn(i = Et.fromTag("iframe"), o), pn(i, {
      id: n + "_ifr",
      frameBorder: "0",
      allowTransparency: "true",
      title: r
    }), ku(i, "tox-edit-area__iframe"), i.dom);

    u.onload = function () {
      u.onload = null, e.fire("load");
    };

    var s = function (e, t) {
      if (document.domain !== window.location.hostname && Ct.browser.isIE()) {
        var n = Vv("mce");

        e[n] = function () {
          b1(e);
        };

        var r = 'javascript:(function(){document.open();document.domain="' + document.domain + '";var ed = window.parent.tinymce.get("' + e.id + '");document.write(ed.iframeHTML);document.close();ed.' + n + "(true);})()";
        return M1.setAttrib(t, "src", r), !0;
      }

      return !1;
    }(e, u);

    return e.contentAreaContainer = t.iframeContainer, e.iframeElement = u, e.iframeHTML = function (e) {
      var t = e.getParam("doctype", "<!DOCTYPE html>") + "<html><head>";
      e.getParam("document_base_url", "") !== e.documentBaseUrl && (t += '<base href="' + e.documentBaseURI.getURI() + '" />'), t += '<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';
      var n = Bs(e, "body_id", "tinymce"),
          r = Bs(e, "body_class", "");
      return Ps(e) && (t += '<meta http-equiv="Content-Security-Policy" content="' + Ps(e) + '" />'), t + ('</head><body id="' + n + '" class="mce-content-body ' + r + '" data-id="' + e.id) + '"><br></body></html>';
    }(e), M1.add(t.iframeContainer, u), s;
  }

  function C1(e) {
    return e.replace(/^\-/, "");
  }

  function w1(e) {
    return {
      editorContainer: e,
      iframeContainer: e,
      api: {}
    };
  }

  function x1(e) {
    var t,
        n,
        r,
        o,
        i,
        a,
        u,
        s = e.getElement();
    return e.orgDisplay = s.style.display, K($s(e)) ? e.theme.renderUI() : y($s(e)) ? (n = (t = e).getElement(), (r = $s(t)(t, n)).editorContainer.nodeType && (r.editorContainer.id = r.editorContainer.id || t.id + "_parent"), r.iframeContainer && r.iframeContainer.nodeType && (r.iframeContainer.id = r.iframeContainer.id || t.id + "_iframecontainer"), r.height = r.iframeHeight || n.offsetHeight, r) : (u = (o = e).getElement(), o.inline ? w1(null) : (i = u, a = F1.create("div"), F1.insertAfter(a, i), w1(a)));
  }

  function S1(e) {
    var n, t, r, o, i, a, u, s;
    e.fire("ScriptsLoaded"), n = e, t = St.trim(Fs(n)), r = n.ui.registry.getAll().icons, Q(_ke(_ke({}, Av.get("default").icons), Av.get(t).icons), function (e, t) {
      Ee(r, t) || n.ui.registry.addIcon(t, e);
    }), a = $s(o = e), K(a) ? (o.settings.theme = C1(a), i = Pv.get(a), o.theme = new i(o, Pv.urls[a]), o.theme.init && o.theme.init(o, Pv.urls[a] || o.documentBaseUrl.replace(/\/$/, ""), o.$)) : o.theme = {}, s = [], St.each(Ks(u = e).split(/[ ,]/), function (e) {
      U1(u, s, C1(e));
    });
    var c = x1(e),
        l = e,
        f = he.from(c.api).getOr({}),
        d = {
      show: he.from(f.show).getOr(oe),
      hide: he.from(f.hide).getOr(oe),
      disable: he.from(f.disable).getOr(oe),
      isDisabled: he.from(f.isDisabled).getOr(T),
      enable: function enable() {
        l.mode.isReadOnly() || he.from(f.enable).map(w);
      }
    };
    l.ui = _ke(_ke({}, l.ui), d);
    var m,
        g,
        p,
        h = {
      editorContainer: c.editorContainer,
      iframeContainer: c.iframeContainer
    };
    return e.editorContainer = h.editorContainer || null, jv(e), e.inline ? b1(e) : (p = y1(m = e, g = h), g.editorContainer && (M1.get(g.editorContainer).style.display = m.orgDisplay, m.hidden = M1.isHidden(g.editorContainer)), m.getElement().style.display = "none", M1.setAttrib(m.id, "aria-hidden", "true"), void (p || b1(m)));
  }

  function E1(e) {
    return "-" === e.charAt(0);
  }

  function N1(t, e, n) {
    return he.from(e).filter(function (e) {
      return 0 < e.length && !Av.has(e);
    }).map(function (e) {
      return {
        url: t.editorManager.baseURL + "/icons/" + e + "/icons" + n + ".js",
        name: he.some(e)
      };
    });
  }

  function k1(c, l) {
    var e,
        t,
        f = mu.ScriptLoader,
        n = f,
        r = l,
        o = function o() {
      var r, o, t, n, e, i, a, u, s;
      e = f, u = zs(i = c), s = i.getParam("language_url", "", "string"), !1 === yu.hasCode(u) && "en" !== u && (a = "" !== s ? s : i.editorManager.baseURL + "/langs/" + u + ".js", e.add(a, oe, void 0, function () {
        Fv(i, "LanguageLoadError", Uv("language", a, u));
      })), t = f, X(function (e) {
        for (var t = [], n = function n(e) {
          t.push(e);
        }, r = 0; r < e.length; r++) {
          e[r].each(n);
        }

        return t;
      }([N1(n = c, "default", l), he.from(n.getParam("icons_url", "", "string")).filter(function (e) {
        return 0 < e.length;
      }).map(function (e) {
        return {
          url: e,
          name: he.none()
        };
      }).orThunk(function () {
        return N1(n, Fs(n), "");
      })]), function (e) {
        t.add(e.url, oe, void 0, function () {
          Fv(n, "IconsLoadError", Uv("icons", e.url, e.name.getOrUndefined()));
        });
      }), r = c, o = l, St.each(r.getParam("external_plugins"), function (e, t) {
        Bv.load(t, e, oe, void 0, function () {
          zv(r, e, t);
        }), r.settings.plugins += " " + t;
      }), St.each(Ks(r).split(/[ ,]/), function (e) {
        var t, n;
        (e = St.trim(e)) && !Bv.urls[e] && (E1(e) ? (e = e.substr(1, e.length), t = Bv.dependencies(e), St.each(t, function (e) {
          var t = Bv.createUrl({
            prefix: "plugins/",
            resource: e,
            suffix: "/plugin" + o + ".js"
          }, e);
          Bv.load(t.resource, t, oe, void 0, function () {
            zv(r, t.prefix + t.resource + t.suffix, t.resource);
          });
        })) : (n = {
          prefix: "plugins/",
          resource: e,
          suffix: "/plugin" + o + ".js"
        }, Bv.load(e, n, oe, void 0, function () {
          zv(r, n.prefix + n.resource + n.suffix, e);
        })));
      }), f.loadQueue(function () {
        c.removed || S1(c);
      }, c, function () {
        c.removed || S1(c);
      });
    },
        i = $s(e = c);

    K(i) ? (E1(i) || Ee(Pv.urls, i) || ((t = e.getParam("theme_url")) ? Pv.load(i, e.documentBaseURI.toAbsolute(t)) : Pv.load(i, "themes/" + i + "/theme" + r + ".js")), n.loadQueue(function () {
      Pv.waitFor(i, o);
    })) : o();
  }

  function _1(a) {
    return function (i, e) {
      return he.from(e).map(Et.fromDom).filter(An).bind(function (e) {
        return n = a, t = i, r = e.dom, Pg(Et.fromDom(r), function (e) {
          return wn(t = e, n).orThunk(function () {
            return "font" === Nt(t) ? ae(j1, n).bind(function (e) {
              return vn(t, e);
            }) : he.none();
          });
          var t;
        }, function (e) {
          return je(Et.fromDom(t), e);
        }).or((o = e.dom, he.from(cu.DOM.getStyle(o, a, !0))));
        var n, t, r, o;
      }).getOr("");
    };
  }

  function A1(e) {
    return mf(e.getBody()).map(function (e) {
      var t = e.container();
      return qn(t) ? t.parentNode : t;
    });
  }

  function T1(e, t) {
    return n = e, r = a(he.some, t), o = n, he.from(o.selection.getRng()).bind(function (e) {
      var t = o.getBody();
      return e.startContainer === t && 0 === e.startOffset ? he.none() : he.from(o.selection.getStart(!0));
    }).orThunk(A(A1, n)).map(Et.fromDom).filter(An).bind(r);
    var n, r, o;
  }

  function R1(e, t) {
    if (/^[0-9.]+$/.test(t)) {
      var n = parseInt(t, 10);

      if (1 <= n && n <= 7) {
        var r = St.explode(e.getParam("font_size_style_values", "xx-small,x-small,small,medium,large,x-large,xx-large")),
            o = St.explode(e.getParam("font_size_classes", ""));
        return o ? o[n - 1] || t : r[n - 1] || t;
      }

      return t;
    }

    return t;
  }

  var D1 = Jn,
      O1 = Gn,
      B1 = function B1(e) {
    e.on(function (e) {
      i1(e.ghost);
    }), e.clear();
  },
      P1 = Gn,
      L1 = Jn,
      I1 = cu.DOM,
      M1 = cu.DOM,
      F1 = cu.DOM,
      U1 = function U1(t, n, r) {
    var o,
        i,
        a,
        u,
        e = Bv.get(r),
        s = Bv.urls[r] || t.documentBaseUrl.replace(/\/$/, "");
    if (r = St.trim(r), e && -1 === St.inArray(n, r) && (St.each(Bv.dependencies(r), function (e) {
      U1(t, n, e);
    }), !t.plugins[r])) try {
      var c = new e(t, s, t.$);
      (t.plugins[r] = c).init && (c.init(t, s), n.push(r));
    } catch (e) {
      i = r, a = e, Tf(o = t, "PluginLoadError", {
        message: u = yu.translate(["Failed to initialize plugin: {0}", i])
      }), uy(u, a), Mv(o, u);
    }
  },
      z1 = cu.DOM,
      j1 = {
    "font-size": "size",
    "font-family": "face"
  },
      H1 = _1("font-size"),
      V1 = i(function (e) {
    return e.replace(/[\'\"\\]/g, "").replace(/,\s+/g, ",");
  }, _1("font-family")),
      q1 = St.each,
      $1 = St.map,
      W1 = St.inArray,
      K1 = (X1.prototype.execCommand = function (t, n, r, e) {
    var o,
        i,
        a = !1,
        u = this;

    if (!u.editor.removed) {
      if ("mcefocus" !== t.toLowerCase() && (/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(t) || e && e.skip_focus ? xd(i = u.editor).each(function (e) {
        return i.selection.setRng(e);
      }) : u.editor.focus()), (e = u.editor.fire("BeforeExecCommand", {
        command: t,
        ui: n,
        value: r
      })).isDefaultPrevented()) return !1;
      var s = t.toLowerCase();
      if (o = u.commands.exec[s]) return o(s, n, r), u.editor.fire("ExecCommand", {
        command: t,
        ui: n,
        value: r
      }), !0;
      if (q1(this.editor.plugins, function (e) {
        if (e.execCommand && e.execCommand(t, n, r)) return u.editor.fire("ExecCommand", {
          command: t,
          ui: n,
          value: r
        }), !(a = !0);
      }), a) return a;
      if (u.editor.theme && u.editor.theme.execCommand && u.editor.theme.execCommand(t, n, r)) return u.editor.fire("ExecCommand", {
        command: t,
        ui: n,
        value: r
      }), !0;

      try {
        a = u.editor.getDoc().execCommand(t, n, r);
      } catch (e) {}

      return !!a && (u.editor.fire("ExecCommand", {
        command: t,
        ui: n,
        value: r
      }), !0);
    }
  }, X1.prototype.queryCommandState = function (e) {
    var t;

    if (!this.editor.quirks.isHidden() && !this.editor.removed) {
      if (e = e.toLowerCase(), t = this.commands.state[e]) return t(e);

      try {
        return this.editor.getDoc().queryCommandState(e);
      } catch (e) {}

      return !1;
    }
  }, X1.prototype.queryCommandValue = function (e) {
    var t;

    if (!this.editor.quirks.isHidden() && !this.editor.removed) {
      if (e = e.toLowerCase(), t = this.commands.value[e]) return t(e);

      try {
        return this.editor.getDoc().queryCommandValue(e);
      } catch (e) {}
    }
  }, X1.prototype.addCommands = function (e, n) {
    void 0 === n && (n = "exec");
    var r = this;
    q1(e, function (t, e) {
      q1(e.toLowerCase().split(","), function (e) {
        r.commands[n][e] = t;
      });
    });
  }, X1.prototype.addCommand = function (e, o, i) {
    var a = this;
    e = e.toLowerCase(), this.commands.exec[e] = function (e, t, n, r) {
      return o.call(i || a.editor, t, n, r);
    };
  }, X1.prototype.queryCommandSupported = function (e) {
    if (e = e.toLowerCase(), this.commands.exec[e]) return !0;

    try {
      return this.editor.getDoc().queryCommandSupported(e);
    } catch (e) {}

    return !1;
  }, X1.prototype.addQueryStateHandler = function (e, t, n) {
    var r = this;
    e = e.toLowerCase(), this.commands.state[e] = function () {
      return t.call(n || r.editor);
    };
  }, X1.prototype.addQueryValueHandler = function (e, t, n) {
    var r = this;
    e = e.toLowerCase(), this.commands.value[e] = function () {
      return t.call(n || r.editor);
    };
  }, X1.prototype.hasCustomCommand = function (e) {
    return e = e.toLowerCase(), !!this.commands.exec[e];
  }, X1.prototype.execNativeCommand = function (e, t, n) {
    return void 0 === t && (t = !1), void 0 === n && (n = null), this.editor.getDoc().execCommand(e, t, n);
  }, X1.prototype.isFormatMatch = function (e) {
    return this.editor.formatter.match(e);
  }, X1.prototype.toggleFormat = function (e, t) {
    this.editor.formatter.toggle(e, t), this.editor.nodeChanged();
  }, X1.prototype.storeSelection = function (e) {
    this.selectionBookmark = this.editor.selection.getBookmark(e);
  }, X1.prototype.restoreSelection = function () {
    this.editor.selection.moveToBookmark(this.selectionBookmark);
  }, X1.prototype.setupCommands = function (u) {
    var o = this;

    function e(r) {
      return function () {
        var e = u.selection,
            t = e.isCollapsed() ? [u.dom.getParent(e.getNode(), u.dom.isBlock)] : e.getSelectedBlocks(),
            n = $1(t, function (e) {
          return !!u.formatter.matchNode(e, r);
        });
        return -1 !== W1(n, !0);
      };
    }

    this.addCommands({
      "mceResetDesignMode,mceBeginUndoLevel": oe,
      "mceEndUndoLevel,mceAddUndoLevel": function mceEndUndoLevelMceAddUndoLevel() {
        u.undoManager.add();
      },
      mceFocus: function mceFocus(e, t, n) {
        var r, o;
        o = n, (r = u).removed || (o ? Yd : function (t) {
          var e = t.selection,
              n = t.getBody(),
              r = e.getRng();
          t.quirks.refreshContentEditable(), void 0 !== t.bookmark && !1 === Td(t) && xd(t).each(function (e) {
            t.selection.setRng(e), r = e;
          });
          var o,
              i,
              a = (o = t, i = e.getNode(), o.dom.getParent(i, function (e) {
            return "true" === o.dom.getContentEditable(e);
          }));
          if (t.$.contains(n, a)) return Ad(a), _d(t, r), Yd(t);
          t.inline || (Ct.opera || Ad(n), t.getWin().focus()), (Ct.gecko || t.inline) && (Ad(n), _d(t, r)), Yd(t);
        })(r);
      },
      "Cut,Copy,Paste": function CutCopyPaste(e) {
        var t,
            n,
            r = u.getDoc();

        try {
          o.execNativeCommand(e);
        } catch (e) {
          t = !0;
        }

        !(t = "paste" === e && !r.queryCommandEnabled(e) || t) && r.queryCommandSupported(e) || (n = u.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead."), Ct.mac && (n = n.replace(/Ctrl\+/g, "\u2318+")), u.notificationManager.open({
          text: n,
          type: "error"
        }));
      },
      unlink: function unlink() {
        var e;
        u.selection.isCollapsed() ? (e = u.dom.getParent(u.selection.getStart(), "a")) && u.dom.remove(e, !0) : u.formatter.remove("link");
      },
      "JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone": function JustifyLeftJustifyCenterJustifyRightJustifyFullJustifyNone(e) {
        var t = e.substring(7);
        "full" === t && (t = "justify"), q1("left,center,right,justify".split(","), function (e) {
          t !== e && u.formatter.remove("align" + e);
        }), "none" !== t && o.toggleFormat("align" + t);
      },
      "InsertUnorderedList,InsertOrderedList": function InsertUnorderedListInsertOrderedList(e) {
        var t;
        o.execNativeCommand(e);
        var n = u.dom.getParent(u.selection.getNode(), "ol,ul");
        n && (t = n.parentNode, /^(H[1-6]|P|ADDRESS|PRE)$/.test(t.nodeName) && (o.storeSelection(), u.dom.split(t, n), o.restoreSelection()));
      },
      "Bold,Italic,Underline,Strikethrough,Superscript,Subscript": function BoldItalicUnderlineStrikethroughSuperscriptSubscript(e) {
        o.toggleFormat(e);
      },
      "ForeColor,HiliteColor": function ForeColorHiliteColor(e, t, n) {
        o.toggleFormat(e, {
          value: n
        });
      },
      FontName: function FontName(e, t, n) {
        var r, o;
        o = R1(r = u, n), r.formatter.toggle("fontname", {
          value: R(o.split(/\s*,\s*/), function (e) {
            return -1 === e.indexOf(" ") || Ye(e, '"') || Ye(e, "'") ? e : "'" + e + "'";
          }).join(",")
        }), r.nodeChanged();
      },
      FontSize: function FontSize(e, t, n) {
        var r;
        (r = u).formatter.toggle("fontsize", {
          value: R1(r, n)
        }), r.nodeChanged();
      },
      LineHeight: function LineHeight(e, t, n) {
        var r;
        (r = u).formatter.toggle("lineheight", {
          value: String(n)
        }), r.nodeChanged();
      },
      Lang: function Lang(e, t, n) {
        o.toggleFormat(e, {
          value: n.code,
          customValue: n.customCode
        });
      },
      RemoveFormat: function RemoveFormat(e) {
        u.formatter.remove(e);
      },
      mceBlockQuote: function mceBlockQuote() {
        o.toggleFormat("blockquote");
      },
      FormatBlock: function FormatBlock(e, t, n) {
        return o.toggleFormat(n || "p");
      },
      mceCleanup: function mceCleanup() {
        var e = u.selection.getBookmark();
        u.setContent(u.getContent()), u.selection.moveToBookmark(e);
      },
      mceRemoveNode: function mceRemoveNode(e, t, n) {
        var r = n || u.selection.getNode();
        r !== u.getBody() && (o.storeSelection(), u.dom.remove(r, !0), o.restoreSelection());
      },
      mceSelectNodeDepth: function mceSelectNodeDepth(e, t, n) {
        var r = 0;
        u.dom.getParent(u.selection.getNode(), function (e) {
          if (1 === e.nodeType && r++ === n) return u.selection.select(e), !1;
        }, u.getBody());
      },
      mceSelectNode: function mceSelectNode(e, t, n) {
        u.selection.select(n);
      },
      mceInsertContent: function mceInsertContent(e, t, n) {
        var r, o, i, a;
        r = u, o = function (e) {
          if ("string" == typeof e) return {
            content: e,
            details: {}
          };
          var t = St.extend({
            paste: e.paste,
            data: {
              paste: e.paste
            }
          }, e);
          return {
            content: e.content,
            details: t
          };
        }(n), i = o.content, a = o.details, Ch(r).editor.insertContent(i, a);
      },
      mceInsertRawHTML: function mceInsertRawHTML(e, t, n) {
        u.selection.setContent("tiny_mce_marker");
        var r = u.getContent();
        u.setContent(r.replace(/tiny_mce_marker/g, function () {
          return n;
        }));
      },
      mceInsertNewLine: function mceInsertNewLine(e, t, n) {
        AC(u, n);
      },
      mceToggleFormat: function mceToggleFormat(e, t, n) {
        o.toggleFormat(n);
      },
      mceSetContent: function mceSetContent(e, t, n) {
        u.setContent(n);
      },
      "Indent,Outdent": function IndentOutdent(e) {
        w0(u, e);
      },
      mceRepaint: oe,
      InsertHorizontalRule: function InsertHorizontalRule() {
        u.execCommand("mceInsertContent", !1, "<hr />");
      },
      mceToggleVisualAid: function mceToggleVisualAid() {
        u.hasVisual = !u.hasVisual, u.addVisual();
      },
      mceReplaceContent: function mceReplaceContent(e, t, n) {
        u.execCommand("mceInsertContent", !1, n.replace(/\{\$selection\}/g, u.selection.getContent({
          format: "text"
        })));
      },
      mceInsertLink: function mceInsertLink(e, t, n) {
        "string" == typeof n && (n = {
          href: n
        });
        var r = u.dom.getParent(u.selection.getNode(), "a");
        n.href = n.href.replace(/ /g, "%20"), r && n.href || u.formatter.remove("link"), n.href && u.formatter.apply("link", n, r);
      },
      selectAll: function selectAll() {
        var e,
            t = u.dom.getParent(u.selection.getStart(), Gn);
        t && ((e = u.dom.createRng()).selectNodeContents(t), u.selection.setRng(e));
      },
      mceNewDocument: function mceNewDocument() {
        u.setContent("");
      },
      InsertLineBreak: function InsertLineBreak(e, t, n) {
        return hC(u, n), !0;
      }
    }), o.addCommands({
      JustifyLeft: e("alignleft"),
      JustifyCenter: e("aligncenter"),
      JustifyRight: e("alignright"),
      JustifyFull: e("alignjustify"),
      "Bold,Italic,Underline,Strikethrough,Superscript,Subscript": function BoldItalicUnderlineStrikethroughSuperscriptSubscript(e) {
        return o.isFormatMatch(e);
      },
      mceBlockQuote: function mceBlockQuote() {
        return o.isFormatMatch("blockquote");
      },
      Outdent: function Outdent() {
        return y0(u);
      },
      "InsertUnorderedList,InsertOrderedList": function InsertUnorderedListInsertOrderedList(e) {
        var t = u.dom.getParent(u.selection.getNode(), "ul,ol");
        return t && ("insertunorderedlist" === e && "UL" === t.tagName || "insertorderedlist" === e && "OL" === t.tagName);
      }
    }, "state"), o.addCommands({
      Undo: function Undo() {
        u.undoManager.undo();
      },
      Redo: function Redo() {
        u.undoManager.redo();
      }
    }), o.addQueryValueHandler("FontName", function () {
      return T1(t = u, function (e) {
        return V1(t.getBody(), e.dom);
      }).getOr("");
      var t;
    }, this), o.addQueryValueHandler("FontSize", function () {
      return T1(t = u, function (e) {
        return H1(t.getBody(), e.dom);
      }).getOr("");
      var t;
    }, this), o.addQueryValueHandler("LineHeight", function () {
      return T1(t = u, function (n) {
        var e = Et.fromDom(t.getBody());
        return Pg(n, function (e) {
          return wn(e, "line-height");
        }, A(je, e)).getOrThunk(function () {
          var e = parseFloat(Cn(n, "line-height")),
              t = parseFloat(Cn(n, "font-size"));
          return String(e / t);
        });
      }).getOr("");
      var t;
    }, this);
  }, X1);

  function X1(e) {
    this.commands = {
      state: {},
      exec: {},
      value: {}
    }, this.editor = e, this.setupCommands(e);
  }

  function Y1(e, t, n) {
    var r, o, i, a, u, s;
    _u(e, t) && !1 === n ? (o = t, Nu(r = e) ? r.dom.classList.remove(o) : (u = o, 0 < (s = U(Eu(a = r, "class"), function (e) {
      return e !== u;
    })).length ? gn(a, "class", s.join(" ")) : bn(a, "class")), 0 === (Nu(i = r) ? i.dom.classList : Eu(i, "class")).length && bn(i, "class")) : n && ku(e, t);
  }

  function G1(e, t, n) {
    try {
      e.getDoc().execCommand(t, !1, String(n));
    } catch (e) {}
  }

  function J1(e, t) {
    e.dom.contentEditable = t ? "true" : "false";
  }

  function Q1(e, t) {
    var n,
        r,
        o = Et.fromDom(e.getBody());
    Y1(o, "mce-content-readonly", t), t ? (e.selection.controlSelection.hideResizeRect(), e._selectionOverrides.hideFakeCaret(), he.from(e.selection.getNode()).each(function (e) {
      e.removeAttribute("data-mce-selected");
    }), J1(o, !(e.readonly = !0)), X(Au(o, '*[contenteditable="true"]'), function (e) {
      gn(e, tw, "true"), J1(e, !1);
    })) : (J1(o, !(e.readonly = !1)), X(Au(o, "*[" + tw + '="true"]'), function (e) {
      bn(e, tw), J1(e, !0);
    }), G1(e, "StyleWithCSS", !1), G1(e, "enableInlineTableEditing", !1), G1(e, "enableObjectResizing", !1), (Td(n = e) || (r = n, md(Ln(Et.fromDom(r.getElement()))).filter(function (e) {
      return !(void 0 !== (t = e.dom.classList) && (t.contains("tox-edit-area") || t.contains("tox-edit-area__iframe") || t.contains("mce-content-body"))) && Ed(r, e.dom);
      var t;
    }).isSome())) && e.focus(), e.selection.setRng(e.selection.getRng()), e.nodeChanged());
  }

  function Z1(e) {
    return e.readonly;
  }

  function ew(t) {
    t.parser.addAttributeFilter("contenteditable", function (e) {
      Z1(t) && X(e, function (e) {
        e.attr(tw, e.attr("contenteditable")), e.attr("contenteditable", "false");
      });
    }), t.serializer.addAttributeFilter(tw, function (e) {
      Z1(t) && X(e, function (e) {
        e.attr("contenteditable", e.attr(tw));
      });
    }), t.serializer.addTempAttr(tw);
  }

  var tw = "data-mce-contenteditable",
      nw = St.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel", " "),
      rw = (ow.isNative = function (e) {
    return !!nw[e.toLowerCase()];
  }, ow.prototype.fire = function (e, t) {
    var n = e.toLowerCase(),
        r = bo(n, t || {}, this.scope);
    this.settings.beforeFire && this.settings.beforeFire(r);
    var o = this.bindings[n];
    if (o) for (var i = 0, a = o.length; i < a; i++) {
      var u = o[i];

      if (!u.removed) {
        if (u.once && this.off(n, u.func), r.isImmediatePropagationStopped()) return r;
        if (!1 === u.func.call(this.scope, r)) return r.preventDefault(), r;
      }
    }
    return r;
  }, ow.prototype.on = function (e, t, n, r) {
    if (t = !1 === t ? T : t) {
      var o = {
        func: t,
        removed: !1
      };
      r && St.extend(o, r);

      for (var i = e.toLowerCase().split(" "), a = i.length; a--;) {
        var u = i[a],
            s = this.bindings[u];
        s || (s = [], this.toggleEvent(u, !0)), s = n ? _e([o], s) : _e(_e([], s), [o]), this.bindings[u] = s;
      }
    }

    return this;
  }, ow.prototype.off = function (e, t) {
    var n = this;
    if (e) for (var r = e.toLowerCase().split(" "), o = r.length; o--;) {
      var i,
          a = r[o],
          u = this.bindings[a];
      if (!a) return Q(this.bindings, function (e, t) {
        n.toggleEvent(t, !1), delete n.bindings[t];
      }), this;
      u && (t ? (u = (i = O(u, function (e) {
        return e.func === t;
      })).fail, this.bindings[a] = u, X(i.pass, function (e) {
        e.removed = !0;
      })) : u.length = 0, u.length || (this.toggleEvent(e, !1), delete this.bindings[a]));
    } else Q(this.bindings, function (e, t) {
      n.toggleEvent(t, !1);
    }), this.bindings = {};
    return this;
  }, ow.prototype.once = function (e, t, n) {
    return this.on(e, t, n, {
      once: !0
    });
  }, ow.prototype.has = function (e) {
    return e = e.toLowerCase(), !(!this.bindings[e] || 0 === this.bindings[e].length);
  }, ow);

  function ow(e) {
    this.bindings = {}, this.settings = e || {}, this.scope = this.settings.scope || this, this.toggleEvent = this.settings.toggleEvent || T;
  }

  function iw(n) {
    return n._eventDispatcher || (n._eventDispatcher = new rw({
      scope: n,
      toggleEvent: function toggleEvent(e, t) {
        rw.isNative(e) && n.toggleNativeEvent && n.toggleNativeEvent(e, t);
      }
    })), n._eventDispatcher;
  }

  function aw(e, t) {
    if ("selectionchange" === t) return e.getDoc();
    if (!e.inline && /^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t)) return e.getDoc().documentElement;
    var n = qs(e);
    return n ? (e.eventRoot || (e.eventRoot = mw.select(n)[0]), e.eventRoot) : e.getBody();
  }

  function uw(e, t, n) {
    var r, o, i, a;
    e.hidden || Z1(e) ? Z1(e) && (r = e, "click" !== (o = n).type || $f.metaKeyPressed(o) || (i = Et.fromDom(o.target), a = r, Cr(i, "a", function (e) {
      return je(e, Et.fromDom(a.getBody()));
    }).bind(function (e) {
      return vn(e, "href");
    }).each(function (e) {
      var t, n;
      o.preventDefault(), /^#/.test(e) ? (t = r.dom.select(e + ',[name="' + (Ye(n = e, "#") ? n.substring("#".length) : n) + '"]')).length && r.selection.scrollIntoView(t[0], !0) : window.open(e, "_blank", "rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes");
    }))) : e.fire(t, n);
  }

  function sw(i, a) {
    var e, t;
    i.delegates || (i.delegates = {}), i.delegates[a] || i.removed || (t = aw(i, a), qs(i) ? (fw || (fw = {}, i.editorManager.on("removeEditor", function () {
      i.editorManager.activeEditor || fw && (Q(fw, function (e, t) {
        i.dom.unbind(aw(i, t));
      }), fw = null);
    })), fw[a] || (fw[a] = e = function e(_e3) {
      for (var t = _e3.target, n = i.editorManager.get(), r = n.length; r--;) {
        var o = n[r].getBody();
        o !== t && !mw.isChildOf(t, o) || uw(n[r], a, _e3);
      }
    }, mw.bind(t, a, e))) : (mw.bind(t, a, e = function e(_e4) {
      uw(i, a, _e4);
    }), i.delegates[a] = e));
  }

  function cw(e, t, n, r) {
    var o = n[t.get()],
        i = n[r];

    try {
      i.activate();
    } catch (e) {
      return void console.error("problem while activating editor mode " + r + ":", e);
    }

    o.deactivate(), o.editorReadOnly !== i.editorReadOnly && Q1(e, i.editorReadOnly), t.set(r), e.fire("SwitchMode", {
      mode: r
    });
  }

  function lw(e) {
    var t,
        n = {};
    hw(vw(e.toLowerCase(), "+"), function (e) {
      e in yw ? n[e] = !0 : /^[0-9]{2,}$/.test(e) ? n.keyCode = parseInt(e, 10) : (n.charCode = e.charCodeAt(0), n.keyCode = bw[e] || e.toUpperCase().charCodeAt(0));
    });
    var r = [n.keyCode];

    for (t in yw) {
      n[t] ? r.push(t) : n[t] = !1;
    }

    return n.id = r.join(","), n.access && (n.alt = !0, Ct.mac ? n.ctrl = !0 : n.shift = !0), n.meta && (Ct.mac ? n.meta = !0 : (n.ctrl = !0, n.meta = !1)), n;
  }

  var fw,
      dw = {
    fire: function fire(e, t, n) {
      if (this.removed && "remove" !== e && "detach" !== e) return t;
      var r = iw(this).fire(e, t);
      if (!1 !== n && this.parent) for (var o = this.parent(); o && !r.isPropagationStopped();) {
        o.fire(e, r, !1), o = o.parent();
      }
      return r;
    },
    on: function on(e, t, n) {
      return iw(this).on(e, t, n);
    },
    off: function off(e, t) {
      return iw(this).off(e, t);
    },
    once: function once(e, t) {
      return iw(this).once(e, t);
    },
    hasEventListeners: function hasEventListeners(e) {
      return iw(this).has(e);
    }
  },
      mw = cu.DOM,
      gw = _ke(_ke({}, dw), {
    bindPendingEventDelegates: function bindPendingEventDelegates() {
      var t = this;
      St.each(t._pendingNativeEvents, function (e) {
        sw(t, e);
      });
    },
    toggleNativeEvent: function toggleNativeEvent(e, t) {
      var n = this;
      "focus" !== e && "blur" !== e && (n.removed || (t ? n.initialized ? sw(n, e) : n._pendingNativeEvents ? n._pendingNativeEvents.push(e) : n._pendingNativeEvents = [e] : n.initialized && (n.dom.unbind(aw(n, e), e, n.delegates[e]), delete n.delegates[e])));
    },
    unbindAllNativeEvents: function unbindAllNativeEvents() {
      var n = this,
          e = n.getBody(),
          t = n.dom;
      n.delegates && (Q(n.delegates, function (e, t) {
        n.dom.unbind(aw(n, t), t, e);
      }), delete n.delegates), !n.inline && e && t && (e.onload = null, t.unbind(n.getWin()), t.unbind(n.getDoc())), t && (t.unbind(e), t.unbind(n.getContainer()));
    }
  }),
      pw = ["design", "readonly"],
      hw = St.each,
      vw = St.explode,
      bw = {
    f1: 112,
    f2: 113,
    f3: 114,
    f4: 115,
    f5: 116,
    f6: 117,
    f7: 118,
    f8: 119,
    f9: 120,
    f10: 121,
    f11: 122,
    f12: 123
  },
      yw = St.makeMap("alt,ctrl,shift,meta,access"),
      Cw = (ww.prototype.add = function (e, n, t, r) {
    var o = this,
        i = o.normalizeCommandFunc(t);
    return hw(vw(St.trim(e)), function (e) {
      var t = o.createShortcut(e, n, i, r);
      o.shortcuts[t.id] = t;
    }), !0;
  }, ww.prototype.remove = function (e) {
    var t = this.createShortcut(e);
    return !!this.shortcuts[t.id] && (delete this.shortcuts[t.id], !0);
  }, ww.prototype.normalizeCommandFunc = function (e) {
    var t = this,
        n = e;
    return "string" == typeof n ? function () {
      t.editor.execCommand(n, !1, null);
    } : St.isArray(n) ? function () {
      t.editor.execCommand(n[0], n[1], n[2]);
    } : n;
  }, ww.prototype.createShortcut = function (e, t, n, r) {
    var o = St.map(vw(e, ">"), lw);
    return o[o.length - 1] = St.extend(o[o.length - 1], {
      func: n,
      scope: r || this.editor
    }), St.extend(o[0], {
      desc: this.editor.translate(t),
      subpatterns: o.slice(1)
    });
  }, ww.prototype.hasModifier = function (e) {
    return e.altKey || e.ctrlKey || e.metaKey;
  }, ww.prototype.isFunctionKey = function (e) {
    return "keydown" === e.type && 112 <= e.keyCode && e.keyCode <= 123;
  }, ww.prototype.matchShortcut = function (e, t) {
    return !!t && t.ctrl === e.ctrlKey && t.meta === e.metaKey && t.alt === e.altKey && t.shift === e.shiftKey && !!(e.keyCode === t.keyCode || e.charCode && e.charCode === t.charCode) && (e.preventDefault(), !0);
  }, ww.prototype.executeShortcutAction = function (e) {
    return e.func ? e.func.call(e.scope) : null;
  }, ww);

  function ww(e) {
    this.shortcuts = {}, this.pendingPatterns = [], this.editor = e;
    var n = this;
    e.on("keyup keypress keydown", function (t) {
      !n.hasModifier(t) && !n.isFunctionKey(t) || t.isDefaultPrevented() || (hw(n.shortcuts, function (e) {
        if (n.matchShortcut(t, e)) return n.pendingPatterns = e.subpatterns.slice(0), "keydown" === t.type && n.executeShortcutAction(e), !0;
      }), n.matchShortcut(t, n.pendingPatterns[0]) && (1 === n.pendingPatterns.length && "keydown" === t.type && n.executeShortcutAction(n.pendingPatterns[0]), n.pendingPatterns.shift()));
    });
  }

  var xw = St.each,
      Sw = St.trim,
      Ew = "source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),
      Nw = {
    ftp: 21,
    http: 80,
    https: 443,
    mailto: 25
  },
      kw = (_w.parseDataUri = function (e) {
    var t,
        n = decodeURIComponent(e).split(","),
        r = /data:([^;]+)/.exec(n[0]);
    return {
      type: t = r ? r[1] : t,
      data: n[1]
    };
  }, _w.getDocumentBaseUrl = function (e) {
    var t = 0 !== e.protocol.indexOf("http") && "file:" !== e.protocol ? e.href : e.protocol + "//" + e.host + e.pathname;
    return /^[^:]+:\/\/\/?[^\/]+\//.test(t) && (t = t.replace(/[\?#].*$/, "").replace(/[\/\\][^\/]+$/, ""), /[\/\\]$/.test(t) || (t += "/")), t;
  }, _w.prototype.setPath = function (e) {
    var t = /^(.*?)\/?(\w+)?$/.exec(e);
    this.path = t[0], this.directory = t[1], this.file = t[2], this.source = "", this.getURI();
  }, _w.prototype.toRelative = function (e) {
    var t;
    if ("./" === e) return e;
    var n = new _w(e, {
      base_uri: this
    });
    if ("mce_host" !== n.host && this.host !== n.host && n.host || this.port !== n.port || this.protocol !== n.protocol && "" !== n.protocol) return n.getURI();
    var r = this.getURI(),
        o = n.getURI();
    return r === o || "/" === r.charAt(r.length - 1) && r.substr(0, r.length - 1) === o ? r : (t = this.toRelPath(this.path, n.path), n.query && (t += "?" + n.query), n.anchor && (t += "#" + n.anchor), t);
  }, _w.prototype.toAbsolute = function (e, t) {
    var n = new _w(e, {
      base_uri: this
    });
    return n.getURI(t && this.isSameOrigin(n));
  }, _w.prototype.isSameOrigin = function (e) {
    if (this.host == e.host && this.protocol == e.protocol) {
      if (this.port == e.port) return !0;
      var t = Nw[this.protocol];
      if (t && (this.port || t) == (e.port || t)) return !0;
    }

    return !1;
  }, _w.prototype.toRelPath = function (e, t) {
    var n,
        r,
        o = 0,
        i = "",
        a = e.substring(0, e.lastIndexOf("/")).split("/"),
        u = t.split("/");
    if (a.length >= u.length) for (n = 0, r = a.length; n < r; n++) {
      if (n >= u.length || a[n] !== u[n]) {
        o = n + 1;
        break;
      }
    }
    if (a.length < u.length) for (n = 0, r = u.length; n < r; n++) {
      if (n >= a.length || a[n] !== u[n]) {
        o = n + 1;
        break;
      }
    }
    if (1 === o) return t;

    for (n = 0, r = a.length - (o - 1); n < r; n++) {
      i += "../";
    }

    for (n = o - 1, r = u.length; n < r; n++) {
      i += n !== o - 1 ? "/" + u[n] : u[n];
    }

    return i;
  }, _w.prototype.toAbsPath = function (e, t) {
    var n,
        r,
        o = 0,
        i = [],
        a = /\/$/.test(t) ? "/" : "",
        u = e.split("/"),
        s = t.split("/");

    for (xw(u, function (e) {
      e && i.push(e);
    }), u = i, n = s.length - 1, i = []; 0 <= n; n--) {
      0 !== s[n].length && "." !== s[n] && (".." !== s[n] ? 0 < o ? o-- : i.push(s[n]) : o++);
    }

    return 0 !== (r = (n = u.length - o) <= 0 ? H(i).join("/") : u.slice(0, n).join("/") + "/" + H(i).join("/")).indexOf("/") && (r = "/" + r), a && r.lastIndexOf("/") !== r.length - 1 && (r += a), r;
  }, _w.prototype.getURI = function (e) {
    var t;
    return void 0 === e && (e = !1), this.source && !e || (t = "", e || (this.protocol ? t += this.protocol + "://" : t += "//", this.userInfo && (t += this.userInfo + "@"), this.host && (t += this.host), this.port && (t += ":" + this.port)), this.path && (t += this.path), this.query && (t += "?" + this.query), this.anchor && (t += "#" + this.anchor), this.source = t), this.source;
  }, _w);

  function _w(e, t) {
    e = Sw(e), this.settings = t || {};
    var n,
        r,
        o,
        i,
        a = this.settings.base_uri,
        u = this;
    /^([\w\-]+):([^\/]{2})/i.test(e) || /^\s*#/.test(e) ? u.source = e : (n = 0 === e.indexOf("//"), 0 !== e.indexOf("/") || n || (e = (a && a.protocol || "http") + "://mce_host" + e), /^[\w\-]*:?\/\//.test(e) || (r = this.settings.base_uri ? this.settings.base_uri.path : new _w(document.location.href).directory, e = this.settings.base_uri && "" == this.settings.base_uri.protocol ? "//mce_host" + u.toAbsPath(r, e) : (o = /([^#?]*)([#?]?.*)/.exec(e), (a && a.protocol || "http") + "://mce_host" + u.toAbsPath(r, o[1]) + o[2])), e = e.replace(/@@/g, "(mce_at)"), i = /^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e), xw(Ew, function (e, t) {
      var n = (n = i[t]) && n.replace(/\(mce_at\)/g, "@@");
      u[e] = n;
    }), a && (u.protocol || (u.protocol = a.protocol), u.userInfo || (u.userInfo = a.userInfo), u.port || "mce_host" !== u.host || (u.port = a.port), u.host && "mce_host" !== u.host || (u.host = a.host), u.source = ""), n && (u.protocol = ""));
  }

  var Aw = cu.DOM,
      Tw = St.extend,
      Rw = St.each,
      Dw = St.resolve,
      Ow = Ct.ie,
      Bw = (Pw.prototype.render = function () {
    !function (t) {
      var e = t.id;
      yu.setCode(zs(t));

      var n,
          r,
          o,
          i,
          a = function a() {
        z1.unbind(window, "ready", a), t.render();
      };

      bi.Event.domLoaded ? t.getElement() && Ct.contentEditable && (n = Et.fromDom(t.getElement()), r = P(n.dom.attributes, function (e, t) {
        return e[t.name] = t.value, e;
      }, {}), t.on("remove", function () {
        D(n.dom.attributes, function (e) {
          return bn(n, e.name), 0;
        }), pn(n, r);
      }), t.ui.styleSheetLoader = zr.forElement(n, {
        contentCssCors: (o = t).getParam("content_css_cors"),
        referrerPolicy: Us(o)
      }), t.getParam("inline") ? t.inline = !0 : (t.orgVisibility = t.getElement().style.visibility, t.getElement().style.visibility = "hidden"), (i = t.getElement().form || z1.getParent(e, "form")) && (t.formElement = i, t.getParam("hidden_input") && !Vn(t.getElement()) && (z1.insertAfter(z1.create("input", {
        type: "hidden",
        name: e
      }), e), t.hasHiddenInput = !0), t.formEventDelegate = function (e) {
        t.fire(e.type, e);
      }, z1.bind(i, "submit reset", t.formEventDelegate), t.on("reset", function () {
        t.resetContent();
      }), !t.getParam("submit_patch") || i.submit.nodeType || i.submit.length || i._mceOldSubmit || (i._mceOldSubmit = i.submit, i.submit = function () {
        return t.editorManager.triggerSave(), t.setDirty(!1), i._mceOldSubmit(i);
      })), t.windowManager = Lv(t), t.notificationManager = fv(t), "xml" === t.getParam("encoding") && t.on("GetContent", function (e) {
        e.save && (e.content = z1.encode(e.content));
      }), t.getParam("add_form_submit_trigger") && t.on("submit", function () {
        t.initialized && t.save();
      }), t.getParam("add_unload_trigger") && (t._beforeUnload = function () {
        !t.initialized || t.destroyed || t.isHidden() || t.save({
          format: "raw",
          no_events: !0,
          set_dirty: !1
        });
      }, t.editorManager.on("BeforeUnload", t._beforeUnload)), t.editorManager.add(t), k1(t, t.suffix)) : z1.bind(window, "ready", a);
    }(this);
  }, Pw.prototype.focus = function (e) {
    this.execCommand("mceFocus", !1, e);
  }, Pw.prototype.hasFocus = function () {
    return Td(this);
  }, Pw.prototype.execCallback = function (e) {
    for (var t = [], n = 1; n < arguments.length; n++) {
      t[n - 1] = arguments[n];
    }

    var r,
        o = this.settings[e];
    if (o) return this.callbackLookup && (r = this.callbackLookup[e]) && (o = r.func, r = r.scope), "string" == typeof o && (r = (r = o.replace(/\.\w+$/, "")) ? Dw(r) : 0, o = Dw(o), this.callbackLookup = this.callbackLookup || {}, this.callbackLookup[e] = {
      func: o,
      scope: r
    }), o.apply(r || this, t);
  }, Pw.prototype.translate = function (e) {
    return yu.translate(e);
  }, Pw.prototype.getParam = function (e, t, n) {
    return i = t, a = n, l = (o = e) in (r = this).settings ? r.settings[o] : i, "hash" === a ? (c = {}, "string" == typeof (s = l) ? X(0 < s.indexOf("=") ? s.split(/[;,](?![^=;,]*(?:[;,]|$))/) : s.split(","), function (e) {
      var t = e.split("=");
      1 < t.length ? c[St.trim(t[0])] = St.trim(t[1]) : c[St.trim(t[0])] = St.trim(t[0]);
    }) : c = s, c) : "string" === a ? uv(K, r, o).getOr(i) : "number" === a ? uv(E, r, o).getOr(i) : "boolean" === a ? uv(v, r, o).getOr(i) : "object" === a ? uv(h, r, o).getOr(i) : "array" === a ? uv(S, r, o).getOr(i) : "string[]" === a ? uv((u = K, function (e) {
      return S(e) && j(e, u);
    }), r, o).getOr(i) : "function" === a ? uv(y, r, o).getOr(i) : l;
    var r, o, i, a, u, s, c, l;
  }, Pw.prototype.hasPlugin = function (e, t) {
    return !(!ie(Ks(this).split(/[ ,]/), e) || t && void 0 === Bv.get(e));
  }, Pw.prototype.nodeChanged = function (e) {
    this._nodeChangeDispatcher.nodeChanged(e);
  }, Pw.prototype.addCommand = function (e, t, n) {
    this.editorCommands.addCommand(e, t, n);
  }, Pw.prototype.addQueryStateHandler = function (e, t, n) {
    this.editorCommands.addQueryStateHandler(e, t, n);
  }, Pw.prototype.addQueryValueHandler = function (e, t, n) {
    this.editorCommands.addQueryValueHandler(e, t, n);
  }, Pw.prototype.addShortcut = function (e, t, n, r) {
    this.shortcuts.add(e, t, n, r);
  }, Pw.prototype.execCommand = function (e, t, n, r) {
    return this.editorCommands.execCommand(e, t, n, r);
  }, Pw.prototype.queryCommandState = function (e) {
    return this.editorCommands.queryCommandState(e);
  }, Pw.prototype.queryCommandValue = function (e) {
    return this.editorCommands.queryCommandValue(e);
  }, Pw.prototype.queryCommandSupported = function (e) {
    return this.editorCommands.queryCommandSupported(e);
  }, Pw.prototype.show = function () {
    this.hidden && (this.hidden = !1, this.inline ? this.getBody().contentEditable = "true" : (Aw.show(this.getContainer()), Aw.hide(this.id)), this.load(), this.fire("show"));
  }, Pw.prototype.hide = function () {
    var e = this,
        t = e.getDoc();
    e.hidden || (Ow && t && !e.inline && t.execCommand("SelectAll"), e.save(), e.inline ? (e.getBody().contentEditable = "false", e === e.editorManager.focusedEditor && (e.editorManager.focusedEditor = null)) : (Aw.hide(e.getContainer()), Aw.setStyle(e.id, "display", e.orgDisplay)), e.hidden = !0, e.fire("hide"));
  }, Pw.prototype.isHidden = function () {
    return !!this.hidden;
  }, Pw.prototype.setProgressState = function (e, t) {
    this.fire("ProgressState", {
      state: e,
      time: t
    });
  }, Pw.prototype.load = function (e) {
    var t = this.getElement();
    if (this.removed) return "";

    if (t) {
      (e = e || {}).load = !0;
      var n = Vn(t) ? t.value : t.innerHTML,
          r = this.setContent(n, e);
      return e.element = t, e.no_events || this.fire("LoadContent", e), e.element = t = null, r;
    }
  }, Pw.prototype.save = function (e) {
    var t,
        n,
        r = this,
        o = r.getElement();
    if (o && r.initialized && !r.removed) return (e = e || {}).save = !0, e.element = o, e.content = r.getContent(e), e.no_events || r.fire("SaveContent", e), "raw" === e.format && r.fire("RawSaveContent", e), t = e.content, Vn(o) ? o.value = t : (!e.is_removing && r.inline || (o.innerHTML = t), (n = Aw.getParent(r.id, "form")) && Rw(n.elements, function (e) {
      if (e.name === r.id) return e.value = t, !1;
    })), e.element = o = null, !1 !== e.set_dirty && r.setDirty(!1), t;
  }, Pw.prototype.setContent = function (e, t) {
    return ev(this, e, t);
  }, Pw.prototype.getContent = function (e) {
    return t = this, r = (n = void 0 === (n = e) ? {} : n).format || "html", o = n, Ch(t).editor.getContent(o, r);
    var t, n, r, o;
  }, Pw.prototype.insertContent = function (e, t) {
    t && (e = Tw({
      content: e
    }, t)), this.execCommand("mceInsertContent", !1, e);
  }, Pw.prototype.resetContent = function (e) {
    void 0 === e ? ev(this, this.startContent, {
      format: "raw"
    }) : ev(this, e), this.undoManager.reset(), this.setDirty(!1), this.nodeChanged();
  }, Pw.prototype.isDirty = function () {
    return !this.isNotDirty;
  }, Pw.prototype.setDirty = function (e) {
    var t = !this.isNotDirty;
    this.isNotDirty = !e, e && e !== t && this.fire("dirty");
  }, Pw.prototype.getContainer = function () {
    return this.container || (this.container = Aw.get(this.editorContainer || this.id + "_parent")), this.container;
  }, Pw.prototype.getContentAreaContainer = function () {
    return this.contentAreaContainer;
  }, Pw.prototype.getElement = function () {
    return this.targetElm || (this.targetElm = Aw.get(this.id)), this.targetElm;
  }, Pw.prototype.getWin = function () {
    var e;
    return this.contentWindow || (e = this.iframeElement) && (this.contentWindow = e.contentWindow), this.contentWindow;
  }, Pw.prototype.getDoc = function () {
    var e;
    return this.contentDocument || (e = this.getWin()) && (this.contentDocument = e.document), this.contentDocument;
  }, Pw.prototype.getBody = function () {
    var e = this.getDoc();
    return this.bodyElement || (e ? e.body : null);
  }, Pw.prototype.convertURL = function (e, t, n) {
    var r = this.settings;
    return r.urlconverter_callback ? this.execCallback("urlconverter_callback", e, n, !0, t) : !r.convert_urls || n && "LINK" === n.nodeName || 0 === e.indexOf("file:") || 0 === e.length ? e : r.relative_urls ? this.documentBaseURI.toRelative(e) : this.documentBaseURI.toAbsolute(e, r.remove_script_host);
  }, Pw.prototype.addVisual = function (e) {
    var t;
    t = e, wh(this).editor.addVisual(t);
  }, Pw.prototype.remove = function () {
    var e, t, n, r, o;
    (e = this).removed || (t = e._selectionOverrides, n = e.editorUpload, r = e.getBody(), o = e.getElement(), r && e.save({
      is_removing: !0
    }), e.removed = !0, e.unbindAllNativeEvents(), e.hasHiddenInput && o && Cv.remove(o.nextSibling), e.fire("remove"), e.editorManager.remove(e), !e.inline && r && Cv.setStyle(e.id, "display", e.orgDisplay), e.fire("detach"), Cv.remove(e.getContainer()), tv(t), tv(n), e.destroy());
  }, Pw.prototype.destroy = function (e) {
    var t, n, r, o, i, a, u;
    n = e, a = (t = this).selection, u = t.dom, t.destroyed || (n || t.removed ? (n || (t.editorManager.off("beforeunload", t._beforeUnload), t.theme && t.theme.destroy && t.theme.destroy(), tv(a), tv(u)), (o = (r = t).formElement) && (o._mceOldSubmit && (o.submit = o._mceOldSubmit, o._mceOldSubmit = null), Cv.unbind(o, "submit reset", r.formEventDelegate)), (i = t).contentAreaContainer = i.formElement = i.container = i.editorContainer = null, i.bodyElement = i.contentDocument = i.contentWindow = null, i.iframeElement = i.targetElm = null, i.selection && (i.selection = i.selection.win = i.selection.dom = i.selection.dom.doc = null), t.destroyed = !0) : t.remove());
  }, Pw.prototype.uploadImages = function (e) {
    return this.editorUpload.uploadImages(e);
  }, Pw.prototype._scanForImages = function () {
    return this.editorUpload.scanForImages();
  }, Pw.prototype.addButton = function () {
    throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead");
  }, Pw.prototype.addSidebar = function () {
    throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead");
  }, Pw.prototype.addMenuItem = function () {
    throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead");
  }, Pw.prototype.addContextToolbar = function () {
    throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead");
  }, Pw);

  function Pw(e, t, n) {
    var r,
        o,
        i,
        a,
        u,
        s,
        c,
        l,
        f,
        d,
        m,
        g,
        p,
        h,
        v,
        b,
        y,
        C = this;

    function w(n, r) {
      return function (e, t) {
        return n[e.toLowerCase()] = _ke(_ke({}, t), {
          type: r
        });
      };
    }

    this.plugins = {}, this.contentCSS = [], this.contentStyles = [], this.loadedCSS = {}, this.isNotDirty = !1, this.editorManager = n, this.documentBaseUrl = n.documentBaseURL, Tw(this, gw), this.settings = (d = (f = this).documentBaseUrl, m = n.defaultSettings, p = d, h = Sv, v = f, b = {
      id: e,
      theme: "silver",
      toolbar_mode: ov(g = t, "floating"),
      plugins: "",
      document_base_url: p,
      add_form_submit_trigger: !0,
      submit_patch: !0,
      add_unload_trigger: !0,
      convert_urls: !0,
      relative_urls: !0,
      remove_script_host: !0,
      object_resizing: !0,
      doctype: "<!DOCTYPE html>",
      visual: !0,
      font_size_legacy_values: "xx-small,small,medium,large,x-large,xx-large,300%",
      forced_root_block: "p",
      hidden_input: !0,
      inline_styles: !0,
      convert_fonts_to_spans: !0,
      indent: !0,
      indent_before: "p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",
      indent_after: "p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",
      entity_encoding: "named",
      url_converter: v.convertURL,
      url_converter_scope: v
    }, y = _ke(_ke({}, b), h ? _v : {}), av(Ev || Nv, Ev, y, m, g)), this.settings.suffix && (n.suffix = this.settings.suffix), this.suffix = n.suffix, this.settings.base_url && n._setBaseUrl(this.settings.base_url), this.baseUri = n.baseURI, this.settings.referrer_policy && (mu.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy), cu.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)), Cu.languageLoad = this.settings.language_load, Cu.baseURL = n.baseURL, this.id = e, this.setDirty(!1), this.documentBaseURI = new kw(this.settings.document_base_url, {
      base_uri: this.baseUri
    }), this.baseURI = this.baseUri, this.inline = !!this.settings.inline, this.shortcuts = new Cw(this), this.editorCommands = new K1(this), this.settings.cache_suffix && (Ct.cacheSuffix = this.settings.cache_suffix.replace(/^[\?\&]+/, "")), this.ui = {
      registry: {
        addAutocompleter: (u = {}, (r = {
          addButton: w(o = {}, "button"),
          addGroupToolbarButton: w(o, "grouptoolbarbutton"),
          addToggleButton: w(o, "togglebutton"),
          addMenuButton: w(o, "menubutton"),
          addSplitButton: w(o, "splitbutton"),
          addMenuItem: w(i = {}, "menuitem"),
          addNestedMenuItem: w(i, "nestedmenuitem"),
          addToggleMenuItem: w(i, "togglemenuitem"),
          addAutocompleter: w(a = {}, "autocompleter"),
          addContextMenu: w(s = {}, "contextmenu"),
          addContextToolbar: w(c = {}, "contexttoolbar"),
          addContextForm: w(c, "contextform"),
          addSidebar: w(l = {}, "sidebar"),
          addIcon: function addIcon(e, t) {
            return u[e.toLowerCase()] = t;
          },
          getAll: function getAll() {
            return {
              buttons: o,
              menuItems: i,
              icons: u,
              popups: a,
              contextMenus: s,
              contextToolbars: c,
              sidebars: l
            };
          }
        }).addAutocompleter),
        addButton: r.addButton,
        addContextForm: r.addContextForm,
        addContextMenu: r.addContextMenu,
        addContextToolbar: r.addContextToolbar,
        addIcon: r.addIcon,
        addMenuButton: r.addMenuButton,
        addMenuItem: r.addMenuItem,
        addNestedMenuItem: r.addNestedMenuItem,
        addSidebar: r.addSidebar,
        addSplitButton: r.addSplitButton,
        addToggleButton: r.addToggleButton,
        addGroupToolbarButton: r.addGroupToolbarButton,
        addToggleMenuItem: r.addToggleMenuItem,
        getAll: r.getAll
      },
      styleSheetLoader: void 0,
      show: oe,
      hide: oe,
      enable: oe,
      disable: oe,
      isDisabled: T
    };

    var x,
        S,
        E,
        N,
        k,
        _ = (N = pu("design"), k = pu({
      design: {
        activate: oe,
        deactivate: oe,
        editorReadOnly: !1
      },
      readonly: {
        activate: oe,
        deactivate: oe,
        editorReadOnly: !0
      }
    }), (S = x = this).serializer ? ew(S) : S.on("PreInit", function () {
      ew(S);
    }), (E = x).on("ShowCaret", function (e) {
      Z1(E) && e.preventDefault();
    }), E.on("ObjectSelected", function (e) {
      Z1(E) && e.preventDefault();
    }), {
      isReadOnly: function isReadOnly() {
        return Z1(x);
      },
      set: function set(e) {
        return function (e, t, n, r) {
          if (r !== n.get()) {
            if (!Ee(t, r)) throw new Error("Editor mode '" + r + "' is invalid");
            e.initialized ? cw(e, n, t, r) : e.on("init", function () {
              return cw(e, n, t, r);
            });
          }
        }(x, k.get(), N, e);
      },
      get: function get() {
        return N.get();
      },
      register: function register(e, t) {
        k.set(function (e, t, n) {
          var r;
          if (ie(pw, t)) throw new Error("Cannot override default mode " + t);
          return _ke(_ke({}, e), ((r = {})[t] = _ke(_ke({}, n), {
            deactivate: function deactivate() {
              try {
                n.deactivate();
              } catch (e) {
                console.error("problem while deactivating editor mode " + t + ":", e);
              }
            }
          }), r));
        }(k.get(), e, t));
      }
    });

    this.mode = _, this.setMode = _.set, n.fire("SetupEditor", {
      editor: this
    }), this.execCallback("setup", this), this.$ = ou.overrideDefaults(function () {
      return {
        context: C.inline ? C.getBody() : C.getDoc(),
        element: C.getBody()
      };
    });
  }

  function Lw(t) {
    var n = t.type;
    jw(Xw.get(), function (e) {
      switch (n) {
        case "scroll":
          e.fire("ScrollWindow", t);
          break;

        case "resize":
          e.fire("ResizeWindow", t);
      }
    });
  }

  function Iw(e) {
    e !== qw && (e ? ou(window).on("resize scroll", Lw) : ou(window).off("resize scroll", Lw), qw = e);
  }

  function Mw(t) {
    var e = Ww;
    delete $w[t.id];

    for (var n = 0; n < $w.length; n++) {
      if ($w[n] === t) {
        $w.splice(n, 1);
        break;
      }
    }

    return Ww = U(Ww, function (e) {
      return t !== e;
    }), Xw.activeEditor === t && (Xw.activeEditor = 0 < Ww.length ? Ww[0] : null), Xw.focusedEditor === t && (Xw.focusedEditor = null), e.length !== Ww.length;
  }

  var Fw,
      Uw = cu.DOM,
      zw = St.explode,
      jw = St.each,
      Hw = St.extend,
      Vw = 0,
      qw = !1,
      $w = [],
      Ww = [],
      Kw = "CSS1Compat" !== document.compatMode,
      Xw = _ke(_ke({}, dw), {
    baseURI: null,
    baseURL: null,
    defaultSettings: {},
    documentBaseURL: null,
    suffix: null,
    $: ou,
    majorVersion: "5",
    minorVersion: "9.2",
    releaseDate: "2021-09-08",
    editors: $w,
    i18n: yu,
    activeEditor: null,
    focusedEditor: null,
    settings: {},
    setup: function setup() {
      var e,
          t = "",
          n = kw.getDocumentBaseUrl(document.location);
      /^[^:]+:\/\/\/?[^\/]+\//.test(n) && (n = n.replace(/[\?#].*$/, "").replace(/[\/\\][^\/]+$/, ""), /[\/\\]$/.test(n) || (n += "/"));
      var r = window.tinymce || window.tinyMCEPreInit;
      if (r) e = r.base || r.baseURL, t = r.suffix;else {
        for (var o, i = document.getElementsByTagName("script"), a = 0; a < i.length; a++) {
          if ("" !== (o = i[a].src || "")) {
            var u = o.substring(o.lastIndexOf("/"));

            if (/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(o)) {
              -1 !== u.indexOf(".min") && (t = ".min"), e = o.substring(0, o.lastIndexOf("/"));
              break;
            }
          }
        }

        !e && document.currentScript && (-1 !== (o = document.currentScript.src).indexOf(".min") && (t = ".min"), e = o.substring(0, o.lastIndexOf("/")));
      }
      this.baseURL = new kw(n).toAbsolute(e), this.documentBaseURL = n, this.baseURI = new kw(this.baseURL), this.suffix = t, this.on("AddEditor", A(Nd, this)), this.on("RemoveEditor", A(kd, this));
    },
    overrideDefaults: function overrideDefaults(e) {
      var t = e.base_url;
      t && this._setBaseUrl(t);
      var n = e.suffix;
      e.suffix && (this.suffix = n);
      var r = (this.defaultSettings = e).plugin_base_urls;
      void 0 !== r && Q(r, function (e, t) {
        Cu.PluginManager.urls[t] = e;
      });
    },
    init: function init(r) {
      function u(e) {
        var t = e.id;
        return t || (t = ae(e, "name").filter(function (e) {
          return !Uw.get(e);
        }).getOrThunk(Uw.uniqueId), e.setAttribute("id", t)), t;
      }

      function s(e, t) {
        return t.constructor === RegExp ? t.test(e.className) : Uw.hasClass(e, t);
      }

      var n,
          c = this,
          l = St.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu", " "),
          f = function f(e) {
        n = e;
      },
          t = function t() {
        function n(e, t, n) {
          var r = new Bw(e, t, c);
          a.push(r), r.on("init", function () {
            ++i === o.length && f(a);
          }), r.targetElm = r.targetElm || n, r.render();
        }

        var o,
            e,
            i = 0,
            a = [];
        Uw.unbind(window, "ready", t), (e = r.onpageload) && e.apply(c, []), o = ou.unique(function (t) {
          var n = [];
          if (Ct.browser.isIE() && Ct.browser.version.major < 11) return uy("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"), [];
          if (Kw) return uy("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."), [];
          if (t.types) return jw(t.types, function (e) {
            n = n.concat(Uw.select(e.selector));
          }), n;
          if (t.selector) return Uw.select(t.selector);
          if (t.target) return [t.target];

          switch (t.mode) {
            case "exact":
              var e = t.elements || "";
              0 < e.length && jw(zw(e), function (t) {
                var e = Uw.get(t);
                e ? n.push(e) : jw(document.forms, function (e) {
                  jw(e.elements, function (e) {
                    e.name === t && (t = "mce_editor_" + Vw++, Uw.setAttrib(e, "id", t), n.push(e));
                  });
                });
              });
              break;

            case "textareas":
            case "specific_textareas":
              jw(Uw.select("textarea"), function (e) {
                t.editor_deselector && s(e, t.editor_deselector) || t.editor_selector && !s(e, t.editor_selector) || n.push(e);
              });
          }

          return n;
        }(r)), r.types ? jw(r.types, function (t) {
          St.each(o, function (e) {
            return !Uw.is(e, t.selector) || (n(u(e), Hw({}, r, t), e), !1);
          });
        }) : (St.each(o, function (e) {
          var t;
          (t = c.get(e.id)) && t.initialized && !(t.getContainer() || t.getBody()).parentNode && (Mw(t), t.unbindAllNativeEvents(), t.destroy(!0), t.removed = !0);
        }), 0 === (o = St.grep(o, function (e) {
          return !c.get(e.id);
        })).length ? f([]) : jw(o, function (e) {
          var t = e;
          r.inline && t.tagName.toLowerCase() in l ? uy("Could not initialize inline editor on invalid inline target element", e) : n(u(e), r, e);
        }));
      };

      return c.settings = r, Uw.bind(window, "ready", t), new _r(function (t) {
        n ? t(n) : f = function f(e) {
          t(e);
        };
      });
    },
    get: function get(t) {
      return 0 === arguments.length ? Ww.slice(0) : K(t) ? I(Ww, function (e) {
        return e.id === t;
      }).getOr(null) : E(t) && Ww[t] || null;
    },
    add: function add(e) {
      var n = this;
      return $w[e.id] === e || (null === n.get(e.id) && ("length" !== e.id && ($w[e.id] = e), $w.push(e), Ww.push(e)), Iw(!0), n.activeEditor = e, n.fire("AddEditor", {
        editor: e
      }), Fw || (Fw = function Fw(e) {
        var t = n.fire("BeforeUnload");
        if (t.returnValue) return e.preventDefault(), e.returnValue = t.returnValue, t.returnValue;
      }, window.addEventListener("beforeunload", Fw))), e;
    },
    createEditor: function createEditor(e, t) {
      return this.add(new Bw(e, t, this));
    },
    remove: function remove(e) {
      var t,
          n,
          r = this;

      if (e) {
        if (!K(e)) return n = e, l(r.get(n.id)) ? null : (Mw(n) && r.fire("RemoveEditor", {
          editor: n
        }), 0 === Ww.length && window.removeEventListener("beforeunload", Fw), n.remove(), Iw(0 < Ww.length), n);
        jw(Uw.select(e), function (e) {
          (n = r.get(e.id)) && r.remove(n);
        });
      } else for (t = Ww.length - 1; 0 <= t; t--) {
        r.remove(Ww[t]);
      }
    },
    execCommand: function execCommand(e, t, n) {
      var r = this.get(n);

      switch (e) {
        case "mceAddEditor":
          return this.get(n) || new Bw(n, this.settings, this).render(), !0;

        case "mceRemoveEditor":
          return r && r.remove(), !0;

        case "mceToggleEditor":
          return r ? r.isHidden() ? r.show() : r.hide() : this.execCommand("mceAddEditor", !1, n), !0;
      }

      return !!this.activeEditor && this.activeEditor.execCommand(e, t, n);
    },
    triggerSave: function triggerSave() {
      jw(Ww, function (e) {
        e.save();
      });
    },
    addI18n: function addI18n(e, t) {
      yu.add(e, t);
    },
    translate: function translate(e) {
      return yu.translate(e);
    },
    setActive: function setActive(e) {
      var t = this.activeEditor;
      this.activeEditor !== e && (t && t.fire("deactivate", {
        relatedTarget: e
      }), e.fire("activate", {
        relatedTarget: t
      })), this.activeEditor = e;
    },
    _setBaseUrl: function _setBaseUrl(e) {
      this.baseURL = new kw(this.documentBaseURL).toAbsolute(e.replace(/\/+$/, "")), this.baseURI = new kw(this.baseURL);
    }
  });

  function Yw(e, t, n) {
    var r = t.x,
        o = t.y,
        i = e.w,
        a = e.h,
        u = t.w,
        s = t.h,
        c = (n || "").split("");
    return "b" === c[0] && (o += s), "r" === c[1] && (r += u), "c" === c[0] && (o += ox(s / 2)), "c" === c[1] && (r += ox(u / 2)), "b" === c[3] && (o -= a), "r" === c[4] && (r -= i), "c" === c[3] && (o -= ox(a / 2)), "c" === c[4] && (r -= ox(i / 2)), Jw(r, o, i, a);
  }

  function Gw() {}

  Xw.setup();

  function Jw(e, t, n, r) {
    return {
      x: e,
      y: t,
      w: n,
      h: r
    };
  }

  var Qw,
      Zw,
      _ex,
      tx,
      nx = Math.min,
      rx = Math.max,
      ox = Math.round,
      ix = {
    inflate: function inflate(e, t, n) {
      return Jw(e.x - t, e.y - n, e.w + 2 * t, e.h + 2 * n);
    },
    relativePosition: Yw,
    findBestRelativePosition: function findBestRelativePosition(e, t, n, r) {
      for (var o, i = 0; i < r.length; i++) {
        if ((o = Yw(e, t, r[i])).x >= n.x && o.x + o.w <= n.w + n.x && o.y >= n.y && o.y + o.h <= n.h + n.y) return r[i];
      }

      return null;
    },
    intersect: function intersect(e, t) {
      var n = rx(e.x, t.x),
          r = rx(e.y, t.y),
          o = nx(e.x + e.w, t.x + t.w),
          i = nx(e.y + e.h, t.y + t.h);
      return o - n < 0 || i - r < 0 ? null : Jw(n, r, o - n, i - r);
    },
    clamp: function clamp(e, t, n) {
      var r = e.x,
          o = e.y,
          i = e.x + e.w,
          a = e.y + e.h,
          u = t.x + t.w,
          s = t.y + t.h,
          c = rx(0, t.x - r),
          l = rx(0, t.y - o),
          f = rx(0, i - u),
          d = rx(0, a - s);
      return r += c, o += l, n && (i += c, a += l, r -= f, o -= d), Jw(r, o, (i -= f) - r, (a -= d) - o);
    },
    create: Jw,
    fromClientRect: function fromClientRect(e) {
      return Jw(e.left, e.top, e.width, e.height);
    }
  },
      ax = (Qw = {}, Zw = {}, {
    load: function load(r, o) {
      var i = 'Script at URL "' + o + '" failed to load',
          a = 'Script at URL "' + o + "\" did not call `tinymce.Resource.add('" + r + "', data)` within 1 second";
      if (void 0 !== Qw[r]) return Qw[r];
      var e = new _r(function (e, t) {
        var n = function (e, t, n) {
          function r(n) {
            return function () {
              for (var e = [], t = 0; t < arguments.length; t++) {
                e[t] = arguments[t];
              }

              o || (o = !0, null !== i && (clearTimeout(i), i = null), n.apply(null, e));
            };
          }

          void 0 === n && (n = 1e3);
          var o = !1,
              i = null,
              a = r(e),
              u = r(t);
          return {
            start: function start() {
              for (var e = [], t = 0; t < arguments.length; t++) {
                e[t] = arguments[t];
              }

              o || null !== i || (i = setTimeout(function () {
                return u.apply(null, e);
              }, n));
            },
            resolve: a,
            reject: u
          };
        }(e, t);

        Zw[r] = n.resolve, mu.ScriptLoader.loadScript(o, function () {
          return n.start(a);
        }, function () {
          return n.reject(i);
        });
      });
      return Qw[r] = e;
    },
    add: function add(e, t) {
      void 0 !== Zw[e] && (Zw[e](t), delete Zw[e]), Qw[e] = _r.resolve(t);
    }
  }),
      ux = St.each,
      sx = St.extend;

  Gw.extend = _ex = function ex(n) {
    function r() {
      var e, t, n;
      if (!tx && (this.init && this.init.apply(this, arguments), t = this.Mixins)) for (e = t.length; e--;) {
        (n = t[e]).init && n.init.apply(this, arguments);
      }
    }

    function t() {
      return this;
    }

    var o = this.prototype;
    tx = !0;
    var i = new this();
    return tx = !1, n.Mixins && (ux(n.Mixins, function (e) {
      for (var t in e) {
        "init" !== t && (n[t] = e[t]);
      }
    }), o.Mixins && (n.Mixins = o.Mixins.concat(n.Mixins))), n.Methods && ux(n.Methods.split(","), function (e) {
      n[e] = t;
    }), n.Properties && ux(n.Properties.split(","), function (e) {
      var t = "_" + e;

      n[e] = function (e) {
        return void 0 !== e ? (this[t] = e, this) : this[t];
      };
    }), n.Statics && ux(n.Statics, function (e, t) {
      r[t] = e;
    }), n.Defaults && o.Defaults && (n.Defaults = sx({}, o.Defaults, n.Defaults)), Q(n, function (e, t) {
      var n, r;
      "function" == typeof e && o[t] ? i[t] = (n = t, r = e, function () {
        var e = this._super;
        this._super = o[n];
        var t = r.apply(this, arguments);
        return this._super = e, t;
      }) : i[t] = e;
    }), r.prototype = i, (r.constructor = r).extend = _ex, r;
  };

  var cx,
      lx,
      fx,
      dx = Math.min,
      mx = Math.max,
      gx = Math.round,
      px = {
    serialize: function serialize(e) {
      var t = JSON.stringify(e);
      return K(t) ? t.replace(/[\u0080-\uFFFF]/g, function (e) {
        var t = e.charCodeAt(0).toString(16);
        return "\\u" + "0000".substring(t.length) + t;
      }) : t;
    },
    parse: function parse(e) {
      try {
        return JSON.parse(e);
      } catch (e) {}
    }
  },
      hx = {
    callbacks: {},
    count: 0,
    send: function send(t) {
      var n = this,
          r = cu.DOM,
          o = (void 0 !== t.count ? t : n).count,
          i = "tinymce_jsonp_" + o;
      n.callbacks[o] = function (e) {
        r.remove(i), delete n.callbacks[o], t.callback(e);
      }, r.add(r.doc.body, "script", {
        id: i,
        src: t.url,
        type: "text/javascript"
      }), n.count++;
    }
  },
      vx = _ke(_ke({}, dw), {
    send: function send(e) {
      var t,
          n = 0,
          r = function r() {
        !e.async || 4 === t.readyState || 1e4 < n++ ? (e.success && n < 1e4 && 200 === t.status ? e.success.call(e.success_scope, "" + t.responseText, t, e) : e.error && e.error.call(e.error_scope, 1e4 < n ? "TIMED_OUT" : "GENERAL", t, e), t = null) : Ur.setTimeout(r, 10);
      };

      if (e.scope = e.scope || this, e.success_scope = e.success_scope || e.scope, e.error_scope = e.error_scope || e.scope, e.async = !1 !== e.async, e.data = e.data || "", vx.fire("beforeInitialize", {
        settings: e
      }), (t = new XMLHttpRequest()).overrideMimeType && t.overrideMimeType(e.content_type), t.open(e.type || (e.data ? "POST" : "GET"), e.url, e.async), e.crossDomain && (t.withCredentials = !0), e.content_type && t.setRequestHeader("Content-Type", e.content_type), e.requestheaders && St.each(e.requestheaders, function (e) {
        t.setRequestHeader(e.key, e.value);
      }), t.setRequestHeader("X-Requested-With", "XMLHttpRequest"), (t = vx.fire("beforeSend", {
        xhr: t,
        settings: e
      }).xhr).send(e.data), !e.async) return r();
      Ur.setTimeout(r, 10);
    }
  }),
      bx = St.extend,
      yx = (Cx.sendRPC = function (e) {
    return new Cx().send(e);
  }, Cx.prototype.send = function (e) {
    var n = e.error,
        r = e.success,
        o = bx(this.settings, e);
    o.success = function (e, t) {
      (e = void 0 === (e = px.parse(e)) ? {
        error: "JSON Parse error."
      } : e).error ? n.call(o.error_scope || o.scope, e.error, t) : r.call(o.success_scope || o.scope, e.result);
    }, o.error = function (e, t) {
      n && n.call(o.error_scope || o.scope, e, t);
    }, o.data = px.serialize({
      id: e.id || "c" + this.count++,
      method: e.method,
      params: e.params
    }), o.content_type = "application/json", vx.send(o);
  }, Cx);

  function Cx(e) {
    this.settings = bx({}, e), this.count = 0;
  }

  try {
    var wx,
        xx = "__storage_test__";
    (wx = window.localStorage).setItem(xx, xx), wx.removeItem(xx);
  } catch (e) {
    cx = {}, lx = [], fx = {
      getItem: function getItem(e) {
        return cx[e] || null;
      },
      setItem: function setItem(e, t) {
        lx.push(e), cx[e] = String(t);
      },
      key: function key(e) {
        return lx[e];
      },
      removeItem: function removeItem(t) {
        lx = lx.filter(function (e) {
          return e === t;
        }), delete cx[t];
      },
      clear: function clear() {
        lx = [], cx = {};
      },
      length: 0
    }, Object.defineProperty(fx, "length", {
      get: function get() {
        return lx.length;
      },
      configurable: !1,
      enumerable: !1
    }), wx = fx;
  }

  var Sx = {
    geom: {
      Rect: ix
    },
    util: {
      Promise: _r,
      Delay: Ur,
      Tools: St,
      VK: $f,
      URI: kw,
      Class: Gw,
      EventDispatcher: rw,
      Observable: dw,
      I18n: yu,
      XHR: vx,
      JSON: px,
      JSONRequest: yx,
      JSONP: hx,
      LocalStorage: wx,
      Color: function Color(e) {
        function t(e) {
          var t;
          return "object" == _typeof(e) ? "r" in e ? (u = e.r, s = e.g, c = e.b) : "v" in e && function (e, t, n) {
            if (e = (parseInt(e, 10) || 0) % 360, t = parseInt(t, 10) / 100, n = parseInt(n, 10) / 100, t = mx(0, dx(t, 1)), n = mx(0, dx(n, 1)), 0 !== t) {
              var r = e / 60,
                  o = n * t,
                  i = o * (1 - Math.abs(r % 2 - 1)),
                  a = n - o;

              switch (Math.floor(r)) {
                case 0:
                  u = o, s = i, c = 0;
                  break;

                case 1:
                  u = i, s = o, c = 0;
                  break;

                case 2:
                  u = 0, s = o, c = i;
                  break;

                case 3:
                  u = 0, s = i, c = o;
                  break;

                case 4:
                  u = i, s = 0, c = o;
                  break;

                case 5:
                  u = o, s = 0, c = i;
                  break;

                default:
                  u = s = c = 0;
              }

              u = gx(255 * (u + a)), s = gx(255 * (s + a)), c = gx(255 * (c + a));
            } else u = s = c = gx(255 * n);
          }(e.h, e.s, e.v) : (t = /rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(e)) ? (u = parseInt(t[1], 10), s = parseInt(t[2], 10), c = parseInt(t[3], 10)) : (t = /#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(e)) ? (u = parseInt(t[1], 16), s = parseInt(t[2], 16), c = parseInt(t[3], 16)) : (t = /#([0-F])([0-F])([0-F])/gi.exec(e)) && (u = parseInt(t[1] + t[1], 16), s = parseInt(t[2] + t[2], 16), c = parseInt(t[3] + t[3], 16)), u = u < 0 ? 0 : 255 < u ? 255 : u, s = s < 0 ? 0 : 255 < s ? 255 : s, c = c < 0 ? 0 : 255 < c ? 255 : c, n;
        }

        var n = {},
            u = 0,
            s = 0,
            c = 0;
        return e && t(e), n.toRgb = function () {
          return {
            r: u,
            g: s,
            b: c
          };
        }, n.toHsv = function () {
          return e = u, t = s, n = c, o = 0, (i = dx(e /= 255, dx(t /= 255, n /= 255))) === (a = mx(e, mx(t, n))) ? {
            h: 0,
            s: 0,
            v: 100 * (o = i)
          } : (r = (a - i) / a, {
            h: gx(60 * ((e === i ? 3 : n === i ? 1 : 5) - (e === i ? t - n : n === i ? e - t : n - e) / ((o = a) - i))),
            s: gx(100 * r),
            v: gx(100 * o)
          });
          var e, t, n, r, o, i, a;
        }, n.toHex = function () {
          function e(e) {
            return 1 < (e = parseInt(e, 10).toString(16)).length ? e : "0" + e;
          }

          return "#" + e(u) + e(s) + e(c);
        }, n.parse = t, n;
      },
      ImageUploader: function ImageUploader(n) {
        var e = Hv(),
            r = Kv(n, e);
        return {
          upload: function upload(e, t) {
            return r.upload(e, (t = void 0 === t || t) ? Wv(n) : void 0);
          }
        };
      }
    },
    dom: {
      EventUtils: bi,
      Sizzle: ba,
      DomQuery: ou,
      TreeWalker: jr,
      TextSeeker: Mu,
      DOMUtils: cu,
      ScriptLoader: mu,
      RangeUtils: qf,
      Serializer: Zh,
      StyleSheetLoader: Mr,
      ControlSelection: Of,
      BookmarkManager: Gl,
      Selection: zh,
      Event: bi.Event
    },
    html: {
      Styles: ho,
      Entities: si,
      Node: Jd,
      Schema: go,
      SaxParser: tm,
      DomParser: Gh,
      Writer: um,
      Serializer: sm
    },
    Env: Ct,
    AddOnManager: Cu,
    Annotator: Yl,
    Formatter: Qv,
    UndoManager: eb,
    EditorCommands: K1,
    WindowManager: Lv,
    NotificationManager: fv,
    EditorObservable: gw,
    Shortcuts: Cw,
    Editor: Bw,
    FocusManager: Kd,
    EditorManager: Xw,
    DOM: cu.DOM,
    ScriptLoader: mu.ScriptLoader,
    PluginManager: Bv,
    ThemeManager: Pv,
    IconManager: Av,
    Resource: ax,
    trim: St.trim,
    isArray: St.isArray,
    is: St.is,
    toArray: St.toArray,
    makeMap: St.makeMap,
    each: St.each,
    map: St.map,
    grep: St.grep,
    inArray: St.inArray,
    extend: St.extend,
    create: St.create,
    walk: St.walk,
    createNS: St.createNS,
    resolve: St.resolve,
    explode: St.explode,
    _addCacheSuffix: St._addCacheSuffix,
    isOpera: Ct.opera,
    isWebKit: Ct.webkit,
    isIE: Ct.ie,
    isGecko: Ct.gecko,
    isMac: Ct.mac
  },
      Ex = St.extend(Xw, Sx),
      Nx = Ex;
  window.tinymce = Nx, window.tinyMCE = Nx, function (e) {
    if ("object" == ( false ? 0 : _typeof(module))) try {
      module.exports = e;
    } catch (e) {}
  }(Ex);
}();

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			loaded: false,
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/node module decorator */
/******/ 	(() => {
/******/ 		__webpack_require__.nmd = (module) => {
/******/ 			module.paths = [];
/******/ 			if (!module.children) module.children = [];
/******/ 			return module;
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be in strict mode.
(() => {
"use strict";
/*!************************************************************!*\
  !*** ./packages/roniejisa/comment/resources/js/tinymce.js ***!
  \************************************************************/
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _scripts_assets_plugins_tinymce_tinymce_min__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../scripts/assets/plugins/tinymce/tinymce.min */ "./packages/roniejisa/scripts/assets/plugins/tinymce/tinymce.min.js");
/* harmony import */ var _scripts_assets_plugins_tinymce_tinymce_min__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_scripts_assets_plugins_tinymce_tinymce_min__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _scripts_assets_plugins_tinymce_themes_silver_theme_min__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../scripts/assets/plugins/tinymce/themes/silver/theme.min */ "./packages/roniejisa/scripts/assets/plugins/tinymce/themes/silver/theme.min.js");
/* harmony import */ var _scripts_assets_plugins_tinymce_themes_silver_theme_min__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_scripts_assets_plugins_tinymce_themes_silver_theme_min__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _scripts_assets_plugins_tinymce_plugins_image_plugin_min__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../scripts/assets/plugins/tinymce/plugins/image/plugin.min */ "./packages/roniejisa/scripts/assets/plugins/tinymce/plugins/image/plugin.min.js");
/* harmony import */ var _scripts_assets_plugins_tinymce_plugins_image_plugin_min__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_scripts_assets_plugins_tinymce_plugins_image_plugin_min__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _scripts_assets_plugins_tinymce_plugins_textcolor_plugin_min__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../scripts/assets/plugins/tinymce/plugins/textcolor/plugin.min */ "./packages/roniejisa/scripts/assets/plugins/tinymce/plugins/textcolor/plugin.min.js");
/* harmony import */ var _scripts_assets_plugins_tinymce_plugins_textcolor_plugin_min__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_scripts_assets_plugins_tinymce_plugins_textcolor_plugin_min__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _scripts_assets_plugins_tinymce_plugins_paste_plugin_min__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../scripts/assets/plugins/tinymce/plugins/paste/plugin.min */ "./packages/roniejisa/scripts/assets/plugins/tinymce/plugins/paste/plugin.min.js");
/* harmony import */ var _scripts_assets_plugins_tinymce_plugins_paste_plugin_min__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_scripts_assets_plugins_tinymce_plugins_paste_plugin_min__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _scripts_assets_plugins_tinymce_plugins_autoresize_plugin_min__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../scripts/assets/plugins/tinymce/plugins/autoresize/plugin.min */ "./packages/roniejisa/scripts/assets/plugins/tinymce/plugins/autoresize/plugin.min.js");
/* harmony import */ var _scripts_assets_plugins_tinymce_plugins_autoresize_plugin_min__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_scripts_assets_plugins_tinymce_plugins_autoresize_plugin_min__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _scripts_assets_plugins_tinymce_plugins_colorpicker_plugin_min__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../scripts/assets/plugins/tinymce/plugins/colorpicker/plugin.min */ "./packages/roniejisa/scripts/assets/plugins/tinymce/plugins/colorpicker/plugin.min.js");
/* harmony import */ var _scripts_assets_plugins_tinymce_plugins_colorpicker_plugin_min__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_scripts_assets_plugins_tinymce_plugins_colorpicker_plugin_min__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _scripts_assets_plugins_tinymce_plugins_template_plugin_min__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../scripts/assets/plugins/tinymce/plugins/template/plugin.min */ "./packages/roniejisa/scripts/assets/plugins/tinymce/plugins/template/plugin.min.js");
/* harmony import */ var _scripts_assets_plugins_tinymce_plugins_template_plugin_min__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_scripts_assets_plugins_tinymce_plugins_template_plugin_min__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _scripts_assets_plugins_tinymce_icons_default_icons_min__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../scripts/assets/plugins/tinymce/icons/default/icons.min */ "./packages/roniejisa/scripts/assets/plugins/tinymce/icons/default/icons.min.js");
/* harmony import */ var _scripts_assets_plugins_tinymce_icons_default_icons_min__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_scripts_assets_plugins_tinymce_icons_default_icons_min__WEBPACK_IMPORTED_MODULE_8__);
function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }











var TINY = function () {
  var load = function load(selector) {
    var _tinyMCE$init;

    _scripts_assets_plugins_tinymce_tinymce_min__WEBPACK_IMPORTED_MODULE_0___default().init((_tinyMCE$init = {
      selector: selector,
      theme: "silver",
      menubar: false,
      statusbar: true,
      min_height: 200,
      max_height: 200,
      resize: false,
      toolbar: true,
      base_url: window.location.origin + "/assets/plugins/tinymce/",
      content_css: window.location.origin + "/assets/plugins/tinymce/skins/content/default/content.min.css",
      plugins: "image paste autoresize",
      paste_preprocess: function paste_preprocess(plugin, args) {
        args.content = args.content; // .replace(/<img[^>]*>/gi, "")
        // .replace(/<\/?a[^>]*>/g, "");
      }
    }, _defineProperty(_tinyMCE$init, "toolbar", // "undo redo | styleselect | forecolor backcolor | bold italic | image | alignleft aligncenter alignright alignjustify | outdent indent",
    "undo redo | styleselect | forecolor backcolor | bold italic | alignleft aligncenter alignright alignjustify | outdent indent"), _defineProperty(_tinyMCE$init, "images_file_types", "jpg,png,svg,jpeg,webp,gif"), _defineProperty(_tinyMCE$init, "images_upload_credentials", true), _defineProperty(_tinyMCE$init, "images_upload_url", "shop/upload-image-post"), _defineProperty(_tinyMCE$init, "images_upload_handler", handleUploadFile), _defineProperty(_tinyMCE$init, "image_title", true), _defineProperty(_tinyMCE$init, "toolbar_location", "bottom"), _defineProperty(_tinyMCE$init, "setup", setupOption), _tinyMCE$init));
  };

  var handleUploadFile = function handleUploadFile(blobInfo, success, failure, progress) {
    var xhr, formData;
    xhr = new XMLHttpRequest();
    xhr.withCredentials = false;
    xhr.open("POST", "/upload-image-content");
    xhr.setRequestHeader("X-Requested-With", "xmlhttprequest");

    xhr.upload.onprogress = function (e) {
      progress(e.loaded / e.total * 100);
    };

    xhr.onload = function () {
      var json;

      if (xhr.status === 403) {
        failure("HTTP Error: " + xhr.status, {
          remove: true
        });
        return;
      }

      if (xhr.status < 200 || xhr.status >= 300) {
        failure("HTTP Error: " + xhr.status);
        return;
      }

      json = JSON.parse(xhr.responseText);

      if (!json || typeof json.message != "string") {
        failure("Invalid JSON: " + xhr.responseText);
        return;
      }

      success(json.message);
    };

    xhr.onerror = function () {
      failure("Image upload failed due to a XHR Transport error. Code: " + xhr.status);
    };

    formData = new FormData();
    formData.append("_token", document.querySelector('meta[name="csrf-token"]').getAttribute("content"));
    formData.append("file", blobInfo.blob(), blobInfo.filename());

    try {
      xhr.send(formData);

      xhr.onreadystatechange = function () {
        if (xhr.readyState === 4) {
          var response = JSON.parse(xhr.responseText);

          if (xhr.status === 200) {
            var img = response.message;
          } else {
            console.log(response.message);
          }
        }
      };
    } catch (err) {
      failure(err);
    }
  };

  var setupOption = function setupOption(editor) {
    editor.on("input", function (e) {
      _scripts_assets_plugins_tinymce_tinymce_min__WEBPACK_IMPORTED_MODULE_0___default().triggerSave();
      editor.targetElm.dispatchEvent(new Event('click'));
    });
    editor.on("keyup", function (e) {
      _scripts_assets_plugins_tinymce_tinymce_min__WEBPACK_IMPORTED_MODULE_0___default().triggerSave();
      editor.targetElm.dispatchEvent(new Event('click'));
    });
    editor.on("change", function (e) {
      _scripts_assets_plugins_tinymce_tinymce_min__WEBPACK_IMPORTED_MODULE_0___default().triggerSave();
      editor.targetElm.dispatchEvent(new Event('click'));
    });
  };

  return {
    init: function init(selector) {
      load(selector);
    }
  };
}();

window.addEventListener("DOMContentLoaded", function () {
  TINY.init("#comment");
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (TINY);
})();

/******/ })()
;